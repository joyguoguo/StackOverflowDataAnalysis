{
  "question" : {
    "question_id" : 79635332,
    "title" : "Apache Camel / JSch permission denied for SFTP upload",
    "body" : "<p>I'm using Apache Camel <code>3.4.10</code> to upload some files to an SFTP server and, since almost one week, this is not working anymore and below there is the output I get:</p>\n<pre><code>2025-05-23 12:02:08,890 WARN  [org.apache.camel.component.file.remote.RemoteFileProducer:87] (Camel (tsbulk-sftp-context) thread #1 - file:///export/home/tsbulk_delivery) Writing file failed with: Cannot store file: tsbulk-prod/CH36158/tsbulk_delivery/selection/labsconfig1.xml\n2025-05-23 12:02:10,199 WARN  [org.apache.camel.component.file.remote.RemoteFileProducer:87] (Camel (tsbulk-sftp-context) thread #1 - file:///export/home/tsbulk_delivery) Writing file failed with: Cannot store file: tsbulk-prod/CH36158/tsbulk_delivery/selection/labsconfig1.xml\n2025-05-23 12:02:11,530 WARN  [org.apache.camel.component.file.remote.RemoteFileProducer:87] (Camel (tsbulk-sftp-context) thread #1 - file:///export/home/tsbulk_delivery) Writing file failed with: Cannot store file: tsbulk-prod/CH36158/tsbulk_delivery/selection/labsconfig1.xml\n2025-05-23 12:02:12,925 WARN  [org.apache.camel.component.file.remote.RemoteFileProducer:87] (Camel (tsbulk-sftp-context) thread #1 - file:///export/home/tsbulk_delivery) Writing file failed with: Cannot store file: tsbulk-prod/CH36158/tsbulk_delivery/selection/labsconfig1.xml\n2025-05-23 12:02:14,255 WARN  [org.apache.camel.component.file.remote.RemoteFileProducer:87] (Camel (tsbulk-sftp-context) thread #1 - file:///export/home/tsbulk_delivery) Writing file failed with: Cannot store file: tsbulk-prod/CH36158/tsbulk_delivery/selection/labsconfig1.xml\n2025-05-23 12:02:15,658 WARN  [org.apache.camel.component.file.remote.RemoteFileProducer:87] (Camel (tsbulk-sftp-context) thread #1 - file:///export/home/tsbulk_delivery) Writing file failed with: Cannot store file: tsbulk-prod/CH36158/tsbulk_delivery/selection/labsconfig1.xml\n2025-05-23 12:02:17,103 WARN  [org.apache.camel.component.file.remote.RemoteFileProducer:87] (Camel (tsbulk-sftp-context) thread #1 - file:///export/home/tsbulk_delivery) Writing file failed with: Cannot store file: tsbulk-prod/CH36158/tsbulk_delivery/selection/labsconfig1.xml\n2025-05-23 12:02:18,452 WARN  [org.apache.camel.component.file.remote.RemoteFileProducer:87] (Camel (tsbulk-sftp-context) thread #1 - file:///export/home/tsbulk_delivery) Writing file failed with: Cannot store file: tsbulk-prod/CH36158/tsbulk_delivery/selection/labsconfig1.xml\n2025-05-23 12:02:19,787 WARN  [org.apache.camel.component.file.remote.RemoteFileProducer:87] (Camel (tsbulk-sftp-context) thread #1 - file:///export/home/tsbulk_delivery) Writing file failed with: Cannot store file: tsbulk-prod/CH36158/tsbulk_delivery/selection/labsconfig1.xml\n2025-05-23 12:02:21,133 WARN  [org.apache.camel.component.file.remote.RemoteFileProducer:87] (Camel (tsbulk-sftp-context) thread #1 - file:///export/home/tsbulk_delivery) Writing file failed with: Cannot store file: tsbulk-prod/CH36158/tsbulk_delivery/selection/labsconfig1.xml\n2025-05-23 12:02:22,506 WARN  [org.apache.camel.component.file.remote.RemoteFileProducer:87] (Camel (tsbulk-sftp-context) thread #1 - file:///export/home/tsbulk_delivery) Writing file failed with: Cannot store file: tsbulk-prod/CH36158/tsbulk_delivery/selection/labsconfig1.xml\n2025-05-23 12:02:22,508 ERROR [org.apache.camel.processor.errorhandler.DefaultErrorHandler:205] (Camel (tsbulk-sftp-context) thread #1 - file:///export/home/tsbulk_delivery) Failed delivery for (MessageId: 44C4CB7F36787D0-000000000000001F on ExchangeId: 44C4CB7F36787D0-000000000000001F). Exhausted after delivery attempt: 11 caught: org.apache.camel.component.file.GenericFileOperationFailedException: Cannot store file: tsbulk-prod/CH36158/tsbulk_delivery/selection/labsconfig1.xml\n\nMessage History (complete message history is disabled)\n---------------------------------------------------------------------------------------------------------------------------------------\nRouteId              ProcessorId          Processor                                                                        Elapsed (ms)\n[selection-files   ] [selection-files   ] [from[file:///export/home/tsbulk_delivery?antInclude=*%2Fselection%2F*.xml&amp;flat] [     55166]\n        ...\n[selection-files   ] [to1               ] [sftp:&lt;SERVER&gt;:6323/tsbulk-prod?preferredAuthentications=publi] [         0]\n\nStacktrace\n---------------------------------------------------------------------------------------------------------------------------------------\n: org.apache.camel.component.file.GenericFileOperationFailedException: Cannot store file: tsbulk-prod/CH36158/tsbulk_delivery/selection/labsconfig1.xml\n        at org.apache.camel.component.file.remote.SftpOperations.doStoreFile(SftpOperations.java:1061)\n        at org.apache.camel.component.file.remote.SftpOperations.storeFile(SftpOperations.java:977)\n        at org.apache.camel.component.file.GenericFileProducer.writeFile(GenericFileProducer.java:290)\n        at org.apache.camel.component.file.GenericFileProducer.processExchange(GenericFileProducer.java:173)\n        at org.apache.camel.component.file.remote.RemoteFileProducer.process(RemoteFileProducer.java:61)\n        at org.apache.camel.support.AsyncProcessorConverterHelper$ProcessorToAsyncProcessorBridge.process(AsyncProcessorConverterHelper.java:66)\n        at org.apache.camel.processor.SendProcessor.lambda$process$2(SendProcessor.java:191)\n        at org.apache.camel.support.cache.DefaultProducerCache.doInAsyncProducer(DefaultProducerCache.java:327)\n        at org.apache.camel.processor.SendProcessor.process(SendProcessor.java:190)\n        at org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$RedeliveryTask.redeliver(RedeliveryErrorHandler.java:895)\n        at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:193)\n        at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:64)\n        at org.apache.camel.processor.Pipeline.process(Pipeline.java:185)\n        at org.apache.camel.impl.engine.CamelInternalProcessor.process(CamelInternalProcessor.java:398)\n        at org.apache.camel.component.file.GenericFileConsumer.processExchange(GenericFileConsumer.java:492)\n        at org.apache.camel.component.file.GenericFileConsumer.processBatch(GenericFileConsumer.java:245)\n        at org.apache.camel.component.file.GenericFileConsumer.poll(GenericFileConsumer.java:206)\n        at org.apache.camel.support.ScheduledPollConsumer.doRun(ScheduledPollConsumer.java:202)\n        at org.apache.camel.support.ScheduledPollConsumer.run(ScheduledPollConsumer.java:116)\n        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n        at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)\n        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)\n        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n        at java.lang.Thread.run(Thread.java:750)\nCaused by: 3: Permission denied.\n        at com.jcraft.jsch.ChannelSftp.throwStatusError(ChannelSftp.java:2830)\n        at com.jcraft.jsch.ChannelSftp._put(ChannelSftp.java:561)\n        at com.jcraft.jsch.ChannelSftp.put(ChannelSftp.java:509)\n        at com.jcraft.jsch.ChannelSftp.put(ChannelSftp.java:464)\n        at org.apache.camel.component.file.remote.SftpOperations.doStoreFile(SftpOperations.java:1039)\n        ... 25 more\n</code></pre>\n<p>The weird thing is that, if I connect to the SFTP server with WinSCP, I can actually see the files in there being uploaded/updated.</p>\n<p>The SFTP endpoint is defined as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>protected StringBuilder buildTargetSftpEndpoint() {\n    final StringBuilder builder = new StringBuilder();\n    builder.append(&quot;sftp:&quot;);\n    builder.append(config.getHost());\n    builder.append(&quot;:&quot;);\n    builder.append(config.getPort());\n    if(!config.getRootDirectoryName().startsWith(&quot;/&quot;)) builder.append(&quot;/&quot;);\n    builder.append(config.getRootDirectoryName());\n    builder.append(&quot;?preferredAuthentications=publickey&quot;);\n    builder.append(&quot;&amp;fastExistsCheck=true&quot;);\n    builder.append(&quot;&amp;greedy=true&quot;);\n    builder.append(&quot;&amp;throwExceptionOnConnectFailed=true&quot;);\n    builder.append(&quot;&amp;initialDelay=0&quot;);\n    builder.append(&quot;&amp;stepwise=false&quot;);\n    builder.append(&quot;&amp;reconnectDelay=0&quot;);\n    builder.append(&quot;&amp;serverAliveCountMax=0&quot;);\n    builder.append(&quot;&amp;serverAliveInterval=0&quot;);\n    builder.append(&quot;&amp;username=&quot;);\n    builder.append(config.getUsername());\n    builder.append(&quot;&amp;privateKeyFile=&quot;);\n    builder.append(config.getSshPrivateKey());\n    builder.append(&quot;&amp;knownHostsFile=&quot;);\n    builder.append(config.getSshKnownHostsFile());\n    builder.append(&quot;&amp;maximumReconnectAttempts=&quot;);\n    builder.append(maxRetries);\n\n    return builder;\n}\n</code></pre>\n<p>The file endpoint is defined as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private String buildSourceEndpointUri() {\n    final StringBuilder builder = new StringBuilder();\n    builder.append(&quot;file:&quot;);\n    if(!getBaseDirectory().startsWith(&quot;/&quot;)) builder.append(&quot;/&quot;);\n    builder.append(getBaseDirectory());\n    builder.append(&quot;?recursive=true&quot;);\n    builder.append(&quot;&amp;flatten=false&quot;);\n    builder.append(&quot;&amp;startingDirectoryMustExist=true&quot;);\n    builder.append(&quot;&amp;noop=true&quot;);\n    builder.append(&quot;&amp;idempotent=true&quot;);\n    builder.append(&quot;&amp;idempotentKey=${file:name}-${file:modified}&quot;);\n    builder.append(&quot;&amp;greedy=true&quot;);\n    builder.append(&quot;&amp;initialDelay=0&quot;);\n    builder.append(&quot;&amp;antInclude=&quot;);\n    builder.append(&quot;*/&quot;);\n    builder.append(selectionSpace.getDir());\n    builder.append(&quot;/*.xml&quot;);\n\n    return builder.toString();\n}\n</code></pre>\n<p>The route is defined as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PostConstruct\nprivate void setup() {\n    processor = new FilePathAdjusterProcessor(getBaseDirectory());\n}\n\n@Override\npublic void configure() {\n    onException(FileNotFoundException.class).continued(true);\n    errorHandler(defaultErrorHandler().maximumRedeliveries(max(0, config.getMaxRetries())).redeliveryDelay(max(0, config.getRetriesDelayMs())));\n\n    configureRoute();\n}\n\n@Override\nprotected StringBuilder buildTargetSftpEndpoint() {\n    return super.buildTargetSftpEndpoint().append(&quot;&amp;disconnect=true&quot;);\n}\n\n@Override\nprotected void configureRoute() {\n    from(buildSourceEndpointUri())\n    .routeId(routeId)\n    .process(processor)\n    .to(buildTargetSftpEndpoint().toString())\n    .log(logLevel, logMessageTemplate);\n}\n</code></pre>\n<p>The processor is</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class FilePathAdjusterProcessor implements Processor {\n    private final Path baseDirectory;\n    FilePathAdjusterProcessor(String baseDirectory) {\n        this.baseDirectory = Paths.get(baseDirectory);\n    }\n\n    @Override\n    public void process(Exchange exchange) {\n        Path deliveryFolderName = baseDirectory.getFileName();\n        Path relativeFilePath = baseDirectory.relativize(exchange.getIn().getBody(File.class).toPath());\n        Path customerName = relativeFilePath.getName(0);\n        Path filePathWithoutCustomerName = relativeFilePath.subpath(1, relativeFilePath.getNameCount());\n        Path extendedPath = customerName.resolve(deliveryFolderName).resolve(filePathWithoutCustomerName);\n\n        exchange.getMessage().setHeader(OVERRULE_FILE_NAME, extendedPath);\n    }\n}\n</code></pre>\n<p>The code below checks the same, but using JSch only</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static final int PORT = 6323;\nprivate static final String USERNAME = &quot;tsbulk&quot;;\nprivate static final String HOST = &quot;&lt;SERVER&gt;&quot;;\nprivate static final String ROOT_DIRECTORY = &quot;/tsbulk-prod&quot;;\nprivate static final String PRIVATE_KEY = &quot;&lt;PRIVATE-KEY-PATH&gt;&quot;\n\npublic static void main(String[] args) throws JSchException, IOException, SftpException {\n    Path file = Files.write(createTempFile(&quot;foo&quot;, &quot;bar&quot;), &quot;test&quot;.getBytes(UTF_8));\n    Path targetPath = Paths.get(ROOT_DIRECTORY, &quot;CH10601&quot;, &quot;tsbulk_delivery&quot;, &quot;test&quot;, &quot;jsch.xml&quot;);\n    JSch jSch = new JSch();\n    jSch.addIdentity(PRIVATE_KEY);\n    Session session = jSch.getSession(USERNAME, HOST, PORT);\n    session.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\n    session.setConfig(&quot;PreferredAuthentications&quot;, &quot;publickey&quot;);\n    session.connect();\n    ChannelSftp sftp = (ChannelSftp) session.openChannel(&quot;sftp&quot;);\n    sftp.connect();\n    for(int i = 0; i &lt; targetPath.getNameCount() - 1; ++i) {\n        try {\n            sftp.cd(targetPath.getName(i).toString());\n        } catch (SftpException ex) {\n            sftp.mkdir(targetPath.getName(i).toString());\n            sftp.cd(targetPath.getName(i).toString());\n        }\n    }\n    sftp.put(file.toString(), targetPath.getFileName().toString());\n    sftp.rm(targetPath.getFileName().toString());\n    sftp.disconnect();\n    session.disconnect();\n}\n</code></pre>\n<p>and it works with no issues.</p>\n<p>Honestly, I don't know what to look for anymore, especially given the fact that the same exact code is working correctly in the QA environment against the QA SFTP server, but not in PROD anymore and only since a week or so.</p>\n",
    "tags" : [ "java", "apache-camel", "sftp" ],
    "owner" : {
      "account_id" : 7816784,
      "reputation" : 99,
      "user_id" : 5911228,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/92c5b1b1551a67b8fbf7bd29d32e4e63?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "cdprete",
      "link" : "https://stackoverflow.com/users/5911228/cdprete"
    },
    "is_answered" : true,
    "view_count" : 114,
    "answer_count" : 1,
    "score" : -1,
    "last_activity_date" : 1748447233,
    "creation_date" : 1747996498,
    "link" : "https://stackoverflow.com/questions/79635332/apache-camel-jsch-permission-denied-for-sftp-upload",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79642038,
    "question_id" : 79635332,
    "body" : "<p>In the end, the issue on my side was caused by the SFTP server that didn't release the locks that it creates. As such, given that Camel tries to delete the files first before uploading them, this deletion fails with &quot;Permission denied&quot;.\nIn such a scenario, also downloading of the files fails and only by deleting the locks the situation gets again under control.</p>\n<p>Given the above, I was able to reproduce the issue also with WinSCP and the RHEL <code>sftp</code> client.</p>\n",
    "score" : -1,
    "is_accepted" : true,
    "owner" : {
      "account_id" : 7816784,
      "reputation" : 99,
      "user_id" : 5911228,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/92c5b1b1551a67b8fbf7bd29d32e4e63?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "cdprete",
      "link" : "https://stackoverflow.com/users/5911228/cdprete"
    },
    "creation_date" : 1748429155,
    "last_activity_date" : 1748447233,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140462258,
    "post_id" : 79635332,
    "body" : "@MartinPrikryl I&#39;ve added the processor as well which was the last missing piece of data.",
    "score" : 0,
    "owner" : {
      "account_id" : 7816784,
      "reputation" : 99,
      "user_id" : 5911228,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/92c5b1b1551a67b8fbf7bd29d32e4e63?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "cdprete",
      "link" : "https://stackoverflow.com/users/5911228/cdprete"
    },
    "creation_date" : 1748344753,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140461313,
    "post_id" : 79635332,
    "body" : "@Jokkeri no worries. On the other end, I tried to add a <code>session.sendKeepAliveMsg()</code> (that&#39;s what Camel is calling in <code>sendNoop()</code>) just before the <code>put</code> in the JSch-only example I&#39;ve written and there it works fine, so I doubt it&#39;s the problem.",
    "score" : 0,
    "owner" : {
      "account_id" : 7816784,
      "reputation" : 99,
      "user_id" : 5911228,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/92c5b1b1551a67b8fbf7bd29d32e4e63?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "cdprete",
      "link" : "https://stackoverflow.com/users/5911228/cdprete"
    },
    "creation_date" : 1748324346,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140461267,
    "post_id" : 79635332,
    "body" : "@cdprete sorry, I mixed that &#39;noop&#39; with &#39;sendNoop&#39; :/",
    "score" : 0,
    "owner" : {
      "account_id" : 3590209,
      "reputation" : 1055,
      "user_id" : 2996452,
      "user_type" : "registered",
      "accept_rate" : 62,
      "profile_image" : "https://i.sstatic.net/qShep.jpg?s=256",
      "display_name" : "Jokkeri",
      "link" : "https://stackoverflow.com/users/2996452/jokkeri"
    },
    "creation_date" : 1748322139,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140460430,
    "post_id" : 79635332,
    "body" : "&gt; So as I wrote above, something does not match in the information you have provided.  Well, I wonder if maybe just the metadata of the files get updated but not the files themselves. All the files under the <code>selection</code> folder are quite static and we upload them on every reboot of the application because of the retention policy set on our SFTP server. In such a scenario, the files should be overwritten. It&#39;s also true that once, for testing, I manually deleted the files from the server and, while I was getting errors, I was able to see the files being uploaded anyway.",
    "score" : 0,
    "owner" : {
      "account_id" : 7816784,
      "reputation" : 99,
      "user_id" : 5911228,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/92c5b1b1551a67b8fbf7bd29d32e4e63?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "cdprete",
      "link" : "https://stackoverflow.com/users/5911228/cdprete"
    },
    "creation_date" : 1748282485,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140460360,
    "post_id" : 79635332,
    "body" : "@MartinPrikryl I&#39;ve added the full route definition. The processor, which is missing, just converts the destination file path from <code>&#47;export&#47;home&#47;tsbulk_delivery&#47;*&#47;selection&#47;*.xml</code> (as got from <code>file</code>) to <code>&#47;tsbulk-prod&#47;*&#47;tsbulk_delivery&#47;selection&#47;*.xml</code> (as needed on the SFTP server) where the first <code>*</code> matches the customer name.",
    "score" : 0,
    "owner" : {
      "account_id" : 7816784,
      "reputation" : 99,
      "user_id" : 5911228,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/92c5b1b1551a67b8fbf7bd29d32e4e63?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "cdprete",
      "link" : "https://stackoverflow.com/users/5911228/cdprete"
    },
    "creation_date" : 1748280556,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140459898,
    "post_id" : 79635332,
    "body" : "I can&#39;t set the noop=false because, at least according to the documentation, the file would then be moved or deleted and we can&#39;t allow such a thing.",
    "score" : 0,
    "owner" : {
      "account_id" : 7816784,
      "reputation" : 99,
      "user_id" : 5911228,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/92c5b1b1551a67b8fbf7bd29d32e4e63?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "cdprete",
      "link" : "https://stackoverflow.com/users/5911228/cdprete"
    },
    "creation_date" : 1748269526,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140459235,
    "post_id" : 79635332,
    "body" : "I have sometimes faced a situation with keep-alives where SFTP-server is not implementing the way client is sending the noop and thats where some weird things and replies will happen. So might be worth to try to change the &quot;noop&quot; to false? Or if Camel/Jsch is supporting any other keep-alive mechanism",
    "score" : 0,
    "owner" : {
      "account_id" : 3590209,
      "reputation" : 1055,
      "user_id" : 2996452,
      "user_type" : "registered",
      "accept_rate" : 62,
      "profile_image" : "https://i.sstatic.net/qShep.jpg?s=256",
      "display_name" : "Jokkeri",
      "link" : "https://stackoverflow.com/users/2996452/jokkeri"
    },
    "creation_date" : 1748258353,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140458402,
    "post_id" : 79635332,
    "body" : "Yeah, I was not at the laptop when I answered, so I was not remembering by heart the JSch version, which is 0.2.24. I&#39;ll try building some code that uses only JSch but, even if it would work, it won&#39;t explain why on different environments the same software is behaving differently.",
    "score" : 0,
    "owner" : {
      "account_id" : 7816784,
      "reputation" : 99,
      "user_id" : 5911228,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/92c5b1b1551a67b8fbf7bd29d32e4e63?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "cdprete",
      "link" : "https://stackoverflow.com/users/5911228/cdprete"
    },
    "creation_date" : 1748235974,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140454039,
    "post_id" : 79635332,
    "body" : "The files are indeed there and I don&#39;t have an explanation for this. I&#39;m surprised as you&#39;re. There is no other application uploading those files apart ours. With that said, with the <code>sftp</code> CLI client that&#39;s available on the machine everything works fine with no issues. Finally, as shown in the logs, I indeed have retries in Camel but they all fail. There is more code in <a href=\"https://stackoverflow.com/q/79632539/5911228\">stackoverflow.com/q/79632539/5911228</a>, if needed.",
    "score" : 0,
    "owner" : {
      "account_id" : 7816784,
      "reputation" : 99,
      "user_id" : 5911228,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/92c5b1b1551a67b8fbf7bd29d32e4e63?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "cdprete",
      "link" : "https://stackoverflow.com/users/5911228/cdprete"
    },
    "creation_date" : 1748032767,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}