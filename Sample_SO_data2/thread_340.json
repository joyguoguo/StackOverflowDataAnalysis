{
  "question" : {
    "question_id" : 79819805,
    "title" : "Connecting to Oracle database is fast with C# ADO.NET, but slow with Java JDBC",
    "body" : "<p>Here is the Java test code I wrote. It takes about 40 seconds to connect to the Oracle database using JDBC, but similar code in C# using the <code>OracleConnection.Open</code> method completes in less than 1 second. Does anyone know what might be causing this difference?</p>\n<pre class=\"lang-java prettyprint-override\"><code>LocalDateTime startTime=LocalDateTime.now();\n//Class.forName(&quot;oracle.jdbc.driver.OracleDriver&quot;);\nString connectionUrl=&quot;jdbc:oracle:thin:@//192.168.1.100:1521/ORCL&quot;;\nDriverManager.getConnection(connectionUrl, &quot;TEST_USER&quot;, &quot;******&quot;);\n//java.util.Properties properties = new Properties();\n//properties.put(&quot;user&quot;,&quot;TEST_USER&quot;);\n//properties.put(&quot;password&quot;,&quot;******&quot;);\n//new oracle.jdbc.OracleDriver().connect(connectionUrl, properties);\nLocalDateTime endTime=LocalDateTime.now();\nSystem.out.println(&quot;elapsed time:&quot;+ Duration.between(startTime, endTime).getSeconds()+&quot;seconds&quot;);\n</code></pre>\n<p>The JDBC library I'm using is ojdbc8, version 23.26.0.0.0. I also switched to the latest version of ojdbc14 for testing, and the result was the same.</p>\n<p>The Java version is JDK 1.8, and the Oracle database version is 11g.</p>\n",
    "tags" : [ "java", "oracle-database", "jdbc" ],
    "owner" : {
      "account_id" : 15994130,
      "reputation" : 95,
      "user_id" : 11542472,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/QAXLU.png?s=256",
      "display_name" : "Iori Kyo",
      "link" : "https://stackoverflow.com/users/11542472/iori-kyo"
    },
    "is_answered" : false,
    "view_count" : 117,
    "answer_count" : 1,
    "score" : 0,
    "last_activity_date" : 1763308161,
    "creation_date" : 1763109989,
    "link" : "https://stackoverflow.com/questions/79819805/connecting-to-oracle-database-is-fast-with-c-ado-net-but-slow-with-java-jdbc",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79821549,
    "question_id" : 79819805,
    "body" : "<p>Your code is ok. Your driver is a 0.0.0. version. Never use this kind of version. Specially if it was released a couple of weeks ago.</p>\n<p>Always remember:</p>\n<pre><code>mayor.minor.(version).revision.build\n</code></pre>\n<p>Last three numbers should be &gt; 0</p>\n<p>Check mvnrepository.com and get a previous version with better (higher) last 3 numbers</p>\n",
    "score" : 0,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 173785,
      "reputation" : 1046,
      "user_id" : 402723,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/Q8TPb.jpg?s=256",
      "display_name" : "Raul Lapeira Herrero",
      "link" : "https://stackoverflow.com/users/402723/raul-lapeira-herrero"
    },
    "creation_date" : 1763306388,
    "last_activity_date" : 1763308161,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140855120,
    "post_id" : 79819805,
    "body" : "I would try to use VisualVM and capturing a CPU trace while the program is connecting to the db. Unless everything is implemented as native library you should see where the JVM spends how much time thus in which method the delay occurs.",
    "score" : 0,
    "owner" : {
      "account_id" : 50585,
      "reputation" : 43469,
      "user_id" : 150978,
      "user_type" : "registered",
      "accept_rate" : 78,
      "profile_image" : "https://www.gravatar.com/avatar/feadc214792e2581c3c750140e3eb2c7?s=256&d=identicon&r=PG",
      "display_name" : "Robert",
      "link" : "https://stackoverflow.com/users/150978/robert"
    },
    "creation_date" : 1763164362,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140854290,
    "post_id" : 79819805,
    "body" : "@LukeWoodward The difference is that <code>@&#47;&#47;192.168.1.100:1521&#47;ORCL</code>  identifies the service ORCL, while <code>@192.168.1.100:1521&#47;ORCL</code> would be invalid (or at least, should be AFAIK); there is an <code>@192.168.1.100:1521:ORCL</code>, but then <code>ORCL</code> would be an SID, not a service name.",
    "score" : 1,
    "owner" : {
      "account_id" : 213468,
      "reputation" : 110280,
      "user_id" : 466862,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/d873f397779db38cd510d9ee5416fd43?s=256&d=identicon&r=PG",
      "display_name" : "Mark Rotteveel",
      "link" : "https://stackoverflow.com/users/466862/mark-rotteveel"
    },
    "creation_date" : 1763129086,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140854279,
    "post_id" : 79819805,
    "body" : "@Abra Although <code>Class.forName</code> is no longer needed (assuming the driver is on the initial classpath), it doesn&#39;t hurt either (and can help with identifying classpath or other classloading issues).",
    "score" : 1,
    "owner" : {
      "account_id" : 213468,
      "reputation" : 110280,
      "user_id" : 466862,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/d873f397779db38cd510d9ee5416fd43?s=256&d=identicon&r=PG",
      "display_name" : "Mark Rotteveel",
      "link" : "https://stackoverflow.com/users/466862/mark-rotteveel"
    },
    "creation_date" : 1763128872,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140854205,
    "post_id" : 79819805,
    "body" : "I removed the .NET related tags, as this doesn&#39;t seem to be an issue with .NET",
    "score" : 0,
    "owner" : {
      "account_id" : 12951996,
      "reputation" : 8044,
      "user_id" : 9363973,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/Cbbp7.png?s=256",
      "display_name" : "MindSwipe",
      "link" : "https://stackoverflow.com/users/9363973/mindswipe"
    },
    "creation_date" : 1763126473,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140854129,
    "post_id" : 79819805,
    "body" : "You should use the latest version of ojdbc8 if you are using JDK 8. Read the FAQ @Abra shared. Also add the verbatim output of the execution to the question and the equivalent C# program and its output. Is there any error handling? Your code maybe incomplete. Be sure that the question contains a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Remove the commented lines since they are not part of an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>.",
    "score" : 0,
    "owner" : {
      "account_id" : 372682,
      "reputation" : 26512,
      "user_id" : 721855,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/vZiox.png?s=256",
      "display_name" : "aled",
      "link" : "https://stackoverflow.com/users/721855/aled"
    },
    "creation_date" : 1763123576,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140853919,
    "post_id" : 79819805,
    "body" : "I&#39;ve noticed different behavior of DriverManager in different versions of JDK1.8, are using the latest update ? Do you have a maven project for your test code ? Try to remove Class.forName(&quot;oracle.jdbc.driver.OracleDriver&quot;), update JDK if needed, update to ojdbc8:23.26.0.0.0  Do you have any errors or blocking transactions on the side of your Oracle Server ?",
    "score" : 0,
    "owner" : {
      "account_id" : 31832118,
      "reputation" : 1,
      "user_id" : 24645709,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/106ef6d6e833fc9283cc9d4ffa8be5d3?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Sergii RASPOPOV",
      "link" : "https://stackoverflow.com/users/24645709/sergii-raspopov"
    },
    "creation_date" : 1763115147,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140853825,
    "post_id" : 79819805,
    "body" : "@Abra The Java version is JDK 1.8, and the Oracle database version is 11g",
    "score" : 0,
    "owner" : {
      "account_id" : 15994130,
      "reputation" : 95,
      "user_id" : 11542472,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/QAXLU.png?s=256",
      "display_name" : "Iori Kyo",
      "link" : "https://stackoverflow.com/users/11542472/iori-kyo"
    },
    "creation_date" : 1763111544,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140853819,
    "post_id" : 79819805,
    "body" : "@Luke Woodward  Just now ,I have test that I change the url jdbc:oracle:thin:@//192.168.1.100:1521/ORCL to jdbc:oracle:thin:@192.168.1.100:1521/ORCL and run the code. the result is the same.",
    "score" : 0,
    "owner" : {
      "account_id" : 15994130,
      "reputation" : 95,
      "user_id" : 11542472,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/QAXLU.png?s=256",
      "display_name" : "Iori Kyo",
      "link" : "https://stackoverflow.com/users/11542472/iori-kyo"
    },
    "creation_date" : 1763111211,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140853808,
    "post_id" : 79819805,
    "body" : "Is there a reason you&#39;re using the <code>&#47;&#47;</code> in the JDBC URL? Do things improve if you remove it?",
    "score" : 0,
    "owner" : {
      "account_id" : 20338,
      "reputation" : 65367,
      "user_id" : 48503,
      "user_type" : "registered",
      "accept_rate" : 100,
      "profile_image" : "https://www.gravatar.com/avatar/672f798341250dd228b286738e8d6309?s=256&d=identicon&r=PG",
      "display_name" : "Luke Woodward",
      "link" : "https://stackoverflow.com/users/48503/luke-woodward"
    },
    "creation_date" : 1763110770,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140853804,
    "post_id" : 79819805,
    "body" : "<a href=\"https://stackoverflow.com/questions/28220724/class-fornamejdbc-driver-no-longer-needed\">Class.forName(JDBC_DRIVER) no longer needed</a>",
    "score" : 0,
    "owner" : {
      "account_id" : 2485939,
      "reputation" : 20969,
      "user_id" : 2164365,
      "user_type" : "registered",
      "accept_rate" : 40,
      "profile_image" : "https://i.sstatic.net/RKSgV.png?s=256",
      "display_name" : "Abra",
      "link" : "https://stackoverflow.com/users/2164365/abra"
    },
    "creation_date" : 1763110641,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}