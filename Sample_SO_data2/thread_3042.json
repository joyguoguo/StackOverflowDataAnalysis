{
  "question" : {
    "question_id" : 79578583,
    "title" : "Error Value of type Boolean incompatible with return type int",
    "body" : "<p>I am using:</p>\n<ul>\n<li><p>junit 4.12</p>\n</li>\n<li><p>jmockit 1.54</p>\n</li>\n<li><p>Adopt JDK 21</p>\n</li>\n</ul>\n<p>Test case:</p>\n<pre><code>@Test(expected = Exception.class)\n    public void testCreateWareshousesNonSupplierDebugModeFalseException(@Mocked Iterator itr,\n                                                                        @Mocked Loc loc,\n                                                                        @Mocked Item item) {\n\n        // Instantiate factory with debugMode = false\n        cWarehouseFactory = new CWarehouseFactory(view, 1L, 1L, false);\n\n        RIOSKU rioSku = new RIOSKU();\n        rioSku.setLoc(loc);\n        rioSku.setItem(item);\n\n        new MockUp&lt;System&gt;() {\n            @Mock\n            void loadLibrary(String libname) { }\n        };\n\n        new MockUp&lt;SolverInterface&gt;() {\n            @Mock\n            public void createWareHouse(CWareHouseRecord cWareHouse) throws Exception {\n                throw new Exception(&quot;Expected exception&quot;);\n            }\n\n            @Mock\n            public void processWareHouses() { }\n        };\n\n        new Expectations() {{\n            view.getFwdIterator(RIOSKU.class, false);\n            result = itr;\n\n            itr.hasNext(); returns(true, false);\n            itr.next(); result = rioSku;\n\n            // Key expectations\n            loc.getType(); result = Loc.PLANT;  // non-supplier\n            rioSku.hasValidSourcings(); result = true;\n\n            // To avoid logger.warn() calls from throwing errors\n            item.getItem(); result = &quot;ItemX&quot;;\n            loc.getLoc(); result = &quot;LocX&quot;;\n        }};\n\n        cWarehouseFactory.createWareshouses();\n    }\n</code></pre>\n<p>Method:</p>\n<pre><code> public void createWareshouses() {\n      logger.trace(&quot;Entering CWarehouseFactory.createWarehouses&quot;);\n      Iterator itr = view.getFwdIterator(RIOSKU.class, false);\n      while (itr.hasNext()) {\n         RIOSKU sku = (RIOSKU) itr.next();\n         if ((sku.getLoc().getType() != Loc.SUPPLIER) &amp;&amp; sku.hasValidSourcings()) {\n            createCWareHouseRecord(sku);\n         } else {\n            logger.warn(&quot;Warehouse data not created for {} @ {}&quot;, sku.getItem().getItem(), sku.getLoc().getLoc());\n         }\n      }\n      if (!this.debugMode) {\n         try {\n            SolverInterface.processWareHouses();\n         } catch (Exception ex) {\n            logger.error(&quot;Exception while Invoking processWareHouses() on SolverInterface, &quot;, ex);\n            throw new ManuRuntimeException(ex);\n         }\n      }\n      logger.info(&quot;Finished CWarehouseFactory.createWarehouses&quot;);\n   }\n\n\n   /**\n    * Creates a CWareHouseRecord on SolverInterface for C++Solver Consumptions\n    *\n    * @param sku DestinationSKU\n    */\n   private void createCWareHouseRecord(RIOSKU sku) {\n      CWareHouseRecord cWareHouse = new CWareHouseRecord();\n      cWareHouse.setItemID((int) sku.getItem().getItemTK());\n      cWareHouse.setLocaitonID((int) sku.getLoc().getLocTK());\n      cWareHouse.setMinimumTarget(InvOptConstants.DEFAULT_MIN_TARGET);\n      cWareHouse.setMaximumTarget(InvOptConstants.DEFAULT_MAX_TARGET);\n      cWareHouse.setUnitCost(sku.getUnitCost());\n      cWareHouse.setReplenishmentPolicyID(2); // ROP/ROQ = 2\n      cWareHouse.setInventoryParameterID(0); // ROP = 0 SS = 1 DOC = 2\n      cWareHouse.setHandlingCost(0.0); // ToDo: We need to model this in xxxx\n      cWareHouse.setStorageCost(sku.getHoldingCost());\n      cWareHouse.setHoldingCostRatio(0.0); // TBD: Holding cost ratio from process page\n      cWareHouse.setBackorderPenalty(0.0); // No BackOrder Penalty in RIO. Set zero\n      cWareHouse.setTimePeriodID(null); // NO SKU level effectivity\n      cWareHouse.setEndTimePeriodID(null);\n\n\n      if (this.debugMode) {\n         // DataRecordWriterUtil.appendDataRecord(processID,batchNum, cWareHouse);\n      } else {\n         try {\n            SolverInterface.createWareHouse(cWareHouse);\n         } catch (Exception ex) {\n            logger.error(&quot;Exception while creating CWarehouse record, &quot;, ex);\n            numSolverFailures++;\n         }\n      }\n   }\n}\n</code></pre>\n<p>Error:</p>\n<pre><code>UTCommonBusLogicSuiteTomcat testCreateWareshousesNonSupplierDebugModeFalse  Error   Value of type Boolean incompatible with return type int of com.manu.xxxweb.invopt.common.model.Loc#getType()\n\njava.lang.IllegalArgumentException: Value of type Boolean incompatible with return type int of com.manu.xxxxweb.invopt.common.model.Loc#getType()\nat ut.com.manu.xxxxweb.invopt.common.buslogic.UTCWarehouseFactory$11.&lt;init&gt;(UTCWarehouseFactory.java:243)\nat ut.com.manu.xxxxweb.invopt.common.buslogic.UTCWarehouseFactory.testCreateWareshousesNonSupplierDebugModeFalse(UTCWarehouseFactory.java:235)\n2.884\n</code></pre>\n",
    "tags" : [ "java", "mocking", "jmockit" ],
    "owner" : {
      "account_id" : 2589371,
      "reputation" : 3594,
      "user_id" : 3655069,
      "user_type" : "registered",
      "accept_rate" : 25,
      "profile_image" : "https://i.sstatic.net/TWy6E.jpg?s=256",
      "display_name" : "Sun",
      "link" : "https://stackoverflow.com/users/3655069/sun"
    },
    "is_answered" : false,
    "view_count" : 64,
    "answer_count" : 0,
    "score" : 0,
    "last_activity_date" : 1744880947,
    "creation_date" : 1744870097,
    "link" : "https://stackoverflow.com/questions/79578583/error-value-of-type-boolean-incompatible-with-return-type-int",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ ],
  "question_comments" : [ {
    "comment_id" : 140344038,
    "post_id" : 79578583,
    "body" : "the exception seems to be generated at <code>UTCWarehouseFactory.java:243</code> - Is that line posted? Which one is it?",
    "score" : 1,
    "owner" : {
      "account_id" : 31180,
      "reputation" : 29752,
      "user_id" : 85421,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/kKvXH.gif?s=256",
      "display_name" : "user85421",
      "link" : "https://stackoverflow.com/users/85421/user85421"
    },
    "creation_date" : 1744884471,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}