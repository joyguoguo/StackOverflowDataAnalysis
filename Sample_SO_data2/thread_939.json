{
  "question" : {
    "question_id" : 79753216,
    "title" : "ORA-00918: column ambiguously defined with Hibernate 6 Oracle Criteria",
    "body" : "<p>We encountered a problem when using Criteria in Hibernate 6 and an Oracle database. Due to the fact that the query contains fields of the same name in different tables, the query without explicit aliases for the fields returns an error on the Oracle side</p>\n<pre><code>ORA-00918: column ambiguously defined\n</code></pre>\n<p>It was not possible to explicitly add aliases to the Hibernate-generated SQL query in this way</p>\n<pre><code>query.multiselect(\n                from.get(&quot;id&quot;),\n                group.get(&quot;name&quot;).alias(&quot;gk&quot;),\n                group.get(&quot;id&quot;),\n                branch.get(&quot;name&quot;).alias(&quot;branch&quot;),\n                gsz.get(&quot;name&quot;).alias(&quot;gsz&quot;)\n        );\n</code></pre>\n<p>From the logs it is clear that Hibernate generates the following query</p>\n<pre><code>Hibernate: \n    select\n        ro1_0.&quot;ORGID&quot;,\n        g1_0.&quot;NAME&quot;,\n        o1_0.&quot;X_GK_ID&quot;,\n        rb1_0.&quot;NAME&quot;,\n        lt1_0.”NAME”\n</code></pre>\n<p>but the Oracle database requires explicit aliases for the query to be executed successfully, that is, we need to get a generated query like this</p>\n<pre><code>Hibernate: \n    select\n        ro1_0.&quot;ORGID&quot;,\n        g1_0.&quot;NAME&quot; AS gk,\n        o1_0.&quot;X_GK_ID&quot;,\n        rb1_0.&quot;NAME&quot; AS branch,\n        lt1_0.”NAME” AS gsz\n</code></pre>\n<p>as far as I could find out, in Hibernate 6, aliases were removed from the generated query for optimization purposes, it was not possible to find a solution on how to explicitly tell Hibernate to generate a SQL query with aliases for fields in the selection, maybe someone can suggest if there are any available solutions to solve this problem?</p>\n<p>alias in multiselect, Selections with alias, blaze-persistence-integration-hibernate</p>\n",
    "tags" : [ "java", "oracle-database", "spring-boot", "hibernate", "hibernate-criteria" ],
    "owner" : {
      "account_id" : 40552984,
      "reputation" : 21,
      "user_id" : 31401603,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/4402f819723128ae915d05b16b2ee91e?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Mikhail Konchyts",
      "link" : "https://stackoverflow.com/users/31401603/mikhail-konchyts"
    },
    "is_answered" : false,
    "view_count" : 92,
    "answer_count" : 0,
    "score" : 2,
    "last_activity_date" : 1756798954,
    "creation_date" : 1756798954,
    "link" : "https://stackoverflow.com/questions/79753216/ora-00918-column-ambiguously-defined-with-hibernate-6-oracle-criteria",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ ],
  "question_comments" : [ {
    "comment_id" : 140840013,
    "post_id" : 79753216,
    "body" : "The Oracle error point to missing <i>table</i> aliases. Colum aliases are optional, and should not give that specific error.  So the generated query is probably:      select         &quot;ORGID&quot;,         &quot;NAME&quot;,         &quot;X_GK_ID&quot;,         &quot;NAME&quot;,         ”NAME”  <a href=\"https://docs.oracle.com/en/error-help/db/ora-00918/?r=26ai\" rel=\"nofollow noreferrer\">docs.oracle.com/en/error-help/db/ora-00918/?r=26ai</a>",
    "score" : 0,
    "owner" : {
      "account_id" : 6118634,
      "reputation" : 80,
      "user_id" : 4772866,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/yP1sT.jpg?s=256",
      "display_name" : "theoa",
      "link" : "https://stackoverflow.com/users/4772866/theoa"
    },
    "creation_date" : 1762437562,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}