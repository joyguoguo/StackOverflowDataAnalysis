{
  "question" : {
    "question_id" : 79581364,
    "title" : "How to add submod which need some class (optimized by jlink) to custom image",
    "body" : "<p>I have develop a desktop application with javafx and packaged by jlink. And I want to develop some submod for this application, which can be added and removed.</p>\n<p>With a custom runtime image(base image) and a full jdk for submod developing, and add the submod to this base image.</p>\n<p>I know that the jar can be add by running time, by how to add the submod-needed jdk class not include by base image?\ncan I add muti lib/modules file which is incremental for jvm?</p>\n<p>Hope and thanks for any reply~~~~</p>\n",
    "tags" : [ "java", "javafx", "jlink", "jmod" ],
    "owner" : {
      "account_id" : 28650942,
      "reputation" : 21,
      "user_id" : 21937924,
      "user_type" : "registered",
      "profile_image" : "https://lh3.googleusercontent.com/a/AGNmyxbTpdI8PIs7GcxqT31Zf1qytZ33EW9vMJ-nXc76=k-s256",
      "display_name" : "du fei",
      "link" : "https://stackoverflow.com/users/21937924/du-fei"
    },
    "is_answered" : false,
    "view_count" : 60,
    "answer_count" : 0,
    "score" : 1,
    "last_activity_date" : 1744996074,
    "creation_date" : 1744991621,
    "link" : "https://stackoverflow.com/questions/79581364/how-to-add-submod-which-need-some-class-optimized-by-jlink-to-custom-image",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ ],
  "question_comments" : [ {
    "comment_id" : 140353485,
    "post_id" : 79581364,
    "body" : "Let&#39;s say you used the <a href=\"https://github.com/openjfx/javafx-maven-plugin?tab=readme-ov-file#javafxjlink-options\" rel=\"nofollow noreferrer\">javafx-maven-plugin</a>.  You can provide launcher options, that are passed to the launcher as VM options.  Provide the option <a href=\"https://docs.oracle.com/en/java/javase/24/docs/specs/man/java.html#standard-options-for-java\" rel=\"nofollow noreferrer\"><code>--upgrade-module-path</code></a> to some location.  Any modules copied to that path will be automatically added to the module path and resolved as root modules (I think, I didn&#39;t try it).",
    "score" : 1,
    "owner" : {
      "account_id" : 1180113,
      "reputation" : 160487,
      "user_id" : 1155209,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/5192e7cbcf2f72a847d6fb0d1552f049?s=256&d=identicon&r=PG",
      "display_name" : "jewelsea",
      "link" : "https://stackoverflow.com/users/1155209/jewelsea"
    },
    "creation_date" : 1745208111,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140351687,
    "post_id" : 79581364,
    "body" : "Note that jlink doesn&#39;t include/exclude <i>classes</i> but <i>modules</i>. A module is either included completely or not at all.",
    "score" : 0,
    "owner" : {
      "account_id" : 15064163,
      "reputation" : 17111,
      "user_id" : 10871900,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/720202b6e19abc330dcd92e6a1254562?s=256&d=identicon&r=PG",
      "display_name" : "dan1st",
      "link" : "https://stackoverflow.com/users/10871900/dan1st"
    },
    "creation_date" : 1745127570,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140348759,
    "post_id" : 79581364,
    "body" : "I don&#39;t think you can do anything about that.  You will have to provide documentation to creators of those external jars which lists exactly which modules they can use.  If you want, you could include additional modules which your application doesn&#39;t use, just to make them available to the external jars.",
    "score" : 3,
    "owner" : {
      "account_id" : 2053598,
      "reputation" : 44991,
      "user_id" : 1831987,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/38b1c37530189ec4471a43a618e33f67?s=256&d=identicon&r=PG",
      "display_name" : "VGR",
      "link" : "https://stackoverflow.com/users/1831987/vgr"
    },
    "creation_date" : 1744998850,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140348713,
    "post_id" : 79581364,
    "body" : "yes, I develop a app by javafx and generate a base image, and try to add some mod to it. The mod will build by full sdk, but how to add the incrememtal classes to base image?",
    "score" : 2,
    "owner" : {
      "account_id" : 28650942,
      "reputation" : 21,
      "user_id" : 21937924,
      "user_type" : "registered",
      "profile_image" : "https://lh3.googleusercontent.com/a/AGNmyxbTpdI8PIs7GcxqT31Zf1qytZ33EW9vMJ-nXc76=k-s256",
      "display_name" : "du fei",
      "link" : "https://stackoverflow.com/users/21937924/du-fei"
    },
    "creation_date" : 1744997484,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140348698,
    "post_id" : 79581364,
    "body" : "So you&#39;re saying the external module may be loaded at runtime, but it may rely on modules which were not added to the jlink&#39;d image.  Is that correct?",
    "score" : 0,
    "owner" : {
      "account_id" : 2053598,
      "reputation" : 44991,
      "user_id" : 1831987,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/38b1c37530189ec4471a43a618e33f67?s=256&d=identicon&r=PG",
      "display_name" : "VGR",
      "link" : "https://stackoverflow.com/users/1831987/vgr"
    },
    "creation_date" : 1744997167,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140348608,
    "post_id" : 79581364,
    "body" : "Sorry sir, my question may be not described clearly.  jlink will minify the jdk class, what if my submod needs another classes whitch are minified by jlink? Can I add minified jdk classes by an incrememtal approach?",
    "score" : 0,
    "owner" : {
      "account_id" : 28650942,
      "reputation" : 21,
      "user_id" : 21937924,
      "user_type" : "registered",
      "profile_image" : "https://lh3.googleusercontent.com/a/AGNmyxbTpdI8PIs7GcxqT31Zf1qytZ33EW9vMJ-nXc76=k-s256",
      "display_name" : "du fei",
      "link" : "https://stackoverflow.com/users/21937924/du-fei"
    },
    "creation_date" : 1744995446,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140348539,
    "post_id" : 79581364,
    "body" : "Are you trying to add a module with overrides of Java SE classes?",
    "score" : 0,
    "owner" : {
      "account_id" : 2053598,
      "reputation" : 44991,
      "user_id" : 1831987,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/38b1c37530189ec4471a43a618e33f67?s=256&d=identicon&r=PG",
      "display_name" : "VGR",
      "link" : "https://stackoverflow.com/users/1831987/vgr"
    },
    "creation_date" : 1744994125,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}