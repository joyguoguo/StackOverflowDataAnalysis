{
  "question" : {
    "question_id" : 79640685,
    "title" : "Cannot build project after upgrading Spring Boot to 3.5",
    "body" : "<p>I cannot build my project after upgrading Spring Boot from 3.4.6 to 3.5</p>\n<p>When I try to, Gradle says there were failing tests:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Execution failed for task ':core:test'.\n&gt; There were failing tests. See the report at: file:///...\n</code></pre>\n<p>with this in the report file:</p>\n<pre class=\"lang-none prettyprint-override\"><code>org.gradle.api.internal.tasks.testing.TestSuiteExecutionException: Could not complete execution for Gradle Test Executor 78.\n    at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:65)\n    at java.base@21.0.5/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n    at java.base@21.0.5/java.lang.reflect.Method.invoke(Method.java:580)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92)\n    at jdk.proxy2/jdk.proxy2.$Proxy6.stop(Unknown Source)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:200)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:132)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63)\n    at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:122)\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:72)\n    at app//worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\n    at app//worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\nCaused by: org.junit.platform.commons.JUnitException: TestEngine with ID 'junit-jupiter' failed to discover tests\n    at app//org.junit.platform.launcher.core.EngineDiscoveryOrchestrator.discoverEngineRoot(EngineDiscoveryOrchestrator.java:160)\n    at app//org.junit.platform.launcher.core.EngineDiscoveryOrchestrator.discoverSafely(EngineDiscoveryOrchestrator.java:134)\n    at app//org.junit.platform.launcher.core.EngineDiscoveryOrchestrator.discover(EngineDiscoveryOrchestrator.java:108)\n    at app//org.junit.platform.launcher.core.EngineDiscoveryOrchestrator.discover(EngineDiscoveryOrchestrator.java:80)\n    at app//org.junit.platform.launcher.core.DefaultLauncher.discover(DefaultLauncher.java:110)\n    at app//org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n    at app//org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:124)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:99)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:94)\n    at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63)\n    ... 16 more\nCaused by: org.junit.platform.commons.JUnitException: OutputDirectoryProvider not available; probably due to unaligned versions of the junit-platform-engine and junit-platform-launcher jars on the classpath/module path.\n    at app//org.junit.platform.engine.EngineDiscoveryRequest.getOutputDirectoryProvider(EngineDiscoveryRequest.java:94)\n    at app//org.junit.jupiter.engine.JupiterTestEngine.discover(JupiterTestEngine.java:67)\n    at app//org.junit.platform.launcher.core.EngineDiscoveryOrchestrator.discoverEngineRoot(EngineDiscoveryOrchestrator.java:152)\n    ... 26 more\n</code></pre>\n<p>But when checking the version of the junit-platform-engine dependencies, everything is correct.</p>\n",
    "tags" : [ "java", "spring-boot", "junit" ],
    "owner" : {
      "account_id" : 42223915,
      "reputation" : 351,
      "user_id" : 30649904,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/442c5365a82d1c46f9c2733e9da8b6c0?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Pandab",
      "link" : "https://stackoverflow.com/users/30649904/pandab"
    },
    "is_answered" : true,
    "view_count" : 5169,
    "answer_count" : 2,
    "score" : 9,
    "last_activity_date" : 1748418661,
    "creation_date" : 1748356380,
    "link" : "https://stackoverflow.com/questions/79640685/cannot-build-project-after-upgrading-spring-boot-to-3-5",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79641748,
    "question_id" : 79640685,
    "body" : "<p>I fixed it. I had to manually add the junit platform launcher dependency:</p>\n<pre class=\"lang-none prettyprint-override\"><code>testRuntimeOnly 'org.junit.platform:junit-platform-launcher:1.12.2'\n</code></pre>\n<p>Thanks for everyone's help.</p>\n",
    "score" : 17,
    "is_accepted" : true,
    "owner" : {
      "account_id" : 42223915,
      "reputation" : 351,
      "user_id" : 30649904,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/442c5365a82d1c46f9c2733e9da8b6c0?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Pandab",
      "link" : "https://stackoverflow.com/users/30649904/pandab"
    },
    "creation_date" : 1748418661,
    "last_activity_date" : 1748418661,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "answer_id" : 79640732,
    "question_id" : 79640685,
    "body" : "<p>I'm not sure about this specific scenario but migrating a lot of different applications in the last few weeks it seems a dependency version mismatch. If you have declared some dependencies manually, try to remove them and let Spring use their internal version.</p>\n<pre><code>Caused by: org.junit.platform.commons.JUnitException: OutputDirectoryProvider not available; probably due to unaligned versions of the junit-platform-engine and junit-platform-launcher jars on the classpath/module path.\n\n</code></pre>\n<p>This line specifically can guide you in the search, try to see if you define manually a dependency to:</p>\n<pre><code>org.junit.platform:junit-platform-engine\norg.junit.platform:junit-platform-launcher\n</code></pre>\n<p>There are also other factors, sometimes a deep clean is needed after changing Gradle/Maven files.\nIt's just a pointer.</p>\n",
    "score" : 2,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 6150864,
      "reputation" : 33,
      "user_id" : 4795305,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/49ab46cd730bfc0f12d773a3c0912bf4?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "SkullFlame",
      "link" : "https://stackoverflow.com/users/4795305/skullflame"
    },
    "creation_date" : 1748358051,
    "last_activity_date" : 1748358051,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140464997,
    "post_id" : 79640685,
    "body" : "Add your gradle file to the question.",
    "score" : 0,
    "owner" : {
      "account_id" : 3192259,
      "reputation" : 126826,
      "user_id" : 2696260,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/qHEzx.png?s=256",
      "display_name" : "M. Deinum",
      "link" : "https://stackoverflow.com/users/2696260/m-deinum"
    },
    "creation_date" : 1748417589,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140463915,
    "post_id" : 79640685,
    "body" : "Why don&#39;t you check the dependency tree and find if there is any transitive dependency conflict and exclude that dependency ?",
    "score" : 1,
    "owner" : {
      "user_type" : "does_not_exist",
      "display_name" : "user18179479"
    },
    "creation_date" : 1748377089,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : {
    "79641748" : [ {
      "comment_id" : 140571200,
      "post_id" : 79641748,
      "body" : "CO-pilot and chat-gpt still cannot substitute stackoverflow :D",
      "score" : 1,
      "owner" : {
        "account_id" : 23220522,
        "reputation" : 180,
        "user_id" : 17312822,
        "user_type" : "registered",
        "profile_image" : "https://lh3.googleusercontent.com/a-/AOh14GjAXVjQprRqxEkkz9iXru5OirCsYsJek8PX9kLT=k-s256",
        "display_name" : "Romario",
        "link" : "https://stackoverflow.com/users/17312822/romario"
      },
      "creation_date" : 1751904580,
      "content_license" : "CC BY-SA 4.0"
    }, {
      "comment_id" : 140482932,
      "post_id" : 79641748,
      "body" : "We also hit this issue and the fix is as you describe, except you can omit the version 1.12.2 and let spring boot manage that for you.",
      "score" : 5,
      "owner" : {
        "account_id" : 1961640,
        "reputation" : 13417,
        "user_id" : 1763035,
        "user_type" : "registered",
        "accept_rate" : 56,
        "profile_image" : "https://i.sstatic.net/wpk6X.jpg?s=256",
        "display_name" : "Andy Brown",
        "link" : "https://stackoverflow.com/users/1763035/andy-brown"
      },
      "creation_date" : 1748947390,
      "content_license" : "CC BY-SA 4.0"
    }, {
      "comment_id" : 140467038,
      "post_id" : 79641748,
      "body" : "This is due to incompatible version matching with the current version of spring.",
      "score" : 1,
      "owner" : {
        "account_id" : 17043956,
        "reputation" : 1138,
        "user_id" : 12331220,
        "user_type" : "registered",
        "profile_image" : "https://i.sstatic.net/5S9Wo.gif?s=256",
        "display_name" : "Anupam Haldkar",
        "link" : "https://stackoverflow.com/users/12331220/anupam-haldkar"
      },
      "creation_date" : 1748454142,
      "content_license" : "CC BY-SA 4.0"
    } ]
  }
}