{
  "question" : {
    "question_id" : 79570415,
    "title" : "FATAL: invalid value for parameter &quot;TimeZone&quot;: &quot;Asia/Saigon&quot;",
    "body" : "<p>During backend development for a Java application, I set up a <strong>PostgreSQL</strong> database connection using <strong>JDBC</strong> in <code>DatabaseConnection.java</code>. I then ran a simple backend app to test the connection through <code>UserDAO.java</code>. After a successful build, I executed the program but encountered the following error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>&quot;C:\\Program Files\\Java\\jdk-23\\bin\\java.exe&quot; &quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2024.3.2\\lib\\idea_rt.jar=59302:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2024.3.2\\bin&quot; -Dfile.encoding=UTF-8 -Dsun.stdout.encoding=UTF-8 -Dsun.stderr.encoding=UTF-8 -classpath C:\\Users\\ADMIN\\.m2\\repository\\org\\postgresql\\postgresql\\42.5.0\\postgresql-42.5.0.jar;C:\\Users\\ADMIN\\.m2\\repository\\org\\checkerframework\\checker-qual\\3.5.0\\checker-qual-3.5.0.jar -p D:\\phdoanh\\AniShelf\\backend\\target\\classes -m com.library.backend/com.library.backend.BackendApplication\nStarting Backend Application...\norg.postgresql.util.PSQLException: FATAL: invalid value for parameter &quot;TimeZone&quot;: &quot;Asia/Saigon&quot;\n    at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2676)\n    at org.postgresql.core.v3.QueryExecutorImpl.readStartupMessages(QueryExecutorImpl.java:2788)\n    at org.postgresql.core.v3.QueryExecutorImpl.&lt;init&gt;(QueryExecutorImpl.java:174)\n    at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:290)\n    at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49)\n    at org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:247)\n    at org.postgresql.Driver.makeConnection(Driver.java:434)\n    at org.postgresql.Driver.connect(Driver.java:291)\n    at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:682)\n    at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:230)\n    at com.library.backend@1.0.0-SNAPSHOT/com.library.backend.dao.DatabaseConnection.getConnection(DatabaseConnection.java:14)\n    at com.library.backend@1.0.0-SNAPSHOT/com.library.backend.dao.UserDAO.getFirstUserName(UserDAO.java:13)\n    at com.library.backend@1.0.0-SNAPSHOT/com.library.backend.BackendApplication.main(BackendApplication.java:15)\nNo users found in the database.\nHello John\n\nProcess finished with exit code 0\n</code></pre>\n<p>I checked the timezone directly in my DBMS using the command <code>SHOW timezone;</code>, and it correctly returned <code>Asia/Ho_Chi_Minh</code> - a timezone supported by PostgreSQL. <strong>Please share a solution if you're familiar with this issue!</strong></p>\n<p><em>P.S. I'm suspecting the problem might be on the <strong>Oracle Cloud Server</strong> side, where my DBMS is hosted.</em></p>\n<p>Below are the files I mentioned:</p>\n<p><code>DatabaseConnection.java</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.library.backend.dao;  \n  \nimport java.sql.Connection;  \nimport java.sql.DriverManager;  \nimport java.sql.SQLException;  \n  \npublic class DatabaseConnection {  \n  \n    private static final String URL = &quot;jdbc:postgresql://217.142.224.197:5432/aniself&quot;;  \n    private static final String USER = &quot;****&quot;;  \n    private static final String PASSWORD = &quot;*******&quot;;  \n  \n    public static Connection getConnection() throws SQLException {  \n        return DriverManager.getConnection(URL, USER, PASSWORD);  \n    }  \n}\n</code></pre>\n<p><code>UserDAO.java</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.library.backend.dao;  \n  \nimport java.sql.Connection;  \nimport java.sql.PreparedStatement;  \nimport java.sql.ResultSet;  \nimport java.sql.SQLException;  \n  \npublic class UserDAO {  \n  \n    // Retrieves the first user name from a table named 'users'  \n    public String getFirstUserName() {  \n        String sql = &quot;SELECT name FROM users LIMIT 1;&quot;;  \n        try (Connection conn = DatabaseConnection.getConnection();  \n             PreparedStatement stmt = conn.prepareStatement(sql);  \n             ResultSet rs = stmt.executeQuery()) {  \n  \n            if (rs.next()) {  \n                return rs.getString(&quot;name&quot;);  \n            }  \n        } catch (SQLException e) {  \n            e.printStackTrace();  \n        }  \n        return null;  // Returns null if no user is found or on error  \n    }  \n}\n</code></pre>\n",
    "tags" : [ "java", "postgresql", "jdbc", "backend" ],
    "owner" : {
      "account_id" : 29120275,
      "reputation" : 95,
      "user_id" : 22307897,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/34edc2a06bce1921c99e6a0142f32090?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "PhDoanh",
      "link" : "https://stackoverflow.com/users/22307897/phdoanh"
    },
    "is_answered" : true,
    "view_count" : 2838,
    "answer_count" : 4,
    "score" : 7,
    "last_activity_date" : 1763299964,
    "creation_date" : 1744458125,
    "link" : "https://stackoverflow.com/questions/79570415/fatal-invalid-value-for-parameter-timezone-asia-saigon",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79766858,
    "question_id" : 79570415,
    "body" : "<p>I got this issue too, found out that it not the problem with my ide (intellij) or maven or java or my config. Just that the new version of postgres it seek the Timezone from the client (your machine). So that I simply add this below and it work fine.</p>\n<pre><code>&quot;-Dspring-boot.run.jvmArguments=-Duser.timezone=UTC&quot;\n</code></pre>\n<p>For case you want to config this in your ide (for me that is intellij) I suggest you use the VM options while run. Just click on the 3 dots next to the run button, click edit, then click on &quot;Modify options&quot; (it blue so very easy to find out). Then add this below. Hola!</p>\n<pre><code>-Duser.timezone=UTC\n</code></pre>\n<p>In your case, just change UTC to <code>Asia/Ho_Chi_Minh</code>.</p>\n",
    "score" : 6,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 21106053,
      "reputation" : 84,
      "user_id" : 15515026,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/gICr9.jpg?s=256",
      "display_name" : "Nguyen Huu Phuc",
      "link" : "https://stackoverflow.com/users/15515026/nguyen-huu-phuc"
    },
    "creation_date" : 1758080588,
    "last_activity_date" : 1761496565,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "answer_id" : 79572542,
    "question_id" : 79570415,
    "body" : "<p>I had a look at the PostgreSQL source code and the version of the IANA time zone database it includes, and <code>Asia/Saigon</code> has always been supported since the time zone library was added to the PostgreSQL source code in 2004. With update 2008c of the time zone database, which was committed to PostgreSQL on 2008-06-01, the time zone was renamed to <code>Asia/Ho_Chi_Minh</code>, and <code>Asia/Saigon</code> was left as an alias.</p>\n<p>Now PostgreSQL offers the alternative of using it's built-in version of the time zone database or the operating system provided version. Since your PostgreSQL doesn't know <code>Asia/Saigon</code>, it must have been configured to use the operating system's time zone database. You can check with</p>\n<pre class=\"lang-bash prettyprint-override\"><code>pg_config --configure\n</code></pre>\n<p>The result should contain <code>--with-system-tzdata</code> and point to the path to your system's time zone database.</p>\n<p>So it must be that your operating system uses a weird time zone database that doesn't know <code>Asia/Saigon</code>.  To make PostgreSQL know <code>Asia/Saigon</code>, either fix (update?) the system's time zone database or build PostgreSQL from source without using the <code>--with-system-tzdata</code> option.</p>\n<p>The alternative is to set the Java time zone to <code>Asia/Ho_Chi_Minh</code>, either by starting the JVM with</p>\n<pre class=\"lang-bash prettyprint-override\"><code>java -Duser.timezone=&quot;Asia/Ho_Chi_Minh&quot; ...\n</code></pre>\n<p>or by setting</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.setProperty(&quot;user.timezone&quot;, &quot;Asia/Ho_Chi_Minh&quot;);\n</code></pre>\n<p>in your Java code.</p>\n",
    "score" : 4,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 8633322,
      "reputation" : 257201,
      "user_id" : 6464308,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/12PVX.jpg?s=256",
      "display_name" : "Laurenz Albe",
      "link" : "https://stackoverflow.com/users/6464308/laurenz-albe"
    },
    "creation_date" : 1744614596,
    "last_activity_date" : 1744614596,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "answer_id" : 79800099,
    "question_id" : 79570415,
    "body" : "<p>Not directly related, but I also encountered a similar issue on DBeaver version 25.2.3. I resolved it by locating the 'dbeaver.ini' file and adding the configuration '-Duser.timezone=Asia/Ho_Chi_Minh'. I hope this can help you.</p>\n",
    "score" : 1,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 14271876,
      "reputation" : 21,
      "user_id" : 10309142,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/anWYa.jpg?s=256",
      "display_name" : "Dong Nguyen",
      "link" : "https://stackoverflow.com/users/10309142/dong-nguyen"
    },
    "creation_date" : 1761487968,
    "last_activity_date" : 1761487968,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "answer_id" : 79821497,
    "question_id" : 79570415,
    "body" : "<p>I hit the same error when connecting from a Spring Boot app to PostgreSQL running in Docker:</p>\n<pre><code>FATAL: invalid value for parameter &quot;TimeZone&quot;: &quot;Asia/Saigon&quot;\n</code></pre>\n<p>In my case, the problem came from the <strong>PostgreSQL image version</strong>. I was using:</p>\n<pre><code>image: postgres:latest\n</code></pre>\n<p>which pulled a newer Postgres version, and my previously working setup started failing with that timezone error.</p>\n<p>When I explicitly switched to PostgreSQL 15, everything worked again:</p>\n<pre><code>image: postgres:15\n</code></pre>\n<p>So my recommendation is:<br />\ninstead of using <code>postgres:latest</code>, <strong>pin your database to a well-tested, stable version</strong> (for example <code>postgres:15</code>)</p>\n",
    "score" : 1,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 30174779,
      "reputation" : 21,
      "user_id" : 23124471,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/0k9QQMjC.jpg?s=256",
      "display_name" : "Toan Bui",
      "link" : "https://stackoverflow.com/users/23124471/toan-bui"
    },
    "creation_date" : 1763299964,
    "last_activity_date" : 1763299964,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140330585,
    "post_id" : 79570415,
    "body" : "@Vijay I have tried, but still same problem. Could it be due to the following reasons?  1. System Timezone Setting in Windows: Windows might be providing the timezone name “Asia/Saigon” even though you’ve forced the JVM to use a different one. 2. A configuration or library overriding the application’s timezone setting. 3. Or it could be a compatibility issue with the driver: Try checking a different driver version, or refer to the issue tracker of pgjdbc.",
    "score" : 0,
    "owner" : {
      "account_id" : 29120275,
      "reputation" : 95,
      "user_id" : 22307897,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/34edc2a06bce1921c99e6a0142f32090?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "PhDoanh",
      "link" : "https://stackoverflow.com/users/22307897/phdoanh"
    },
    "creation_date" : 1744567822,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140329050,
    "post_id" : 79570415,
    "body" : "Try the below in your jdbc url to overwrite the PG tz.   /aniself?options=-c%20TimeZone=Asia/Ho_Chi_Minh&quot;   or as jvm arg -Duser.timezone=Asia/Ho_Chi_Minh",
    "score" : 0,
    "owner" : {
      "account_id" : 7645025,
      "reputation" : 440,
      "user_id" : 5795975,
      "user_type" : "registered",
      "profile_image" : "https://lh6.googleusercontent.com/-6KwPUS4RnyA/AAAAAAAAAAI/AAAAAAAAC8w/auZqreI45x0/s256-rj/photo.jpg",
      "display_name" : "Vijay",
      "link" : "https://stackoverflow.com/users/5795975/vijay"
    },
    "creation_date" : 1744510421,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140327675,
    "post_id" : 79570415,
    "body" : "@BasilBourque I see, thanks.",
    "score" : 0,
    "owner" : {
      "account_id" : 22124137,
      "reputation" : 4244,
      "user_id" : 16376827,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/1ImPw.png?s=256",
      "display_name" : "g00se",
      "link" : "https://stackoverflow.com/users/16376827/g00se"
    },
    "creation_date" : 1744464495,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140327641,
    "post_id" : 79570415,
    "body" : "I do not see where in your code you use any time zone. Where is that error message coming from?",
    "score" : 1,
    "owner" : {
      "account_id" : 322981,
      "reputation" : 347089,
      "user_id" : 642706,
      "user_type" : "registered",
      "accept_rate" : 58,
      "profile_image" : "https://i.sstatic.net/ZWEI3.jpg?s=256",
      "display_name" : "Basil Bourque",
      "link" : "https://stackoverflow.com/users/642706/basil-bourque"
    },
    "creation_date" : 1744463257,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140327635,
    "post_id" : 79570415,
    "body" : "(A) Sure hope that is not your real password. If so, time to rotate that password! (B) By the way, I suggest you learn about using <code>DataSource</code> to obtain your connection.",
    "score" : 2,
    "owner" : {
      "account_id" : 322981,
      "reputation" : 347089,
      "user_id" : 642706,
      "user_type" : "registered",
      "accept_rate" : 58,
      "profile_image" : "https://i.sstatic.net/ZWEI3.jpg?s=256",
      "display_name" : "Basil Bourque",
      "link" : "https://stackoverflow.com/users/642706/basil-bourque"
    },
    "creation_date" : 1744463114,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140327618,
    "post_id" : 79570415,
    "body" : "@g00se Yes, they are the same. The time zone <code>Asia&#47;Saigon</code> was renamed <code>Asia&#47;Ho_Chi_Minh</code>. See <a href=\"https://en.m.wikipedia.org/wiki/List_of_tz_database_time_zones\" rel=\"nofollow noreferrer\">list of time zone nomes</a> in Wikipedia. In <i>tzdata</i>, the old name is linked to the new name. Both are currently valid names in <i>tzdata</i>. Postgres bundles its own copy of <i>tzdata</i>.",
    "score" : 1,
    "owner" : {
      "account_id" : 322981,
      "reputation" : 347089,
      "user_id" : 642706,
      "user_type" : "registered",
      "accept_rate" : 58,
      "profile_image" : "https://i.sstatic.net/ZWEI3.jpg?s=256",
      "display_name" : "Basil Bourque",
      "link" : "https://stackoverflow.com/users/642706/basil-bourque"
    },
    "creation_date" : 1744462461,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140327583,
    "post_id" : 79570415,
    "body" : "I&#39;m confused - <i>Asia/Saigon</i> != <i>Asia/Ho_Chi_Minh</i> ...",
    "score" : 1,
    "owner" : {
      "account_id" : 22124137,
      "reputation" : 4244,
      "user_id" : 16376827,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/1ImPw.png?s=256",
      "display_name" : "g00se",
      "link" : "https://stackoverflow.com/users/16376827/g00se"
    },
    "creation_date" : 1744461145,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140327549,
    "post_id" : 79570415,
    "body" : "First, check if the time zone is supported in the specific installation  <code>select * from pg_timezone_names where name ilike &#39;%saigon%&#39;</code>",
    "score" : 1,
    "owner" : {
      "account_id" : 6179310,
      "reputation" : 2907,
      "user_id" : 4815321,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/c7f1efe4e3c5d007dc7c5cc7d5a64e95?s=256&d=identicon&r=PG",
      "display_name" : "mr mcwolf",
      "link" : "https://stackoverflow.com/users/4815321/mr-mcwolf"
    },
    "creation_date" : 1744460121,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : {
    "79572542" : [ {
      "comment_id" : 140818064,
      "post_id" : 79572542,
      "body" : "And also keep updated the <a href=\"https://en.wikipedia.org/wiki/Tz_database\" rel=\"nofollow noreferrer\"><i>tzdata</i></a> bundled with the <a href=\"https://en.wikipedia.org/wiki/Java_Development_Kit\" rel=\"nofollow noreferrer\">Java JDK/JRE</a>. So at least three places hold a copy of <i>tzdata</i>: (a) Host operating system (OS), (b) Postgres cluster(s), (c) Java. Ditto for any virtualized or containerized OSes.",
      "score" : 1,
      "owner" : {
        "account_id" : 322981,
        "reputation" : 347089,
        "user_id" : 642706,
        "user_type" : "registered",
        "accept_rate" : 58,
        "profile_image" : "https://i.sstatic.net/ZWEI3.jpg?s=256",
        "display_name" : "Basil Bourque",
        "link" : "https://stackoverflow.com/users/642706/basil-bourque"
      },
      "creation_date" : 1761496314,
      "content_license" : "CC BY-SA 4.0"
    } ]
  }
}