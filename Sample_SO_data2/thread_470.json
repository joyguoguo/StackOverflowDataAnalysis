{
  "question" : {
    "question_id" : 79795649,
    "title" : "Does adding opens configuration in maven surefire plugin effect anything outside the test scope?",
    "body" : "<p>I'm working on a user-related service that handles personal information. While writing unit tests with Mockito, I ran into dependency issues with Byte Buddy, which prevented me from using the latest version of Mockito.</p>\n<p>As a workaround, I'm using Mockito version 1.10.19. To make the tests run successfully, I added the following configuration to my <code>pom.xml</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.2.5&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;argLine&gt;--add-opens java.base/java.lang=ALL-UNNAMED --add-opens java.base/java.util=ALL-UNNAMED&lt;/argLine&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt; \n</code></pre>\n<hr />\n<p><strong>Concern</strong></p>\n<p>My senior mentioned that since this is a user service dealing with personal data, I need to make sure that the configuration above doesn't:</p>\n<ul>\n<li>Interfere with anything outside the test scope, or</li>\n<li>Pose any security risks to the service or user data.</li>\n</ul>\n<hr />\n<p><strong>Additional context</strong></p>\n<p>I've also tried mocking dependencies manually, but since the service involves JDBI, it’s been challenging to handle. So I’d like clarification on:</p>\n<ol>\n<li>Whether it’s safe to continue using Mockito (with this setup).</li>\n<li>If there’s a better or safer approach for testing JDBI-based services.</li>\n<li>Any useful articles or resources related to testing with Mockito and JDBI.</li>\n</ol>\n",
    "tags" : [ "java", "unit-testing", "junit", "mockito", "maven-surefire-plugin" ],
    "owner" : {
      "account_id" : 44388759,
      "reputation" : 11,
      "user_id" : 31726991,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/ca363d21a2149bd0870082fa3e0e5271?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Apurva Agarwal",
      "link" : "https://stackoverflow.com/users/31726991/apurva-agarwal"
    },
    "is_answered" : true,
    "view_count" : 110,
    "answer_count" : 1,
    "score" : 1,
    "last_activity_date" : 1761125559,
    "creation_date" : 1761038512,
    "link" : "https://stackoverflow.com/questions/79795649/does-adding-opens-configuration-in-maven-surefire-plugin-effect-anything-outside",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79796172,
    "question_id" : 79795649,
    "body" : "<p>I agree that you should be (very!) careful with your users' personal info, but the concern here is unfounded.</p>\n<p>First, this configuration is only about the surefire plugin, used to run tests. It would have no impact on the production JVM instance your service uses.</p>\n<p>Second, even if it did, all that <code>--add-opens</code> does is allow  access to non-public members in the specified <code>java.base</code> modules. Since the user data is clearly not stored in those modules, it shouldn't be an issue.</p>\n<p>But most improtantly - you should never run your tests on an environment with real user data!<br />\nAssuming you follow this rule, it really doesn't matter what configuration or JVM options you pass to the JVM executing these tests.</p>\n",
    "score" : 1,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 2818342,
      "reputation" : 315931,
      "user_id" : 2422776,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/2353050223ebecb113741c29458de4b2?s=256&d=identicon&r=PG",
      "display_name" : "Mureinik",
      "link" : "https://stackoverflow.com/users/2422776/mureinik"
    },
    "creation_date" : 1761074814,
    "last_activity_date" : 1761074814,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140809228,
    "post_id" : 79795649,
    "body" : "What kind of article are you looking for? The <code>--add-opens</code> option, like all JVM options, only has an effect if it&#39;s actually passed when launching a JVM. How a JVM option is passed can vary, but if an option is not passed then it cannot have an effect. Additionally, the Maven Surefire plugin is for running unit tests. Configuring the plugin will only affect its own execution. The configuration won&#39;t magically leak into your production environment. In fact, Maven itself won&#39;t even be in your production environment to begin with.",
    "score" : 0,
    "owner" : {
      "account_id" : 8532578,
      "reputation" : 49884,
      "user_id" : 6395627,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/af0f9bfe593f36642a032cd7ea611e7d?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Slaw",
      "link" : "https://stackoverflow.com/users/6395627/slaw"
    },
    "creation_date" : 1761070258,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140808486,
    "post_id" : 79795649,
    "body" : "<a href=\"https://www.baeldung.com/java-maven-pass-jvm-arguments\" rel=\"nofollow noreferrer\">baeldung.com/java-maven-pass-jvm-arguments</a> is the article I found @ApurvaAgarwal",
    "score" : 0,
    "owner" : {
      "account_id" : 25020912,
      "reputation" : 11,
      "user_id" : 18879613,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/a214579fa8a934cd0bd1a95e62a01a75?s=256&d=identicon&r=PG",
      "display_name" : "Srivathsa",
      "link" : "https://stackoverflow.com/users/18879613/srivathsa"
    },
    "creation_date" : 1761047300,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140808422,
    "post_id" : 79795649,
    "body" : "@Slaw can you link any article or resources based on which you are saying it will only effect unit tests, it will help me",
    "score" : 0,
    "owner" : {
      "account_id" : 44388759,
      "reputation" : 11,
      "user_id" : 31726991,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/ca363d21a2149bd0870082fa3e0e5271?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Apurva Agarwal",
      "link" : "https://stackoverflow.com/users/31726991/apurva-agarwal"
    },
    "creation_date" : 1761045477,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140808367,
    "post_id" : 79795649,
    "body" : "The <code>--add-opens</code> options don&#39;t permanently change anything. Putting them in your Surefire configuration will only affect your unit tests.",
    "score" : 0,
    "owner" : {
      "account_id" : 8532578,
      "reputation" : 49884,
      "user_id" : 6395627,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/af0f9bfe593f36642a032cd7ea611e7d?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Slaw",
      "link" : "https://stackoverflow.com/users/6395627/slaw"
    },
    "creation_date" : 1761044064,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}