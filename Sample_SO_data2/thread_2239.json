{
  "question" : {
    "question_id" : 79638862,
    "title" : "Trying to lock Docker image to versions of eclipse-temurin and maven",
    "body" : "<p>I'm trying to run a simple Java app:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.lbg.test_artifact;\n\nimport java.io.IOException;\n\npublic class App \n{\n    public static void main( String[] args ) throws IOException \n    {\n        int i;\n        do {\n            System.out.write(i = System.in.read());\n        } while (i != -1);\n    }\n}\n</code></pre>\n<p>I'm dockerising it like this:</p>\n<pre class=\"lang-none prettyprint-override\"><code>FROM eclipse-temurin\nWORKDIR /usr/src/app\nCOPY . .\nRUN apt-get update &amp;&amp; apt-get install -y --no-install-recommends maven\nRUN mvn clean package\nCMD [&quot;java&quot;, &quot;-jar&quot;, &quot;./target/test-artifact-0.0.1-SNAPSHOT.jar&quot;]\n</code></pre>\n<p>I'd like to lock down the versions of Java (eclipse-temurin) and Maven but I'm unsure how to do that. (I found the <code>maven=</code> way of specifying a package from apt-get but I always get 'package not found').</p>\n",
    "tags" : [ "java", "docker", "maven", "apt-get" ],
    "owner" : {
      "account_id" : 1978513,
      "reputation" : 1586,
      "user_id" : 1775718,
      "user_type" : "registered",
      "accept_rate" : 77,
      "profile_image" : "https://www.gravatar.com/avatar/dc1d217dcf12d1fe4468789440dd5858?s=256&d=identicon&r=PG",
      "display_name" : "user1775718",
      "link" : "https://stackoverflow.com/users/1775718/user1775718"
    },
    "is_answered" : true,
    "view_count" : 95,
    "answer_count" : 1,
    "score" : 0,
    "last_activity_date" : 1748273281,
    "creation_date" : 1748260333,
    "link" : "https://stackoverflow.com/questions/79638862/trying-to-lock-docker-image-to-versions-of-eclipse-temurin-and-maven",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79639205,
    "question_id" : 79638862,
    "body" : "<p>You can specify exactly which version of an image you want by using its SHA256 instead of a tag. Even if someone uploads a newer version with the same tag, you'll still get the one you want.</p>\n<p>For packages, you can specify the version of the package you want. You can get a list of the available versions using <code>apt-cache policy maven</code>.</p>\n<p>So to lock both the image version and the package version, you can do</p>\n<pre><code>FROM eclipse-temurin@sha256:88214b12ef97dcb4d44a96f23043041a78ab08fc035740309f1f0b026ce79940\nRUN apt-get update &amp;&amp; apt-get install -y maven=3.8.7-2\n</code></pre>\n<p>in your Dockerfile.</p>\n<p>The SHA256 value can be found on Docker Hub or by inspecting an image you've pulled.</p>\n<p>The one I've used is the one currently associated with <code>eclipse-temurin:latest</code> found <a href=\"https://hub.docker.com/layers/library/eclipse-temurin/latest/images/sha256-92c2f5ad8d51ba7588b0cec663f89a724428f60c2c342a9183908df61903969c\" rel=\"nofollow noreferrer\">here</a>.</p>\n",
    "score" : 0,
    "is_accepted" : true,
    "owner" : {
      "account_id" : 4866881,
      "reputation" : 26596,
      "user_id" : 3924803,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/M8lVF.jpg?s=256",
      "display_name" : "Hans Kilian",
      "link" : "https://stackoverflow.com/users/3924803/hans-kilian"
    },
    "creation_date" : 1748272924,
    "last_activity_date" : 1748273281,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140459360,
    "post_id" : 79638862,
    "body" : "@jonrsharpe I&#39;m not sure which tag will work with which version of maven. The dockerfile above came from a project 7 years ago, so it procedurally makes sense to me but there may well be other ways/appropriate images, etc.",
    "score" : 0,
    "owner" : {
      "account_id" : 1978513,
      "reputation" : 1586,
      "user_id" : 1775718,
      "user_type" : "registered",
      "accept_rate" : 77,
      "profile_image" : "https://www.gravatar.com/avatar/dc1d217dcf12d1fe4468789440dd5858?s=256&d=identicon&r=PG",
      "display_name" : "user1775718",
      "link" : "https://stackoverflow.com/users/1775718/user1775718"
    },
    "creation_date" : 1748261572,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140459320,
    "post_id" : 79638862,
    "body" : "Why not use an appropriate <a href=\"https://hub.docker.com/_/eclipse-temurin/tags\" rel=\"nofollow noreferrer\">tag</a>?",
    "score" : 0,
    "owner" : {
      "account_id" : 3597514,
      "reputation" : 123367,
      "user_id" : 3001761,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/feZwC.jpg?s=256",
      "display_name" : "jonrsharpe",
      "link" : "https://stackoverflow.com/users/3001761/jonrsharpe"
    },
    "creation_date" : 1748260655,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}