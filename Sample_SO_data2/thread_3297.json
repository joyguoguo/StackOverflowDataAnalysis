{
  "question" : {
    "question_id" : 79560736,
    "title" : "find min subarray length having sequence with sum equals to target",
    "body" : "<p>Given a list of numbers, find the smallest subarray length in which we can get a subsequence with a combined sum equal to given value k.\nIf there is no possible answer then return -1</p>\n<p><strong>Example:</strong></p>\n<pre><code>k = 100\nlist = [12, 42, 11, 2, 28, 6, 61, 88]\n</code></pre>\n<p>Possible subarrays which contain subsequence sum equal to k are:</p>\n<ul>\n<li>subarray : [11, 2, 28, 6, 61], having subsequence [11, 28, 61] with sum = 11 + 28 +61= 100 = k.</li>\n<li>subarray : [12, 42, 11, 2, 28, 6, 61], having subsequence [11, 28, 61] with sum = 11+28+61= 100 = k.</li>\n<li>subarray : [12, 42, 11, 2, 28, 6, 61, 88], having subsequence [11, 28, 61] with sum = 11+28+61= 100k.</li>\n<li>subarray : [42, 11, 2, 28, 6, 61], having subsequence [11, 28, 61] with sum = 11 + 28 +61 = 100 = k.</li>\n<li>subarray : [11, 2, 28, 6, 61, 88], having subsequence [11, 28, 61] with sum = 11 + 28 +61 = 100 = k.</li>\n</ul>\n<p>The smallest subarray is [11, 2, 28, 6, 61] with a length of 5.</p>\n<p>So, the answer is 5.</p>\n<p><strong>constraints:</strong></p>\n<pre><code>1 &lt;=k &lt;= 3000\n1 &lt;= n &lt;= 3000\n1 &lt;= list[i] &lt;= 10^4\n</code></pre>\n<p>Here is my code with 3 nested for loops:</p>\n<pre><code>import java.util.*;\n\nclass Main {\n    public static int solve(int k, List&lt;Integer&gt; list) {\n        int n = list.size();\n        int minLen = Integer.MAX_VALUE;\n\n        for (int i = 0; i &lt; n; i++) {\n            boolean[] dp = new boolean[k + 1];\n            dp[0] = true;\n            for (int j = i; j &lt; n; j++) {\n                int cost = list.get(j);\n                // Update dp backwards to avoid using the same element more than once\n                for (int sum = k; sum &gt;= cost; sum--) {\n                    if (dp[sum - cost]) {\n                        dp[sum] = true;\n                    }\n                }\n                if (dp[k]) {\n                    minLen = Math.min(minLen, j - i + 1);\n                    break; // No need to extend this subarray further\n                }\n            }\n        }\n        return (minLen == Integer.MAX_VALUE) ? -1 : minLen;\n    }\n\n    public static void main(String[] args) {\n        System.out.println(solve(100, Arrays.asList(12, 42, 11, 2, 28, 6, 61, 88))); // 5\n        System.out.println(solve(14, Arrays.asList(3, 2, 3, 12, 11))); // 3\n        System.out.println(solve(7, Arrays.asList(1, 4, 1))); // -1\n    }\n}\n</code></pre>\n<p>This was asked during an interview, I don't have a link to share here.</p>\n<p>Because of having 3 nested for loops with time complexity (n^2 * k), my code is not time efficient. How can this be solved in less time complexity?</p>\n",
    "tags" : [ "java", "algorithm" ],
    "owner" : {
      "account_id" : 31187804,
      "reputation" : 794,
      "user_id" : 23993901,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/7417aaad0c8ece3fac44f06d05a8ba8b?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "CodeCrusader",
      "link" : "https://stackoverflow.com/users/23993901/codecrusader"
    },
    "is_answered" : true,
    "view_count" : 269,
    "answer_count" : 2,
    "score" : 5,
    "last_activity_date" : 1744132616,
    "creation_date" : 1744057833,
    "link" : "https://stackoverflow.com/questions/79560736/find-min-subarray-length-having-sequence-with-sum-equals-to-target",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79562606,
    "question_id" : 79560736,
    "body" : "<p>Here is code similar to your solution, but following my hint.</p>\n<pre><code>public static int solve(int k, List&lt;Integer&gt; list) {\n    int n = list.size();\n    int minLen = Integer.MAX_VALUE;\n    \n    // dp holds latest subarray start that reaches sum...\n    int[] dp = new int[k+1];\n    // or -1 to indicate that we haven't reached sum.\n    Arrays.fill(dp, -1);\n    for (int i = 0; i &lt; n; i++) {\n        // We can get to 0 with an empty sum starting at i\n        dp[0] = i;\n\n        // Update dp backwards to avoid using the same element more than once\n        for (int j = k; list.get(i) &lt;= j; j--) {\n            if (dp[j] &lt; dp[j-list.get(i)]) {\n                // Record the later start to this sum.\n                dp[j] = dp[j-list.get(i)];\n\n                // Did we improve minLen?\n                if (j == k &amp;&amp; i - dp[k] &lt; minLen) {\n                    // Beware of fencepost error in end - start.\n                    minLen = i - dp[k] + 1;\n                }\n            }\n        }\n    }\n\n    return (minLen == Integer.MAX_VALUE) ? -1 : minLen;\n}\n</code></pre>\n<p>For each of <code>n</code> values of <code>i</code>, this updates at most <code>k</code> entries in <code>dp</code>, for an <code>O(n*k)</code> running time.</p>\n",
    "score" : 8,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 286249,
      "reputation" : 47816,
      "user_id" : 585411,
      "user_type" : "registered",
      "accept_rate" : 60,
      "profile_image" : "https://i.sstatic.net/xvEpe.jpg?s=256",
      "display_name" : "btilly",
      "link" : "https://stackoverflow.com/users/585411/btilly"
    },
    "creation_date" : 1744130122,
    "last_activity_date" : 1744130122,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "answer_id" : 79560982,
    "question_id" : 79560736,
    "body" : "<p>The solution with time complexity - <strong>O(n * k)</strong>:</p>\n<ul>\n<li>Save all subset sums and their the latest start idx</li>\n<li>Use previously saved sums and their start idx to calculate new sums for this start idx</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>public static int solve(int k, List&lt;Integer&gt; list) {\n    var sumToStart = new HashMap&lt;Integer, Integer&gt;();\n    int minLen = -1;\n    for (int i = 0; i &lt; list.size(); i++) {\n        int cost = list.get(i);\n        // 1 is the shortest possible length\n        if (cost == k) return 1;\n\n        var newSumToStart = new HashMap&lt;Integer, Integer&gt;();\n        for (var entry : sumToStart.entrySet()) {\n            int sum = entry.getKey();\n            int start = entry.getValue();\n\n            int newSum = sum + cost;\n            if (newSum &gt; k) continue;\n            \n            // save newLen if it is smaller than previous\n            if (newSum == k) {\n                int newLen = i - start + 1;\n                if (minLen == -1 || newLen &lt; minLen) {\n                    minLen = newLen;\n                }\n                continue;\n            }\n\n            var oldStart = sumToStart.get(newSum);\n            // do not update newSumToStart, if old start is bigger than current start\n            // read the note in the end of the answer\n            if (oldStart != null &amp;&amp; oldStart &gt; start) continue;\n            newSumToStart.put(newSum, start);\n        }\n\n        sumToStart.putAll(newSumToStart);\n        sumToStart.put(cost, i);\n    }\n\n    return minLen;\n}\n</code></pre>\n<p>The note:<br />\nWhy does <code>sumToStart</code> need to store the latest possible <strong>start</strong>?<br />\nIt leads to shorter path that sums to <strong>k</strong>.<br />\nFor example:</p>\n<pre><code>k = 11\nlist=[5, 10, 5, 1]\n</code></pre>\n<p>For <strong>sum</strong> = 10, <strong>start</strong> has to be 1, not 0, because [10, 5, 1] is shorter than [5, 10, 5, 1].<br />\nThe final state of <code>sumToStart={1=3, 5=2, 6=2, 10=1}</code>.</p>\n",
    "score" : 1,
    "is_accepted" : true,
    "owner" : {
      "account_id" : 10320634,
      "reputation" : 3398,
      "user_id" : 7613649,
      "user_type" : "registered",
      "accept_rate" : 25,
      "profile_image" : "https://www.gravatar.com/avatar/c95137fce225c304ac42743da3816d6c?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Geba",
      "link" : "https://stackoverflow.com/users/7613649/geba"
    },
    "creation_date" : 1744072771,
    "last_activity_date" : 1744132616,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140311429,
    "post_id" : 79560736,
    "body" : "I’ve noticed the downvote. Maybe someone thought this question is a duplicate of the mentioned similar question. To clarify: it’s not. The key difference is that, in this question, elements of the subarray may be skipped. I guess this difference is clear from the example provided.",
    "score" : 0,
    "owner" : {
      "account_id" : 10320634,
      "reputation" : 3398,
      "user_id" : 7613649,
      "user_type" : "registered",
      "accept_rate" : 25,
      "profile_image" : "https://www.gravatar.com/avatar/c95137fce225c304ac42743da3816d6c?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Geba",
      "link" : "https://stackoverflow.com/users/7613649/geba"
    },
    "creation_date" : 1744109984,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140309667,
    "post_id" : 79560736,
    "body" : "@user85421 Both of those will just lead to the fact that dynamic programming is appropriate. The solution to optimize demonstrates an understanding of dynamic programming.",
    "score" : 1,
    "owner" : {
      "account_id" : 286249,
      "reputation" : 47816,
      "user_id" : 585411,
      "user_type" : "registered",
      "accept_rate" : 60,
      "profile_image" : "https://i.sstatic.net/xvEpe.jpg?s=256",
      "display_name" : "btilly",
      "link" : "https://stackoverflow.com/users/585411/btilly"
    },
    "creation_date" : 1744064882,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140309531,
    "post_id" : 79560736,
    "body" : "<i>similar</i> to <a href=\"https://stackoverflow.com/q/63356582/85421\">How can I solve this problem, and what kind of algorithm is the appropriate on if any to solve it</a> and maybe <a href=\"https://stackoverflow.com/q/58436525/85421\">Subarray of ints summing to target number negative values</a>",
    "score" : 1,
    "owner" : {
      "account_id" : 31180,
      "reputation" : 29752,
      "user_id" : 85421,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/kKvXH.gif?s=256",
      "display_name" : "user85421",
      "link" : "https://stackoverflow.com/users/85421/user85421"
    },
    "creation_date" : 1744060385,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : {
    "79562606" : [ {
      "comment_id" : 140324419,
      "post_id" : 79562606,
      "body" : "Nice.  You can solve this problem with the normal 2-pointer approach, but this is a good trick to remember when the effect of removing the subarray start is difficult to calculate.",
      "score" : 0,
      "owner" : {
        "account_id" : 7178634,
        "reputation" : 60923,
        "user_id" : 5483526,
        "user_type" : "registered",
        "profile_image" : "https://www.gravatar.com/avatar/780a651189f64a2cbf4b7f62cf852005?s=256&d=identicon&r=PG&f=y&so-version=2",
        "display_name" : "Matt Timmermans",
        "link" : "https://stackoverflow.com/users/5483526/matt-timmermans"
      },
      "creation_date" : 1744374183,
      "content_license" : "CC BY-SA 4.0"
    } ],
    "79560982" : [ {
      "comment_id" : 140312739,
      "post_id" : 79560982,
      "body" : "This code essentially follows my hint, but makes it more complicated than I&#39;d like.",
      "score" : 0,
      "owner" : {
        "account_id" : 286249,
        "reputation" : 47816,
        "user_id" : 585411,
        "user_type" : "registered",
        "accept_rate" : 60,
        "profile_image" : "https://i.sstatic.net/xvEpe.jpg?s=256",
        "display_name" : "btilly",
        "link" : "https://stackoverflow.com/users/585411/btilly"
      },
      "creation_date" : 1744129717,
      "content_license" : "CC BY-SA 4.0"
    }, {
      "comment_id" : 140312602,
      "post_id" : 79560982,
      "body" : "Thank you, I am trying to understand the answer, can you please add more comments on how this program works",
      "score" : 0,
      "owner" : {
        "account_id" : 31187804,
        "reputation" : 794,
        "user_id" : 23993901,
        "user_type" : "registered",
        "profile_image" : "https://www.gravatar.com/avatar/7417aaad0c8ece3fac44f06d05a8ba8b?s=256&d=identicon&r=PG&f=y&so-version=2",
        "display_name" : "CodeCrusader",
        "link" : "https://stackoverflow.com/users/23993901/codecrusader"
      },
      "creation_date" : 1744127859,
      "content_license" : "CC BY-SA 4.0"
    }, {
      "comment_id" : 140312540,
      "post_id" : 79560982,
      "body" : "Add a fix - do not update start of sum if it is smaller than previous start. On your examples, it passes",
      "score" : 0,
      "owner" : {
        "account_id" : 10320634,
        "reputation" : 3398,
        "user_id" : 7613649,
        "user_type" : "registered",
        "accept_rate" : 25,
        "profile_image" : "https://www.gravatar.com/avatar/c95137fce225c304ac42743da3816d6c?s=256&d=identicon&r=PG&f=y&so-version=2",
        "display_name" : "Geba",
        "link" : "https://stackoverflow.com/users/7613649/geba"
      },
      "creation_date" : 1744127004,
      "content_license" : "CC BY-SA 4.0"
    }, {
      "comment_id" : 140312412,
      "post_id" : 79560982,
      "body" : "one more test case k=43, list=[2,5,6,17,4,3,1,3,26,4], correct answer is 6, above code is returning 7.",
      "score" : 0,
      "owner" : {
        "account_id" : 31187804,
        "reputation" : 794,
        "user_id" : 23993901,
        "user_type" : "registered",
        "profile_image" : "https://www.gravatar.com/avatar/7417aaad0c8ece3fac44f06d05a8ba8b?s=256&d=identicon&r=PG&f=y&so-version=2",
        "display_name" : "CodeCrusader",
        "link" : "https://stackoverflow.com/users/23993901/codecrusader"
      },
      "creation_date" : 1744125477,
      "content_license" : "CC BY-SA 4.0"
    }, {
      "comment_id" : 140312373,
      "post_id" : 79560982,
      "body" : "For input k=43 and lisr= [1, 1, 4, 17, 3, 2, 6, 4, 4, 3, 3, 3, 2, 1, 5, 6, 2, 6, 26, 4] correct answer is 5, but above code is giving 6",
      "score" : 0,
      "owner" : {
        "account_id" : 31187804,
        "reputation" : 794,
        "user_id" : 23993901,
        "user_type" : "registered",
        "profile_image" : "https://www.gravatar.com/avatar/7417aaad0c8ece3fac44f06d05a8ba8b?s=256&d=identicon&r=PG&f=y&so-version=2",
        "display_name" : "CodeCrusader",
        "link" : "https://stackoverflow.com/users/23993901/codecrusader"
      },
      "creation_date" : 1744124934,
      "content_license" : "CC BY-SA 4.0"
    } ]
  }
}