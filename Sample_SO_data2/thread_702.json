{
  "question" : {
    "question_id" : 79774438,
    "title" : "Play Framework 2.9 upgrade: getMinKeyLength method not found due to io.jsonwebtoken version conflict",
    "body" : "<p>I am upgrading my Play Framework project from version 2.8 to 2.9. As part of this, I upgraded my Java version to OpenJDK 17 and updated my build.sbt and plugins.sbt files accordingly.</p>\n<p>The project compiles successfully, but when I try to run the application I get a getMinKeyLength method not found error. Based on my research, this issue seems to be related to one of the libraries or plugins loading an older version of the io.jsonwebtoken library. However, when I check the dependency tree, it shows the correct version.</p>\n<p>build.properties</p>\n<pre><code>sbt.version=1.10.7\n</code></pre>\n<p>plugins.sbt</p>\n<pre><code>resolvers += &quot;Typesafe repository&quot; at &quot;https://repo.typesafe.com/typesafe/releases/&quot;\n\n// The Play plugin\naddSbtPlugin(&quot;com.typesafe.play&quot; % &quot;sbt-plugin&quot; % &quot;2.9.8&quot;)\n\n// web plugins\naddSbtPlugin(&quot;com.typesafe.sbt&quot; % &quot;sbt-coffeescript&quot; % &quot;1.0.2&quot;)\naddSbtPlugin(&quot;com.typesafe.sbt&quot; % &quot;sbt-less&quot; % &quot;1.1.2&quot;)\naddSbtPlugin(&quot;com.typesafe.sbt&quot; % &quot;sbt-jshint&quot; % &quot;1.0.6&quot;)\naddSbtPlugin(&quot;com.typesafe.sbt&quot; % &quot;sbt-rjs&quot; % &quot;1.0.10&quot;)\naddSbtPlugin(&quot;com.typesafe.sbt&quot; % &quot;sbt-digest&quot; % &quot;1.1.4&quot;)\naddSbtPlugin(&quot;com.typesafe.play&quot; % &quot;sbt-play-ebean&quot; % &quot;7.3.0&quot;)\n// The eclipse plugin\naddSbtPlugin(&quot;com.github.sbt&quot; % &quot;sbt-eclipse&quot; % &quot;6.2.0&quot;)\naddSbtPlugin(&quot;net.vonbuchholtz&quot; % &quot;sbt-dependency-check&quot; % &quot;0.2.8&quot;)\naddSbtPlugin(&quot;net.virtual-void&quot; % &quot;sbt-dependency-graph&quot; % &quot;0.10.0-RC1&quot;)\n// Junit 5 Tests plugin\naddSbtPlugin(&quot;net.aichler&quot; % &quot;sbt-jupiter-interface&quot; % &quot;0.11.1&quot;)\n// Jacoco - Code Coverage Plugin\naddSbtPlugin(&quot;com.github.sbt&quot; % &quot;sbt-jacoco&quot; % &quot;3.1.0&quot;)\n</code></pre>\n<p>build.sbt</p>\n<pre><code>version := &quot;2.0&quot;\n\nscalaVersion := &quot;2.13.16&quot;\n\n// The version you want to use.\nval akkaVersion = &quot;2.6.21&quot; //&quot;2.6.02&quot;\nval jackson = &quot;2.14.3&quot;\nval apacheCXF = &quot;3.5.6&quot;\nval bouncycastle = &quot;1.82&quot;\n\nlazy val mobileconnect = (project in file(&quot;modules/mobileconnect&quot;)).enablePlugins(PlayJava)\n\nlazy val main = (project in file(&quot;.&quot;)).enablePlugins(PlayJava, PlayEbean)//.dependsOn(mobileconnect).aggregate(mobileconnect)\n\nroutesGenerator := InjectedRoutesGenerator\n\nlibraryDependencies ++= Seq(\n  filters,\n  guice,\n  javaWs,\n  \n  &quot;biz.paluch.redis&quot; % &quot;lettuce&quot; % &quot;4.5.0.Final&quot;,\n  \n  &quot;com.amazonaws&quot; % &quot;aws-java-sdk&quot; % &quot;1.12.377&quot;,\n  \n  &quot;com.enragedginger&quot; %% &quot;akka-quartz-scheduler&quot; % &quot;1.9.3-akka-2.6.x&quot;,\n  \n  &quot;com.fasterxml.jackson.core&quot; % &quot;jackson-core&quot;                 % jackson,\n  &quot;com.fasterxml.jackson.core&quot; % &quot;jackson-databind&quot;             % jackson,\n  &quot;com.fasterxml.jackson.core&quot; % &quot;jackson-annotations&quot;          % jackson,\n  &quot;com.fasterxml.jackson.dataformat&quot; % &quot;jackson-dataformat-xml&quot; % jackson,\n  &quot;com.fasterxml.jackson.module&quot; %% &quot;jackson-module-scala&quot;      % jackson,\n  \n  &quot;com.github.jgonian&quot; % &quot;commons-ip-math&quot; % &quot;1.32&quot;,\n  \n  &quot;com.google.inject&quot; % &quot;guice&quot; % &quot;5.1.0&quot;,\n  &quot;com.google.inject.extensions&quot; % &quot;guice-assistedinject&quot; % &quot;5.1.0&quot;,\n  &quot;com.google.zxing&quot; % &quot;core&quot; % &quot;3.5.2&quot;,\n  &quot;com.google.zxing&quot; % &quot;javase&quot; % &quot;3.5.2&quot;,\n  \n  &quot;com.googlecode.libphonenumber&quot; % &quot;libphonenumber&quot; % &quot;8.13.49&quot;,\n  &quot;com.googlecode.libphonenumber&quot; % &quot;geocoder&quot; % &quot;2.31&quot;,\n  &quot;com.googlecode.java-ipv6&quot; % &quot;java-ipv6&quot; % &quot;0.17&quot;,\n  \n  &quot;com.jcraft&quot; % &quot;jsch&quot; % &quot;0.1.55&quot;,\n  \n  &quot;com.maxmind.geoip2&quot; % &quot;geoip2&quot; % &quot;2.17.0&quot;,\n  \n  &quot;com.mikesamuel&quot; % &quot;json-sanitizer&quot; % &quot;1.2.3&quot;,\n  \n  &quot;com.typesafe.akka&quot; %% &quot;akka-remote&quot;                % akkaVersion,\n  &quot;com.typesafe.akka&quot; %% &quot;akka-actor&quot;                 % akkaVersion,\n  &quot;com.typesafe.akka&quot; %% &quot;akka-actor-typed&quot;           % akkaVersion,\n  &quot;com.typesafe.akka&quot; %% &quot;akka-stream&quot;                % akkaVersion,\n  &quot;com.typesafe.akka&quot; %% &quot;akka-slf4j&quot;                 % akkaVersion,\n  &quot;com.typesafe.akka&quot; %% &quot;akka-serialization-jackson&quot; % akkaVersion,\n  \n  &quot;com.typesafe.play&quot; %% &quot;play-java-jdbc&quot; % &quot;2.9.8&quot;,\n  \n  &quot;com.notnoop.apns&quot; % &quot;apns&quot; % &quot;1.0.0.Beta6&quot;,\n  \n  &quot;commons-io&quot; % &quot;commons-io&quot; % &quot;2.16.0&quot;,\n  &quot;commons-validator&quot; % &quot;commons-validator&quot; % &quot;1.9.0&quot;,\n  \n  &quot;dnsjava&quot; % &quot;dnsjava&quot; % &quot;2.1.8&quot;,\n  \n  //&quot;io.lettuce&quot; % &quot;lettuce-core&quot; % &quot;6.8.1.RELEASE&quot;, // latest redis\n  \n  &quot;mysql&quot; % &quot;mysql-connector-java&quot; % &quot;8.0.31&quot;,\n  \n  &quot;net.sf.ehcache&quot; % &quot;ehcache&quot; % &quot;2.10.8&quot;,\n  \n  &quot;org.apache.commons&quot; % &quot;commons-csv&quot; % &quot;1.10.0&quot;,\n  \n  &quot;org.apache.cxf&quot; % &quot;cxf-rt-frontend-jaxws&quot;     % apacheCXF,\n  &quot;org.apache.cxf&quot; % &quot;cxf-rt-transports-http&quot;    % apacheCXF,\n  &quot;org.apache.cxf&quot; % &quot;cxf-rt-transports-http-hc&quot; % apacheCXF,\n  &quot;org.apache.cxf&quot; % &quot;cxf-rt-ws-security&quot;        % apacheCXF,\n  \n  &quot;org.apache.lucene&quot; % &quot;lucene-core&quot; % &quot;9.10.0&quot;,\n  &quot;org.apache.lucene&quot; % &quot;lucene-suggest&quot; % &quot;9.10.0&quot;,\n  \n  &quot;org.asynchttpclient&quot; % &quot;async-http-client&quot; % &quot;2.12.4&quot;,\n  \n  &quot;org.bitbucket.b_c&quot; % &quot;jose4j&quot; % &quot;0.9.6&quot;,\n  \n  &quot;org.bouncycastle&quot; % &quot;bcprov-jdk18on&quot; % bouncycastle,\n  &quot;org.bouncycastle&quot; % &quot;bcmail-jdk18on&quot; % bouncycastle,\n  &quot;org.bouncycastle&quot; % &quot;bcpkix-jdk18on&quot; % bouncycastle,\n  \n  &quot;org.jetbrains&quot; % &quot;annotations&quot; % &quot;23.0.0&quot;,\n  \n  &quot;org.fusesource.jansi&quot; % &quot;jansi&quot; % &quot;2.4.0&quot;,\n  \n  &quot;org.mongodb&quot; % &quot;mongodb-driver&quot; % &quot;3.12.2&quot;,\n  &quot;org.mongodb&quot; % &quot;mongodb-driver-async&quot; % &quot;3.12.2&quot;,\n  \n  // These libraries were not added in earlier build.sbt\n  &quot;org.apache.commons&quot; % &quot;commons-lang3&quot; % &quot;3.18.0&quot;,\n  &quot;org.apache.commons&quot; % &quot;commons-collections4&quot; % &quot;4.5.0&quot;\n)\n\n// Force eviction to this version\ndependencyOverrides ++= Seq(\n  &quot;com.fasterxml.jackson.core&quot; % &quot;jackson-databind&quot; % jackson,\n  &quot;com.fasterxml.jackson.core&quot; % &quot;jackson-core&quot; % jackson,\n  &quot;com.fasterxml.jackson.core&quot; % &quot;jackson-annotations&quot; % jackson,\n  &quot;io.jsonwebtoken&quot; % &quot;jjwt-api&quot; % &quot;0.11.5&quot;,\n  &quot;io.jsonwebtoken&quot; % &quot;jjwt-impl&quot; % &quot;0.11.5&quot; % &quot;runtime&quot;,\n  &quot;io.jsonwebtoken&quot; % &quot;jjwt-jackson&quot; % &quot;0.11.5&quot; % &quot;runtime&quot;,\n)\n\n// https://github.com/sbt/sbt-jupiter-interface\nlibraryDependencies ++= Seq(\n    &quot;net.aichler&quot; % &quot;jupiter-interface&quot; % JupiterKeys.jupiterVersion.value % Test\n)\ntestOptions += Tests.Argument(jupiterTestFramework, &quot;-q&quot;, &quot;-v&quot;)\n\n// JMockit as Java Agent\ndef jmockitPath(f: Seq[File]) = f.filter(_.name.endsWith(&quot;jmockit-1.49.jar&quot;)).head\n//javaOptions in Test += s&quot;-javaagent:${jmockitPath((dependencyClasspath in Test).value.files)}&quot;\nTest / javaOptions += s&quot;-javaagent:${jmockitPath((dependencyClasspath in Test).value.files)}&quot;\n\n// Jacoco - Code coverage settings \njacocoReportSettings := JacocoReportSettings()\n  .withThresholds(\n    JacocoThresholds(\n      instruction = 0,\n      method = 0,\n      branch = 0,\n      complexity = 0,\n      line = 0,\n      clazz = 0)\n  )\n\n\n</code></pre>\n<p>Here is the error stack</p>\n<pre><code>java.lang.NoSuchMethodError: 'int io.jsonwebtoken.SignatureAlgorithm.getMinKeyLength()'\n    play.api.http.JWTConfigurationParser$.getSignatureAlgorithm(HttpConfiguration.scala:399)\n    play.api.http.JWTConfigurationParser$.apply(HttpConfiguration.scala:385)\n    play.api.http.HttpConfiguration$.fromConfiguration(HttpConfiguration.scala:254)\n    play.api.http.HttpConfiguration$HttpConfigurationProvider.get$lzycompute(HttpConfiguration.scala:322)\\\n    play.api.http.HttpConfiguration$HttpConfigurationProvider.get(HttpConfiguration.scala:322)\n    play.api.http.HttpConfiguration$HttpConfigurationProvider.get(HttpConfiguration.scala:320)\n    com.google.inject.internal.ProviderInternalFactory.provision(ProviderInternalFactory.java:86)\n    com.google.inject.internal.BoundProviderFactory.provision(BoundProviderFactory.java:72)\n    com.google.inject.internal.ProviderInternalFactory.circularGet(ProviderInternalFactory.java:60)\n    com.google.inject.internal.BoundProviderFactory.get(BoundProviderFactory.java:59)\n    com.google.inject.internal.SingleParameterInjector.inject(SingleParameterInjector.java:40)\n    com.google.inject.internal.SingleParameterInjector.getAll(SingleParameterInjector.java:60)\n    com.google.inject.internal.ConstructorInjector.provision(ConstructorInjector.java:113)\n    com.google.inject.internal.ConstructorInjector.construct(ConstructorInjector.java:91)\n    com.google.inject.internal.ConstructorBindingImpl$Factory.get(ConstructorBindingImpl.java:300)\n    com.google.inject.internal.ProviderToInternalFactoryAdapter.get(ProviderToInternalFactoryAdapter.java:40)\n    com.google.inject.internal.SingletonScope$1.get(SingletonScope.java:169)\n    com.google.inject.internal.InternalFactoryToProviderAdapter.get(InternalFactoryToProviderAdapter.java:45)\n    com.google.inject.internal.BoundProviderFactory.get(BoundProviderFactory.java:58)\n    com.google.inject.internal.SingleParameterInjector.inject(SingleParameterInjector.java:40)\n    com.google.inject.internal.SingleParameterInjector.getAll(SingleParameterInjector.java:60)\n    com.google.inject.internal.ConstructorInjector.provision(ConstructorInjector.java:113)\n    com.google.inject.internal.ConstructorInjector.construct(ConstructorInjector.java:91)\n    com.google.inject.internal.ConstructorBindingImpl$Factory.get(ConstructorBindingImpl.java:300)\n    com.google.inject.internal.ProviderToInternalFactoryAdapter.get(ProviderToInternalFactoryAdapter.java:40)\n    com.google.inject.internal.SingletonScope$1.get(SingletonScope.java:169)\n    com.google.inject.internal.InternalFactoryToProviderAdapter.get(InternalFactoryToProviderAdapter.java:45)\n    com.google.inject.internal.BoundProviderFactory.get(BoundProviderFactory.java:58)\n    com.google.inject.internal.SingleParameterInjector.inject(SingleParameterInjector.java:40)\n    com.google.inject.internal.SingleParameterInjector.getAll(SingleParameterInjector.java:60)\n    com.google.inject.internal.ConstructorInjector.provision(ConstructorInjector.java:113)\n    com.google.inject.internal.ConstructorInjector.construct(ConstructorInjector.java:91)\n    com.google.inject.internal.ConstructorBindingImpl$Factory.get(ConstructorBindingImpl.java:300)\n    com.google.inject.internal.ProviderToInternalFactoryAdapter.get(ProviderToInternalFactoryAdapter.java:40)\n    com.google.inject.internal.SingletonScope$1.get(SingletonScope.java:169)\n    com.google.inject.internal.InternalFactoryToProviderAdapter.get(InternalFactoryToProviderAdapter.java:45)\n    com.google.inject.internal.BoundProviderFactory.get(BoundProviderFactory.java:58)\n    com.google.inject.internal.ProviderToInternalFactoryAdapter.get(ProviderToInternalFactoryAdapter.java:40)\n    com.google.inject.internal.SingletonScope$1.get(SingletonScope.java:169)\n    com.google.inject.internal.InternalFactoryToProviderAdapter.get(InternalFactoryToProviderAdapter.java:45)\n    com.google.inject.internal.InternalInjectorCreator.loadEagerSingletons(InternalInjectorCreator.java:213)\n    com.google.inject.internal.InternalInjectorCreator.injectDynamically(InternalInjectorCreator.java:186)\n    com.google.inject.internal.InternalInjectorCreator.build(InternalInjectorCreator.java:113)\n    com.google.inject.Guice.createInjector(Guice.java:87)\n    com.google.inject.Guice.createInjector(Guice.java:78)\n    play.api.inject.guice.GuiceBuilder.injector(GuiceInjectorBuilder.scala:200)\\\n    play.api.inject.guice.GuiceApplicationBuilder.build(GuiceApplicationBuilder.scala:176)\n    play.api.inject.guice.GuiceApplicationLoader.load(GuiceApplicationLoader.scala:21)\n    play.core.server.DevServerStart$DevServerApplicationProvider$1.$anonfun$reload$2(DevServerStart.scala:233)\n    play.utils.Threads$.withContextClassLoader(Threads.scala:22)\n    play.core.server.DevServerStart$DevServerApplicationProvider$1.reload(DevServerStart.scala:225)\n    play.core.server.DevServerStart$DevServerApplicationProvider$1.get(DevServerStart.scala:190)\n    play.core.server.AkkaHttpServer.handleRequest(AkkaHttpServer.scala:326)\n    play.core.server.AkkaHttpServer.$anonfun$createServerBinding$1(AkkaHttpServer.scala:224)\n    akka.stream.impl.fusing.MapAsyncUnordered$$anon$31.onPush(Ops.scala:1430)\n    akka.stream.impl.fusing.GraphInterpreter.processPush(GraphInterpreter.scala:542)\n    akka.stream.impl.fusing.GraphInterpreter.processEvent(GraphInterpreter.scala:496)\n    akka.stream.impl.fusing.GraphInterpreter.execute(GraphInterpreter.scala:390)\n    akka.stream.impl.fusing.GraphInterpreterShell.runBatch(ActorGraphInterpreter.scala:650)\n    akka.stream.impl.fusing.GraphInterpreterShell$AsyncInput.execute(ActorGraphInterpreter.scala:521)\n    akka.stream.impl.fusing.GraphInterpreterShell.processEvent(ActorGraphInterpreter.scala:625)\n    akka.stream.impl.fusing.ActorGraphInterpreter.akka$stream$impl$fusing$ActorGraphInterpreter$$processEvent(ActorGraphInterpreter.scala:800)\n    akka.stream.impl.fusing.ActorGraphInterpreter$$anonfun$receive$1.applyOrElse(ActorGraphInterpreter.scala:818)\n    akka.actor.Actor.aroundReceive(Actor.scala:537)\n    akka.actor.Actor.aroundReceive$(Actor.scala:535)\n    akka.stream.impl.fusing.ActorGraphInterpreter.aroundReceive(ActorGraphInterpreter.scala:716)\n    akka.actor.ActorCell.receiveMessage(ActorCell.scala:579)\n    akka.actor.ActorCell.invoke(ActorCell.scala:547)\n    akka.dispatch.Mailbox.processMailbox(Mailbox.scala:270)\n    akka.dispatch.Mailbox.run(Mailbox.scala:231)\n    akka.dispatch.Mailbox.exec(Mailbox.scala:243)\n    java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:373)\n    java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1182)\n    java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1655)\n    java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1622)\n    java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:165)\n</code></pre>\n<p>How can I identify which dependency is actually pulling the wrong version and fix this issue?</p>\n",
    "tags" : [ "java", "playframework", "sbt" ],
    "owner" : {
      "account_id" : 461204,
      "reputation" : 417,
      "user_id" : 862755,
      "user_type" : "registered",
      "accept_rate" : 45,
      "profile_image" : "https://www.gravatar.com/avatar/462394921e1012c33dd1ea6375880883?s=256&d=identicon&r=PG",
      "display_name" : "Natraj",
      "link" : "https://stackoverflow.com/users/862755/natraj"
    },
    "is_answered" : false,
    "view_count" : 28,
    "answer_count" : 0,
    "score" : 0,
    "last_activity_date" : 1758782211,
    "creation_date" : 1758782211,
    "link" : "https://stackoverflow.com/questions/79774438/play-framework-2-9-upgrade-getminkeylength-method-not-found-due-to-io-jsonwebto",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ ],
  "question_comments" : [ ],
  "answer_comments" : { }
}