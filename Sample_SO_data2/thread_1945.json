{
  "question" : {
    "question_id" : 79664746,
    "title" : "java.security.AccessControlException: access denied (&quot;java.net.SocketPermission&quot; &quot;localhost:1099&quot; &quot;listen,resolve&quot;)",
    "body" : "<p>Facing issue with RMI Registry.</p>\n<p>Inititally my code was developed using java 6 or lower version but recently we have upgrade our java to java 8 and came to understand that it has some tighter Security policies.</p>\n<p>Due to this my code is throwing a permission errors while establishing the RMI registry connection</p>\n<p>I tried giving grant permission to port in java.policy file.\nPort used 1099 which default RMI Registry port.</p>\n<p>Please find below code</p>\n<pre><code>package com.aurionpro.reuters;\n\nimport com.aurionpro.reuters.service.UpdateCurrencyRates;\nimport java.io.IOException;\nimport java.rmi.NotBoundException;\nimport java.rmi.RemoteException;\nimport java.rmi.registry.LocateRegistry;\nimport java.rmi.registry.Registry;\nimport java.util.Properties;\n\npublic final class RMIServiceClient {\n   private final String hostname;\n   private final int port;\n   private final String serviceName;\n   private UpdateCurrencyRates currencyRates;\n   private Registry registry = null;\n\n   public RMIServiceClient(String appPropFileName, String productName) {\n      Properties properties = new Properties();\n      ClassLoader loader = Thread.currentThread().getContextClassLoader();\n\n      try {\n         properties.load(loader.getResourceAsStream(appPropFileName));\n      } catch (IOException var6) {\n         var6.printStackTrace();\n      }\n\n      this.hostname = properties.getProperty(&quot;rmiclient.&quot; + productName + &quot;.registry.host&quot;);\n      this.port = Integer.parseInt(properties.getProperty(&quot;rmiclient.&quot; + productName + &quot;.registry.port&quot;));\n      this.serviceName = properties.getProperty(&quot;rmiclient.&quot; + productName + &quot;.registry.serviceName&quot;);\n   }\n\n   public UpdateCurrencyRates getCurrencyRatesService() throws RemoteException, NotBoundException {\n      SecurityManager securityManager = new SecurityManager();\n      System.setSecurityManager(securityManager);\n      this.registry = LocateRegistry.getRegistry(this.hostname, this.port);\n      this.currencyRates = (UpdateCurrencyRates)this.registry.lookup(this.serviceName);\n      return this.currencyRates;\n   }\n}\n</code></pre>\n",
    "tags" : [ "java", "java-8", "rmiregistry" ],
    "owner" : {
      "account_id" : 42521262,
      "reputation" : 1,
      "user_id" : 30794063,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/74f36f68378f8e90056cc8b4c31b7dad?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "XERVIS",
      "link" : "https://stackoverflow.com/users/30794063/xervis"
    },
    "is_answered" : false,
    "view_count" : 50,
    "answer_count" : 0,
    "score" : 0,
    "last_activity_date" : 1749813277,
    "creation_date" : 1749813277,
    "link" : "https://stackoverflow.com/questions/79664746/java-security-accesscontrolexception-access-denied-java-net-socketpermission",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ ],
  "question_comments" : [ {
    "comment_id" : 140534619,
    "post_id" : 79664746,
    "body" : "How about not setting a <code>SecurityManager</code>? It has been marked, “<i>deprecated, for removal</i>” and the most recent Java version already removed the support; <code>System.setSecurityManager(…)</code> will throw an <code>UnsupportedOperationException</code> in Java 24. Even if it’s not deprecated in Java 8, the reasons for its deprecation apply to this version as well.",
    "score" : 1,
    "owner" : {
      "account_id" : 3211603,
      "reputation" : 301001,
      "user_id" : 2711488,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/t2hoD.jpg?s=256",
      "display_name" : "Holger",
      "link" : "https://stackoverflow.com/users/2711488/holger"
    },
    "creation_date" : 1750670684,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140514110,
    "post_id" : 79664746,
    "body" : "Does this help? <a href=\"https://stackoverflow.com/questions/2427473/java-rmi-accesscontrolexception-access-denied\" title=\"java rmi accesscontrolexception access denied\">stackoverflow.com/questions/2427473/&hellip;</a>",
    "score" : 0,
    "owner" : {
      "account_id" : 7670,
      "reputation" : 35501,
      "user_id" : 13379,
      "user_type" : "registered",
      "accept_rate" : 86,
      "profile_image" : "https://i.sstatic.net/CbSDuxvr.png?s=256",
      "display_name" : "Michael",
      "link" : "https://stackoverflow.com/users/13379/michael"
    },
    "creation_date" : 1749936624,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140511260,
    "post_id" : 79664746,
    "body" : "As for the exception, I&#39;m inclined to guess that either you did not set the policy correctly, or else you set it in the wrong policy file.  Possible variations on that would include the policy file you modified not getting deployed with the application, or it getting replaced when the application is (re)deployed. You haven&#39;t provided enough information for us to evaluate any of that.",
    "score" : 1,
    "owner" : {
      "account_id" : 2792262,
      "reputation" : 190832,
      "user_id" : 2402272,
      "user_type" : "registered",
      "accept_rate" : 85,
      "profile_image" : "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=256&d=identicon&r=PG",
      "display_name" : "John Bollinger",
      "link" : "https://stackoverflow.com/users/2402272/john-bollinger"
    },
    "creation_date" : 1749816695,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140511227,
    "post_id" : 79664746,
    "body" : "You do know that the latest LTS release of Java is Java 21, right?  As long as you have decided to go through a Java-version upgrade, it seems short sighted to step up only to 11-year-old Java 8.",
    "score" : 3,
    "owner" : {
      "account_id" : 2792262,
      "reputation" : 190832,
      "user_id" : 2402272,
      "user_type" : "registered",
      "accept_rate" : 85,
      "profile_image" : "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=256&d=identicon&r=PG",
      "display_name" : "John Bollinger",
      "link" : "https://stackoverflow.com/users/2402272/john-bollinger"
    },
    "creation_date" : 1749815743,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}