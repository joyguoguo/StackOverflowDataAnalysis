{
  "question" : {
    "question_id" : 79658920,
    "title" : "JComboBox CustomModel Generics Warning",
    "body" : "<p>Pure Java 8 without IDE. I have a Problem creating a JComboBox with Custom Model without Warnings because of Generics. My goal is to have a dynamic Object List, where the Name of the Objects is displayed in the JComboBox and can be selected there. The Data Objects are in a DataLink Class with several Properties and one Method toString() that returns the Name of the Object as String.\nThen I have a Custom ComboBoxModel called ComboModel. It extends AbstractListModel and implements ComboBoxModel. It operates with items of the Object Class that it holds in a ArrayList. It holds the selectedIndex value and overrides the 4 Methods getElementAt(), getSize(), getSelectedItem(), setSelectedItem(). Additinally it implemtes clear(), size(), get(), add() and remove() to operate on the arrayList.\nThen I have a DataLinkModel class (this additionally implements Methods to act as a JTableModel as well, but not important here and now). It uses the beforementioned ComboModel to store its Elements, that are of type DataLink. It has a Method public ComboModel getComboList(), to return the ComboModel, to pass it to a JComboBox Constructor or setModel() Method. The DataLinkModel is created in a DataClass as dataLink that has a Method public ComboModel getDataLinkComboList() that returns dataLink.getComboList(). In a JFrame I have now this declaration and instancing (the DataClass is instanced before):</p>\n<pre><code>JComboBox&lt;String&gt;   comboDataObject;\ncomboDataObject = new JComboBox&lt;&gt;((ComboBoxModel&lt;String&gt;)dataClass.getDataLinkComboList()); // Line 3649\n</code></pre>\n<p>this syntax gives (with Xlint:unchecked):</p>\n<pre><code>AppFrame.java:3649: warning: [unchecked] unchecked cast required: ComboBoxModel&lt;String&gt; found:    ComboModel 1 warning\n</code></pre>\n<p>I tried that with givin the type as DataLink, or ComboModel, or DataLinkModel in different combinations. Sometimes I get two Warnings, sometimes one, but always warnings. I dont have a clue how to tell the Type. Skipping the cast warns for unchecked conversion. At least its a String that is coming from the toString() Method in the DataLink Object that should be shown in the JComboBox. In looked here and googled, I only found string[] solutions, never complex object lists.<br />\nBeside the warnings the app works as expected.\nHow do I instanciate correctly?</p>\n<p>Code Structure (not compilable, but could make the description clear):</p>\n<pre><code>public class DataLink {\n    ... several properties, getter, setter\n    public String toString() {\n        return name;\n    }\n}\nclass ComboModel extends AbstractListModel implements ComboBoxModel {\n    List&lt;Object&gt;    data;\n    int         selectedIndex;\n    public ComboModel() {\n        data        = new ArrayList&lt;Object&gt;();\n        selectedIndex   = -1;\n    }\n    public Object getElementAt(int index)   // Overides operate on data list\n    public int getSize()\n    public Object getSelectedItem()\n    public void setSelectedItem(Object anItem)\n    // Custom methods:\n    public void clear()\n    public int size()\n    public Object get(int index)\n    public void add(Object object)\n    public void remove(int index)   // remove, add and clear after data change have: fireContentsChanged(this, -1, -1);\n}\npublic class DataLinkModel extends AbstractTableModel {\n    ComboModel comboList;\n    public DataLinkModel() {\n        comboList = new ComboModel();\n    }\n    public ComboModel getComboList() {\n        return comboList;\n    }\n    ... some methods to extend abstractTableModel\n    ... methods as proxie methods that operate on the comboList(add, remove etc).\n}\npublic class DataClass {\n    DataLinkModel   dataLink;\n    ...\n    public DataClass() {\n        dataLink = new DataLinkModel();\n        createDataInDataLink();\n    }\n    public ComboModel getDataLinkComboList() {\n        return dataLink.getComboList();\n    }\n    ...\n}\n</code></pre>\n<p>Thanks, Frankie</p>\n",
    "tags" : [ "java", "generics", "jcombobox" ],
    "owner" : {
      "account_id" : 7523089,
      "reputation" : 25,
      "user_id" : 5714314,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/c3e924e7ca7d346f5331748e3738cffe?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Frankie",
      "link" : "https://stackoverflow.com/users/5714314/frankie"
    },
    "is_answered" : true,
    "view_count" : 67,
    "closed_date" : 1749481061,
    "answer_count" : 1,
    "score" : -4,
    "last_activity_date" : 1749481068,
    "creation_date" : 1749474400,
    "link" : "https://stackoverflow.com/questions/79658920/jcombobox-custommodel-generics-warning",
    "closed_reason" : "Duplicate"
  },
  "answers" : [ {
    "answer_id" : 79658945,
    "question_id" : 79658920,
    "body" : "<p>You are getting warnings because of raw types in your <code>ComboModel</code> (<code>List&lt;Object&gt;</code>), but trying to cast it to <code>ComboBoxModel&lt;String&gt;</code>. This unchecked cast causes the compiler warning.</p>\n<p>To fix warnings in your code, try to <strong>parameterise your <code>ComboModel</code> with a generic type</strong>, as shown below</p>\n<pre class=\"lang-java prettyprint-override\"><code>class ComboModel&lt;T&gt; extends AbstractListModel&lt;T&gt; implements ComboBoxModel&lt;T&gt; {\n    List&lt;T&gt; data = new ArrayList&lt;&gt;();\n    int selectedIndex = -1;\n\n    public T getElementAt(int index) { return data.get(index); }\n    public int getSize() { return data.size(); }\n    public T getSelectedItem() { return selectedIndex &gt;= 0 ? data.get(selectedIndex) : null; }\n    public void setSelectedItem(Object anItem) { selectedIndex = data.indexOf(anItem); }\n\n    // Custom methods\n    public void clear() { data.clear(); fireContentsChanged(this, -1, -1); }\n    public int size() { return data.size(); }\n    public T get(int index) { return data.get(index); }\n    public void add(T object) { data.add(object); fireContentsChanged(this, -1, -1); }\n    public void remove(int index) { data.remove(index); fireContentsChanged(this, -1, -1); }\n}\n</code></pre>\n<p>Then, use it as shown below.</p>\n<p>The <code>JComboBox</code> will display the names via <code>toString()</code> and <strong>no cast or warning is needed</strong>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>ComboModel&lt;DataLink&gt; model = dataClass.getDataLinkComboList();  \n\n// assuming return type is ComboModel&lt;DataLink&gt;\nJComboBox&lt;DataLink&gt; combo = new JComboBox&lt;&gt;(model);\n</code></pre>\n",
    "score" : 3,
    "is_accepted" : true,
    "owner" : {
      "account_id" : 6962218,
      "reputation" : 442,
      "user_id" : 5341306,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/8rhmy.jpg?s=256",
      "display_name" : "Imran.Khan",
      "link" : "https://stackoverflow.com/users/5341306/imran-khan"
    },
    "creation_date" : 1749475346,
    "last_activity_date" : 1749475346,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140499294,
    "post_id" : 79658920,
    "body" : "Thank you very much, you have been right with your suggestion. Imran Kahn made this clear in his complete answer below. Unfortunatly I needed such a complete answer. But you saw the same problem with my code (fragments). Thank you, too.",
    "score" : 0,
    "owner" : {
      "account_id" : 7523089,
      "reputation" : 25,
      "user_id" : 5714314,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/c3e924e7ca7d346f5331748e3738cffe?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Frankie",
      "link" : "https://stackoverflow.com/users/5714314/frankie"
    },
    "creation_date" : 1749476652,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140499239,
    "post_id" : 79658920,
    "body" : "In the <code>ComboModel</code> class, where you currently wrote <code>implements ComboBoxModel {...</code> instead of something like <code>implements ComboBoxModel&lt;String&gt; { ...</code> (depending on what you want to do)",
    "score" : 1,
    "owner" : {
      "account_id" : 108033,
      "reputation" : 20089,
      "user_id" : 286934,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/f16a184d26b72795ff243464d715cffe?s=256&d=identicon&r=PG",
      "display_name" : "Progman",
      "link" : "https://stackoverflow.com/users/286934/progman"
    },
    "creation_date" : 1749475505,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140499218,
    "post_id" : 79658920,
    "body" : "Do you mean in my declaration? I still get a warning when I write &lt;String&gt; instead of &lt;&gt;. Or do you mean in  the ComboModell Class?",
    "score" : 0,
    "owner" : {
      "account_id" : 7523089,
      "reputation" : 25,
      "user_id" : 5714314,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/c3e924e7ca7d346f5331748e3738cffe?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Frankie",
      "link" : "https://stackoverflow.com/users/5714314/frankie"
    },
    "creation_date" : 1749475319,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140499194,
    "post_id" : 79658920,
    "body" : "You have to specify the generic type you want to use for the <code>ComboBoxModel</code> interface. Depending on what you want to do, it could be <code>ComboBoxModel&lt;String&gt;</code>.",
    "score" : 1,
    "owner" : {
      "account_id" : 108033,
      "reputation" : 20089,
      "user_id" : 286934,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/f16a184d26b72795ff243464d715cffe?s=256&d=identicon&r=PG",
      "display_name" : "Progman",
      "link" : "https://stackoverflow.com/users/286934/progman"
    },
    "creation_date" : 1749474810,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : {
    "79658945" : [ {
      "comment_id" : 140499390,
      "post_id" : 79658945,
      "body" : "@frankie You are welcome! I&#39;m really glad the changes worked and clear up the warnings. Generics can definitely be tricky, you&#39;re doing great, keep it up!",
      "score" : 0,
      "owner" : {
        "account_id" : 6962218,
        "reputation" : 442,
        "user_id" : 5341306,
        "user_type" : "registered",
        "profile_image" : "https://i.sstatic.net/8rhmy.jpg?s=256",
        "display_name" : "Imran.Khan",
        "link" : "https://stackoverflow.com/users/5341306/imran-khan"
      },
      "creation_date" : 1749478869,
      "content_license" : "CC BY-SA 4.0"
    }, {
      "comment_id" : 140499290,
      "post_id" : 79658945,
      "body" : "Thank you very much. Generics often drive me crzy and I never had the idea to look for the problem in the ComboModel Class. And to be honest, I never would have been able to make the changes you suggested! But I just did them, and all the warnings have been away. Thank you very much, this was great and fast help here!",
      "score" : 0,
      "owner" : {
        "account_id" : 7523089,
        "reputation" : 25,
        "user_id" : 5714314,
        "user_type" : "registered",
        "profile_image" : "https://www.gravatar.com/avatar/c3e924e7ca7d346f5331748e3738cffe?s=256&d=identicon&r=PG&f=y&so-version=2",
        "display_name" : "Frankie",
        "link" : "https://stackoverflow.com/users/5714314/frankie"
      },
      "creation_date" : 1749476477,
      "content_license" : "CC BY-SA 4.0"
    } ]
  }
}