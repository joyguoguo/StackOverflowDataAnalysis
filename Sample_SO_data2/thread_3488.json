{
  "question" : {
    "question_id" : 79548526,
    "title" : "JPype traces do not appear in Airflow",
    "body" : "<p>I use Apache Airflow 2.10.5 to run a task implemented in Java. This task is implemented by a <code>PythonOperator</code> that calls a Java method by using JPype.\nThe Java method performs <code>System.out.println</code>.\nUnfortunately, these traces do not appear in Airflow logs (nor in the UI), although the traces from Python code do appear.</p>\n<p>What is strange is that the expected trace from <code>System.out.println</code> (i.e. <em>&quot;INFO - Java code JPypeTest.call invoked !!!!!!&quot;</em>) can be seen in the console of the airflow scheduler !</p>\n<p>Does anyone have solved this kind of issue ?</p>\n<p>Here is my DAG :</p>\n<pre><code>from datetime import datetime, timedelta\nfrom airflow.models.dag import DAG\nfrom airflow.operators.python import PythonOperator\nimport jpype\n\n\ndef test_jpype():\n\n    print(&quot;Start JVM&quot;)\n    jpype.startJVM()\n\n    print(&quot;Load JPypeTest Java class&quot;)\n    JPypeTest = jpype.JClass(&quot;JPypeTest&quot;)\n    print(&quot;Instanciate JPypeTest Java class&quot;)\n    jpype_test = JPypeTest()\n    print(&quot;Invoke method 'call' of JPypeTest Java class&quot;)\n    jpype_test.call()\n\n    print(&quot;Shutdown JVM&quot;)\n    jpype.shutdownJVM()\n\n    print(&quot;Done.&quot;)\n\nwith DAG(\n    &quot;test_jpype&quot;,\n    default_args={\n        &quot;depends_on_past&quot;: False,\n        &quot;email&quot;: [&quot;airflow@example.com&quot;],\n        &quot;email_on_failure&quot;: False,\n        &quot;email_on_retry&quot;: False,\n        &quot;retries&quot;: 0,\n    },\n    description=&quot;Run a task that calls Java code with JPype&quot;,\n    schedule=None,\n    catchup=False,\n    tags=[&quot;test_jpype&quot;],\n) as dag:\n\n    task_test_jpype = PythonOperator(\n        task_id=&quot;test_jpype&quot;,\n        python_callable=test_jpype,\n    )\n\n    task_test_jpype\n</code></pre>\n<p>and here is my Java class :</p>\n<pre><code>public class JPypeTest\n{\n    public synchronized void call()\n    {\n        System.out.println(&quot;INFO - Java code JPypeTest.call invoked !!!!!!&quot;);\n        System.out.flush();\n    }\n}\n</code></pre>\n<p>Here are the traces found in the log file and the UI :</p>\n<pre><code>[2025-04-01T13:44:19.734+0200] {logging_mixin.py:190} INFO - Task instance is in running state\n[2025-04-01T13:44:19.735+0200] {logging_mixin.py:190} INFO -  Previous state of the Task instance: queued\n[2025-04-01T13:44:19.735+0200] {logging_mixin.py:190} INFO - Current task name:test_jpype state:running start_date:2025-04-01 11:44:19.604270+00:00\n[2025-04-01T13:44:19.735+0200] {logging_mixin.py:190} INFO - Dag name:test_jpype and current dag run status:running\n[2025-04-01T13:44:19.735+0200] {taskinstance.py:732} INFO - ::endgroup::\n[2025-04-01T13:44:19.735+0200] {logging_mixin.py:190} INFO - Start JVM\n[2025-04-01T13:44:19.983+0200] {logging_mixin.py:190} INFO - Load JPypeTest Java class\n[2025-04-01T13:44:19.983+0200] {logging_mixin.py:190} INFO - Instanciate JPypeTest Java class\n[2025-04-01T13:44:19.984+0200] {logging_mixin.py:190} INFO - Invoke method 'call' of JPypeTest Java class\n[2025-04-01T13:44:19.984+0200] {logging_mixin.py:190} INFO - Shutdown JVM\n[2025-04-01T13:44:19.993+0200] {logging_mixin.py:190} INFO - Done.\n[2025-04-01T13:44:19.993+0200] {python.py:240} INFO - Done. Returned value was: None\n</code></pre>\n<p>Many thanks.</p>\n",
    "tags" : [ "java", "logging", "airflow", "jpype" ],
    "owner" : {
      "account_id" : 12705493,
      "reputation" : 83,
      "user_id" : 9230932,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/40067dfc80c88fb750a3e44814bfdfbc?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "ConanLord",
      "link" : "https://stackoverflow.com/users/9230932/conanlord"
    },
    "is_answered" : false,
    "view_count" : 17,
    "answer_count" : 0,
    "score" : 0,
    "last_activity_date" : 1743508133,
    "creation_date" : 1743507684,
    "link" : "https://stackoverflow.com/questions/79548526/jpype-traces-do-not-appear-in-airflow",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ ],
  "question_comments" : [ ],
  "answer_comments" : { }
}