{
  "question" : {
    "question_id" : 79720389,
    "title" : "Undecorated JFrame freezes when setting background to transparent at runtime in java swing, gnome desktop",
    "body" : "<p>I'm basically trying to build my own custom undecorated <code>JFrame</code> where when I press the title <code>JLabel</code>, I show a custom matte border around the <code>JFrame</code> and make everything else on the <code>JFrame</code> transparent and invisible until the dragging is done.</p>\n<p>Here is the normal screenshot with  the gtk effects still shown without setting background of <code>this</code> to <code>new Color(0,0,0,0)</code> in Main:</p>\n<p><a href=\"https://i.sstatic.net/g4OOERIz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/g4OOERIz.png\" alt=\"custom aero jframe wit gtk shaddow\" /></a></p>\n<p>this is the result when i add it in main:\n<a href=\"https://i.sstatic.net/82HrhF9T.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/82HrhF9T.png\" alt=\"enter image description here\" /></a>\nthe GTK aniamtion and shadow is gone and glitch artifacts apear appon hovering the X and min buttons</p>\n<p>In Title dragging I was expecting this:\n<a href=\"https://i.sstatic.net/TpGGQvwJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/TpGGQvwJ.png\" alt=\"enter image description here\" /></a>\n(with the Main code)</p>\n<p>But got</p>\n<p><a href=\"https://i.sstatic.net/oTk14bMA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/oTk14bMA.png\" alt=\"enter image description here\" /></a>\n(Without that Main code)</p>\n<p>As you can see with the main code the gtk effects break and i get visual artifacts but the dragging border works fine. So I want to be able to retain the gtk shaddow and animation while still be able to get this transparent dragging border without mouse drag stopping or black background</p>\n<p>Can anyone help me?</p>\n<p>here is my minimal reproducable example:</p>\n<pre><code>package javaaeroglassproject;\n\nimport java.awt.*;\nimport javax.swing.*;\nimport javax.swing.border.LineBorder;\n\npublic class mcve extends JFrame {\n\nprivate boolean isDragging = false;\nprivate int pressX = 0, pressY = 0;\n\npublic mcve() {\n    setUndecorated(true);\n    setSize(400, 180);\n    setLocationRelativeTo(null);\n    setLayout(null);\n    setDefaultCloseOperation(EXIT_ON_CLOSE);\n\n    // Frame border (background panel)\n    JLabel frameBorder = new JLabel();\n    frameBorder.setOpaque(false);\n    frameBorder.setBackground(new Color(230, 230, 230));\n    frameBorder.setLayout(null);\n    frameBorder.setLocation(0, 0);\n    frameBorder.setSize(400, 180);\n    add(frameBorder);\n\n    // Title label\n    JLabel title = new JLabel(&quot;Window Title&quot;);\n    title.setFont(new Font(&quot;Segoe UI&quot;, Font.BOLD, 14));\n    title.setForeground(Color.DARK_GRAY);\n    title.setLocation(10, 0);\n    title.setSize(330, 36);\n    frameBorder.add(title);\n    JButton closeButton = new JButton(&quot;X&quot;);\n    closeButton.setForeground(Color.WHITE);\n    closeButton.setBackground(new Color(200, 0, 0));\n    closeButton.setBorder(new LineBorder(Color.DARK_GRAY));\n    closeButton.setFocusable(false);\n    closeButton.setLocation(371, 6);\n    closeButton.setSize(23, 23);\n    frameBorder.add(closeButton);\n\n    closeButton.addActionListener(e -&gt; System.exit(0));\n    closeButton.addMouseListener(new java.awt.event.MouseAdapter() {\n        public void mouseEntered(java.awt.event.MouseEvent e) {\n            closeButton.setBackground(new Color(255, 50, 50));\n        }\n\n        public void mouseExited(java.awt.event.MouseEvent e) {\n            closeButton.setBackground(new Color(200, 0, 0));\n        }\n\n        public void mousePressed(java.awt.event.MouseEvent e) {\n            closeButton.setBackground(new Color(160, 0, 0));\n        }\n    });\n\n    // Minimize button\n    JButton minButton = new JButton(&quot;-&quot;);\n    minButton.setForeground(Color.WHITE);\n    minButton.setBackground(new Color(130, 130, 130));\n    minButton.setBorder(new LineBorder(Color.DARK_GRAY));\n    minButton.setFocusable(false);\n    minButton.setLocation(345, 6);\n    minButton.setSize(23, 23);\n    frameBorder.add(minButton);\n\n    minButton.addActionListener(e -&gt; setState(Frame.ICONIFIED));\n    minButton.addMouseListener(new java.awt.event.MouseAdapter() {\n        public void mouseEntered(java.awt.event.MouseEvent e) {\n            minButton.setBackground(new Color(160, 160, 160));\n        }\n\n        public void mouseExited(java.awt.event.MouseEvent e) {\n            minButton.setBackground(new Color(130, 130, 130));\n        }\n\n        public void mousePressed(java.awt.event.MouseEvent e) {\n            minButton.setBackground(new Color(100, 100, 100));\n        }\n    });\n\n    // Inner content\n    JPanel appInner = new JPanel();\n    appInner.setLayout(null);\n    appInner.setBackground(Color.WHITE);\n    appInner.setBorder(new LineBorder(Color.GRAY));\n    appInner.setLocation(5, 35);\n    appInner.setSize(390, 140);\n    frameBorder.add(appInner);\n\n    JLabel message = new JLabel(&quot;&lt;html&gt;This is a dialog text. The quick brown fox jumps over the lazy dog.&lt;/html&gt;&quot;);\n    message.setLocation(20, 20);\n    message.setSize(350, 80);\n    appInner.add(message);\n    title.addMouseListener(new java.awt.event.MouseAdapter() {\n        public void mousePressed(java.awt.event.MouseEvent e) {\n            isDragging = true;\n            pressX = e.getX();\n            pressY = e.getY();\n            closeButton.setVisible(false);\n            appInner.setVisible(false);\n            minButton.setVisible(false);\n            title.setVisible(false);\n            frameBorder.setBorder(new LineBorder(Color.GRAY, 2));\n            frameBorder.setBackground(new Color(0,0,0,0));\n            frameBorder.setCursor(Cursor.getPredefinedCursor(Cursor.MOVE_CURSOR));\n            setBackground(new Color(0, 0, 0, 0));\n            getRootPane().setBackground(new Color(0,0,0,0));\n            getContentPane().setBackground(new Color(0, 0, 0, 0));\n        }\n\n        public void mouseReleased(java.awt.event.MouseEvent e) {\n            isDragging = false;\n            frameBorder.setCursor(Cursor.getPredefinedCursor(Cursor.DEFAULT_CURSOR));\n            frameBorder.setBorder(new LineBorder(Color.GRAY, 0));\n        }\n    });\n\n    title.addMouseMotionListener(new java.awt.event.MouseMotionAdapter() {\n        public void mouseDragged(java.awt.event.MouseEvent e) {\n            if (isDragging) {\n                setLocation(e.getXOnScreen() - pressX, e.getYOnScreen() - pressY);\n            }\n        }\n    });\n\n    // Close button\n   \n}\n\npublic static void main(String[] args) {\n    SwingUtilities.invokeLater(() -&gt; new mcve().setVisible(true));\n}\n}\n</code></pre>\n",
    "tags" : [ "java", "swing", "gnome" ],
    "owner" : {
      "account_id" : 19422668,
      "reputation" : 49,
      "user_id" : 14204857,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/wSz4U.png?s=256",
      "display_name" : "Just a Developer",
      "link" : "https://stackoverflow.com/users/14204857/just-a-developer"
    },
    "is_answered" : false,
    "view_count" : 183,
    "answer_count" : 1,
    "score" : 2,
    "last_activity_date" : 1754418596,
    "creation_date" : 1753900478,
    "link" : "https://stackoverflow.com/questions/79720389/undecorated-jframe-freezes-when-setting-background-to-transparent-at-runtime-in",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79723705,
    "question_id" : 79720389,
    "body" : "<p>Trying to improve my response, I just encountered some strange (not to say erroneous) behavior from <em>Swing</em>. Let's run the following example:</p>\n<pre><code>public class Gui extends JFrame {\n\n   boolean setBackgroundA = true;\n   Color opaque = new Color( 255, 0, 0, 255 ), transparent = new Color( 255, 0, 0, 50 );\n\n   public Gui() {\n      setUndecorated( true );\n      setDefaultCloseOperation( javax.swing.WindowConstants.EXIT_ON_CLOSE );\n      setBackground( new Color( 255, 0, 0, 50 ) );\n      setBounds( 10, 10, 500, 500 );\n      setVisible( true );\n      addMouseListener( new java.awt.event.MouseAdapter() {\n         @Override\n         public void mouseClicked( java.awt.event.MouseEvent evt ) {\n            if( setBackgroundA ) {\n               setBackground( opaque );\n            }\n            else {\n               setBackground( transparent );\n            }\n            setBackgroundA =  ! setBackgroundA;\n         }\n      } );\n   }\n\n   public static void main( String[] args ) {\n      SwingUtilities.invokeLater( () -&gt; {\n         new Gui();\n      } );\n   }\n}\n</code></pre>\n<p>When it starts, it shows us the transparent frame. When we click on it, it becomes completely opaque, and if we click again, something strange happens: it is painted in the default color and without transparency (then it will continue to alternate between those two states). However, if we change the value from <strong>opaque</strong> to <strong>new Color( 255, 0, 0, 254 )</strong>, the transition between opaque and transparent works correctly... so a solution to part of your problem could be to use an almost completely opaque setting.</p>\n<p>Let's start with a small implementation that reproduces the behavior you need (at least part of it).</p>\n<pre><code>public class ShadowWindow {\n\n   JFrame frame;\n   Decorate decorator;\n   BasicPanel panel;\n\n     // We use these variables to control when the &quot;JFrame&quot; can be moved.\n   boolean focused = true;\n   private MouseEvent myEvent;\n\n     // used to store the position of the frame\n   private Point location;\n\n   public ShadowWindow() {\n      EventQueue.invokeLater( new Runnable() {\n         @Override\n         public void run() {\n            try {\n               UIManager.setLookAndFeel( UIManager.getSystemLookAndFeelClassName() );\n            }\n            catch( ClassNotFoundException\n                    | InstantiationException\n                    | IllegalAccessException\n                    | UnsupportedLookAndFeelException ex ) {\n            }\n            frame = new JFrame();\n            frame.setLayout( null );\n            frame.setUndecorated( true );\n            frame.setLocationRelativeTo( null );\n            frame.setBounds( 100, 100, 500, 300 );\n            frame.setBackground( new Color( 0, 0, 0, 0 ) );\n            frame.setDefaultCloseOperation( JFrame.EXIT_ON_CLOSE );\n\n            Rectangle aux = frame.getBounds();\n\n            decorator = new Decorate();\n            decorator.setBounds( 0, 0, aux.width, aux.height );\n\n              // &quot;set&quot; sets the layout of the panel and creates \n              // the two images we will use\n            decorator.set( null, new Color( 100, 100, 255 ) );\n\n              // We instantiate the labels that will display \n              // the window icon and controls.\n            decorator.setJLabels();\n\n              // It is essential to set the panel this way to \n              // prevent transparency from accumulating.\n            decorator.setOpaque( false );\n\n            panel = new BasicPanel();\n            panel.setFocusable( true );\n            panel.setBounds( 4, 25, aux.width - 8, aux.height - 29 );\n            panel.set( new GridBagLayout(), new Color( 180, 180, 180 ) );\n            panel.setOpaque( false );\n\n            panel.add( new JLabel( &quot;Look ma, no hands&quot; ) );\n            decorator.add( panel );\n            frame.add( decorator );\n            frame.setVisible( true );\n            addMouse( panel );\n            addMouse( decorator );\n         }\n      } );\n   }\n\n   void addMouse( Decorate decorator) {\n      decorator.addMouseListener( new MouseAdapter() {\n         @Override\n         public void mousePressed( MouseEvent evt ) {\n            skipRepetitiveCode( false, evt );\n         }\n\n         @Override\n         public void mouseReleased( MouseEvent evt ) {\n            skipRepetitiveCode( true, evt );\n         }\n      } );\n\n      decorator.addMouseMotionListener( new MouseAdapter() {\n         @Override\n         public void mouseDragged( MouseEvent evt ) {\n            if( focused ) {\n               location = frame.getLocation( location );\n               int x = location.x - myEvent.getX() + evt.getX();\n               int y = location.y - myEvent.getY() + evt.getY();\n               frame.setLocation( x, y );\n            }\n         }\n      } );\n   }\n\n   void skipRepetitiveCode( boolean bool, MouseEvent evt ) {\n\n        // We set the variable “isOpaque” so that the method “paintComponent()” \n        // uses it to choose which image to paint.\n      panel.isOpaque = bool;\n      decorator.isOpaque = bool;\n\n        // we force the repainting\n      panel.repaint();\n      decorator.repaint();\n\n        // we set the captured event\n      myEvent = evt;\n   }\n\n   void addMouse( BasicPanel panel ) {\n      panel.addMouseListener( new MouseAdapter() {\n\n           // The value assigned to “focused” will prevent dragging when \n           // the mouse is over the internal panel; dragging will only \n           // occur when the mouse is over the external panel.\n         @Override\n         public void mouseEntered( MouseEvent e ) {\n            focused = false;\n         }\n\n         @Override\n         public void mouseExited( MouseEvent e ) {\n            focused = true;\n         }\n      } );\n   }\n\n   public static void main( String[] args ) {\n      new ShadowWindow();\n   }\n}\n\npublic class BasicPanel extends JPanel {\n\n   boolean isOpaque = true;\n   BufferedImage imageOpaque, imageTranslucid;\n\n   public void set( LayoutManager2 lay, Color color ) {\n      setLayout( lay );\n\n        // we create the most opaque image\n      imageOpaque = new BufferedImage( getWidth(), getHeight(), 2 );\n      Graphics2D g2d = ( Graphics2D ) imageOpaque.getGraphics();\n\n       // set the transparency\n      AlphaComposite ac = AlphaComposite.getInstance( AlphaComposite.SRC_OVER, .9f );\n      g2d.setComposite( ac );\n\n      g2d.setColor( color );\n      g2d.fillRect( 0, 0, getWidth(), getHeight() );\n\n      imageTranslucid = new BufferedImage( getWidth(), getHeight(), 2 );\n      g2d = ( Graphics2D ) imageTranslucid.getGraphics();\n      ac = AlphaComposite.getInstance( AlphaComposite.SRC_OVER, .2f );\n      g2d.setComposite( ac );\n      g2d.setColor( new Color( 180, 180, 180 ) );\n      g2d.fillRect( 0, 0, getWidth(), getHeight() );\n   }\n\n   @Override\n   public void paintComponent( Graphics g ) {\n      super.paintComponent( g );\n      Graphics2D g2d = ( Graphics2D ) g;\n\n        // we choose which image to draw\n      if( isOpaque ) {\n         g2d.drawImage( imageOpaque, 0, 0, null );\n      }\n      else {\n         g2d.drawImage( imageTranslucid, 0, 0, null );\n      }\n   }\n}\n\npublic class Decorate extends BasicPanel {\n\n   String letters[] = { &quot; X&quot;, &quot; 0&quot;, &quot;  -&quot;, &quot; W&quot; };\n   JLabel close, maximize, minimize, icon;   \n   Color colors[] = {\n      new Color( 100, 100, 50, 100 ),\n      new Color( 100, 100, 50, 100 ),\n      new Color( 100, 100, 50, 100 ),\n      new Color( 0, 100, 50, 100 )\n   };\n   int bounds[][] = {\n      { 480, 5, 18, 18 },\n      { 460, 5, 18, 18 },\n      { 440, 5, 18, 18 },\n      { 5, 5, 18, 18 }\n   };  \n\n   public void setJLabels() {\n      setLabels( close, maximize, minimize, icon );\n   }  \n\n   void setLabels( JLabel... comps ) {\n      int i = 0;\n      for( JLabel com: comps ) {\n         com = new JLabel( letters[ i ] );\n         com.setOpaque( true );\n         com.setBounds( bounds[ i ][ 0 ], bounds[ i ][ 1 ],\n                 bounds[ i ][ 2 ], bounds[ i ][ 3 ] );\n         com.setBackground( colors[ i ] );\n         add( com );\n         i ++;\n      }\n   }\n}\n</code></pre>\n<p>As I said in the comments, Java does not generate shadows for JFrame; this operation is performed by the OS window manager. In general (or in my limited experience), they are set not to show shadows when the frame has no decoration, meaning that the only way to show them is to modify the configuration (if this option is available).</p>\n<p>Note A: I think it goes without saying that the monstrosity I implemented with the icon and controls needs to be replaced with what you have implemented.</p>\n<p>Note B: You have made a substantial change to the code in your question. I based my answer on the previous code, and I am not going to adapt it to the new code because I believe you are skilled enough to do so yourself.</p>\n<p>Final edition:<br />\nYour code has many problems. Let's go through it step by step:</p>\n<pre><code>public class mcve extends JFrame {\n\n   private boolean isDragging = false;\n   private int pressX = 0, pressY = 0;\n\n   public mcve() {\n      setDefaultCloseOperation( EXIT_ON_CLOSE );\n      setLocationRelativeTo( null );\n      setSize( 400, 180 );\n      setLayout( null );\n      setUndecorated( true );\n\n        // To avoid the problems you mention, you should start by \n        // setting the frame as transparent.\n      setBackground( new Color( 0, 0, 0, 0 ) );\n\n      // Frame border (background panel)\n      JLabel frameBorder = new JLabel();\n\n        // Since the frame is transparent, we need the *JLabel* to be opaque.\n      frameBorder.setOpaque( true );\n      frameBorder.setBackground( new Color( 230, 230, 230 ) );\n      frameBorder.setLayout( null );\n\n        // You may want to replace &quot;setLocation()&quot; and &quot;setSize()&quot; \n        // with &quot;setBounds( 0, 0, 400, 180 );&quot; \n      frameBorder.setLocation( 0, 0 );\n      frameBorder.setSize( 400, 180 );\n      add( frameBorder );\n\n      // Title label\n      JLabel title = new JLabel( &quot;Window Title&quot; );\n      title.setFont( new Font( &quot;Segoe UI&quot;, Font.BOLD, 14 ) );\n      title.setForeground( Color.DARK_GRAY );\n      title.setLocation( 10, 0 );\n      title.setSize( 330, 36 );\n      frameBorder.add( title );\n\n      JButton closeButton = new JButton( &quot;X&quot; );\n      closeButton.setForeground( Color.WHITE );\n      closeButton.setBackground( new Color( 200, 0, 0 ) );\n      closeButton.setBorder( new LineBorder( Color.DARK_GRAY ) );\n      closeButton.setFocusable( false );\n      closeButton.setLocation( 371, 6 );\n      closeButton.setSize( 23, 23 );\n      frameBorder.add( closeButton );\n\n        // I have removed the button listeners as they are not \n        // part of the problem.\n\n      // Minimize button\n      JButton minButton = new JButton( &quot;-&quot; );\n      minButton.setForeground( Color.WHITE );\n      minButton.setBackground( new Color( 130, 130, 130 ) );\n      minButton.setBorder( new LineBorder( Color.DARK_GRAY ) );\n      minButton.setFocusable( false );\n      minButton.setLocation( 345, 6 );\n      minButton.setSize( 23, 23 );\n      frameBorder.add( minButton );\n\n      // Inner content\n      JLabel textContainer = new JLabel();\n      textContainer.setLayout( null );\n      textContainer.setBorder( new LineBorder( Color.GRAY ) );\n      textContainer.setLocation( 5, 35 );\n      textContainer.setSize( 390, 140 );\n      frameBorder.add( textContainer );\n\n      JLabel message = new JLabel( &quot;&lt;html&gt;This is a dialog text. The quick brown fox jumps over the lazy dog.&lt;/html&gt;&quot; );\n      message.setLocation( 20, 20 );\n      message.setSize( 350, 80 );\n      textContainer.add( message );\n\n      title.addMouseListener( new java.awt.event.MouseAdapter() {\n         public void mousePressed( java.awt.event.MouseEvent e ) {\n            isDragging = true;\n            pressX = e.getX();\n            pressY = e.getY();\n            textContainer.setVisible( false );\n\n              // we make the buttons invisible\n            minButton.setVisible( false );\n            closeButton.setVisible( false );\n\n              // You have added a listener to this component. When you set it \n              // with &quot;setVisible( false )&quot;, the listener stops working, so we\n              // replace it with the next line\n            // title.setVisible( false );\n            title.setForeground( new Color( 0, 0, 0, 0 ) );\n            \n            frameBorder.setBorder( new LineBorder( Color.black, 2 ) );\n            frameBorder.setCursor( Cursor.getPredefinedCursor( Cursor.MOVE_CURSOR ) );\n            title.setForeground( new Color( 0, 0, 0, 0 ) );\n            frameBorder.setBackground( new Color( 0, 0, 0, 0 ) );\n            setBackground( new Color( 0, 0, 0, 0 ) );\n\n              // delete the nexts lines for being redundant \n            // getRootPane().setBackground(new Color(0,0,0,0));\n            // getContentPane().setBackground(new Color(0, 0, 0, 0));\n         }\n\n         public void mouseReleased( java.awt.event.MouseEvent e ) {\n            isDragging = false;\n            frameBorder.setCursor( Cursor.getPredefinedCursor( Cursor.DEFAULT_CURSOR ) );\n            frameBorder.setBorder( new LineBorder( Color.GRAY, 0 ) );\n\n              // We restore the original color (with its “alpha”).\n            title.setForeground( Color.darkGray );\n            textContainer.setVisible( true );\n\n              // we make the buttons visible\n            minButton.setVisible( true );\n            closeButton.setVisible( true );\n\n              // we make the &quot;frameBorder&quot; and &quot;frame&quot; opaque\n            frameBorder.setBackground( new Color( 230, 230, 230 ) );\n            setBackground( new Color( 0, 0, 0, 255 ) );\n         }\n      } );\n\n      title.addMouseMotionListener( new java.awt.event.MouseMotionAdapter() {\n         public void mouseDragged( java.awt.event.MouseEvent e ) {\n            if( isDragging ) {\n               setLocation( e.getXOnScreen() - pressX, e.getYOnScreen() - pressY );\n            }\n         }\n      } );\n   }\n\n   public static void main( String[] args ) {\n      SwingUtilities.invokeLater( () -&gt; new mcve().setVisible( true ) );\n   }\n}\n</code></pre>\n<p>Beyond having made it work, I still think that the previous example is the way to go.</p>\n",
    "score" : 0,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 10843443,
      "reputation" : 924,
      "user_id" : 20882864,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/CCQCy.jpg?s=256",
      "display_name" : "Marce Puente",
      "link" : "https://stackoverflow.com/users/20882864/marce-puente"
    },
    "creation_date" : 1754176264,
    "last_activity_date" : 1754418596,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140639336,
    "post_id" : 79720389,
    "body" : "@camickr Well for me on gnome, linux that uses gtk When I try to drag it it happens what is shown in the screenshot. All I see is the jframe reopening as a border only but with a black background and it looses drag focus. Btw its not frozen because if you take the mose move event of the frameborder and add the same code, it moves...but no transparency at all just black and its not possible to revert my jframe back...the gtk shaddow is lost till the next run",
    "score" : 0,
    "owner" : {
      "account_id" : 19422668,
      "reputation" : 49,
      "user_id" : 14204857,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/wSz4U.png?s=256",
      "display_name" : "Just a Developer",
      "link" : "https://stackoverflow.com/users/14204857/just-a-developer"
    },
    "creation_date" : 1754250482,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140639287,
    "post_id" : 79720389,
    "body" : "Code seems to work OK on Windows. All I see is the border and the entire frame is draggable. Still wonder if somehow you can use the setOpacity(...) of the frame. Also, you should note this is still not really an MRE. You question is about clicking on the title bar and dragging. Therefore all the code related to the buttons on the title bar is not needed to demonstrate your problem. The smaller the code you provide, the more likely someone is to look at it and test it.",
    "score" : 0,
    "owner" : {
      "account_id" : 44852,
      "reputation" : 324711,
      "user_id" : 131872,
      "user_type" : "registered",
      "accept_rate" : 100,
      "profile_image" : "https://www.gravatar.com/avatar/a0ced8e21d2a761db718acb6362b9225?s=256&d=identicon&r=PG",
      "display_name" : "camickr",
      "link" : "https://stackoverflow.com/users/131872/camickr"
    },
    "creation_date" : 1754247958,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140639189,
    "post_id" : 79720389,
    "body" : "Ok @camickr I created my minimal reproducable example, it should compile now",
    "score" : 0,
    "owner" : {
      "account_id" : 19422668,
      "reputation" : 49,
      "user_id" : 14204857,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/wSz4U.png?s=256",
      "display_name" : "Just a Developer",
      "link" : "https://stackoverflow.com/users/14204857/just-a-developer"
    },
    "creation_date" : 1754242912,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140637996,
    "post_id" : 79720389,
    "body" : "<i>Im new to stack overflow</i> - which is why I gave you the link to the <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> in the first comment.  <i>can I get help now?</i> - the posted code does NOT compile. So we can&#39;t copy/paste/compile/test to see the described behaviour. Note, I don&#39;t use gnome so I can&#39;t verify the problem, but at least I can test on Windows to see if the code is reasonable. Also, in my first comment I suggested the proper way to use opacity is to NOT use setBackground(). Did you try the examples from the tutorial?",
    "score" : 1,
    "owner" : {
      "account_id" : 44852,
      "reputation" : 324711,
      "user_id" : 131872,
      "user_type" : "registered",
      "accept_rate" : 100,
      "profile_image" : "https://www.gravatar.com/avatar/a0ced8e21d2a761db718acb6362b9225?s=256&d=identicon&r=PG",
      "display_name" : "camickr",
      "link" : "https://stackoverflow.com/users/131872/camickr"
    },
    "creation_date" : 1754172953,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140637829,
    "post_id" : 79720389,
    "body" : "@Abra Ok I removed the icons, can I get help now?",
    "score" : 0,
    "owner" : {
      "account_id" : 19422668,
      "reputation" : 49,
      "user_id" : 14204857,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/wSz4U.png?s=256",
      "display_name" : "Just a Developer",
      "link" : "https://stackoverflow.com/users/14204857/just-a-developer"
    },
    "creation_date" : 1754163079,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140636521,
    "post_id" : 79720389,
    "body" : "@Antoniossss I dont execute any threads or heavy timers that could affect it",
    "score" : 0,
    "owner" : {
      "account_id" : 19422668,
      "reputation" : 49,
      "user_id" : 14204857,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/wSz4U.png?s=256",
      "display_name" : "Just a Developer",
      "link" : "https://stackoverflow.com/users/14204857/just-a-developer"
    },
    "creation_date" : 1754081483,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140634919,
    "post_id" : 79720389,
    "body" : "Hello Just a Developer, for the problem of shadows on a frameless <i>JFrame</i>, the only option is to configure the <i>OS</i> window manager (if it has this option) to display them in frameless windows.",
    "score" : 0,
    "owner" : {
      "account_id" : 10843443,
      "reputation" : 924,
      "user_id" : 20882864,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/CCQCy.jpg?s=256",
      "display_name" : "Marce Puente",
      "link" : "https://stackoverflow.com/users/20882864/marce-puente"
    },
    "creation_date" : 1754038526,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140634014,
    "post_id" : 79720389,
    "body" : "Thank you all I will check my code again and come back later",
    "score" : 0,
    "owner" : {
      "account_id" : 19422668,
      "reputation" : 49,
      "user_id" : 14204857,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/wSz4U.png?s=256",
      "display_name" : "Just a Developer",
      "link" : "https://stackoverflow.com/users/14204857/just-a-developer"
    },
    "creation_date" : 1753996185,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140634000,
    "post_id" : 79720389,
    "body" : "To me it looks like you are doing something baaad on the EDT causig it to not to redraw the frame",
    "score" : 1,
    "owner" : {
      "account_id" : 1658807,
      "reputation" : 32708,
      "user_id" : 1527544,
      "user_type" : "registered",
      "accept_rate" : 54,
      "profile_image" : "https://www.gravatar.com/avatar/6665878d41d42307eb53e9fae311a471?s=256&d=identicon&r=PG",
      "display_name" : "Antoniossss",
      "link" : "https://stackoverflow.com/users/1527544/antoniossss"
    },
    "creation_date" : 1753995811,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140633881,
    "post_id" : 79720389,
    "body" : "@JustaDeveloper See <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>.",
    "score" : 1,
    "owner" : {
      "account_id" : 108033,
      "reputation" : 20089,
      "user_id" : 286934,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/f16a184d26b72795ff243464d715cffe?s=256&d=identicon&r=PG",
      "display_name" : "Progman",
      "link" : "https://stackoverflow.com/users/286934/progman"
    },
    "creation_date" : 1753992711,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140633838,
    "post_id" : 79720389,
    "body" : "@Progman what is a MCVE? What exaclty do you need, the full code? Please be more presise. I already editted my question posted screenshots, what else do i need to clarify to get help? Im new to stack overflow btw",
    "score" : 0,
    "owner" : {
      "account_id" : 19422668,
      "reputation" : 49,
      "user_id" : 14204857,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/wSz4U.png?s=256",
      "display_name" : "Just a Developer",
      "link" : "https://stackoverflow.com/users/14204857/just-a-developer"
    },
    "creation_date" : 1753991620,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140633804,
    "post_id" : 79720389,
    "body" : "@JustaDeveloper Please <a href=\"https://stackoverflow.com/posts/79720389/edit\">edit</a> your question to include a MCVE.",
    "score" : 1,
    "owner" : {
      "account_id" : 108033,
      "reputation" : 20089,
      "user_id" : 286934,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/f16a184d26b72795ff243464d715cffe?s=256&d=identicon&r=PG",
      "display_name" : "Progman",
      "link" : "https://stackoverflow.com/users/286934/progman"
    },
    "creation_date" : 1753990979,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140633746,
    "post_id" : 79720389,
    "body" : "so what should I do then?",
    "score" : 0,
    "owner" : {
      "account_id" : 19422668,
      "reputation" : 49,
      "user_id" : 14204857,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/wSz4U.png?s=256",
      "display_name" : "Just a Developer",
      "link" : "https://stackoverflow.com/users/14204857/just-a-developer"
    },
    "creation_date" : 1753989345,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140633702,
    "post_id" : 79720389,
    "body" : "What you are seeing when dragging is common behavior when the swing thread is not available (ie locked or in use in a method)",
    "score" : 1,
    "owner" : {
      "account_id" : 1352170,
      "reputation" : 35259,
      "user_id" : 1291492,
      "user_type" : "registered",
      "accept_rate" : 100,
      "profile_image" : "https://www.gravatar.com/avatar/f914cd02166793195d9d950503f8f739?s=256&d=identicon&r=PG",
      "display_name" : "ControlAltDel",
      "link" : "https://stackoverflow.com/users/1291492/controlaltdel"
    },
    "creation_date" : 1753988189,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140632293,
    "post_id" : 79720389,
    "body" : "You will find more people inclined to help if you get your <a href=\"https://technojeeves.com/index.php/aliasjava1/106-java-style-conventions\" rel=\"nofollow noreferrer\">naming</a> right, as your code is hard to read",
    "score" : 0,
    "owner" : {
      "account_id" : 22124137,
      "reputation" : 4244,
      "user_id" : 16376827,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/1ImPw.png?s=256",
      "display_name" : "g00se",
      "link" : "https://stackoverflow.com/users/16376827/g00se"
    },
    "creation_date" : 1753955642,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140631238,
    "post_id" : 79720389,
    "body" : "1) Post an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> demonstrating the problem.  2) Read the Swing tutorial on <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/trans_shaped_windows.html\" rel=\"nofollow noreferrer\">How to Create Translucent Windows</a> to see if that approach works.",
    "score" : 6,
    "owner" : {
      "account_id" : 44852,
      "reputation" : 324711,
      "user_id" : 131872,
      "user_type" : "registered",
      "accept_rate" : 100,
      "profile_image" : "https://www.gravatar.com/avatar/a0ced8e21d2a761db718acb6362b9225?s=256&d=identicon&r=PG",
      "display_name" : "camickr",
      "link" : "https://stackoverflow.com/users/131872/camickr"
    },
    "creation_date" : 1753912239,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}