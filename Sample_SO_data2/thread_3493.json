{
  "question" : {
    "question_id" : 79548047,
    "title" : "Methods not available for compile-time Java version",
    "body" : "<p>On my computer, I have Java 11. I have a Java project that uses Maven. I have two GIT branches, to generate a jar in version 11 and another in version 1.8.</p>\n<p>On my branch, which is planned for 1.8, in the <code>maven-compiler-plugin</code> plugin, I have correctly specified the source and target as 1.8. Unfortunately, after cherry-picking my Java 11 branch from the Java 1.8 branch, I'm using a method that is only available for Java 11 (I use <code>java.lang.String#stripTrailing</code>, available since Java 11+). The compilation doesn't give me a <code>NoSuchMethodError</code>. Furthermore, when tests are run via the default Maven tasks, I don't get any errors, even though that should be the case. How can I make the error reappear without having to install two Java versions and change the Java runtime when I switch branches?</p>\n<pre><code>c:\\temp&gt;mvn -v\nApache Maven 3.9.8 (36645f6c9b5079805ea5009217e36f2cffd34256)\nMaven home: C:\\Java\\apache-maven-3.9.8\nJava version: 11.0.16, vendor: Oracle Corporation, runtime: c:\\Java\\jdk-11.0.16\n</code></pre>\n",
    "tags" : [ "java", "maven", "compilation", "maven-compiler-plugin" ],
    "owner" : {
      "account_id" : 18108025,
      "reputation" : 3645,
      "user_id" : 13165246,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/52193d8dfb53c93a85eee36a1f4acdc6?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Answerrer",
      "link" : "https://stackoverflow.com/users/13165246/answerrer"
    },
    "is_answered" : true,
    "view_count" : 90,
    "answer_count" : 1,
    "score" : 0,
    "last_activity_date" : 1743496506,
    "creation_date" : 1743495093,
    "link" : "https://stackoverflow.com/questions/79548047/methods-not-available-for-compile-time-java-version",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79548097,
    "question_id" : 79548047,
    "body" : "<p>You need to set</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;properties&gt;\n    &lt;maven.compiler.release&gt;8&lt;/maven.compiler.release&gt;\n&lt;/properties&gt;\n</code></pre>\n<p>as well so that you only compile to the Java 8 API.</p>\n",
    "score" : 3,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 888714,
      "reputation" : 36717,
      "user_id" : 927493,
      "user_type" : "registered",
      "accept_rate" : 61,
      "profile_image" : "https://i.sstatic.net/sxsnm.png?s=256",
      "display_name" : "JF Meier",
      "link" : "https://stackoverflow.com/users/927493/jf-meier"
    },
    "creation_date" : 1743496445,
    "last_activity_date" : 1743496506,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140285944,
    "post_id" : 79548047,
    "body" : "Something with a <b>settings.xml</b> you mean, <a href=\"https://stackoverflow.com/a/20787334/984823\">stackoverflow.com/a/20787334/984823</a>",
    "score" : 1,
    "owner" : {
      "account_id" : 960307,
      "reputation" : 110397,
      "user_id" : 984823,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/Z2KYN.jpg?s=256",
      "display_name" : "Joop Eggen",
      "link" : "https://stackoverflow.com/users/984823/joop-eggen"
    },
    "creation_date" : 1743497123,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140285911,
    "post_id" : 79548047,
    "body" : "This solution requires all contributors to have this specific configuration. Therefore, the configuration is not linked to the project and must be replicated on developer workstations and in CI pipelines. Is it not possible to have a working configuration in the GIT project ?",
    "score" : 0,
    "owner" : {
      "account_id" : 18108025,
      "reputation" : 3645,
      "user_id" : 13165246,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/52193d8dfb53c93a85eee36a1f4acdc6?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Answerrer",
      "link" : "https://stackoverflow.com/users/13165246/answerrer"
    },
    "creation_date" : 1743496556,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140285865,
    "post_id" : 79548047,
    "body" : "<a href=\"https://stackoverflow.com/a/19324816/984823\">stackoverflow.com/a/19324816/984823</a> So indeed the real java 8 is used. And make a unit test that maven runs with java 8.",
    "score" : 0,
    "owner" : {
      "account_id" : 960307,
      "reputation" : 110397,
      "user_id" : 984823,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/Z2KYN.jpg?s=256",
      "display_name" : "Joop Eggen",
      "link" : "https://stackoverflow.com/users/984823/joop-eggen"
    },
    "creation_date" : 1743495970,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : {
    "79548097" : [ {
      "comment_id" : 140289420,
      "post_id" : 79548097,
      "body" : "I agree, but this solution does not change the java that is used when executing maven tasks. For example, if my java used is 11, if I have tests that are launched and that call methods that are not compatible for the compilation version (1.8), I do not have an error. Same for the compilation while in the logic I should have had a noSuchMethodError. At least, when I tested, it did not work ...",
      "score" : 0,
      "owner" : {
        "account_id" : 18108025,
        "reputation" : 3645,
        "user_id" : 13165246,
        "user_type" : "registered",
        "profile_image" : "https://www.gravatar.com/avatar/52193d8dfb53c93a85eee36a1f4acdc6?s=256&d=identicon&r=PG&f=y&so-version=2",
        "display_name" : "Answerrer",
        "link" : "https://stackoverflow.com/users/13165246/answerrer"
      },
      "creation_date" : 1743582816,
      "content_license" : "CC BY-SA 4.0"
    }, {
      "comment_id" : 140287258,
      "post_id" : 79548097,
      "body" : "This is the correct answer. The reasoning behind it is described at <a href=\"https://www.baeldung.com/java-compiler-release-option\" rel=\"nofollow noreferrer\">baeldung.com/java-compiler-release-option</a>. Simply put, it doesn&#39;t just set the source and the target versions but also the boot class path, and that will prevent using newer APIs.",
      "score" : 0,
      "owner" : {
        "account_id" : 1211967,
        "reputation" : 9964,
        "user_id" : 1180351,
        "user_type" : "registered",
        "profile_image" : "https://i.sstatic.net/pKB8y.png?s=256",
        "display_name" : "Rob Spoor",
        "link" : "https://stackoverflow.com/users/1180351/rob-spoor"
      },
      "creation_date" : 1743531858,
      "content_license" : "CC BY-SA 4.0"
    } ]
  }
}