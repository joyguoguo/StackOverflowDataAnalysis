{
  "question" : {
    "question_id" : 79627375,
    "title" : "How to enable hot reload for a Spring Boot container from within a DevContainer?",
    "body" : "<p>I'm editing the source code of a Spring Boot container (created using Docker Compose) from within a DevContainer that provides a Java development environment.</p>\n<p>After editing the source code, I manually run &quot;Run Java&quot;, which recompiles the Java code, and I can see the changes reflected on localhost:8080.</p>\n<p>Is there a way to automate this process so that Java is recompiled and the app is reloaded automatically whenever I make changes to the source code?</p>\n<p>Note: Due to project constraints, I'm required to develop entirely within this environment, so I cannot use external tools like Eclipse or IntelliJ. Any solution must work within the DevContainer setup.</p>\n<p>Below are basic files, the app can be a standard spring boot starter.</p>\n<pre class=\"lang-yaml prettyprint-override\"><code># .devcontainer/compose.yaml\nservices:\n  spring:\n    image: eclipse-temurin:21\n    working_dir: /workspace\n    volumes:\n      - ../app:/workspace\n    container_name: spring\n    command: ./gradlew bootrun --continuous\n    ports:\n      - &quot;8080:8080&quot;\n    depends_on:\n      - mysql\n    networks:\n      - backend\n  mysql:\n    image: mysql:8.0\n    container_name: mysql\n    environment:\n      MYSQL_ROOT_PASSWORD: rootpass\n      MYSQL_DATABASE: mydb\n      MYSQL_USER: user\n      MYSQL_PASSWORD: pass\n    volumes:\n      - ../mysql:/var/lib/mysql\n    ports:\n      - &quot;3306:3306&quot;\n    networks:\n      - backend\nnetworks:\n  backend:\n    driver: bridge\n</code></pre>\n<pre class=\"lang-json prettyprint-override\"><code>// .devcontainer/devcontainer.json\n{     \n  &quot;name&quot;: &quot;DevContainer&quot;,     \n  &quot;dockerComposeFile&quot;: &quot;./compose.yaml&quot;,\n  &quot;service&quot;: &quot;spring&quot;,\n  &quot;workspaceFolder&quot;: &quot;/workspace&quot;,\n  &quot;shutdownAction&quot;: &quot;stopCompose&quot;, \n  &quot;customizations&quot;: {         \n    &quot;vscode&quot;: {             \n      &quot;extensions&quot;: [ \n        &quot;vscjava.vscode-java-pack&quot;,\n        &quot;vscjava.vscode-gradle&quot;,\n        &quot;vscjava.vscode-spring-boot-dashboard&quot;\n       ]         \n     }     \n   },     \n  &quot;remoteUser&quot;: &quot;root&quot; \n} \n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code># app/src/main/resources/application.properties\nspring.application.name=dev \nspring.devtools.restart.enabled=true\n</code></pre>\n",
    "tags" : [ "java", "spring-boot", "visual-studio-code", "docker-compose", "vscode-devcontainer" ],
    "owner" : {
      "account_id" : 42047994,
      "reputation" : 21,
      "user_id" : 30569523,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/3f4bafd05de941e9c40d5008b6fb4ce7?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "user77602",
      "link" : "https://stackoverflow.com/users/30569523/user77602"
    },
    "is_answered" : true,
    "view_count" : 299,
    "answer_count" : 2,
    "score" : 2,
    "last_activity_date" : 1747744611,
    "creation_date" : 1747564922,
    "link" : "https://stackoverflow.com/questions/79627375/how-to-enable-hot-reload-for-a-spring-boot-container-from-within-a-devcontainer",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79627522,
    "question_id" : 79627375,
    "body" : "<p>In your <code>build.gradle</code> file:</p>\n<ul>\n<li>to <code>dependencies</code> add <code>developmentOnly 'org.springframework.boot:spring-boot-devtools'</code></li>\n<li>Configure <code>bootRun</code> to use the development profile:\n<pre><code>bootRun {\n    args(&quot;--spring.profiles.active=development&quot;)\n}\n</code></pre>\n</li>\n</ul>\n<p>Inside your VS Code devcontainer window:</p>\n<ul>\n<li>in the &quot;Terminal&quot; run <code>./gradlew -t bootJar</code></li>\n</ul>\n<p>Now, whenever you edit code and save a file, the <code>bootJar</code> task will recompile, and the other running <code>bootRun</code> task will hot swap the recompiled Jar. You no longer need to click &quot;Run Java&quot; at all.</p>\n<p>You could probably add the <code>bootJar</code> task to a <code>start.sh</code> script and call that single script in your <code>compose.yaml</code> to avoid having to run this command in the terminal once, but I guess running one task is not so bad.</p>\n<p>This answer was inspired by: <a href=\"https://stackoverflow.com/a/76138565/7483211\">https://stackoverflow.com/a/76138565/7483211</a></p>\n",
    "score" : 2,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 10129017,
      "reputation" : 10448,
      "user_id" : 7483211,
      "user_type" : "registered",
      "profile_image" : "https://lh5.googleusercontent.com/-cKWRGsZijfQ/AAAAAAAAAAI/AAAAAAAAEKw/CCxhG0ejwDM/s256-rj/photo.jpg",
      "display_name" : "Cornelius Roemer",
      "link" : "https://stackoverflow.com/users/7483211/cornelius-roemer"
    },
    "creation_date" : 1747577544,
    "last_activity_date" : 1747577544,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "answer_id" : 79628941,
    "question_id" : 79627375,
    "body" : "<p>When I bound my local source files to the container but excluded the build files, hot reload started working correctly.</p>\n",
    "score" : 0,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 42047994,
      "reputation" : 21,
      "user_id" : 30569523,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/3f4bafd05de941e9c40d5008b6fb4ce7?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "user77602",
      "link" : "https://stackoverflow.com/users/30569523/user77602"
    },
    "creation_date" : 1747664850,
    "last_activity_date" : 1747744611,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140436919,
    "post_id" : 79627375,
    "body" : "The lint went away once I had properly configured my <code>build.gradle</code> to use <code>spring-boot-devtools</code>",
    "score" : 0,
    "owner" : {
      "account_id" : 10129017,
      "reputation" : 10448,
      "user_id" : 7483211,
      "user_type" : "registered",
      "profile_image" : "https://lh5.googleusercontent.com/-cKWRGsZijfQ/AAAAAAAAAAI/AAAAAAAAEKw/CCxhG0ejwDM/s256-rj/photo.jpg",
      "display_name" : "Cornelius Roemer",
      "link" : "https://stackoverflow.com/users/7483211/cornelius-roemer"
    },
    "creation_date" : 1747577628,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140436860,
    "post_id" : 79627375,
    "body" : "Thank you for helping to solve the issue. I encountered the same lint warning, but according to the following site, it seems that you can disable the restart using this property. <a href=\"https://docs.spring.io/spring-boot/reference/using/devtools.html#using.devtools.restart.disable\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/reference/using/&hellip;</a> Also, I believe this property is set to true by default.",
    "score" : 0,
    "owner" : {
      "account_id" : 42047994,
      "reputation" : 21,
      "user_id" : 30569523,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/3f4bafd05de941e9c40d5008b6fb4ce7?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "user77602",
      "link" : "https://stackoverflow.com/users/30569523/user77602"
    },
    "creation_date" : 1747575326,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140436832,
    "post_id" : 79627375,
    "body" : "Trying to reproduce your setup, I&#39;m getting a lint from VS Code: &quot;&#39;spring.devtools.restart.enabled&#39; is an unknown property.&quot;",
    "score" : 0,
    "owner" : {
      "account_id" : 10129017,
      "reputation" : 10448,
      "user_id" : 7483211,
      "user_type" : "registered",
      "profile_image" : "https://lh5.googleusercontent.com/-cKWRGsZijfQ/AAAAAAAAAAI/AAAAAAAAEKw/CCxhG0ejwDM/s256-rj/photo.jpg",
      "display_name" : "Cornelius Roemer",
      "link" : "https://stackoverflow.com/users/7483211/cornelius-roemer"
    },
    "creation_date" : 1747574132,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : {
    "79628941" : [ {
      "comment_id" : 140440812,
      "post_id" : 79628941,
      "body" : "Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/79628941/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>.",
      "score" : 1,
      "owner" : {
        "account_id" : -1,
        "reputation" : 1,
        "user_id" : -1,
        "user_type" : "moderator",
        "profile_image" : "https://www.gravatar.com/avatar/a007be5a61f6aa8f3e85ae2fc18dd66e?s=256&d=identicon&r=PG",
        "display_name" : "Community",
        "link" : "https://stackoverflow.com/users/-1/community"
      },
      "creation_date" : 1747690916,
      "content_license" : "CC BY-SA 4.0"
    } ],
    "79627522" : [ {
      "comment_id" : 140437092,
      "post_id" : 79627522,
      "body" : "Thank you for the repository. I tried cloning the repository and running it, but the result was the same. I suspect there may be an issue with my environment setupâ€”possibly related to Podman or VSCode. For reference, I&#39;m using Windows as my OS. Could this issue be related to the one discussed in the following article? <a href=\"https://levelup.gitconnected.com/docker-desktop-on-wsl2-the-problem-with-mixing-file-systems-a8b5dcd79b22\" rel=\"nofollow noreferrer\">levelup.gitconnected.com/&hellip;</a> I&#39;m not very familiar with the technical details, so I&#39;m not sure...",
      "score" : 1,
      "owner" : {
        "account_id" : 42047994,
        "reputation" : 21,
        "user_id" : 30569523,
        "user_type" : "registered",
        "profile_image" : "https://www.gravatar.com/avatar/3f4bafd05de941e9c40d5008b6fb4ce7?s=256&d=identicon&r=PG&f=y&so-version=2",
        "display_name" : "user77602",
        "link" : "https://stackoverflow.com/users/30569523/user77602"
      },
      "creation_date" : 1747584354,
      "content_license" : "CC BY-SA 4.0"
    }, {
      "comment_id" : 140437060,
      "post_id" : 79627522,
      "body" : "It might be something else in your repo? Here&#39;s my full code where I get auto reload to work: <a href=\"https://github.com/corneliusroemer/gradle-hotreload-devcontainers\" rel=\"nofollow noreferrer\">github.com/corneliusroemer/gradle-hotreload-devcontainers</a> - can you try cloning that and see if that reloads for you? If so, the problem in your case must be some other config you have that&#39;s not in the question.",
      "score" : 0,
      "owner" : {
        "account_id" : 10129017,
        "reputation" : 10448,
        "user_id" : 7483211,
        "user_type" : "registered",
        "profile_image" : "https://lh5.googleusercontent.com/-cKWRGsZijfQ/AAAAAAAAAAI/AAAAAAAAEKw/CCxhG0ejwDM/s256-rj/photo.jpg",
        "display_name" : "Cornelius Roemer",
        "link" : "https://stackoverflow.com/users/7483211/cornelius-roemer"
      },
      "creation_date" : 1747582892,
      "content_license" : "CC BY-SA 4.0"
    }, {
      "comment_id" : 140437040,
      "post_id" : 79627522,
      "body" : "I have removed all Podman containers and images and re-ran everything, but the issue persists. Also, I&#39;m manually refreshing the web page in the browser. When I run &quot;./gradlew -t bootJar&quot; from the terminal in VSCode, I see the following log output, but it stays idle without any updates: &quot;&quot;&quot; BUILD SUCCESSFUL in 23s 4 actionable tasks: 4 up-to-date Waiting for changes to input files... (ctrl-d to exit) &lt;-------------&gt; 0% WAITING &gt; IDLE &quot;&quot;&quot; On the container side, the Spring Boot logs show &quot;Completed initialization in 7 ms&quot; when the app starts, but nothing is displayed after that.",
      "score" : 0,
      "owner" : {
        "account_id" : 42047994,
        "reputation" : 21,
        "user_id" : 30569523,
        "user_type" : "registered",
        "profile_image" : "https://www.gravatar.com/avatar/3f4bafd05de941e9c40d5008b6fb4ce7?s=256&d=identicon&r=PG&f=y&so-version=2",
        "display_name" : "user77602",
        "link" : "https://stackoverflow.com/users/30569523/user77602"
      },
      "creation_date" : 1747582095,
      "content_license" : "CC BY-SA 4.0"
    }, {
      "comment_id" : 140437015,
      "post_id" : 79627522,
      "body" : "@user77602 hmm, I suspect you are missing something somewhere. Have your reloaded the website manually? When you edit and save a file in VS code, does the gradle task show some output like &quot;Change detected, executing build...&quot;? If you look at the docker container&#39;s logs, does it show some activity after the build is finished? Have you restarted your devcontainer/vscode?",
      "score" : 0,
      "owner" : {
        "account_id" : 10129017,
        "reputation" : 10448,
        "user_id" : 7483211,
        "user_type" : "registered",
        "profile_image" : "https://lh5.googleusercontent.com/-cKWRGsZijfQ/AAAAAAAAAAI/AAAAAAAAEKw/CCxhG0ejwDM/s256-rj/photo.jpg",
        "display_name" : "Cornelius Roemer",
        "link" : "https://stackoverflow.com/users/7483211/cornelius-roemer"
      },
      "creation_date" : 1747581314,
      "content_license" : "CC BY-SA 4.0"
    }, {
      "comment_id" : 140436983,
      "post_id" : 79627522,
      "body" : "Unfortunately, this approach doesn&#39;t work as expected. I can confirm that the code edited in VSCode is correctly reflected inside the Spring Boot container. However, the changes are still not reflected on the web page unless I manually run &quot;Run Java&quot;.",
      "score" : 0,
      "owner" : {
        "account_id" : 42047994,
        "reputation" : 21,
        "user_id" : 30569523,
        "user_type" : "registered",
        "profile_image" : "https://www.gravatar.com/avatar/3f4bafd05de941e9c40d5008b6fb4ce7?s=256&d=identicon&r=PG&f=y&so-version=2",
        "display_name" : "user77602",
        "link" : "https://stackoverflow.com/users/30569523/user77602"
      },
      "creation_date" : 1747580342,
      "content_license" : "CC BY-SA 4.0"
    } ]
  }
}