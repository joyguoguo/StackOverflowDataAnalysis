{
  "question" : {
    "question_id" : 79817656,
    "title" : "How do I get bucket name when I have S3Object instance?",
    "body" : "<p>In AWS SDK v1, we could use the getBucketName() method from S3ObjectSummary to retrieve the bucket name. However, in AWS SDK v2, the S3Object class doesn’t seem to provide a similar method.</p>\n<p>How can I get the bucket name of an object in AWS SDK v2?</p>\n",
    "tags" : [ "java", "aws-sdk" ],
    "owner" : {
      "account_id" : 25372428,
      "reputation" : 19,
      "user_id" : 19186020,
      "user_type" : "registered",
      "profile_image" : "https://lh3.googleusercontent.com/a/AATXAJwuG5ie6IVV7ge_UOgTTv3IlJhk6TaNPugkq_2D=k-s256",
      "display_name" : "Karthika ",
      "link" : "https://stackoverflow.com/users/19186020/karthika"
    },
    "is_answered" : true,
    "view_count" : 81,
    "answer_count" : 1,
    "score" : 1,
    "last_activity_date" : 1763155220,
    "creation_date" : 1762945617,
    "link" : "https://stackoverflow.com/questions/79817656/how-do-i-get-bucket-name-when-i-have-s3object-instance",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79817861,
    "question_id" : 79817656,
    "body" : "<p>In AWS SDK v2 the bucket name isn't part of the S3Object anymore; it only provides information about the object itself (key, size, lastModified and so on). The bucket info comes from the request you made. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ListObjectsV2Response res= s3.listObjectsV2(r -&gt; r.bucket(&quot;bucket_name&quot;));\n</code></pre>\n<p>You already know the bucket name from that call, so when looping:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String bucket =&quot;bucket_name&quot;;\nfor (S3Object o : res.contents()) {  \nSystem.out.println(bucket + &quot;/&quot; + o.key());\n}\n</code></pre>\n<p>If you’re just working with a single object (like <code>GetObjectResponse</code>), it's the same idea: you give the bucket name when calling <code>getObject()</code> and reuse it.</p>\n<p>Documentation:</p>\n<ul>\n<li><a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/java_s3_code_examples.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/java_s3_code_examples.html</a></li>\n<li><a href=\"https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/s3/model/S3Object.html\" rel=\"nofollow noreferrer\">https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/s3/model/S3Object.html</a></li>\n</ul>\n",
    "score" : 1,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 12972904,
      "reputation" : 762,
      "user_id" : 9377995,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/Hl13jffO.png?s=256",
      "display_name" : "gdoura mohamed",
      "link" : "https://stackoverflow.com/users/9377995/gdoura-mohamed"
    },
    "creation_date" : 1762958476,
    "last_activity_date" : 1763155220,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140850340,
    "post_id" : 79817656,
    "body" : "Don&#39;t you already have the bucket name, since it&#39;s needed to download the object?",
    "score" : 2,
    "owner" : {
      "account_id" : 18535178,
      "reputation" : 465,
      "user_id" : 13505007,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/083184220da85596e2168b58a52141a4?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Spyros Palaiokostas",
      "link" : "https://stackoverflow.com/users/13505007/spyros-palaiokostas"
    },
    "creation_date" : 1762950174,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}