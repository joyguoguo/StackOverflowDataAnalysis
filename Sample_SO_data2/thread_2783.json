{
  "question" : {
    "question_id" : 79597946,
    "title" : "Maven build not looking in a local repository",
    "body" : "<p>I've tried to add a jar to my repository to use for the build.</p>\n<p>However, it doesn't seem to even check in the local-repo, tries to download from nexus and fails.</p>\n<p>In my <code>pom.xml</code> of my main project:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;repositories&gt;\n  &lt;repository&gt;\n    &lt;id&gt;local-repo&lt;/id&gt;\n    &lt;url&gt;file://${project.basedir}/local-repo&lt;/url&gt;\n  &lt;/repository&gt;\n  &lt;repository&gt;\n    &lt;id&gt;nexus&lt;/id&gt;\n    &lt;url&gt;https://----theurl---&lt;/url&gt;\n  &lt;/repository&gt;\n&lt;/repositories&gt;\n\n&lt;dependency&gt;\n  &lt;groupId&gt;groupId&lt;/groupId&gt;\n  &lt;artifactId&gt;annotation-processor&lt;/artifactId&gt;\n  &lt;version&gt;1.0&lt;/version&gt;\n  &lt;type&gt;jar&lt;/type&gt;\n  &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>the jar exists under:</p>\n<pre class=\"lang-yml prettyprint-override\"><code>reporoot\n  projectroot\n    local-repo\n      groupId\n        annotation-processor\n          1.0\n            annotation-processor-1.0.jar\n            annotation-processor-1.0.pom\n            _remote.repositories\n          maven-metadata-local.xml\n    pom.xml\n</code></pre>\n<p>Contents of annotation-processor-1.0.pom:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;groupId&lt;/groupId&gt;\n  &lt;artifactId&gt;annotation-processor&lt;/artifactId&gt;\n  &lt;version&gt;1.0&lt;/version&gt;\n\n  &lt;name&gt;annotation-processor Maven Plugin&lt;/name&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n  &lt;/properties&gt;\n\n  &lt;repositories&gt;\n    &lt;repository&gt;\n      &lt;id&gt;nexus&lt;/id&gt;\n      &lt;url&gt;https://---theurl---&lt;/url&gt;\n    &lt;/repository&gt;\n  &lt;/repositories&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.codehaus.plexus&lt;/groupId&gt;\n      &lt;artifactId&gt;plexus-utils&lt;/artifactId&gt;\n      &lt;version&gt;3.0.8&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.squareup&lt;/groupId&gt;\n      &lt;artifactId&gt;javapoet&lt;/artifactId&gt;\n      &lt;version&gt;1.13.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.google.auto.service&lt;/groupId&gt;\n      &lt;artifactId&gt;auto-service&lt;/artifactId&gt;\n      &lt;version&gt;1.1.1&lt;/version&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n      &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n      &lt;version&gt;1.18.30&lt;/version&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n      &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n      &lt;version&gt;2.0.9&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-plugin-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.2&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;goalPrefix&gt;click-processor&lt;/goalPrefix&gt;\n          &lt;skipErrorNoDescriptorsFound&gt;true&lt;/skipErrorNoDescriptorsFound&gt;\n        &lt;/configuration&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;mojo-descriptor&lt;/id&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;descriptor&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n          &lt;execution&gt;\n            &lt;id&gt;help-goal&lt;/id&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;helpmojo&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.11.0&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;source&gt;11&lt;/source&gt;\n          &lt;target&gt;11&lt;/target&gt;\n          &lt;annotationProcessorPaths&gt;\n            &lt;path&gt;\n              &lt;groupId&gt;com.google.auto.service&lt;/groupId&gt;\n              &lt;artifactId&gt;auto-service&lt;/artifactId&gt;\n              &lt;version&gt;1.1.1&lt;/version&gt;\n            &lt;/path&gt;\n            &lt;path&gt;\n              &lt;groupId&gt;com.squareup&lt;/groupId&gt;\n              &lt;artifactId&gt;javapoet&lt;/artifactId&gt;\n              &lt;version&gt;1.13.0&lt;/version&gt;\n            &lt;/path&gt;\n            &lt;path&gt;\n              &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n              &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n              &lt;version&gt;1.18.30&lt;/version&gt;\n            &lt;/path&gt;\n          &lt;/annotationProcessorPaths&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Contents of my settings.xml file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;settings xmlns=&quot;http://maven.apache.org/SETTINGS/1.0.0&quot;\n          xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n          xsi:schemaLocation=&quot;http://maven.apache.org/SETTINGS/1.0.0 http://maven.apache.org/xsd/settings-1.0.0.xsd&quot;&gt;\n    &lt;mirrors&gt;\n        &lt;mirror&gt;\n            &lt;id&gt;nexus&lt;/id&gt;\n            &lt;name&gt;Nexus&lt;/name&gt;\n            &lt;url&gt;https://---theurl---&lt;/url&gt;\n            &lt;mirrorOf&gt;*&lt;/mirrorOf&gt;\n        &lt;/mirror&gt;\n    &lt;/mirrors&gt;\n\n    &lt;pluginGroups&gt;\n        &lt;pluginGroup&gt;org.sonarsource.scanner.maven&lt;/pluginGroup&gt;\n    &lt;/pluginGroups&gt;\n\n    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;sonar&lt;/id&gt;\n            &lt;activation&gt;\n                &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\n            &lt;/activation&gt;\n            &lt;properties&gt;\n                &lt;sonar.host.url&gt;\n                    https://---theurl---\n                &lt;/sonar.host.url&gt;\n            &lt;/properties&gt;\n        &lt;/profile&gt;\n     &lt;/profiles&gt;\n&lt;/settings&gt;\n</code></pre>\n<p>Any ideas?</p>\n",
    "tags" : [ "java", "maven", "repository", "bitbucket", "pom.xml" ],
    "owner" : {
      "account_id" : 3481188,
      "reputation" : 51,
      "user_id" : 2913195,
      "user_type" : "registered",
      "profile_image" : "https://graph.facebook.com/514672719/picture?type=large",
      "display_name" : "kaprob",
      "link" : "https://stackoverflow.com/users/2913195/kaprob"
    },
    "is_answered" : false,
    "view_count" : 74,
    "answer_count" : 1,
    "score" : 0,
    "last_activity_date" : 1745932061,
    "creation_date" : 1745915878,
    "link" : "https://stackoverflow.com/questions/79597946/maven-build-not-looking-in-a-local-repository",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79598436,
    "question_id" : 79597946,
    "body" : "<p>adding this to my settings.xml file in my .m2 folder<br />\n<code>&lt;mirrorOf&gt;*,!local-repo&lt;/mirrorOf&gt;</code><br />\nfixed the issue locally though sadly didn't work for my Jenkins build</p>\n",
    "score" : 0,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 3481188,
      "reputation" : 51,
      "user_id" : 2913195,
      "user_type" : "registered",
      "profile_image" : "https://graph.facebook.com/514672719/picture?type=large",
      "display_name" : "kaprob",
      "link" : "https://stackoverflow.com/users/2913195/kaprob"
    },
    "creation_date" : 1745932061,
    "last_activity_date" : 1745932061,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140380728,
    "post_id" : 79597946,
    "body" : "The local-repo setup is not necessary... just remove that... does not make sense..",
    "score" : 0,
    "owner" : {
      "account_id" : 112317,
      "reputation" : 98455,
      "user_id" : 296328,
      "user_type" : "registered",
      "accept_rate" : 60,
      "profile_image" : "https://i.sstatic.net/DSpH6.jpg?s=256",
      "display_name" : "khmarbaise",
      "link" : "https://stackoverflow.com/users/296328/khmarbaise"
    },
    "creation_date" : 1745939904,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140380298,
    "post_id" : 79597946,
    "body" : "@khmarbaise I don&#39;t have access to upload stuff to the nexus repository so wanted to just include the jar in the project, you can do it using that. In the end the problem was caused by my settings.xml file using mirrors.",
    "score" : 0,
    "owner" : {
      "account_id" : 3481188,
      "reputation" : 51,
      "user_id" : 2913195,
      "user_type" : "registered",
      "profile_image" : "https://graph.facebook.com/514672719/picture?type=large",
      "display_name" : "kaprob",
      "link" : "https://stackoverflow.com/users/2913195/kaprob"
    },
    "creation_date" : 1745933883,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140380260,
    "post_id" : 79597946,
    "body" : "Why do you have defined `    &lt;url&gt;file://${project.basedir}/local-repo&lt;/url&gt;`?",
    "score" : 1,
    "owner" : {
      "account_id" : 112317,
      "reputation" : 98455,
      "user_id" : 296328,
      "user_type" : "registered",
      "accept_rate" : 60,
      "profile_image" : "https://i.sstatic.net/DSpH6.jpg?s=256",
      "display_name" : "khmarbaise",
      "link" : "https://stackoverflow.com/users/296328/khmarbaise"
    },
    "creation_date" : 1745933320,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140380084,
    "post_id" : 79597946,
    "body" : "@Mr__Steel I do have a settings.xml file though not sure if it would interfere, I&#39;ll add it to the question",
    "score" : 0,
    "owner" : {
      "account_id" : 3481188,
      "reputation" : 51,
      "user_id" : 2913195,
      "user_type" : "registered",
      "profile_image" : "https://graph.facebook.com/514672719/picture?type=large",
      "display_name" : "kaprob",
      "link" : "https://stackoverflow.com/users/2913195/kaprob"
    },
    "creation_date" : 1745930559,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140379965,
    "post_id" : 79597946,
    "body" : "Do you have a settings.xml which might affect the resolution of your artifact? Additional questions:  Is there an error message? Have you tried &quot;mvn clean install -U&quot;?",
    "score" : 1,
    "owner" : {
      "account_id" : 5316725,
      "reputation" : 259,
      "user_id" : 4241377,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/0ae255d91ce1ff9888243f5bd51f77c2?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Mr__Steel",
      "link" : "https://stackoverflow.com/users/4241377/mr-steel"
    },
    "creation_date" : 1745928777,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140379614,
    "post_id" : 79597946,
    "body" : "Yeah it does, I&#39;ve edited the question with the structure",
    "score" : 0,
    "owner" : {
      "account_id" : 3481188,
      "reputation" : 51,
      "user_id" : 2913195,
      "user_type" : "registered",
      "profile_image" : "https://graph.facebook.com/514672719/picture?type=large",
      "display_name" : "kaprob",
      "link" : "https://stackoverflow.com/users/2913195/kaprob"
    },
    "creation_date" : 1745922360,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140379416,
    "post_id" : 79597946,
    "body" : "Does the local JAR have a POM file?",
    "score" : 1,
    "owner" : {
      "account_id" : 888714,
      "reputation" : 36717,
      "user_id" : 927493,
      "user_type" : "registered",
      "accept_rate" : 61,
      "profile_image" : "https://i.sstatic.net/sxsnm.png?s=256",
      "display_name" : "JF Meier",
      "link" : "https://stackoverflow.com/users/927493/jf-meier"
    },
    "creation_date" : 1745918340,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}