{
  "question" : {
    "question_id" : 79841364,
    "title" : "Flatten a multilevel doubly Linked List - Java recursion",
    "body" : "<p><a href=\"https://leetcode.com/problems/flatten-a-multilevel-doubly-linked-list/description/?envType=problem-list-v2&amp;envId=depth-first-search\" rel=\"nofollow noreferrer\">the following is a leetcode question #430.</a></p>\n<p>Can someone explain to me why I'm getting:</p>\n<p><code>The linked list [1,2,3,7,8,11,12,9,10,4,5,6] is not a valid doubly linked list.</code></p>\n<pre><code>    class Solution {\n       Node flattenedList = new Node(-1);\n       Node flattenedListPointer = flattenedList;\n\n       public Node flatten(Node head) {\n\n         if (head ==  null){\n            return flattenedList.next;\n          }\n         flattenedListPointer.next = new Node(head.val,head.prev,null,null);\n         flattenedListPointer = flattenedListPointer.next;\n\n         if (head.child != null){\n            flatten(head.child);\n         }\n         if (head.next != null){\n            flatten(head.next);\n            \n         }\n    \n         return flattenedList.next;\n        \n       }\n  } \n</code></pre>\n<p><code>[1,2,3,7,8,11,12,9,10,4,5,6]</code> is the expected answer - and I did make all the <code>child</code> nodes to be <code>null</code> (as require).\nI also made sure all the <code>prev</code> node are <code>null</code>.</p>\n<p>Thanks!</p>\n",
    "tags" : [ "java", "linked-list", "nodes" ],
    "owner" : {
      "account_id" : 5651212,
      "reputation" : 46,
      "user_id" : 4471753,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/96a1b12f44400ec74648f899299f8b63?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "M.M",
      "link" : "https://stackoverflow.com/users/4471753/m-m"
    },
    "is_answered" : false,
    "view_count" : 88,
    "closed_date" : 1765306779,
    "answer_count" : 1,
    "score" : -4,
    "last_activity_date" : 1765268678,
    "creation_date" : 1765229713,
    "link" : "https://stackoverflow.com/questions/79841364/flatten-a-multilevel-doubly-linked-list-java-recursion",
    "closed_reason" : "Not suitable for this site"
  },
  "answers" : [ {
    "answer_id" : 79841668,
    "question_id" : 79841364,
    "body" : "<p>(This is simply restating the comments as an answer.)</p>\n<blockquote>\n<p>I also made sure all the <code>prev</code> links are <code>null</code>.</p>\n</blockquote>\n<p>That is incorrect.  Each <code>prev</code> link should point to the previous node in the list.  The only list node that should have <code>null</code> as the <code>prev</code> link is the first node in the list.</p>\n<p>In other words, you are getting that error because the list you have created is not a well formed <strong>doubly linked</strong> list.</p>\n<p>Note that the diagram of the example result in the leetcode question shows that the <code>prev</code> links should be non-null (except for the first one).</p>\n",
    "score" : 0,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 47283,
      "reputation" : 723469,
      "user_id" : 139985,
      "user_type" : "registered",
      "accept_rate" : 69,
      "profile_image" : "https://www.gravatar.com/avatar/147c5a9cc1feec049c50da791ac7d144?s=256&d=identicon&r=PG",
      "display_name" : "Stephen C",
      "link" : "https://stackoverflow.com/users/139985/stephen-c"
    },
    "creation_date" : 1765268156,
    "last_activity_date" : 1765268678,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140893347,
    "post_id" : 79841364,
    "body" : "As user85421 said: The leetcode question <b>requires</b> that your list is &#39;valid&#39;. A list is only valid if <code>list.next.previous</code> is the same as <code>list</code> (assuming there is a <code>list.next</code> at all). In other words, it must still be a doubly linked list. Your &#39;print&#39; code only goes forward (never queries &#39;.previous&#39;) so it &#39;works&#39; even though your input isn&#39;t doubly linked.",
    "score" : 1,
    "owner" : {
      "account_id" : 401843,
      "reputation" : 107206,
      "user_id" : 768644,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/b13bedc5215730fbce5edff6c130988a?s=256&d=identicon&r=PG",
      "display_name" : "rzwitserloot",
      "link" : "https://stackoverflow.com/users/768644/rzwitserloot"
    },
    "creation_date" : 1765234225,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140893308,
    "post_id" : 79841364,
    "body" : "apparently the list it is not considered a <b>valid</b> double linked list (for example some node <code>n</code> where <code>n.next.prev</code> or/and <code>n.prev.next</code> is not pointing back to <code>n</code>) -  that is just a guess, missing information, but backed up by &quot;<i>I also made sure all the <code>prev</code> node are <code>null</code></i>&quot;",
    "score" : 4,
    "owner" : {
      "account_id" : 31180,
      "reputation" : 29752,
      "user_id" : 85421,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/kKvXH.gif?s=256",
      "display_name" : "user85421",
      "link" : "https://stackoverflow.com/users/85421/user85421"
    },
    "creation_date" : 1765230257,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140893299,
    "post_id" : 79841364,
    "body" : "Welcome to Stack Overflow. Please take the <a href=\"https://stackoverflow.com/tour\">tour</a> to learn how Stack Overflow works and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> on how to improve the quality of your question. Then <a href=\"https://stackoverflow.com/posts/79841364/edit\">edit</a> your question to include your source code as a working <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, which can be compiled and tested by others to provide an answer faster. It is unclear what you are asking or what the problem is. Please <a href=\"https://stackoverflow.com/posts/79841364/edit\">edit</a> your question to include a more detailed description of the problem you have. Who or what is giving your that response? What is your method supposed to do? With what exact value is it called? What are you expecting?",
    "score" : 2,
    "owner" : {
      "account_id" : 108033,
      "reputation" : 20089,
      "user_id" : 286934,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/f16a184d26b72795ff243464d715cffe?s=256&d=identicon&r=PG",
      "display_name" : "Progman",
      "link" : "https://stackoverflow.com/users/286934/progman"
    },
    "creation_date" : 1765229908,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}