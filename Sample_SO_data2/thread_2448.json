{
  "question" : {
    "question_id" : 79622147,
    "title" : "JTE throw java.lang.ClassNotFoundException with SpringBoot 3",
    "body" : "<p>I'm trying use JTE in Spring Boot 3.2. This configuration worked in test, but failed in Docker container with app. I need non-HTML templates for file generating, so I'm not using jte-spring-boot-starter-3.\nThis is my Maven plugin config:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;plugin&gt;\n        &lt;groupId&gt;gg.jte&lt;/groupId&gt;\n        &lt;artifactId&gt;jte-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;${jte.version}&lt;/version&gt;\n        &lt;configuration&gt;\n            &lt;sourceDirectory&gt;${project.basedir}/src/main/jte&lt;/sourceDirectory&gt;\n            &lt;targetDirectory&gt;${project.build.directory}/jte-classes&lt;/targetDirectory&gt;\n            &lt;contentType&gt;Plain&lt;/contentType&gt;\n        &lt;/configuration&gt;\n        &lt;executions&gt;\n            &lt;execution&gt;\n                &lt;phase&gt;generate-sources&lt;/phase&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;generate&lt;/goal&gt;\n                &lt;/goals&gt;\n            &lt;/execution&gt;\n        &lt;/executions&gt;\n    &lt;/plugin&gt;\n</code></pre>\n<p>Class with TemplateEngine using:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class GenerateUseCase {\n    private final TemplateEngine jteTemplateEngine;\n\n    public GenerateUseCase() throws IOException {\n        this.jteTemplateEngine = TemplateEngine.createPrecompiled(ContentType.Plain);\n    }\n\n    private void generateFileByTemplate(final Path dir, final Map&lt;String, Object&gt; params,\n                                        final String fileName) throws IOException {\n\n        final File file = dir.resolve(fileName).toFile();\n\n        file.createNewFile();\n\n        try (FileOutput output = new FileOutput(file.getAbsoluteFile().toPath(), StandardCharsets.UTF_8)) {\n            jteTemplateEngine.render(fileName + &quot;.jte&quot;, params, output);\n        }\n    }\n}\n</code></pre>\n<p>Packaged JAR structure (gg.jte.generated.precompiled is exists):\n<a href=\"https://i.sstatic.net/H3iGT2QO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/H3iGT2QO.png\" alt=\"enter image description here\" /></a></p>\n<p>But generating methot falied with stacktrace:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Servlet.service() for servlet [dispatcherServlet] in context with path [/] threw exception [Request processing failed: java.lang.RuntimeException: gg.jte.TemplateNotFoundException: Failed to load ingress.yml.jte] with root cause\n\njava.lang.ClassNotFoundException: gg.jte.generated.precompiled.JteingressymlGenerated\n    at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:445)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:593)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526)\n    at gg.jte.runtime.TemplateLoader.load(TemplateLoader.java:25)\n    at java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1708)\n    at gg.jte.TemplateEngine.resolveTemplate(TemplateEngine.java:339)\n    at gg.jte.TemplateEngine.render(TemplateEngine.java:228)\n    at org.service.GenerateUseCase.generateFileByTemplate(GenerateUseCase.java:151)\n</code></pre>\n<p>How fix this bug?</p>\n",
    "tags" : [ "java", "spring-boot", "templates", "classloader", "jte" ],
    "owner" : {
      "account_id" : 6157748,
      "reputation" : 178,
      "user_id" : 4800228,
      "user_type" : "registered",
      "profile_image" : "https://lh6.googleusercontent.com/-s6TSfd9Z2oA/AAAAAAAAAAI/AAAAAAAAAGI/Tff4fGoQnFk/s256-rj/photo.jpg",
      "display_name" : "Alina Didenko",
      "link" : "https://stackoverflow.com/users/4800228/alina-didenko"
    },
    "is_answered" : false,
    "view_count" : 113,
    "answer_count" : 1,
    "score" : 0,
    "last_activity_date" : 1747300893,
    "creation_date" : 1747250577,
    "link" : "https://stackoverflow.com/questions/79622147/jte-throw-java-lang-classnotfoundexception-with-springboot-3",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79622996,
    "question_id" : 79622147,
    "body" : "<p>My mistake was that initially the JTE configuration was incorrect and there really were no classes in the classpath. Then, I fixed it, but inadvertently I didn't do <em>docker down</em>, but <em>docker stop</em>. And the image was always wrong.. Very stupid inattention.</p>\n",
    "score" : 0,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 6157748,
      "reputation" : 178,
      "user_id" : 4800228,
      "user_type" : "registered",
      "profile_image" : "https://lh6.googleusercontent.com/-s6TSfd9Z2oA/AAAAAAAAAAI/AAAAAAAAAGI/Tff4fGoQnFk/s256-rj/photo.jpg",
      "display_name" : "Alina Didenko",
      "link" : "https://stackoverflow.com/users/4800228/alina-didenko"
    },
    "creation_date" : 1747300893,
    "last_activity_date" : 1747300893,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ ],
  "answer_comments" : { }
}