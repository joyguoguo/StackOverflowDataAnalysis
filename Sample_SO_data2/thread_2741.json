{
  "question" : {
    "question_id" : 79600528,
    "title" : "How can I specify the local file when calling get message within a free market ftl file?",
    "body" : "<p>On a page when using <code>springMacroRequestContext.getMessage</code> text for en-us and it pulls from my <code>messages-en-us.properties</code> file, however in some cases I'd like to for a particular string to pull the text from <code>messages-de-de.properties</code> file. Ideally I'd be able to pass in a second param to getMessages with the file location or a locale.</p>\n<p>This is all happening within the context of an .ftl file - is there a way to do this?</p>\n",
    "tags" : [ "java", "spring-mvc", "freemarker", "spring-framework-beans" ],
    "owner" : {
      "account_id" : 7697582,
      "reputation" : 694,
      "user_id" : 5831474,
      "user_type" : "registered",
      "accept_rate" : 50,
      "profile_image" : "https://www.gravatar.com/avatar/dc091dd693381502dff4293727373d97?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "mche",
      "link" : "https://stackoverflow.com/users/5831474/mche"
    },
    "is_answered" : false,
    "view_count" : 64,
    "answer_count" : 1,
    "score" : 0,
    "last_activity_date" : 1746107998,
    "creation_date" : 1746023290,
    "link" : "https://stackoverflow.com/questions/79600528/how-can-i-specify-the-local-file-when-calling-get-message-within-a-free-market-f",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79601515,
    "question_id" : 79600528,
    "body" : "<p>It seems that method <code>springMacroRequestContext.getMessage(...)</code> uses the current user's locale and doesn't support specifying a different locale directly.</p>\n<p>But you can use a simple workaround - resolve the message in the controller:</p>\n<pre><code>@Controller\npublic class MyPageController {\n\n    @Autowired\n    private MessageSource messageSource;\n\n    @GetMapping(&quot;/mypage&quot;)\n    public String getPage(Model model) {\n\n        // message for en-US locale\n        Locale usLocale = Locale.US;\n        String usMessage = messageSource.getMessage(\n                &quot;my.message.key&quot;,\n                null,\n                usLocale\n        );\n\n        // message for fr-FR locale\n        Locale frLocale = Locale.FRANCE;\n        String frMessage = messageSource.getMessage(\n                &quot;my.message.key&quot;,\n                null,\n                frLocale\n        );\n\n        model.addAttribute(&quot;usMessage&quot;, usMessage);\n        model.addAttribute(&quot;frMessage&quot;, frMessage);\n\n        return &quot;mypage&quot;; // mypage.ftl\n    }\n}\n</code></pre>\n<p>And then in the FTL template:</p>\n<pre><code>&lt;p&gt;Message in US English: ${usMessage}&lt;/p&gt;\n&lt;p&gt;Message in French: ${frMessage}&lt;/p&gt;\n</code></pre>\n<p>messages.properties:</p>\n<pre><code>my.message.key=Hello from default locale!\n</code></pre>\n<p>messages_en_US.properties:</p>\n<pre><code>my.message.key=Hello from the US!\n</code></pre>\n<p>messages_fr_FR.properties:</p>\n<pre><code>my.message.key=Bonjour de France!\n</code></pre>\n<p>When you open /mypage in browser, you'll see:</p>\n<pre><code>Message in US English: Hello from the US!\nMessage in French: Bonjour de France!\n</code></pre>\n<p>The template (FTL) doesn't know anything about locales at all, it just outputs the strings prepared in the controller. This is the common recommended approach - all heavy localization tasks should be handled in Java.</p>\n",
    "score" : 0,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 38931631,
      "reputation" : 671,
      "user_id" : 29023248,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/WxoZEuKw.png?s=256",
      "display_name" : "Aleksey Bykov",
      "link" : "https://stackoverflow.com/users/29023248/aleksey-bykov"
    },
    "creation_date" : 1746083304,
    "last_activity_date" : 1746107998,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ ],
  "answer_comments" : { }
}