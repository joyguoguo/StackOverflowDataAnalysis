{
  "question" : {
    "question_id" : 79647830,
    "title" : "Ignore IntelliJ warning &quot;closeable used without &#39;try&#39;-with-resources statement&quot;",
    "body" : "<p>I have a junit test suite which uses some <code>AutoCloseable</code> resources, which I take care of closing <em>after</em> all the tests has been executed using <code>org.junit.jupiter.api.AfterAll</code> annotation, see the example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Tests {\n    static MyCloseable[] myCloseables = new MyCloseable[3];\n\n    static class MyCloseable implements java.lang.AutoCloseable{\n        public void close(){}\n        public void doStuff(){}\n    }\n\n    @BeforeAll\n    static void setup() {\n        for (int i = 0; i &lt; myCloseables.length; ++i){\n            myCloseables[i] = new MyCloseable();\n        }\n    }\n\n    @Test\n    void test1() {\n        assertDoesNotThrow(myCloseables[0]::doStuff);\n    }\n\n    @Test\n    void test2() {\n        assertDoesNotThrow(myCloseables[0]::doStuff);\n    }\n\n    @AfterAll\n    static void cleanUp() {\n        for (MyCloseable myCloseable : myCloseables) myCloseable.close();\n    }\n}\n</code></pre>\n<p>In the for loop body of <code>static void setup()</code> method IntelliJ gives the following warning:</p>\n<p><code>'MyCloseable' used without 'try'-with-resources statement</code></p>\n<p>But my test is logically correct, I take care of closing the resources afterwards. Is there some way of suppressing / ignoring the code inspection only for the specific line it complains about?</p>\n",
    "tags" : [ "java", "intellij-idea", "junit", "warnings", "intellij-inspections" ],
    "owner" : {
      "account_id" : 16655492,
      "reputation" : 1149,
      "user_id" : 12037019,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/nS0V1.png?s=256",
      "display_name" : "pochopsp",
      "link" : "https://stackoverflow.com/users/12037019/pochopsp"
    },
    "is_answered" : true,
    "view_count" : 667,
    "answer_count" : 1,
    "score" : 1,
    "last_activity_date" : 1748844540,
    "creation_date" : 1748803274,
    "link" : "https://stackoverflow.com/questions/79647830/ignore-intellij-warning-closeable-used-without-try-with-resources-statement",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79647831,
    "question_id" : 79647830,
    "body" : "<p>You can use <code>// noinspection resource</code> on the line IntelliJ complains about, like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@BeforeAll\nstatic void setup() {\n    for (int i = 0; i &lt; myCloseables.length; ++i){\n        // noinspection resource\n        myCloseables[i] = new MyCloseable();\n    }\n}\n</code></pre>\n<p>with <code>// noinspection &lt;inspection_group_name&gt;</code> you can tell IntelliJ to not warn about all the problems included in that <code>&lt;inspection_group_name&gt;</code>. For instance, in the case of your question, you can see from here <a href=\"https://www.jetbrains.com/help/inspectopedia/Java-Resource-management.html\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/help/inspectopedia/Java-Resource-management.html</a> that <code>AutoCloseable used without 'try'-with-resources</code> is listed in the <em>&quot;<strong>Resource</strong> management&quot;</em> inspection group, hence <em>// noinspection <strong>resource</strong></em> will silence the warning for it.</p>\n<p>Unfortunately there is no complete <em>problem -&gt; inspection_group_name</em> mapping available, but you can find some inspection group names in this SO answer: <a href=\"https://stackoverflow.com/a/56857378/12037019\">https://stackoverflow.com/a/56857378/12037019</a></p>\n",
    "score" : 1,
    "is_accepted" : true,
    "owner" : {
      "account_id" : 16655492,
      "reputation" : 1149,
      "user_id" : 12037019,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/nS0V1.png?s=256",
      "display_name" : "pochopsp",
      "link" : "https://stackoverflow.com/users/12037019/pochopsp"
    },
    "creation_date" : 1748803274,
    "last_activity_date" : 1748844540,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140481388,
    "post_id" : 79647830,
    "body" : "Thank you for your comment @Chaosfire , this was just an example to present the problem of this &quot;redundant&quot; warning, it doesn&#39;t represent 1:1 used code. I have also experienced other cases (not in unit test) when I wanted to silence this warning.",
    "score" : 0,
    "owner" : {
      "account_id" : 16655492,
      "reputation" : 1149,
      "user_id" : 12037019,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/nS0V1.png?s=256",
      "display_name" : "pochopsp",
      "link" : "https://stackoverflow.com/users/12037019/pochopsp"
    },
    "creation_date" : 1748893786,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140478263,
    "post_id" : 79647830,
    "body" : "I would suggest to use <code>@ParameterizedTest</code> and close each resource in the test with <code>try-with-resources</code>. The current setup risks to leave open resources, if any <code>close()</code> call the loop fails for whatever reason.",
    "score" : 0,
    "owner" : {
      "account_id" : 23783500,
      "reputation" : 7109,
      "user_id" : 17795888,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/Xay1V.jpg?s=256",
      "display_name" : "Chaosfire",
      "link" : "https://stackoverflow.com/users/17795888/chaosfire"
    },
    "creation_date" : 1748844502,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : {
    "79647831" : [ {
      "comment_id" : 140481387,
      "post_id" : 79647831,
      "body" : "Thank you for your comment @Chaosfire . I think this answer is still useful since I was looking for this solution and couldn&#39;t find it directly. Had to dig over several SO answers / jetbrains pages which took me several minutes and connecting dots ( e.g. this warning falls into a category, you can ignore this category but you need to know how it is called, etc. )",
      "score" : 1,
      "owner" : {
        "account_id" : 16655492,
        "reputation" : 1149,
        "user_id" : 12037019,
        "user_type" : "registered",
        "profile_image" : "https://i.sstatic.net/nS0V1.png?s=256",
        "display_name" : "pochopsp",
        "link" : "https://stackoverflow.com/users/12037019/pochopsp"
      },
      "creation_date" : 1748893782,
      "content_license" : "CC BY-SA 4.0"
    }, {
      "comment_id" : 140478234,
      "post_id" : 79647831,
      "body" : "Also note, that your answer is largely a duplicate of the one you linked.",
      "score" : 0,
      "owner" : {
        "account_id" : 23783500,
        "reputation" : 7109,
        "user_id" : 17795888,
        "user_type" : "registered",
        "profile_image" : "https://i.sstatic.net/Xay1V.jpg?s=256",
        "display_name" : "Chaosfire",
        "link" : "https://stackoverflow.com/users/17795888/chaosfire"
      },
      "creation_date" : 1748843306,
      "content_license" : "CC BY-SA 4.0"
    }, {
      "comment_id" : 140478233,
      "post_id" : 79647831,
      "body" : "Note that you can use <code>@SuppressWarnings(&quot;resource&quot;)</code> as well, on the method level, or local variable level. It should work in any IDE, as long the warning has the same name.",
      "score" : 1,
      "owner" : {
        "account_id" : 23783500,
        "reputation" : 7109,
        "user_id" : 17795888,
        "user_type" : "registered",
        "profile_image" : "https://i.sstatic.net/Xay1V.jpg?s=256",
        "display_name" : "Chaosfire",
        "link" : "https://stackoverflow.com/users/17795888/chaosfire"
      },
      "creation_date" : 1748843264,
      "content_license" : "CC BY-SA 4.0"
    } ]
  }
}