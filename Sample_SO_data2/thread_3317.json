{
  "question" : {
    "question_id" : 79559390,
    "title" : "Warning log &quot;Cannot use file /tmp/hsperfdata_&lt;user&gt;/xxxxx because it is locked by another process (errno = 11)&quot; printed on stdout",
    "body" : "<p>This is in reference to this issues fix &quot;8286030: Avoid JVM crash when containers share the same /tmp dir&quot;</p>\n<p>provided by this commit.</p>\n<p><a href=\"https://github.com/openjdk/jdk/commit/84f23149e22561173feb0e34bca31a7345b43c89#diff-7313eb3d328797a7720fa1b2b73cd159934506593443e45534baad80cb1382b7R924-R927\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jdk/commit/84f23149e22561173feb0e34bca31a7345b43c89#diff-7313eb3d328797a7720fa1b2b73cd159934506593443e45534baad80cb1382b7R924-R927</a></p>\n<p>Regarding the following log added in this fix. It seems that this log is printed on stdout. This is creating parsing conflicts with any other user applications printing their output on stdout at same time.</p>\n<p>log_warning(perf, memops)(&quot;Cannot use file %s/%s because %s (errno = %d)&quot;, dirname, filename,\n(errno == EWOULDBLOCK) ?\n&quot;it is locked by another process&quot; :\n&quot;flock() failed&quot;, errno);</p>\n<p>Is their a way to suppress this warning or redirect it to stderr instead of stdout?</p>\n",
    "tags" : [ "java", "jvm" ],
    "owner" : {
      "account_id" : 8422967,
      "reputation" : 11,
      "user_id" : 6359643,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/e3353dd4026ba422eecd69ac52e9cc00?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Sajal",
      "link" : "https://stackoverflow.com/users/6359643/sajal"
    },
    "is_answered" : true,
    "view_count" : 318,
    "answer_count" : 1,
    "score" : 1,
    "last_activity_date" : 1744995136,
    "creation_date" : 1744014025,
    "link" : "https://stackoverflow.com/questions/79559390/warning-log-cannot-use-file-tmp-hsperfdata-user-xxxxx-because-it-is-locked-b",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79574221,
    "question_id" : 79559390,
    "body" : "<p><code>log_warning(perf, memops)</code> statement suggests that the message is printed under <a href=\"https://openjdk.org/jeps/158\" rel=\"nofollow noreferrer\">Unified JVM Logging</a> with <code>warning</code> level and <code>perf</code> and <code>memops</code> tags. To suppress this message, just turn off the corresponding log using <code>-Xlog</code> JVM option:</p>\n<pre><code>-Xlog:perf+memops=off\n</code></pre>\n<p>If, instead of disabling this log altogeter, you prefer to redirect it to <code>stderr</code>, use</p>\n<pre><code>-Xlog:perf+memops=warning:stderr\n</code></pre>\n<p>Alternatively, you may ask JVM not to expose Performance Counters through a file to avoid file name collision completely:</p>\n<pre><code>-XX:+PerfDisableSharedMem\n</code></pre>\n<p>Possible side effects are described in <a href=\"https://stackoverflow.com/a/66809042/3448419\">this answer</a>.</p>\n",
    "score" : 1,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 4210603,
      "reputation" : 99850,
      "user_id" : 3448419,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/54njx.png?s=256",
      "display_name" : "apangin",
      "link" : "https://stackoverflow.com/users/3448419/apangin"
    },
    "creation_date" : 1744677342,
    "last_activity_date" : 1744995136,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ ],
  "answer_comments" : {
    "79574221" : [ {
      "comment_id" : 140348591,
      "post_id" : 79574221,
      "body" : "@k314159 Updated my answer with an option to redirect log to stderr.",
      "score" : 1,
      "owner" : {
        "account_id" : 4210603,
        "reputation" : 99850,
        "user_id" : 3448419,
        "user_type" : "registered",
        "profile_image" : "https://i.sstatic.net/54njx.png?s=256",
        "display_name" : "apangin",
        "link" : "https://stackoverflow.com/users/3448419/apangin"
      },
      "creation_date" : 1744995166,
      "content_license" : "CC BY-SA 4.0"
    }, {
      "comment_id" : 140335851,
      "post_id" : 79574221,
      "body" : "This is useful information but it would be a bonus if you also show how to log to stderr instead of stdout. The Unified JVM Logging link you shared states that stderr is supported, but I couldn&#39;t understand how.",
      "score" : 0,
      "owner" : {
        "account_id" : 19118721,
        "reputation" : 12499,
        "user_id" : 13963086,
        "user_type" : "registered",
        "profile_image" : "https://www.gravatar.com/avatar/9df2c3c4c87d8050b8fd6a59c88c7133?s=256&d=identicon&r=PG&f=y&so-version=2",
        "display_name" : "k314159",
        "link" : "https://stackoverflow.com/users/13963086/k314159"
      },
      "creation_date" : 1744705801,
      "content_license" : "CC BY-SA 4.0"
    } ]
  }
}