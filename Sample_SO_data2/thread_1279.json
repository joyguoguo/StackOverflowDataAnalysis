{
  "question" : {
    "question_id" : 79727507,
    "title" : "API 35 - Edge-to-edge issue for DrawerLayout/ NavigationView during landscape mode",
    "body" : "<p>I am working on edge-to-edge, API 35, for a Material 2, Java Android project.</p>\n<p>I use the following guideline when performing edge-to-edge setup</p>\n<ol>\n<li><code>AppBarLayout</code> = <code>android:fitsSystemWindows=&quot;true&quot;</code></li>\n<li><code>DrawerLayout</code> = Not set</li>\n<li><code>NavigationView</code> = Not set</li>\n</ol>\n<p>During activity <code>onCreate</code>, I am calling this function.</p>\n<pre><code>private void edgeToEdgeIfPossible(boolean windowLightStatusBar) {\n    if (windowLightStatusBar) {\n        EdgeToEdge.enable(\n                this,\n                SystemBarStyle.light(\n                        ContextCompat.getColor(this, android.R.color.transparent),\n                        ContextCompat.getColor(this, android.R.color.transparent)\n                )\n        );\n    } else {\n        EdgeToEdge.enable(\n                this,\n                SystemBarStyle.dark(\n                        ContextCompat.getColor(this, android.R.color.transparent)\n                )\n        );\n    }\n}\n</code></pre>\n<hr />\n<p>However, I am still having issue, for the <code>DrawerLayout</code>/ <code>NavigationView</code> during landscape mode.</p>\n<p><a href=\"https://i.sstatic.net/MTq9gOpB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/MTq9gOpB.png\" alt=\"enter image description here\" /></a></p>\n<p>To resolve this, my attempted solution is</p>\n<pre><code>private void initNavigationView() {\n    this.navigationView = findViewById(R.id.nav_view);\n\n    // Store the original padding of the RecyclerView. This is crucial\n    // to preserve any theme-defined padding.\n    final Rect initialPadding = new Rect(\n            navigationView.getPaddingLeft(),\n            navigationView.getPaddingTop(),\n            navigationView.getPaddingRight(),\n            navigationView.getPaddingBottom()\n    );\n\n    // 2. Apply a listener to handle window insets for all orientations\n    ViewCompat.setOnApplyWindowInsetsListener(navigationView, (v, insets) -&gt; {\n        // Get the insets for the system bars (status bar, navigation bar)\n        Insets theInsets = insets.getInsets(\n                WindowInsetsCompat.Type.systemBars() | WindowInsetsCompat.Type.displayCutout()\n        );\n\n        ViewGroup.LayoutParams layoutParams = v.getLayoutParams();\n        // TODO: Can we avoid hard coding?\n        layoutParams.width = Utils.dpToPixel(320) + theInsets.left;\n        v.setLayoutParams(layoutParams);\n\n        v.setPadding(\n                initialPadding.left + theInsets.left,\n                initialPadding.top + theInsets.top,\n                initialPadding.right + theInsets.right,\n                initialPadding.bottom + theInsets.bottom\n        );\n\n        // Return the insets to allow the system to continue processing them\n        return insets;\n    });\n</code></pre>\n<hr />\n<p>This fixes the above issue. However, it creates another issue : The contrast status bar icons are not visible.</p>\n<p><a href=\"https://i.sstatic.net/gwPpC3KI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/gwPpC3KI.png\" alt=\"enter image description here\" /></a></p>\n<p>Do you have any idea, how I can resolve this? Thank you.</p>\n",
    "tags" : [ "java", "android", "xml", "edge-to-edge" ],
    "owner" : {
      "account_id" : 27431,
      "reputation" : 42870,
      "user_id" : 72437,
      "user_type" : "registered",
      "accept_rate" : 86,
      "profile_image" : "https://i.sstatic.net/ay0Dg.jpg?s=256",
      "display_name" : "Cheok Yan Cheng",
      "link" : "https://stackoverflow.com/users/72437/cheok-yan-cheng"
    },
    "is_answered" : false,
    "view_count" : 190,
    "answer_count" : 0,
    "score" : 0,
    "last_activity_date" : 1754493896,
    "creation_date" : 1754493896,
    "link" : "https://stackoverflow.com/questions/79727507/api-35-edge-to-edge-issue-for-drawerlayout-navigationview-during-landscape-mo",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ ],
  "question_comments" : [ {
    "comment_id" : 140647857,
    "post_id" : 79727507,
    "body" : "This is 2 completely different questions. One is focusing on the toolbar, another is focusing on the navigation drawer.",
    "score" : 1,
    "owner" : {
      "account_id" : 27431,
      "reputation" : 42870,
      "user_id" : 72437,
      "user_type" : "registered",
      "accept_rate" : 86,
      "profile_image" : "https://i.sstatic.net/ay0Dg.jpg?s=256",
      "display_name" : "Cheok Yan Cheng",
      "link" : "https://stackoverflow.com/users/72437/cheok-yan-cheng"
    },
    "creation_date" : 1754537506,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140647036,
    "post_id" : 79727507,
    "body" : "This question is similar to: <a href=\"https://stackoverflow.com/questions/79727513/api-35-handle-edge-to-edge-in-preferencefragmentcompat-during-landscape-mode\">API 35 - Handle edge-to-edge in PreferenceFragmentCompat during landscape mode</a>. If you believe it’s different, please <a href=\"https://stackoverflow.com/posts/79727507/edit\">edit</a> the question, make it clear how it’s different and/or how the answers on that question are not helpful for your problem.",
    "score" : 0,
    "owner" : {
      "account_id" : 12601597,
      "reputation" : 13277,
      "user_id" : 9164141,
      "user_type" : "registered",
      "accept_rate" : 93,
      "profile_image" : "https://i.sstatic.net/uiNcT.jpg?s=256",
      "display_name" : "Gast&#243;n Saill&#233;n",
      "link" : "https://stackoverflow.com/users/9164141/gast%c3%b3n-saill%c3%a9n"
    },
    "creation_date" : 1754502429,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}