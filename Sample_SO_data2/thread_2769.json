{
  "question" : {
    "question_id" : 79598658,
    "title" : "How to use properties-maven-plugin in two ways at once?",
    "body" : "<p>In the same maven project I need to read the configuration property files with filters in it, and to read a property file in another project. This is the code mixing the two:</p>\n<pre><code>    &lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n            &lt;artifactId&gt;properties-maven-plugin&lt;/artifactId&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;initialize&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;read-project-properties&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;files&gt;\n                            &lt;file&gt;${basedir}/../version.properties&lt;/file&gt;\n                        &lt;/files&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;com.soebes.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;iterator-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;com.soebes.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;multienv-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>When I try to build I get this error:\n&quot;You can use only one element. Either items, itemsWithProperties, content or folder element but not more than one of them&quot;\nWhich I take to mean I can't do both at the same time. Is there a way to configure the plugin to do both these actions are is it actually impossible?</p>\n<p>EDIT Some additional information that was requested. We're using a jdk 1.8, maven 3.6.2, the plugin version's not specified.\nHere are more logs:</p>\n<pre>[ERROR] Failed to execute goal [32mcom.soebes.maven.plugins:iterator-maven-plugin:0.5.1:iterator[m [1m(default)[m on project [36msend-sapp-conf[m: [1;31mYou can use only one element. Either items, itemsWithProperties, content or folder element but not more than one of them.[m -> [1m[Help 1][m\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal [32mcom.soebes.maven.plugins:iterator-maven-plugin:0.5.1:iterator[m [1m(default)[m on project [36msend-sapp-conf[m: [1;31mYou can use only one element. Either items, itemsWithProperties, content or folder element but not more than one of them.[m\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2(MojoExecutor.java:333)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute(MojoExecutor.java:316)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:212)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:174)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.access$000(MojoExecutor.java:75)\n    at org.apache.maven.lifecycle.internal.MojoExecutor$1.run(MojoExecutor.java:162)\n    at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute(DefaultMojosExecutionStrategy.java:39)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:159)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:105)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:73)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:53)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:118)\n    at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:261)\n    at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:173)\n    at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:101)\n    at org.apache.maven.cli.MavenCli.execute(MavenCli.java:906)\n    at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:283)\n    at org.apache.maven.cli.MavenCli.main(MavenCli.java:206)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:283)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:226)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:407)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:348)\nCaused by: org.apache.maven.plugin.MojoExecutionException: You can use only one element. Either items, itemsWithProperties, content or folder element but not more than one of them.\n    at com.soebes.maven.plugins.iterator.IteratorMojo.execute(IteratorMojo.java:224)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:126)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2(MojoExecutor.java:328)\n    ... 25 more\n[ERROR] </pre>\n",
    "tags" : [ "java", "maven" ],
    "owner" : {
      "account_id" : 3236784,
      "reputation" : 13,
      "user_id" : 2730789,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/ilokn.jpg?s=256",
      "display_name" : "GargaLeNoir",
      "link" : "https://stackoverflow.com/users/2730789/gargalenoir"
    },
    "is_answered" : false,
    "view_count" : 62,
    "answer_count" : 0,
    "score" : 0,
    "last_activity_date" : 1746454343,
    "creation_date" : 1745937955,
    "link" : "https://stackoverflow.com/questions/79598658/how-to-use-properties-maven-plugin-in-two-ways-at-once",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ ],
  "question_comments" : [ {
    "comment_id" : 140455371,
    "post_id" : 79598658,
    "body" : "The update lacks the whole configuration of the plugins etc... please make a full working example otherwise it&#39;s more or less impossible to even guess..",
    "score" : 0,
    "owner" : {
      "account_id" : 112317,
      "reputation" : 98455,
      "user_id" : 296328,
      "user_type" : "registered",
      "accept_rate" : 60,
      "profile_image" : "https://i.sstatic.net/DSpH6.jpg?s=256",
      "display_name" : "khmarbaise",
      "link" : "https://stackoverflow.com/users/296328/khmarbaise"
    },
    "creation_date" : 1748093944,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140397135,
    "post_id" : 79598658,
    "body" : "I&#39;ve updated the original post with more information. I&#39;ve added the stack trace if it helps. I can&#39;t see where exactly in the logs it happens, the stack trace is displayed at the very end. Would you like me to upload the log file somewhere?",
    "score" : 0,
    "owner" : {
      "account_id" : 3236784,
      "reputation" : 13,
      "user_id" : 2730789,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/ilokn.jpg?s=256",
      "display_name" : "GargaLeNoir",
      "link" : "https://stackoverflow.com/users/2730789/gargalenoir"
    },
    "creation_date" : 1746454404,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140390754,
    "post_id" : 79598658,
    "body" : "Can you add a log output ... where exactly the error happens... also which Maven verision, plugin versions, JDK versions you are using?",
    "score" : 0,
    "owner" : {
      "account_id" : 112317,
      "reputation" : 98455,
      "user_id" : 296328,
      "user_type" : "registered",
      "accept_rate" : 60,
      "profile_image" : "https://i.sstatic.net/DSpH6.jpg?s=256",
      "display_name" : "khmarbaise",
      "link" : "https://stackoverflow.com/users/296328/khmarbaise"
    },
    "creation_date" : 1746202202,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140389400,
    "post_id" : 79598658,
    "body" : "Ok, well in that case they use the maven build with a variable to pick which filter to use. So back to my question, is there a way to make the above code work please? Keep the iterative reading/filtering of the configuration while also being able to read the version in another property file in another project?",
    "score" : 0,
    "owner" : {
      "account_id" : 3236784,
      "reputation" : 13,
      "user_id" : 2730789,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/ilokn.jpg?s=256",
      "display_name" : "GargaLeNoir",
      "link" : "https://stackoverflow.com/users/2730789/gargalenoir"
    },
    "creation_date" : 1746176301,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140388485,
    "post_id" : 79598658,
    "body" : "I know exactly what iterator and multienv plugin do because I&#39;m the author of both of them...  Usually you build your application independant of your environment (like prod, test etc.) and only distribute the configuration separately....",
    "score" : 0,
    "owner" : {
      "account_id" : 112317,
      "reputation" : 98455,
      "user_id" : 296328,
      "user_type" : "registered",
      "accept_rate" : 60,
      "profile_image" : "https://i.sstatic.net/DSpH6.jpg?s=256",
      "display_name" : "khmarbaise",
      "link" : "https://stackoverflow.com/users/296328/khmarbaise"
    },
    "creation_date" : 1746137694,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140383124,
    "post_id" : 79598658,
    "body" : "It&#39;s a company project so I can&#39;t make all the choices nor understand everything. Iterator-maven-plugin and multienv-maven-plugin are used to read the conf property files and then apply filters on them. These files are inside the conf project, whereas the property file would be in the parent project. &gt; Why not building independant of the environment...  I don&#39;t understand that question i&#39;m afraid",
    "score" : 0,
    "owner" : {
      "account_id" : 3236784,
      "reputation" : 13,
      "user_id" : 2730789,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/ilokn.jpg?s=256",
      "display_name" : "GargaLeNoir",
      "link" : "https://stackoverflow.com/users/2730789/gargalenoir"
    },
    "creation_date" : 1746000439,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140380723,
    "post_id" : 79598658,
    "body" : "Why do you use iterator-maven-plugin and multienv-maven-plugin? What exactly is the purpose? Why not building independant of the environment... ?",
    "score" : 1,
    "owner" : {
      "account_id" : 112317,
      "reputation" : 98455,
      "user_id" : 296328,
      "user_type" : "registered",
      "accept_rate" : 60,
      "profile_image" : "https://i.sstatic.net/DSpH6.jpg?s=256",
      "display_name" : "khmarbaise",
      "link" : "https://stackoverflow.com/users/296328/khmarbaise"
    },
    "creation_date" : 1745939837,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}