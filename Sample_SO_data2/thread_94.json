{
  "question" : {
    "question_id" : 79840045,
    "title" : "Updating a spring boot component from an Async-annotated function",
    "body" : "<p>I have a Spring Boot process where I have three classes of interest (Service.java, AsyncTaskManager.java, SessionManager.java). I use Service.java to process requests from the Controller, AsyncTaskManager.java to handle long-running tasks that need to be executed asynchronously, and SessionManager.java to keep a hash map of tasks by their session ID.</p>\n<p>My service class injects both AsyncTaskManager.java and TaskManager.java components like this-</p>\n<pre><code>@Autowired\nprivate final AsyncTaskManager asyncTaskManager;\n\n@Autowired\nprivate final SessionManager sessionManager;\n</code></pre>\n<p>AsyncTaskManager also injects SessionManager using the same strategy, and also has a class that does some specific things-</p>\n<pre><code>import foo.bar.ComplexThingDoer;\n\n...\n\n@Autowired\nprivate final SessionManager sessionManager;\n</code></pre>\n<p>In one of the AsyncTaskManager's Async functions, it first calls that class to do something, passing the manager reference into it-</p>\n<pre><code>ComplexThingDoer complexThingDoer = new ComplexThingDoer()\ncomplexThingDoer.doThing(this.sessionManager, sessionID);\n</code></pre>\n<p>This deeper class is not annotated as a component because I wanted to build the spring boot application around it in a sort of core utilities kind of way. When the deeper class executes it's function, it attempts to do the following update to my SessionManager bean-</p>\n<pre><code>parentSessionManager.updateSessionInfo(parentSessionID, newSessionInfo)\n</code></pre>\n<p>Meanwhile, back in my service, I may recieve a get request to retrieve updated session information-</p>\n<pre><code>Session session = this.sessionManager.getSession(sessionID);\nif (session != null) {\n    return session.getSessionResponse();\n}\n</code></pre>\n<p>I am currently testing out my API for this application but I'm noticing that when my test calls the API, it is able to retrieve the response but the information in the response never changes. How can I ensure that the Async function can properly update the session manager's contents?</p>\n",
    "tags" : [ "java", "spring", "spring-boot" ],
    "owner" : {
      "account_id" : 44931784,
      "reputation" : 23,
      "user_id" : 32011068,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/e30287b1a5e72b36641d45c2d3d27aab?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Laolu Ade OG CSR",
      "link" : "https://stackoverflow.com/users/32011068/laolu-ade-og-csr"
    },
    "is_answered" : false,
    "view_count" : 38,
    "closed_date" : 1765106499,
    "answer_count" : 0,
    "score" : -3,
    "last_activity_date" : 1765073532,
    "creation_date" : 1765073532,
    "link" : "https://stackoverflow.com/questions/79840045/updating-a-spring-boot-component-from-an-async-annotated-function",
    "closed_reason" : "Not suitable for this site"
  },
  "answers" : [ ],
  "question_comments" : [ {
    "comment_id" : 140891050,
    "post_id" : 79840045,
    "body" : "Looks like you need to simplify <code>complexThingDoer</code>, and have it do one specific thing, instead of multiple unrelated things. The name itself is a giveaway. Other than that, you question doesn&#39;t have enough information for anyone to deduce anything meaningful. All you&#39;ve shown us are the Autowired dependencies.",
    "score" : 0,
    "owner" : {
      "account_id" : 446597,
      "reputation" : 25249,
      "user_id" : 839733,
      "user_type" : "registered",
      "accept_rate" : 69,
      "profile_image" : "https://i.sstatic.net/2s6lO.jpg?s=256",
      "display_name" : "Abhijit Sarkar",
      "link" : "https://stackoverflow.com/users/839733/abhijit-sarkar"
    },
    "creation_date" : 1765085342,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}