{
  "question" : {
    "question_id" : 79818930,
    "title" : "Collection with fragmented index",
    "body" : "<p>I want to map a DB-table into a Java collection object. Important for me is a numerical index IDX and some other data, e.g. a STR.</p>\n<pre><code>IDX        STR\n1          Max\n2          Sam\n4          Tom\n7          Hal\n8          Tim\n27         Sue\n30         Sal\n</code></pre>\n<p>The only operation I need to have on the collection is an order by IDX.</p>\n<p>e.g.</p>\n<pre><code>All above 20: Sue, Sal\nAll below 3: Sam, Max\n</code></pre>\n<p>First think I get in mind is to use a Map with Key is IDX and Value is STR.\nBut to get the order I would have to inspect every element.</p>\n<p>Using a List would need some search-method because no direct access (e.g. 3rd element is IDX 4 and not 3).</p>\n<p>Any better ideas on that?</p>\n",
    "tags" : [ "java", "collections" ],
    "owner" : {
      "account_id" : 117317,
      "reputation" : 12715,
      "user_id" : 307297,
      "user_type" : "registered",
      "accept_rate" : 62,
      "profile_image" : "https://i.sstatic.net/e28FD.png?s=256",
      "display_name" : "chris01",
      "link" : "https://stackoverflow.com/users/307297/chris01"
    },
    "is_answered" : true,
    "view_count" : 65,
    "answer_count" : 2,
    "score" : 0,
    "last_activity_date" : 1763042827,
    "creation_date" : 1763040579,
    "link" : "https://stackoverflow.com/questions/79818930/collection-with-fragmented-index",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79818960,
    "question_id" : 79818930,
    "body" : "<p>Use a <code>TreeMap&lt;Integer, String&gt;</code>.<br />\nIt keeps the entries automatically sorted by IDX and lets you efficiently query ranges:</p>\n<pre class=\"lang-java prettyprint-override\"><code>TreeMap&lt;Integer, String&gt; map = new TreeMap&lt;&gt;();\nmap.put(1, &quot;Max&quot;);\nmap.put(2, &quot;Sam&quot;);\nmap.put(4, &quot;Tom&quot;);\nmap.put(7, &quot;Hal&quot;);\nmap.put(8, &quot;Tim&quot;);\nmap.put(27, &quot;Sue&quot;);\nmap.put(30, &quot;Sal&quot;);\n\n//for above 20\nmap.tailMap(20);\n\n// below 3\nmap.headMap(3);\n</code></pre>\n<p>A <code>TreeMap</code> is better than a <code>HashMap</code> (unordered) or a <code>List</code> (index mismatch) for this use case.</p>\n",
    "score" : 4,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 18872375,
      "reputation" : 541,
      "user_id" : 13766630,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/a81098d7adc9cc6e727dcddf1e469b5e?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "inevitable",
      "link" : "https://stackoverflow.com/users/13766630/inevitable"
    },
    "creation_date" : 1763042299,
    "last_activity_date" : 1763042299,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "answer_id" : 79818972,
    "question_id" : 79818930,
    "body" : "<p>Assuming you have an object like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class People {\n    int idx;\n    String name;\n\n    // Getters and setters...\n}\n</code></pre>\n<p>And you have a Collections object, like an ArrayList for example...</p>\n<pre class=\"lang-java prettyprint-override\"><code>Collection&lt;People&gt; peopleCollection = new ArrayList&lt;&gt;();\npeopleCollection.add(new People(1, &quot;Max&quot;));\npeopleCollection.add(new People(2, &quot;Sam&quot;));\npeopleCollection.add(new People(4, &quot;Tom&quot;));\npeopleCollection.add(new People(7, &quot;Hal&quot;));\npeopleCollection.add(new People(8, &quot;Tim&quot;));\npeopleCollection.add(new People(27, &quot;Sue&quot;));\npeopleCollection.add(new People(30, &quot;Sal&quot;));\n</code></pre>\n<p>You can use Java Stream to do processing on Collections, such as filtering.</p>\n<p>You can use the <code>filter()</code> method to only return certain People objects that pass the filter:</p>\n<pre class=\"lang-java prettyprint-override\"><code>peopleCollection\n        .stream()\n        .filter(people -&gt; people.getIdx() &gt; 20)\n        .forEach(people -&gt; System.out.println(people.getName()));\n// Sue, Sal\n\npeopleCollection\n        .stream()\n        .filter(people -&gt; people.getIdx() &lt; 3)\n        .forEach(people -&gt; System.out.println(people.getName()));\n//Max, Sam\n</code></pre>\n",
    "score" : 0,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 22824219,
      "reputation" : 3,
      "user_id" : 16973707,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/baf3c0a2807b5023fbe63f1fb955e6a4?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Gabriel",
      "link" : "https://stackoverflow.com/users/16973707/gabriel"
    },
    "creation_date" : 1763042827,
    "last_activity_date" : 1763042827,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ ],
  "answer_comments" : { }
}