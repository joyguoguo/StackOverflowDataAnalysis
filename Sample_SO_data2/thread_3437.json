{
  "question" : {
    "question_id" : 79551555,
    "title" : "Macos Unsupported class file major version 68 when building a React Native app",
    "body" : "<p>I'm trying to run and install a React Native app, but during the build process I get the following error:</p>\n<p>yarn android:</p>\n<pre><code>info A dev server is already running for this project on port 8081.\ninfo Installing the app...\n\ninfo \uD83D\uDCA1 Tip: Make sure that you have set up your development environment correctly, by running npx react-native doctor. To read more about doctor command visit: https://github.com/react-native-community/cli/blob/main/packages/cli-doctor/README.md#doctor \n\nWARNING: A restricted method in java.lang.System has been called\nWARNING: java.lang.System::load has been called by net.rubygrapefruit.platform.internal.NativeLibraryLoader in an unnamed module (file:/Users/NameUser/.gradle/wrapper/dists/gradle-8.12-all/ejduaidbjup3bmmkhw3rie4zb/gradle-8.12/lib/native-platform-0.22-milestone-27.jar)\nWARNING: Use --enable-native-access=ALL-UNNAMED to avoid a warning for callers in this module\nWARNING: Restricted methods will be blocked in a future release unless native access is enabled\n\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nBUG! exception in phase 'semantic analysis' in source unit '_BuildScript_' Unsupported class file major version 68\n&gt; Unsupported class file major version 68\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n&gt; Get more help at https://help.gradle.org.\n\nBUILD FAILED in 793ms\nerror Failed to install the app. Command failed with exit code 1: ./gradlew app:installDebug -PreactNativeDevServerPort=8081\nWARNING: A restricted method in java.lang.System has been called\nWARNING: java.lang.System::load has been called by net.rubygrapefruit.platform.internal.NativeLibraryLoader in an unnamed module (file:/Users/NameUser/.gradle/wrapper/dists/gradle-8.12-all/ejduaidbjup3bmmkhw3rie4zb/gradle-8.12/lib/native-platform-0.22-milestone-27.jar)\nWARNING: Use --enable-native-access=ALL-UNNAMED to avoid a warning for callers in this module\nWARNING: Restricted methods will be blocked in a future release unless native access is enabled FAILURE: Build failed with an exception. * What went wrong:\nBUG! exception in phase 'semantic analysis' in source unit '_BuildScript_' Unsupported class file major version 68\n&gt; Unsupported class file major version 68 * Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n&gt; Get more help at https://help.gradle.org. BUILD FAILED in 793ms.\ninfo Run CLI with --verbose flag for more details.\nerror Command failed with exit code 1.\ninfo Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.\n</code></pre>\n<p>Java:</p>\n<pre><code>java --version \n\nopenjdk 24 2025-03-18\nOpenJDK Runtime Environment (build 24+36-3646)\nOpenJDK 64-Bit Server VM (build 24+36-3646, mixed mode, sharing)\n</code></pre>\n<p>Gradle:</p>\n<pre><code>gradle --version\n\n------------------------------------------------------------\nGradle 8.13\n------------------------------------------------------------\n\nBuild time:    2025-02-25 09:22:14 UTC\nRevision:      073314332697ba45c16c0a0ce1891fa6794179ff\n\nKotlin:        2.0.21\nGroovy:        3.0.22\nAnt:           Apache Ant(TM) version 1.10.15 compiled on August 25 2024\nLauncher JVM:  23.0.2 (Homebrew 23.0.2)\nDaemon JVM:    /usr/local/Cellar/openjdk/23.0.2/libexec/openjdk.jdk/Contents/Home (no JDK specified, using current Java home)\nOS:            Mac OS X 15.3 x86_64\n</code></pre>\n<p>Dir android project:</p>\n<pre><code>~/Desktop/project-react-native/android &gt; ./gradlew --version\n\nWARNING: A restricted method in java.lang.System has been called\nWARNING: java.lang.System::load has been called by net.rubygrapefruit.platform.internal.NativeLibraryLoader in an unnamed module (file:/Users/NameUser/.gradle/wrapper/dists/gradle-8.12-all/ejduaidbjup3bmmkhw3rie4zb/gradle-8.12/lib/native-platform-0.22-milestone-27.jar)\nWARNING: Use --enable-native-access=ALL-UNNAMED to avoid a warning for callers in this module\nWARNING: Restricted methods will be blocked in a future release unless native access is enabled\n\n\n------------------------------------------------------------\nGradle 8.12\n------------------------------------------------------------\n\nBuild time:    2024-12-20 15:46:53 UTC\nRevision:      a3cacb207fec727859be9354c1937da2e59004c1\n\nKotlin:        2.0.21\nGroovy:        3.0.22\nAnt:           Apache Ant(TM) version 1.10.15 compiled on August 25 2024\nLauncher JVM:  24 (Oracle Corporation 24+36-3646)\nDaemon JVM:    /Users/NameUser/Library/Java/JavaVirtualMachines/openjdk-24/Contents/Home (no JDK specified, using current Java home)\nOS:            Mac OS X 15.3 x86_64\n</code></pre>\n<p>Can you give me a hand?</p>\n",
    "tags" : [ "java", "android", "react-native", "gradle", "unsupported-class-version" ],
    "owner" : {
      "account_id" : 10916684,
      "reputation" : 4628,
      "user_id" : 8024296,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/073d6290ea3196f026f1502d3f5a6259?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Paul",
      "link" : "https://stackoverflow.com/users/8024296/paul"
    },
    "is_answered" : false,
    "view_count" : 811,
    "answer_count" : 1,
    "score" : 0,
    "last_activity_date" : 1749069355,
    "creation_date" : 1743626914,
    "link" : "https://stackoverflow.com/questions/79551555/macos-unsupported-class-file-major-version-68-when-building-a-react-native-app",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79653456,
    "question_id" : 79551555,
    "body" : "<p>The error message you're seeing:</p>\n<pre><code>Unsupported class file major version 68\n</code></pre>\n<p>means that your Java version is too new for the version of Gradle you're using. Specifically:</p>\n<pre><code>Major version 68 corresponds to Java 22\n\nBut Gradle 8.1.3 does not yet fully support Java 22\n</code></pre>\n<p>\uD83D\uDD27 Solution:</p>\n<p>You need to downgrade your Java version to Java 17 or 21, which are stable and widely supported by Android Gradle builds.</p>\n",
    "score" : 0,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 42374570,
      "reputation" : 11,
      "user_id" : 30723165,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/4565c0b49eeae9fe4fb729fde3ba2c74?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Tanishk Kumar Shrivastava",
      "link" : "https://stackoverflow.com/users/30723165/tanishk-kumar-shrivastava"
    },
    "creation_date" : 1749069355,
    "last_activity_date" : 1749069355,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140298554,
    "post_id" : 79551555,
    "body" : "Do you recommend me to install <code>sdkman</code>, for version manager?  <a href=\"https://sdkman.io/\" rel=\"nofollow noreferrer\">sdkman.io</a>",
    "score" : 0,
    "owner" : {
      "account_id" : 10916684,
      "reputation" : 4628,
      "user_id" : 8024296,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/073d6290ea3196f026f1502d3f5a6259?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Paul",
      "link" : "https://stackoverflow.com/users/8024296/paul"
    },
    "creation_date" : 1743758354,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140294137,
    "post_id" : 79551555,
    "body" : "Gradle currently doesn&#39;t support Java 24 (class version 68), and neither does whatever does that &quot;semantic analysis&quot; that fails.",
    "score" : 0,
    "owner" : {
      "account_id" : 213468,
      "reputation" : 110280,
      "user_id" : 466862,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/d873f397779db38cd510d9ee5416fd43?s=256&d=identicon&r=PG",
      "display_name" : "Mark Rotteveel",
      "link" : "https://stackoverflow.com/users/466862/mark-rotteveel"
    },
    "creation_date" : 1743675599,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140292407,
    "post_id" : 79551555,
    "body" : "You&#39;re using Java 24 for some things which produces version 68 compatible class files and then in the Gradle launcher VM you&#39;re using Java 23 and it won&#39;t know how to read class files past version 67. See: <a href=\"https://javaalmanac.io/bytecode/versions/\" rel=\"nofollow noreferrer\">javaalmanac.io/bytecode/versions</a>",
    "score" : 0,
    "owner" : {
      "account_id" : 27243397,
      "reputation" : 1642,
      "user_id" : 20769158,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/df0e133d3f8cb085e349c80207c9f1bf?s=256&d=identicon&r=PG",
      "display_name" : "scrhartley",
      "link" : "https://stackoverflow.com/users/20769158/scrhartley"
    },
    "creation_date" : 1743631240,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140292235,
    "post_id" : 79551555,
    "body" : "Don&#39;t use the latest Java version, use the Java version that Gradle and the Android Gradle tools require. If I remember correctly that should be Java 21. Check also which Java version is recommended for React Native. Anyway for developing I strongly recommend only to use LTS versions of Jav a.",
    "score" : 0,
    "owner" : {
      "account_id" : 50585,
      "reputation" : 43469,
      "user_id" : 150978,
      "user_type" : "registered",
      "accept_rate" : 78,
      "profile_image" : "https://www.gravatar.com/avatar/feadc214792e2581c3c750140e3eb2c7?s=256&d=identicon&r=PG",
      "display_name" : "Robert",
      "link" : "https://stackoverflow.com/users/150978/robert"
    },
    "creation_date" : 1743627452,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}