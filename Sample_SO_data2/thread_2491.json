{
  "question" : {
    "question_id" : 79619058,
    "title" : "How to create an order in Spring Boot using the Shiprocket API?",
    "body" : "<p>I'm trying to integrate Shiprocket order creation in my Spring Boot application, but I'm running into a <strong>403 Forbidden</strong> error when I call their order creation API.</p>\n<p>Here's what I’m doing:</p>\n<p>I am authenticating using their login API:</p>\n<pre><code>public class ShiprocketAuthResponse {\n    private String token;\n    // getters and setters\n}\n\nWebClient webClient = WebClient.create();\nString token = webClient.post()\n    .uri(&quot;https://apiv2.shiprocket.in/v1/external/auth/login&quot;)\n    .header(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE)\n    .bodyValue(Map.of(&quot;email&quot;, &quot;your-email&quot;, &quot;password&quot;, &quot;your-password&quot;))\n    .retrieve()\n    .bodyToMono(ShiprocketAuthResponse.class)\n    .block()\n    .getToken();\n</code></pre>\n<p>Then I try to use that token to create an order:</p>\n<pre><code>String response = webClient.post()\n    .uri(&quot;https://apiv2.shiprocket.in/v1/external/orders/create/adhoc&quot;)\n    .header(&quot;Authorization&quot;, &quot;Bearer &quot; + token)\n    .header(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE)\n    .bodyValue(orderRequestPayload) // my DTO or Map\n    .retrieve()\n    .bodyToMono(String.class)\n    .block();\n</code></pre>\n<p><strong>I’ve double-checked below scenarios:</strong></p>\n<ol>\n<li>The token is not null and looks valid</li>\n<li>The request body seems okay (based on their docs)</li>\n<li>The Authorization header is present</li>\n</ol>\n<p>Could someone please help me understand why I might be getting the <strong>403 Forbidden</strong> error?</p>\n<p>Share a working example of the correct order creation payload and WebClient configuration for Shiprocket.</p>\n<p>Thanks in advance!</p>\n",
    "tags" : [ "java", "spring-boot", "shiprocket" ],
    "owner" : {
      "account_id" : 29283094,
      "reputation" : 11,
      "user_id" : 22435275,
      "user_type" : "registered",
      "profile_image" : "https://lh3.googleusercontent.com/a/AAcHTtdvyxcq0LYtnSjg7XE2LED2ZUgQ54eUOhBpYOzYZiPe-Uw=k-s256",
      "display_name" : "Surya R",
      "link" : "https://stackoverflow.com/users/22435275/surya-r"
    },
    "is_answered" : false,
    "view_count" : 123,
    "answer_count" : 1,
    "score" : 1,
    "last_activity_date" : 1747160430,
    "creation_date" : 1747117540,
    "link" : "https://stackoverflow.com/questions/79619058/how-to-create-an-order-in-spring-boot-using-the-shiprocket-api",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79620226,
    "question_id" : 79619058,
    "body" : "<p>A <strong>403 Forbidden</strong> error when accessing the Shiprocket token API typically means your request was authenticated but the user does not have permission to access the resource. check with shiprocket team.</p>\n<p>one suggesstion,</p>\n<p>The Shiprocket API authentication token is valid for <strong>10 days</strong> from the time of generation. After obtaining the token, it should be securely stored in a database or in-memory cache and reused for subsequent API requests. When the token expires, a new token must be generated and stored accordingly for continued access.</p>\n<p>Happy coding !!</p>\n",
    "score" : 0,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 37827316,
      "reputation" : 46,
      "user_id" : 28449192,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/9d1c7624eda875a1ad4655e39e406520?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Ganesh Karunanidhi",
      "link" : "https://stackoverflow.com/users/28449192/ganesh-karunanidhi"
    },
    "creation_date" : 1747160430,
    "last_activity_date" : 1747160430,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140420595,
    "post_id" : 79619058,
    "body" : "Maybe the endpoint <a href=\"https://apiv2.shiprocket.in/v1/external/orders/create/adhoc\" rel=\"nofollow noreferrer\">apiv2.shiprocket.in/v1/external/orders/create/adhoc</a> requires specific permissions tied to your Shiprocket account. If your account lacks access (e.g., due to plan restrictions or unverified account status), you’ll get a 403 error.  Ensure you’re using the correct endpoint and that your account is authorized to create orders.",
    "score" : 0,
    "owner" : {
      "account_id" : 5505924,
      "reputation" : 1031,
      "user_id" : 4373784,
      "user_type" : "registered",
      "accept_rate" : 62,
      "profile_image" : "https://i.sstatic.net/jY9up.jpg?s=256",
      "display_name" : "Szymon Roziewski",
      "link" : "https://stackoverflow.com/users/4373784/szymon-roziewski"
    },
    "creation_date" : 1747125476,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}