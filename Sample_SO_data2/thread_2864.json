{
  "question" : {
    "question_id" : 79591620,
    "title" : "What determines how IntelliJ chooses the target platform for submodules?",
    "body" : "<p>I have a maven project in IntelliJ. The project uses Java and Kotlin, and it is configured to use Java 11 in the pom:</p>\n<pre><code>&lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n&lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n</code></pre>\n<p>However, in IntellJ, when I open the submodules in the project structure:\n<a href=\"https://i.sstatic.net/gKyLGmIz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/gKyLGmIz.png\" alt=\"The IntelliJ submodule screen, showing Kotlin in the Integ-test submodule\" /></a>\n<a href=\"https://i.sstatic.net/zdTHdC5n.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/zdTHdC5n.png\" alt=\"IntelliJ project structure, showing version 1.8 begin used by Kotlin.\" /></a></p>\n<p>The target platform is set to use 1.8, even though the source and target level in the pom is set to 11. Furthermore, these settings revert to 1.8 when I do maven reimport, which implies they are determined by maven in some way.</p>\n<p>I've checked the submodules' poms, and none of them refer to the target plaform or to 1.8 in any way.</p>\n<p><strong>How are these values determined in from the <code>pom.xml</code> files?</strong></p>\n<p><strong>How can I configure Maven so that Kotlin will be set to use the project's JVM inside the submodules?</strong></p>\n",
    "tags" : [ "java", "kotlin", "maven", "intellij-idea", "jvm" ],
    "owner" : {
      "account_id" : 415134,
      "reputation" : 12799,
      "user_id" : 789750,
      "user_type" : "registered",
      "accept_rate" : 87,
      "profile_image" : "https://i.sstatic.net/5zqHO.png?s=256",
      "display_name" : "Dan",
      "link" : "https://stackoverflow.com/users/789750/dan"
    },
    "is_answered" : true,
    "view_count" : 111,
    "answer_count" : 1,
    "score" : 1,
    "last_activity_date" : 1745580852,
    "creation_date" : 1745540166,
    "link" : "https://stackoverflow.com/questions/79591620/what-determines-how-intellij-chooses-the-target-platform-for-submodules",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79592431,
    "question_id" : 79591620,
    "body" : "<p>This is really confusing at first. The standard configuration in maven you have shown</p>\n<pre><code>&lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n&lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n</code></pre>\n<p>... is not really seen by Kotlin as this configuration is determined for Java.</p>\n<p>Small hint, you can do this now:</p>\n<pre><code>&lt;maven.compiler.release&gt;11&lt;/maven.compiler.release&gt;\n</code></pre>\n<p>Coming back to your question:</p>\n<p>The fallback for Kotlin is Java 1.8 if no other configuration can be found. If you really need to set the Java version, you can use the kotlin-maven-plugin:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n    &lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;1.9.10&lt;/version&gt; &lt;!-- or whichever version you're using --&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;compile&lt;/id&gt;\n            &lt;phase&gt;compile&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;compile&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n        &lt;execution&gt;\n            &lt;id&gt;test-compile&lt;/id&gt;\n            &lt;phase&gt;test-compile&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;test-compile&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n    &lt;configuration&gt;\n        &lt;jvmTarget&gt;11&lt;/jvmTarget&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>For more details and settings have a look here: <a href=\"https://kotlinlang.org/docs/maven.html#compile-kotlin-only-source-code\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/maven.html#compile-kotlin-only-source-code</a></p>\n",
    "score" : 1,
    "is_accepted" : true,
    "owner" : {
      "account_id" : 5316725,
      "reputation" : 259,
      "user_id" : 4241377,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/0ae255d91ce1ff9888243f5bd51f77c2?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Mr__Steel",
      "link" : "https://stackoverflow.com/users/4241377/mr-steel"
    },
    "creation_date" : 1745580852,
    "last_activity_date" : 1745580852,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ ],
  "answer_comments" : { }
}