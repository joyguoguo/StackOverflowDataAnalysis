{
  "question" : {
    "question_id" : 79751391,
    "title" : "Parsing MT940 &amp; MT950 SWIFT using Prowide",
    "body" : "<p>I’d like to process old <a href=\"https://en.wikipedia.org/wiki/SWIFT_message_types\" rel=\"nofollow noreferrer\">SWIFT messages</a> and in particular parse <a href=\"https://www.paiementor.com/swift-mt940-customer-statement-detailed-analysis/\" rel=\"nofollow noreferrer\">MT940</a> &amp; <a href=\"https://www.paiementor.com/swift-mt950-statement-message-detailed-analysis/\" rel=\"nofollow noreferrer\">MT950</a> message types.</p>\n<p>A single file may contain multiple message types separated by a ‘$’.</p>\n<p>I tried <a href=\"https://github.com/prowide/prowide-core\" rel=\"nofollow noreferrer\">Prowide-core</a>, but the output appears incomplete. Would you kindly help?</p>\n<p><strong>My <code>sample.txt</code> file</strong></p>\n<pre><code>{1:F21CITIUS33AGFX7239256290}{4:{177:2507150853}{451:0}}{1:F01CITIUS33AGFX7239256290}{2:O9500153250715SBOSUS3UFIMS13447057842507150853N}{4:\n:20:2507150000118899\n:25:PFZM\n:28C:138/1\n:60F:C250714USD53944,66\n:61:2507130714CD2725,28NSALSCTRSC000004FWHL//25GFKBBPF0P\n/ISIN/US0001200901/SHS/12148,\n:62F:C250714USD56669,94\n:64:C250714USD56669,94\n-}{5:{CHK:F0FC1309E8AB}}{S:{COP:P}{MDG:B7D497E702BC8EE8EDBFBCBDACF30DB07A7352E76BE40274B87FC17253462868}}%\n</code></pre>\n<p><strong>My <code>SwiftDemo.java</code> code</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.prowidesoftware.swift.io.parser.SwiftParser;\nimport com.prowidesoftware.swift.model.SwiftMessage;\npublic class SwiftDemo {\n\n    public static void main(String[] args) throws Exception {\n        String path = &quot;sample.txt&quot;;\n        String fin = java.nio.file.Files.readString(java.nio.file.Paths.get(path), java.nio.charset.StandardCharsets.UTF_8);\n\n        SwiftParser parser = new SwiftParser(fin);\n        SwiftMessage sm = parser.message();\n        System.out.println(sm.toJson());\n    }\n}\n</code></pre>\n<p>The <code>prowide-core</code> result is:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;timestamp&quot;: &quot;2025-08-30T19:49:12Z&quot;,\n  &quot;version&quot;: 2,\n  &quot;data&quot;: {\n    &quot;block1&quot;: {\n      &quot;applicationId&quot;: &quot;F&quot;,\n      &quot;serviceId&quot;: &quot;21&quot;,\n      &quot;logicalTerminal&quot;: &quot;CITIUS33AGFX&quot;,\n      &quot;sessionNumber&quot;: &quot;7239&quot;,\n      &quot;sequenceNumber&quot;: &quot;256290&quot;\n    },\n    &quot;block4&quot;: {\n      &quot;tags&quot;: [\n        {\n          &quot;name&quot;: &quot;177&quot;,\n          &quot;value&quot;: &quot;2507150853&quot;\n        },\n        {\n          &quot;name&quot;: &quot;451&quot;,\n          &quot;value&quot;: &quot;0&quot;\n        }\n      ]\n    }\n  }\n}\n</code></pre>\n<p>Whereas using <a href=\"https://pypi.org/project/swift-parser-py/\" rel=\"nofollow noreferrer\"><code>swift-parser-py</code></a>, when I run:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>python -m swift_parser_py.swift_parser sample.txt\n</code></pre>\n<p>The <code>swift_parser_py</code> result is:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;block1&quot;: {\n    &quot;block_id&quot;: 1,\n    &quot;content&quot;: &quot;F01CITIUS33AGFX7239256290&quot;,\n    &quot;application_id&quot;: &quot;F&quot;,\n    &quot;service_id&quot;: &quot;01&quot;,\n    &quot;receiving_lt_id&quot;: &quot;CITIUS33AGFX&quot;,\n    &quot;session_number&quot;: &quot;7239&quot;,\n    &quot;sequence_number&quot;: &quot;256290&quot;\n  },\n  &quot;block4&quot;: {\n    &quot;name&quot;: &quot;4&quot;,\n    &quot;content&quot;: [\n      &quot;\\n:20:2507150000118899\\n:25:PFZM\\n:28C:138/1\\n:60F:C250714USD53944,66\\n:61:2507130714CD2725,28NSALSCTRSC000004FWHL//25GFKBBPF0P\\n/ISIN/US0001200901/SHS/12148,\\n:62F:C250714USD56669,94\\n:64:C250714USD56669,94\\n-&quot;\n    ],\n    &quot;fields&quot;: [\n      {\n        &quot;type&quot;: &quot;20&quot;,\n        &quot;option&quot;: &quot;&quot;,\n        &quot;fieldValue&quot;: &quot;2507150000118899&quot;,\n        &quot;content&quot;: &quot;:20:2507150000118899&quot;,\n        &quot;ast&quot;: {\n          &quot;Reference Number&quot;: &quot;2507150000118899&quot;\n        }\n      },\n      {\n        &quot;type&quot;: &quot;25&quot;,\n        &quot;option&quot;: &quot;&quot;,\n        &quot;fieldValue&quot;: &quot;PFZM&quot;,\n        &quot;content&quot;: &quot;:25:PFZM&quot;,\n        &quot;ast&quot;: {\n          &quot;Account&quot;: &quot;PFZM&quot;\n        }\n      },\n      {\n        &quot;type&quot;: &quot;28&quot;,\n        &quot;option&quot;: &quot;C&quot;,\n        &quot;fieldValue&quot;: &quot;138/1&quot;,\n        &quot;content&quot;: &quot;:28C:138/1&quot;,\n        &quot;ast&quot;: {\n          &quot;Statement Number&quot;: &quot;138&quot;,\n          &quot;Sequence Number&quot;: &quot;1&quot;\n        }\n      },\n      {\n        &quot;type&quot;: &quot;60&quot;,\n        &quot;option&quot;: &quot;F&quot;,\n        &quot;fieldValue&quot;: &quot;C250714USD53944,66&quot;,\n        &quot;content&quot;: &quot;:60F:C250714USD53944,66&quot;,\n        &quot;ast&quot;: {\n          &quot;D/C Mark&quot;: &quot;C&quot;,\n          &quot;Date&quot;: &quot;250714&quot;,\n          &quot;Currency&quot;: &quot;USD&quot;,\n          &quot;Amount&quot;: &quot;53944,66&quot;\n        }\n      },\n      {\n        &quot;type&quot;: &quot;61&quot;,\n        &quot;option&quot;: &quot;&quot;,\n        &quot;fieldValue&quot;: &quot;:2507130714CD2725,28NSALSCTRSC000004FWHL//25GFKBBPF0P\\n/ISIN/US0001200901/SHS/12148,&quot;,\n        &quot;content&quot;: &quot;:61::2507130714CD2725,28NSALSCTRSC000004FWHL//25GFKBBPF0P\\n/ISIN/US0001200901/SHS/12148,&quot;,\n        &quot;ast&quot;: {\n          &quot;value&quot;: &quot;2507130714CD2725,28NSALSCTRSC000004FWHL//25GFKBBPF0P\\n/ISIN/US0001200901/SHS/12148,&quot;\n        }\n      },\n      {\n        &quot;type&quot;: &quot;62&quot;,\n        &quot;option&quot;: &quot;F&quot;,\n        &quot;fieldValue&quot;: &quot;C250714USD56669,94&quot;,\n        &quot;content&quot;: &quot;:62F:C250714USD56669,94&quot;,\n        &quot;ast&quot;: {\n          &quot;D/C Mark&quot;: &quot;C&quot;,\n          &quot;Date&quot;: &quot;250714&quot;,\n          &quot;Currency&quot;: &quot;USD&quot;,\n          &quot;Amount&quot;: &quot;56669,94&quot;\n        }\n      },\n      {\n        &quot;type&quot;: &quot;64&quot;,\n        &quot;option&quot;: &quot;&quot;,\n        &quot;fieldValue&quot;: &quot;C250714USD56669,94&quot;,\n        &quot;content&quot;: &quot;:64:C250714USD56669,94&quot;,\n        &quot;ast&quot;: {\n          &quot;D/C Mark&quot;: &quot;C&quot;,\n          &quot;Date&quot;: &quot;250714&quot;,\n          &quot;Currency&quot;: &quot;USD&quot;,\n          &quot;Amount&quot;: &quot;56669,94&quot;\n        }\n      }\n    ]\n  },\n  &quot;block2&quot;: {\n    &quot;content&quot;: &quot;O9500153250715SBOSUS3UFIMS13447057842507150853N&quot;,\n    &quot;block_id&quot;: 2,\n    &quot;direction&quot;: &quot;O&quot;,\n    &quot;msg_type&quot;: &quot;950&quot;,\n    &quot;input_time&quot;: &quot;0153&quot;,\n    &quot;input_date&quot;: &quot;250715&quot;,\n    &quot;bic&quot;: &quot;SBOSUS3UFIMS&quot;,\n    &quot;session_number&quot;: &quot;1344&quot;,\n    &quot;sequence_number&quot;: &quot;705784&quot;,\n    &quot;output_date&quot;: &quot;250715&quot;,\n    &quot;output_time&quot;: &quot;0853&quot;,\n    &quot;prio&quot;: &quot;N&quot;\n  },\n  &quot;block5&quot;: {\n    &quot;block_id&quot;: 5,\n    &quot;tags&quot;: {\n      &quot;CHK&quot;: &quot;F0FC1309E8AB&quot;\n    },\n    &quot;content&quot;: [\n      {\n        &quot;name&quot;: &quot;CHK&quot;,\n        &quot;content&quot;: [\n          &quot;F0FC1309E8AB&quot;\n        ]\n      }\n    ]\n  },\n  &quot;blockS&quot;: {\n    &quot;name&quot;: &quot;S&quot;,\n    &quot;content&quot;: [\n      {\n        &quot;name&quot;: &quot;COP&quot;,\n        &quot;content&quot;: [\n          &quot;P&quot;\n        ]\n      },\n      {\n        &quot;name&quot;: &quot;MDG&quot;,\n        &quot;content&quot;: [\n          &quot;B7D497E702BC8EE8EDBFBCBDACF30DB07A7352E76BE40274B87FC17253462868&quot;\n        ]\n      }\n    ]\n  }\n}\n</code></pre>\n",
    "tags" : [ "java", "parsing", "swift-mt", "mt940" ],
    "owner" : {
      "account_id" : 2318840,
      "reputation" : 1560,
      "user_id" : 2035207,
      "user_type" : "registered",
      "accept_rate" : 71,
      "profile_image" : "https://www.gravatar.com/avatar/23407540c4b23ef4f9b4ef62677576ae?s=256&d=identicon&r=PG",
      "display_name" : "h q",
      "link" : "https://stackoverflow.com/users/2035207/h-q"
    },
    "is_answered" : false,
    "view_count" : 113,
    "answer_count" : 1,
    "score" : 0,
    "last_activity_date" : 1756635783,
    "creation_date" : 1756584142,
    "link" : "https://stackoverflow.com/questions/79751391/parsing-mt940-mt950-swift-using-prowide",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79751684,
    "question_id" : 79751391,
    "body" : "<p>After digging through the extensive Prowide powerful documentation, I was trying to <a href=\"https://dev.prowidesoftware.com/latest/open-source/core/mt-parser/#parsing-message-with-ack\" rel=\"nofollow noreferrer\">parse messages with ack</a></p>\n<p>The <a href=\"https://github.com/prowide/prowide-core-examples/blob/main/src/main/java/com/prowidesoftware/swift/samples/core/ParseMessageWithAckExample.java\" rel=\"nofollow noreferrer\">Prowide core examples</a> also shows an example with my exact use case, I quote:</p>\n<pre class=\"lang-java prettyprint-override\"><code>SwiftMessage sm = SwiftMessage.parse(fin);\nif (sm.isServiceMessage()) {\n    sm = SwiftMessage.parse(sm.getUnparsedTexts().getAsFINString());\n}\n//at this point the sm variable will contain the actual user to user message, regardless if it was preceded by and ACK.\n\nSystem.out.println(&quot;Message Type: &quot; + sm.getType());\nif (sm.isType(940)) {\n    /*\n     * Specialize the message to its specific model representation\n     */\n    MT940 mt = new MT940(sm);\n\n    /*\n     * Print details of a specific field\n     */\n    System.out.println(&quot;Reference: &quot; + mt.getField20().getValue());\n}\n</code></pre>\n",
    "score" : 0,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 2318840,
      "reputation" : 1560,
      "user_id" : 2035207,
      "user_type" : "registered",
      "accept_rate" : 71,
      "profile_image" : "https://www.gravatar.com/avatar/23407540c4b23ef4f9b4ef62677576ae?s=256&d=identicon&r=PG",
      "display_name" : "h q",
      "link" : "https://stackoverflow.com/users/2035207/h-q"
    },
    "creation_date" : 1756635783,
    "last_activity_date" : 1756635783,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140704775,
    "post_id" : 79751391,
    "body" : "Just saying, but you can use <code>Files.newInputStream</code> for that parser constructor. Can&#39;t help with the data format sorry. At first glance that Java API looks of high quality",
    "score" : 0,
    "owner" : {
      "account_id" : 22124137,
      "reputation" : 4244,
      "user_id" : 16376827,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/1ImPw.png?s=256",
      "display_name" : "g00se",
      "link" : "https://stackoverflow.com/users/16376827/g00se"
    },
    "creation_date" : 1756628930,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}