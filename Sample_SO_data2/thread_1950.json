{
  "question" : {
    "question_id" : 79664409,
    "title" : "How to remove drag view image from Dragboard?",
    "body" : "<p>I need to perform a drag-and-drop operation and this is my test code:</p>\n<pre><code>public class TestFx extends Application {\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n\n    public void start(Stage primaryStage) {\n        Circle circle = createCircle(&quot;#ff0000&quot;, &quot;#aa0000&quot;,100);\n        circle.setOnDragDetected((MouseEvent event) -&gt; {\n            System.out.println(&quot;Circle 1 drag detected&quot;);\n            Dragboard db = circle.startDragAndDrop(TransferMode.ANY);\n            ClipboardContent content = new ClipboardContent();\n            content.putString(&quot;Circle source text&quot;);\n            db.setContent(content);\n            db.setDragView(null);\n        });\n        circle.setOnMouseDragged((MouseEvent event) -&gt; {\n            event.setDragDetect(true);\n        });\n\n        Circle circle2 = createCircle(&quot;#00ff00&quot;, &quot;#00aa00&quot;,250);\n        circle2.setOnDragOver(new EventHandler&lt;DragEvent&gt;() {\n            public void handle(DragEvent event) {\n                if (event.getGestureSource() != circle2 &amp;&amp; event.getDragboard().hasString()) {\n                    event.acceptTransferModes(TransferMode.COPY_OR_MOVE);\n                }\n                event.consume();\n            }\n        });\n\n        circle2.setOnDragDropped((DragEvent event) -&gt; {\n            Dragboard db = event.getDragboard();\n            if (db.hasString()) {\n                System.out.println(&quot;Dropped: &quot; + db.getString());\n                event.setDropCompleted(true);\n            } else {\n                event.setDropCompleted(false);\n            }\n            event.consume();\n        });\n\n        Pane pane = new Pane();\n        pane.getChildren().add(circle);\n        pane.getChildren().add(circle2);\n\n        Scene scene = new Scene(pane, 400, 200, true);\n        primaryStage.setScene(scene);\n        primaryStage.setTitle(&quot;DragAndDrop&quot;);\n\n        primaryStage.show();\n    }\n\n    private Circle createCircle(String strokeColor, String fillColor, double x) {\n        Circle circle = new Circle();\n        circle.setCenterX(x);\n        circle.setCenterY(100);\n        circle.setRadius(50);\n        circle.setStroke(Color.valueOf(strokeColor));\n        circle.setStrokeWidth(5);\n        circle.setFill(Color.valueOf(fillColor));\n        return circle;\n    }\n}\n</code></pre>\n<p>and this is the result:</p>\n<p><a href=\"https://i.sstatic.net/3KQyMbkl.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/3KQyMbkl.gif\" alt=\"enter image description here\" /></a></p>\n<p>As you see when performing drag and drop, an image of the file appears near the mouse cursor. As I understand this image is from Dragboard#dragView. Could anyone say how to remove this image?</p>\n",
    "tags" : [ "java", "javafx" ],
    "owner" : {
      "account_id" : 34599290,
      "reputation" : 1188,
      "user_id" : 26656564,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/882f996623517814360ba4bb403102e7?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "SilverCube",
      "link" : "https://stackoverflow.com/users/26656564/silvercube"
    },
    "is_answered" : false,
    "view_count" : 70,
    "answer_count" : 1,
    "score" : 1,
    "last_activity_date" : 1751983865,
    "creation_date" : 1749794614,
    "link" : "https://stackoverflow.com/questions/79664409/how-to-remove-drag-view-image-from-dragboard",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79694377,
    "question_id" : 79664409,
    "body" : "<p>Setting <code>db.setDragView(null)</code> doesn't work reliably in JavaFX. Instead, create a transparent 1x1 pixel image and set it as the drag view:</p>\n<pre><code>circle.setOnDragDetected((MouseEvent event) -&gt; {\n    Dragboard db = circle.startDragAndDrop(TransferMode.ANY);\n    ClipboardContent content = new ClipboardContent();\n    content.putString(&quot;Circle source text&quot;);\n    db.setContent(content);\n    \n    // Remove drag image by setting transparent 1x1 pixel image\n    WritableImage transparentImage = new WritableImage(1, 1);\n    db.setDragView(transparentImage);\n});\n</code></pre>\n<p>This effectively removes the drag image, but it's just a workaround</p>\n",
    "score" : 0,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 15193925,
      "reputation" : 100,
      "user_id" : 10963880,
      "user_type" : "registered",
      "profile_image" : "https://lh5.googleusercontent.com/-CogeV9QOx6o/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcYPqWbhoU3-8cy7m_VJ-3fLNXxS1Q/mo/s256-rj/photo.jpg",
      "display_name" : "Ali Al-kubaisi",
      "link" : "https://stackoverflow.com/users/10963880/ali-al-kubaisi"
    },
    "creation_date" : 1751983865,
    "last_activity_date" : 1751983865,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140512660,
    "post_id" : 79664409,
    "body" : "It looks like <code>null</code> evokes a platform default, but you can supply any image you desire.",
    "score" : 2,
    "owner" : {
      "account_id" : 81822,
      "reputation" : 206045,
      "user_id" : 230513,
      "user_type" : "registered",
      "accept_rate" : 100,
      "profile_image" : "https://www.gravatar.com/avatar/632732029bf05854c17d0dea6c82dcb4?s=256&d=identicon&r=PG",
      "display_name" : "trashgod",
      "link" : "https://stackoverflow.com/users/230513/trashgod"
    },
    "creation_date" : 1749854654,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140511666,
    "post_id" : 79664409,
    "body" : "What happens if you add <code>db.setDragView(null);</code>?  <a href=\"https://openjfx.io/javadoc/24/javafx.graphics/javafx/scene/input/Dragboard.html#setDragView(javafx.scene.image.Image)\" rel=\"nofollow noreferrer\">openjfx.io/javadoc/24/javafx.graphics/javafx/scene/input/&hellip;</a>",
    "score" : 2,
    "owner" : {
      "account_id" : 2819940,
      "reputation" : 14002,
      "user_id" : 2423906,
      "user_type" : "registered",
      "accept_rate" : 100,
      "profile_image" : "https://i.sstatic.net/rkpYv.jpg?s=256",
      "display_name" : "SedJ601",
      "link" : "https://stackoverflow.com/users/2423906/sedj601"
    },
    "creation_date" : 1749825937,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140511645,
    "post_id" : 79664409,
    "body" : "I am seeing something totally different when I drag. My cursor changes to the <a href=\"https://en.wikipedia.org/wiki/No_symbol\" rel=\"nofollow noreferrer\"><code>No Symbol</code></a>  and then back to a cursor with a dashed square box when I am over the green circle. Windows 11, OpenJDK 24, JavaFX 23. Same thing with JavaFX 24. What are the settings for your setup?",
    "score" : 1,
    "owner" : {
      "account_id" : 2819940,
      "reputation" : 14002,
      "user_id" : 2423906,
      "user_type" : "registered",
      "accept_rate" : 100,
      "profile_image" : "https://i.sstatic.net/rkpYv.jpg?s=256",
      "display_name" : "SedJ601",
      "link" : "https://stackoverflow.com/users/2423906/sedj601"
    },
    "creation_date" : 1749825373,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}