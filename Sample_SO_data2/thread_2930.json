{
  "question" : {
    "question_id" : 79587224,
    "title" : "dwr-2024 package throws internal version error",
    "body" : "<p>I have an older Java/JSP application that I have to update to Tomcat 10 by May 31, 2025.  This change in Tomcat versions covers Java's recent <code>javax -&gt; jakarta</code> API namespace change in the packages included with Tomcat, so I have to update the application to use the <code>jakarta</code> namespace instead of <code>javax</code>.</p>\n<p>This application imports a class <code>WebContextFactory</code> (<code>uk.ltd.getahead.dwr.WebContextFactory.class</code>) from a package called &quot;DWR&quot; (&quot;Direct Web Remoting&quot;) that's contained in a JAR <code>dwr.jar</code> that we don't have the source code for.  This class invokes the <code>javax</code> namespace, and thus I can't update my application without either amending the source code or (preferably) replacing it with a more up-to-date version of the package.</p>\n<p>There does appear to be an <a href=\"https://github.com/olddimplex/dwr-2024/\" rel=\"nofollow noreferrer\">updated version</a> of the library on GitHub.  However, when I attempt to build this source code into a JAR using the provided Ant buildfile, it results in an internal error due to its included <code>jakarta.servlet.ServletConfig</code> class:</p>\n<pre><code>    [javac] .../dwr-2024/core/api/main/java/org/directwebremoting/ServerContext.java:5: error: cannot access ServletConfig\n    [javac] import jakarta.servlet.ServletConfig;\n    [javac]                       ^\n    [javac]   bad class file: .../dwr-2024/target/ant/lib/jakarta.servlet-api-6.1.0.jar(jakarta/servlet/ServletConfig.class)\n    [javac]     class file has wrong version 55.0, should be 52.0\n    [javac]     Please remove or make sure it appears in the correct subdirectory of the classpath.\n</code></pre>\n<p>This file does not have source code within the <code>dwr-2024</code> code repo, so I can't investigate further based on what I have.</p>\n<p>The DWR project's GitHub page, linked above, doesn't allow issues to be posted.  They have a Dojo page for users, and I've <a href=\"https://discourse.dojo.io/t/jakarta-servletconfig-gives-wrong-version-error/654\" rel=\"nofollow noreferrer\">posted there</a>, but it seems to be full-on dead at this point and I can't rely on getting help there in time to meet the May 31 deadline.</p>\n<p>I have independently found the <a href=\"https://github.com/jakartaee/servlet/blob/master/api/src/main/java/jakarta/servlet/ServletConfig.java\" rel=\"nofollow noreferrer\">source code</a> for <code>jakarta.servlet.ServletConfig</code>, but I'm not certain I have the skill to amend it to work with <code>dwr-2024</code>.  Does anyone here a better way to either contact the DWR group for help, or another way to fix this code?</p>\n",
    "tags" : [ "java", "tomcat", "servlets", "dwr" ],
    "owner" : {
      "account_id" : 8896420,
      "reputation" : 573,
      "user_id" : 6673905,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/fbd7367b169beb2fd731db6c43c6d025?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Borea Deitz",
      "link" : "https://stackoverflow.com/users/6673905/borea-deitz"
    },
    "is_answered" : false,
    "view_count" : 129,
    "answer_count" : 1,
    "score" : 0,
    "last_activity_date" : 1745515589,
    "creation_date" : 1745346625,
    "link" : "https://stackoverflow.com/questions/79587224/dwr-2024-package-throws-internal-version-error",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79591179,
    "question_id" : 79587224,
    "body" : "<p>Class file 55 means the &quot;new&quot; dwr.jar was compiled with java 11. You'll need to switch to java 11 first.</p>\n<p>You could always take the old dwr.jar and run it through the migration tool and it'll update the byte code to be jakarta compatible.</p>\n<p><a href=\"https://tomcat.apache.org/download-migration.cgi\" rel=\"nofollow noreferrer\">https://tomcat.apache.org/download-migration.cgi</a></p>\n",
    "score" : 0,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 290539,
      "reputation" : 929,
      "user_id" : 592146,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/03c722708f1edb0b2098774043fb741d?s=256&d=identicon&r=PG",
      "display_name" : "Tim Funk",
      "link" : "https://stackoverflow.com/users/592146/tim-funk"
    },
    "creation_date" : 1745515589,
    "last_activity_date" : 1745515589,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140360883,
    "post_id" : 79587224,
    "body" : "Re duplicate marker: In other words: You&#39;re compiling your code with Java8, but include a dependency that was built on Java11 - which Java8 can not read, hence the &quot;expected version 52.0&quot; that Java8 would be able to read)",
    "score" : 0,
    "owner" : {
      "account_id" : 7701,
      "reputation" : 48253,
      "user_id" : 13447,
      "user_type" : "registered",
      "accept_rate" : 100,
      "profile_image" : "https://i.sstatic.net/q32V5.png?s=256",
      "display_name" : "Olaf Kock",
      "link" : "https://stackoverflow.com/users/13447/olaf-kock"
    },
    "creation_date" : 1745401548,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140360877,
    "post_id" : 79587224,
    "body" : "This question is similar to: <a href=\"https://stackoverflow.com/questions/9170832/list-of-java-class-file-format-major-version-numbers\">List of Java class file format major version numbers?</a>. If you believe it’s different, please <a href=\"https://stackoverflow.com/posts/79587224/edit\">edit</a> the question, make it clear how it’s different and/or how the answers on that question are not helpful for your problem.",
    "score" : 0,
    "owner" : {
      "account_id" : 7701,
      "reputation" : 48253,
      "user_id" : 13447,
      "user_type" : "registered",
      "accept_rate" : 100,
      "profile_image" : "https://i.sstatic.net/q32V5.png?s=256",
      "display_name" : "Olaf Kock",
      "link" : "https://stackoverflow.com/users/13447/olaf-kock"
    },
    "creation_date" : 1745401442,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140359307,
    "post_id" : 79587224,
    "body" : "I read the error incorrectly the other way around. Still if you search for that error you will find previous answers like <a href=\"https://stackoverflow.com/questions/60612488/error-class-file-has-wrong-version-55-0-should-be-52-0-when-building-alfresco\" title=\"error class file has wrong version 55 0 should be 52 0 when building alfresco\">stackoverflow.com/questions/60612488/&hellip;</a>",
    "score" : 0,
    "owner" : {
      "account_id" : 372682,
      "reputation" : 26512,
      "user_id" : 721855,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/vZiox.png?s=256",
      "display_name" : "aled",
      "link" : "https://stackoverflow.com/users/721855/aled"
    },
    "creation_date" : 1745355056,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140359291,
    "post_id" : 79587224,
    "body" : "@aled I have no clue how that&#39;s the implicit suggestion, but I am using Java 8.  <code>java -version</code> returns <code>openjdk version &quot;1.8.0_442&quot;</code> on the machine I tried to build <code>dwr-2024</code> on.",
    "score" : 0,
    "owner" : {
      "account_id" : 8896420,
      "reputation" : 573,
      "user_id" : 6673905,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/fbd7367b169beb2fd731db6c43c6d025?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Borea Deitz",
      "link" : "https://stackoverflow.com/users/6673905/borea-deitz"
    },
    "creation_date" : 1745354707,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140359114,
    "post_id" : 79587224,
    "body" : "<code>[javac] class file has wrong version 55.0, should be 52.0</code> have you tried with JDK 8 as the error implicitly suggests?",
    "score" : 0,
    "owner" : {
      "account_id" : 372682,
      "reputation" : 26512,
      "user_id" : 721855,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/vZiox.png?s=256",
      "display_name" : "aled",
      "link" : "https://stackoverflow.com/users/721855/aled"
    },
    "creation_date" : 1745351089,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140359105,
    "post_id" : 79587224,
    "body" : "Kindly note that deadlines and urgency are not relevant in <a href=\"https://stackoverflow.com\">Stack Overflow</a> questions: <a href=\"//meta.stackoverflow.com/q/326569\">Under what circumstances may I add &quot;urgent&quot; or other similar phrases to my question, in order to obtain faster answers?</a>",
    "score" : 0,
    "owner" : {
      "account_id" : 372682,
      "reputation" : 26512,
      "user_id" : 721855,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/vZiox.png?s=256",
      "display_name" : "aled",
      "link" : "https://stackoverflow.com/users/721855/aled"
    },
    "creation_date" : 1745350925,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}