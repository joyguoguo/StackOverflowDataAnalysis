{
  "question" : {
    "question_id" : 79840176,
    "title" : "Spring Boot 4.0.0. cannot resolve symbol DataJpaTest",
    "body" : "<p>I am new to Java and Spring Boot. I am building a small CRUD app to learn about JPA and the H2 database.</p>\n<p>This is my POM file:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;4.0.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.robertforpresent&lt;/groupId&gt;\n    &lt;artifactId&gt;spring_api&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;spring_api&lt;/name&gt;\n    &lt;description&gt;Spring API&lt;/description&gt;\n    &lt;url/&gt;\n    &lt;licenses&gt;\n        &lt;license/&gt;\n    &lt;/licenses&gt;\n    &lt;developers&gt;\n        &lt;developer/&gt;\n    &lt;/developers&gt;\n    &lt;scm&gt;\n        &lt;connection/&gt;\n        &lt;developerConnection/&gt;\n        &lt;tag/&gt;\n        &lt;url/&gt;\n    &lt;/scm&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;25&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-h2console&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webmvc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;annotationProcessorPaths&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/path&gt;\n                    &lt;/annotationProcessorPaths&gt;\n                    &lt;source&gt;16&lt;/source&gt;\n                    &lt;target&gt;16&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;addResources&gt;true&lt;/addResources&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;argLine&gt;-XX:+EnableDynamicAgentLoading&lt;/argLine&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>When I annotate a test with DataJPATest, it cannot resolve it. I tried with Claude Code, a new spring. Initializer pom (with JPA, test, and H2 dependencies) as well as searching the Web manually.</p>\n<p>I found import statements like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTest;\n</code></pre>\n<p>However, the <code>orm</code> does not exist. I invalidated caches (I use IntelliJ), deleted .m2/org/springframework/boot, and did several mvn clean install. No solution yet.<br />\nI fear I am missing something very obvious, due to my little hands-on experience with either Java or Maven.</p>\n<p>I found this: <a href=\"https://stackoverflow.com/questions/79826448/datajpatest-and-autoconfiguretestdatabase-in-spring-boot-4-0-0\">DataJpaTest and AutoConfigureTestDatabase in Spring Boot 4.0.0</a>. But here &quot;jpa.test&quot; (test) is missing.</p>\n",
    "tags" : [ "java", "spring-boot", "testing" ],
    "owner" : {
      "account_id" : 44934520,
      "reputation" : 13,
      "user_id" : 32012412,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/77ffaa30b56de23ba6046a7dba342f72?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Robert Meissner",
      "link" : "https://stackoverflow.com/users/32012412/robert-meissner"
    },
    "is_answered" : true,
    "view_count" : 302,
    "answer_count" : 2,
    "score" : 1,
    "last_activity_date" : 1765157056,
    "creation_date" : 1765101435,
    "link" : "https://stackoverflow.com/questions/79840176/spring-boot-4-0-0-cannot-resolve-symbol-datajpatest",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79840178,
    "question_id" : 79840176,
    "body" : "<p>Spring Boot 4 <a href=\"https://spring.io/blog/2025/10/28/modularizing-spring-boot\" rel=\"nofollow noreferrer\">modularizes</a> the codebase so various things are moved to different modules/dependencies. This results in you needing more dependencies than with Spring Boot 3 (and sometimes different package names).</p>\n<p>If you take a look at the <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-4.0-Migration-Guide#starters\" rel=\"nofollow noreferrer\">Module dependency starters table</a> in the migration guide, you should see the following entry:</p>\n<div class=\"s-table-container\"><table class=\"s-table\">\n<thead>\n<tr>\n<th>Technology</th>\n<th>Main Dependency</th>\n<th>Test Dependency</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Spring Data JPA (using Hibernate)</td>\n<td><code>spring-boot-starter-data-jpa</code></td>\n<td><code>spring-boot-starter-data-jpa-test</code></td>\n</tr>\n</tbody>\n</table></div>\n<p>So, you need the <code>spring-boot-starter-data-jpa-test</code> dependency for testing code using <code>spring-boot-starter-data-jpa</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-jpa-test&lt;/artifactId&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>In fact, this dependency is also present in the <a href=\"https://stackoverflow.com/q/79826448/10871900\">question you linked</a> which is why the answer works there.</p>\n",
    "score" : 2,
    "is_accepted" : true,
    "owner" : {
      "account_id" : 15064163,
      "reputation" : 17111,
      "user_id" : 10871900,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/720202b6e19abc330dcd92e6a1254562?s=256&d=identicon&r=PG",
      "display_name" : "dan1st",
      "link" : "https://stackoverflow.com/users/10871900/dan1st"
    },
    "creation_date" : 1765101809,
    "last_activity_date" : 1765101809,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "answer_id" : 79840558,
    "question_id" : 79840176,
    "body" : "<p>The problem isn’t with <code>@DataJpaTest</code> itself – it’s with your <strong>Spring Boot version</strong>.</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;4.0.0&lt;/version&gt;\n&lt;/parent&gt;\n</code></pre>\n<p>Use a real, released Spring Boot version (and a supported Java version), for example:</p>\n<pre><code>&lt;project ...&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.3.5&lt;/version&gt; &lt;!-- or latest stable --&gt;\n        &lt;relativePath/&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>After changing the version:</p>\n<ol>\n<li><p><strong>Reimport Maven</strong> project in IntelliJ.</p>\n</li>\n<li><p>Maybe run <code>mvn clean test</code> once.</p>\n</li>\n</ol>\n<p><code>@DataJpaTest</code> lives in <code>spring-boot-test-autoconfigure</code>, which is pulled in transitively by <code>spring-boot-starter-test</code> for valid Spring Boot versions, so once you’re off of <code>4.0.0</code> it will resolve correctly.</p>\n<p>Then your test</p>\n<pre><code>import org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTest;\n\n@DataJpaTest\nclass MyRepositoryTest {\n    // ...\n}\n\n</code></pre>\n",
    "score" : -1,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 1807468,
      "reputation" : 335,
      "user_id" : 1644280,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/f18fe15e4ebd5283482de3fc4a939058?s=256&d=identicon&r=PG",
      "display_name" : "Lavi Kumar",
      "link" : "https://stackoverflow.com/users/1644280/lavi-kumar"
    },
    "creation_date" : 1765157056,
    "last_activity_date" : 1765157056,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140891239,
    "post_id" : 79840176,
    "body" : "<a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">start.spring.io</a> , Spring Boot <code>4.0.0</code> click <b>[ADD DEPENDENCIES...]</b>, ADD <code>Spring Data JPA</code>,<code>H2 Database</code>,<code>Spring Web</code>, then click <code>[GENERATE]</code>, pom.xml will include <code>&lt;dependency&gt; \t&lt;groupId&gt;org.springframework.boot&lt;&#47;groupId&gt; \t&lt;artifactId&gt;spring-boot-starter-data-jpa-test&lt;&#47;artifactId&gt; \t&lt;scope&gt;test&lt;&#47;scope&gt; &lt;&#47;dependency&gt;</code>",
    "score" : 0,
    "owner" : {
      "account_id" : 26698569,
      "reputation" : 4090,
      "user_id" : 20306007,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/98bbc403493aee3681b71dae7abef66e?s=256&d=identicon&r=PG",
      "display_name" : "life888888",
      "link" : "https://stackoverflow.com/users/20306007/life888888"
    },
    "creation_date" : 1765103056,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : {
    "79840178" : [ {
      "comment_id" : 140892248,
      "post_id" : 79840178,
      "body" : "Oh I didn&#39;t notice that (probably due to the character limit when editing the comment). I wanted to say that other tooling may have similar functionality, yes. With IntelliJ, it would be only available in the Ultimate Edition. I tried the Spring Tools 5 release candidate but it doesn&#39;t seem to support that upgrade (yet). (Also I wanted to say Spring Boot 3 --&gt; Spring Boot 4 of course.) Aside from that, you might find some third-party migration (e.g. OpenRewrite) scripts like <a href=\"https://docs.openrewrite.org/recipes/java/spring/boot4/upgradespringboot_4_0-community-edition\" rel=\"nofollow noreferrer\">this one</a>.",
      "score" : 1,
      "owner" : {
        "account_id" : 15064163,
        "reputation" : 17111,
        "user_id" : 10871900,
        "user_type" : "registered",
        "profile_image" : "https://www.gravatar.com/avatar/720202b6e19abc330dcd92e6a1254562?s=256&d=identicon&r=PG",
        "display_name" : "dan1st",
        "link" : "https://stackoverflow.com/users/10871900/dan1st"
      },
      "creation_date" : 1765186183,
      "content_license" : "CC BY-SA 4.0"
    }, {
      "comment_id" : 140892204,
      "post_id" : 79840178,
      "body" : "your reply was cut off. I will have a look at Spring Tools. I use Jetbrains tooling, I presume they have something like that, too. Thank you!",
      "score" : 0,
      "owner" : {
        "account_id" : 44934520,
        "reputation" : 13,
        "user_id" : 32012412,
        "user_type" : "registered",
        "profile_image" : "https://www.gravatar.com/avatar/77ffaa30b56de23ba6046a7dba342f72?s=256&d=identicon&r=PG&f=y&so-version=2",
        "display_name" : "Robert Meissner",
        "link" : "https://stackoverflow.com/users/32012412/robert-meissner"
      },
      "creation_date" : 1765183686,
      "content_license" : "CC BY-SA 4.0"
    }, {
      "comment_id" : 140891275,
      "post_id" : 79840178,
      "body" : "@RobertMeissner When I generate a <i>new</i> project with Spring Boot 4 + Spring JPA using Spring Initializr, it seems to show me the dependency. To avoid things like this, I&#39;d say the best options are checking the migration guide as you mentioned and your IDE may provide tooling for it. For example, Spring Tools (the Spring tooling for Eclipse/VSC/etc. provided by the Spring Team) has an option to automatically perform a Spring Boot upgrade (but I think the Spring Boot 4 --&gt; Spring Boot 5 upgrade may only come with Spring Tools 5 which one can get release candidates for). Other tooling may have si",
      "score" : 0,
      "owner" : {
        "account_id" : 15064163,
        "reputation" : 17111,
        "user_id" : 10871900,
        "user_type" : "registered",
        "profile_image" : "https://www.gravatar.com/avatar/720202b6e19abc330dcd92e6a1254562?s=256&d=identicon&r=PG",
        "display_name" : "dan1st",
        "link" : "https://stackoverflow.com/users/10871900/dan1st"
      },
      "creation_date" : 1765105680,
      "content_license" : "CC BY-SA 4.0"
    }, {
      "comment_id" : 140891224,
      "post_id" : 79840178,
      "body" : "Thank you. I am slightly confused that the spring initialized did not automatically incldue this and most examples did not have the &quot;spring-boot-starter-data-jpa-test&quot; dependency. And you are right, the linked question has the test dependency in the pom file. I apologize for not noticing that. Any hints on how I could have avoided this obstacle? Checking the migration guide?",
      "score" : 0,
      "owner" : {
        "account_id" : 44934520,
        "reputation" : 13,
        "user_id" : 32012412,
        "user_type" : "registered",
        "profile_image" : "https://www.gravatar.com/avatar/77ffaa30b56de23ba6046a7dba342f72?s=256&d=identicon&r=PG&f=y&so-version=2",
        "display_name" : "Robert Meissner",
        "link" : "https://stackoverflow.com/users/32012412/robert-meissner"
      },
      "creation_date" : 1765102504,
      "content_license" : "CC BY-SA 4.0"
    } ],
    "79840558" : [ {
      "comment_id" : 140892206,
      "post_id" : 79840558,
      "body" : "I got Spring Boot 4 through spring initializer. Is that not the released version, then?",
      "score" : 0,
      "owner" : {
        "account_id" : 44934520,
        "reputation" : 13,
        "user_id" : 32012412,
        "user_type" : "registered",
        "profile_image" : "https://www.gravatar.com/avatar/77ffaa30b56de23ba6046a7dba342f72?s=256&d=identicon&r=PG&f=y&so-version=2",
        "display_name" : "Robert Meissner",
        "link" : "https://stackoverflow.com/users/32012412/robert-meissner"
      },
      "creation_date" : 1765183774,
      "content_license" : "CC BY-SA 4.0"
    }, {
      "comment_id" : 140892071,
      "post_id" : 79840558,
      "body" : "There is nothing wrong with Spring Boot 4.0.0 which <b>is a real version</b>. So this answer doesn&#39;t make any sense whatsover.",
      "score" : 0,
      "owner" : {
        "account_id" : 3192259,
        "reputation" : 126826,
        "user_id" : 2696260,
        "user_type" : "registered",
        "profile_image" : "https://i.sstatic.net/qHEzx.png?s=256",
        "display_name" : "M. Deinum",
        "link" : "https://stackoverflow.com/users/2696260/m-deinum"
      },
      "creation_date" : 1765176243,
      "content_license" : "CC BY-SA 4.0"
    } ]
  }
}