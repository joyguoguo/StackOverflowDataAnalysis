{
  "question" : {
    "question_id" : 79659341,
    "title" : "Why does IntelliJ allow _ as an identifier even though it&#39;s not allowed in Java 9+?",
    "body" : "<p>I'm experimenting with this code in IntelliJ:</p>\n<pre><code>public class Test {\n    public static void main(String[] args) {\n        String _ = &quot;Hello World&quot;;\n    }\n}\n</code></pre>\n<p>According to the OCP Java 17 certification guide, &quot;A single underscore _ is not allowed as an identifier.&quot;\nHowever, IntelliJ compiles and runs this code without error. Why is that? Shouldn't this result in a compilation error ?</p>\n<p>But after trying to print it it shows this error: <code>Using '_' as a reference is not allowed</code></p>\n<pre><code>public class Test {\n    public static void main(String[] args) {\n        String _ = &quot;Hello World&quot;;\n        System.out.println(_);\n    }\n}\n</code></pre>\n<p>My question is why does the compiler wait for me until i use it that identifier? does it ignore it in first place? what's this technique ?</p>\n",
    "tags" : [ "java", "intellij-idea" ],
    "owner" : {
      "account_id" : 28708185,
      "reputation" : 65,
      "user_id" : 21984148,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/9110ac6b6c234c907394ae643f306397?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "santi cazorla",
      "link" : "https://stackoverflow.com/users/21984148/santi-cazorla"
    },
    "is_answered" : true,
    "view_count" : 139,
    "answer_count" : 1,
    "score" : 3,
    "last_activity_date" : 1749528780,
    "creation_date" : 1749493271,
    "link" : "https://stackoverflow.com/questions/79659341/why-does-intellij-allow-as-an-identifier-even-though-its-not-allowed-in-java",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79659377,
    "question_id" : 79659341,
    "body" : "<p><code>String _ = &quot;Hello World&quot;</code> does not declare a variable named <code>_</code>. It simply evaluates the expression <code>&quot;Hello World&quot;</code>, and that's it. <code>_</code> is not used as an identifier here.</p>\n<p>This is the feature <a href=\"https://openjdk.org/jeps/456\" rel=\"noreferrer\">Unnamed Variables &amp; Patterns (JEP 456)</a>, which is implemented in Java 22, and available as a preview feature in Java 21. The code would not compile in Java 17.</p>\n<p>This feature is useful if you only need the side effect of evaluating an expression, or if the syntax requires you to declare a variable (e.g. in an enhanced <code>for</code> loop), but you don't actually need that variable. In such cases, you can replace the variable name with the <em>keyword</em> <code>_</code>.</p>\n<p>Here are some examples from the motivation section in JEP 456:</p>\n<pre><code>static int count(Iterable&lt;Order&gt; orders) {\n    int total = 0;\n    // could be written as 'for (Order _ : orders)' instead, since order is not used\n    for (Order order : orders)\n        total++;\n    return total;\n}\n</code></pre>\n<pre><code>Queue&lt;Integer&gt; q = ... // x1, y1, z1, x2, y2, z2 ..\nwhile (q.size() &gt;= 3) {\n   int x = q.remove();\n   int y = q.remove();\n   int z = q.remove(); // could be written as 'int _ = q.remove();'\n    ... new Point(x, y) ...\n}\n</code></pre>\n",
    "score" : 10,
    "is_accepted" : true,
    "owner" : {
      "account_id" : 6651855,
      "reputation" : 292280,
      "user_id" : 5133585,
      "user_type" : "registered",
      "accept_rate" : 96,
      "profile_image" : "https://i.sstatic.net/dfqcw.png?s=256",
      "display_name" : "Sweeper",
      "link" : "https://stackoverflow.com/users/5133585/sweeper"
    },
    "creation_date" : 1749494524,
    "last_activity_date" : 1749494524,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140500153,
    "post_id" : 79659341,
    "body" : "see also <a href=\"https://docs.oracle.com/javase/specs/jls/se24/html/jls-6.html#jls-6.1-140\" rel=\"nofollow noreferrer\">JLS 6.1. Declarations</a>: &quot;<i>If a declaration does not include an identifier, but instead includes the keyword <code>_</code> (underscore), then the entity cannot be referred to by name.</i>&quot;",
    "score" : 0,
    "owner" : {
      "account_id" : 31180,
      "reputation" : 29752,
      "user_id" : 85421,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/kKvXH.gif?s=256",
      "display_name" : "user85421",
      "link" : "https://stackoverflow.com/users/85421/user85421"
    },
    "creation_date" : 1749494727,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140500123,
    "post_id" : 79659341,
    "body" : "Like @user85421 said, since Java 22, you can use <code>_</code> again. However, it&#39;s not the name of a variable but sooner the absence of a variable name. You can even use it more than once in some conditions, like lambda expressions: <code>(_, _) -&gt; doSomethingThatIgnoresTheInput()</code>. And because it&#39;s not the actual name of a variable, you cannot use it anywhere other than the declaration.",
    "score" : 2,
    "owner" : {
      "account_id" : 1211967,
      "reputation" : 9964,
      "user_id" : 1180351,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/pKB8y.png?s=256",
      "display_name" : "Rob Spoor",
      "link" : "https://stackoverflow.com/users/1180351/rob-spoor"
    },
    "creation_date" : 1749494245,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140500122,
    "post_id" : 79659341,
    "body" : "I must complement/correct what I wrote, it is NOT declaring a variable with that name, it is a declaration using <code>_</code> in place of the variable name, no variable is actually created! Did you try it with Java 17?",
    "score" : 0,
    "owner" : {
      "account_id" : 31180,
      "reputation" : 29752,
      "user_id" : 85421,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/kKvXH.gif?s=256",
      "display_name" : "user85421",
      "link" : "https://stackoverflow.com/users/85421/user85421"
    },
    "creation_date" : 1749494243,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140500098,
    "post_id" : 79659341,
    "body" : "Are you sure you are just not seeing the underlined error on it? <a href=\"https://imgur.com/a/mpeOXpH\" rel=\"nofollow noreferrer\">imgur.com/a/mpeOXpH</a>",
    "score" : 0,
    "owner" : {
      "account_id" : 209503,
      "reputation" : 23867,
      "user_id" : 460557,
      "user_type" : "registered",
      "accept_rate" : 100,
      "profile_image" : "https://www.gravatar.com/avatar/b4565f97815833390c9c880e9e8522e4?s=256&d=identicon&r=PG",
      "display_name" : "Jorge Campos",
      "link" : "https://stackoverflow.com/users/460557/jorge-campos"
    },
    "creation_date" : 1749493926,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140500093,
    "post_id" : 79659341,
    "body" : "The Java Language Specification <a href=\"https://docs.oracle.com/javase/specs/jls/se24/html/jls-14.html#jls-14.4\" rel=\"nofollow noreferrer\">14.4. Local Variable Declarations</a> allows a local variable to be declared with the <code>_</code> name (since Java 22, introduced by <a href=\"https://openjdk.org/jeps/456\" rel=\"nofollow noreferrer\">JEP 456: Unnamed Variables &amp; Patterns</a> ) -- it indicates that the developer does not need its value, its value cannot be accessed",
    "score" : 5,
    "owner" : {
      "account_id" : 31180,
      "reputation" : 29752,
      "user_id" : 85421,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/kKvXH.gif?s=256",
      "display_name" : "user85421",
      "link" : "https://stackoverflow.com/users/85421/user85421"
    },
    "creation_date" : 1749493858,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}