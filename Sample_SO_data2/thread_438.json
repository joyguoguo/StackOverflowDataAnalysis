{
  "question" : {
    "question_id" : 79810119,
    "title" : "OpenApiInteractionValidator does not find any errors in trivial error cases",
    "body" : "<p><a href=\"https://javadoc.io/doc/com.atlassian.oai/swagger-request-validator-core/2.12.1/com/atlassian/oai/validator/OpenApiInteractionValidator.html\" rel=\"nofollow noreferrer\"><code>OpenApiInteractionValidator</code></a> seems to be ignoring almost all request errors. Seems like I am missing some configuration option or the tool is really extremely limited. I have checked my spec against several validators (it is correct) and editors (contents are properly understood).</p>\n<p>Here is my code:</p>\n<pre><code>OpenApiInteractionValidator validator = OpenApiInteractionValidator.createFor(/** my quite complex spec */)\n            .withLevelResolver(LevelResolver.create().withDefaultLevel(ValidationReport.Level.ERROR).build())\n            .build();\n\nValidationReport report = validator.validateRequest(SimpleRequest.Builder\n    .post(&quot;/some-endpoint-from-spec&quot;)\n    .withBody(&quot;{}&quot;)\n    .build()\n);\n\nassertThat(report.hasErrors())\n   .describedAs(&quot;Errors from the report: %s&quot;, report.getMessages())\n   .isFalse();\nlog.info(&quot;Messages from the report: {}&quot;, report.getMessages());\n\n</code></pre>\n<p>JSON body is required for the my endpoint and the JSON object must contain several properties.  <code>OpenApiInteractionValidator</code> considers correct following cases:</p>\n<ul>\n<li>empty object body <code>{}</code></li>\n<li>object body with invalid property</li>\n<li>invalid JSON</li>\n</ul>\n<p>The only errors it has detected:</p>\n<ul>\n<li>invalid path</li>\n<li>empty body</li>\n</ul>\n<p>No message is produced in report, so this is not a case of errors being ignored.</p>\n<p>Is the tool really that limited or am I missing something essential in configuration?</p>\n",
    "tags" : [ "java", "openapi" ],
    "owner" : {
      "account_id" : 66967,
      "reputation" : 603,
      "user_id" : 196207,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/c01c5b8834da35cbfbcf09c29d101600?s=256&d=identicon&r=PG",
      "display_name" : "Sankozi",
      "link" : "https://stackoverflow.com/users/196207/sankozi"
    },
    "is_answered" : true,
    "view_count" : 48,
    "answer_count" : 1,
    "score" : 0,
    "last_activity_date" : 1762361987,
    "creation_date" : 1762349590,
    "link" : "https://stackoverflow.com/questions/79810119/openapiinteractionvalidator-does-not-find-any-errors-in-trivial-error-cases",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79810378,
    "question_id" : 79810119,
    "body" : "<p>After some debugging.</p>\n<p>It seems the library does not reject and cannot verify requests without content type. After adding content type the library correctly spots all kind of errors.</p>\n",
    "score" : 0,
    "is_accepted" : true,
    "owner" : {
      "account_id" : 66967,
      "reputation" : 603,
      "user_id" : 196207,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/c01c5b8834da35cbfbcf09c29d101600?s=256&d=identicon&r=PG",
      "display_name" : "Sankozi",
      "link" : "https://stackoverflow.com/users/196207/sankozi"
    },
    "creation_date" : 1762361987,
    "last_activity_date" : 1762361987,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ ],
  "answer_comments" : { }
}