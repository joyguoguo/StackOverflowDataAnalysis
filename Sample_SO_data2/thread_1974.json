{
  "question" : {
    "question_id" : 79662491,
    "title" : "Does Java program process have more threads on OS level than JVM level?",
    "body" : "<p>I have this simple Java program which starts 10 threads that just sleep.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.stream.IntStream;\n\npublic class Main {\n\n    static void sleep() {\n        try {\n            Thread.sleep(100_000);\n        } catch (InterruptedException e) {\n            System.exit(1);\n        }\n    }\n\n    public static void main(String... args) {\n        IntStream.range(0, 10)\n            .mapToObj($ -&gt; new Thread(Main::sleep))\n            .forEach(Thread::start);\n    }\n}\n</code></pre>\n<p>I wrote this script to check how many threads exist on JVM level and how many exist on OS level</p>\n<pre class=\"lang-bash prettyprint-override\"><code>#!/usr/bin/env bash\n\nJPID=$(jps -l | grep Main | awk '{print $1}')\nJAVA_THREADS_COUNT=$(jstack ${JPID} | grep -E &quot;^\\&quot;&quot; | wc -l)\nOS_THREADS_COUNT=$(ps -o nlwp= -p $JPID)\n\necho &quot;Java threads count: ${JAVA_THREADS_COUNT}&quot;\necho &quot;OS threads count: ${OS_THREADS_COUNT}&quot;\n</code></pre>\n<p>The output of the script always shows that OS threads count has 1 more than Java threads count.</p>\n<p>Do I have a mistake in the script or is this expected? If it is expected then why is it the case?</p>\n",
    "tags" : [ "java", "jvm" ],
    "owner" : {
      "account_id" : 26289969,
      "reputation" : 545,
      "user_id" : 19957114,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/er744.jpg?s=256",
      "display_name" : "dev-rifaii",
      "link" : "https://stackoverflow.com/users/19957114/dev-rifaii"
    },
    "is_answered" : false,
    "view_count" : 94,
    "answer_count" : 0,
    "score" : 0,
    "last_activity_date" : 1749667325,
    "creation_date" : 1749667325,
    "link" : "https://stackoverflow.com/questions/79662491/does-java-program-process-have-more-threads-on-os-level-than-jvm-level",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ ],
  "question_comments" : [ {
    "comment_id" : 140582160,
    "post_id" : 79662491,
    "body" : "Don&#39;t forget about the existence of the main thread, and you should print out the specific thread list or perform a thread dump.",
    "score" : 0,
    "owner" : {
      "account_id" : 36772059,
      "reputation" : 59,
      "user_id" : 27909701,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/cb67853486307b4c0d8b90401c1c78d9?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "user27909701",
      "link" : "https://stackoverflow.com/users/27909701/user27909701"
    },
    "creation_date" : 1752231957,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140507710,
    "post_id" : 79662491,
    "body" : "See <a href=\"https://blog.jamesdbloom.com/JVMInternals.html#jvm_system_threads\" rel=\"nofollow noreferrer\">blog.jamesdbloom.com/JVMInternals.html#jvm_system_threads</a>",
    "score" : 2,
    "owner" : {
      "account_id" : 47283,
      "reputation" : 723470,
      "user_id" : 139985,
      "user_type" : "registered",
      "accept_rate" : 69,
      "profile_image" : "https://www.gravatar.com/avatar/147c5a9cc1feec049c50da791ac7d144?s=256&d=identicon&r=PG",
      "display_name" : "Stephen C",
      "link" : "https://stackoverflow.com/users/139985/stephen-c"
    },
    "creation_date" : 1749713995,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140507694,
    "post_id" : 79662491,
    "body" : "@LouisWasserman - it does.  More than one.  And IIRC there are a couple of other threads too.",
    "score" : 1,
    "owner" : {
      "account_id" : 47283,
      "reputation" : 723470,
      "user_id" : 139985,
      "user_type" : "registered",
      "accept_rate" : 69,
      "profile_image" : "https://www.gravatar.com/avatar/147c5a9cc1feec049c50da791ac7d144?s=256&d=identicon&r=PG",
      "display_name" : "Stephen C",
      "link" : "https://stackoverflow.com/users/139985/stephen-c"
    },
    "creation_date" : 1749713682,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140506958,
    "post_id" : 79662491,
    "body" : "I wouldn&#39;t be shocked if the JVM always had a background thread responsible for parts of garbage collection.",
    "score" : 1,
    "owner" : {
      "account_id" : 465573,
      "reputation" : 200423,
      "user_id" : 869736,
      "user_type" : "registered",
      "accept_rate" : 82,
      "profile_image" : "https://www.gravatar.com/avatar/ae7bb06b9a23a4dd7eea69e853d47d12?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Louis Wasserman",
      "link" : "https://stackoverflow.com/users/869736/louis-wasserman"
    },
    "creation_date" : 1749676833,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140506596,
    "post_id" : 79662491,
    "body" : "The JVM may be creating thread for its own purposes. Capture a thread dump of the JVM and check exactly what thread are active to verify.",
    "score" : 2,
    "owner" : {
      "account_id" : 372682,
      "reputation" : 26512,
      "user_id" : 721855,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/vZiox.png?s=256",
      "display_name" : "aled",
      "link" : "https://stackoverflow.com/users/721855/aled"
    },
    "creation_date" : 1749667613,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}