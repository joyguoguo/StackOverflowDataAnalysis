{
  "question" : {
    "question_id" : 79792184,
    "title" : "Spring Boot ignores @XmlJavaTypeAdapter",
    "body" : "<p>I have a date member with Annotation jakarta.xml.bind.annotation.adapters.XmlJavaTypeAdapter</p>\n<pre><code>@XmlJavaTypeAdapter(LocalDateTimeAdapter.class)\nprivate LocalDateTime mydate;\n</code></pre>\n<p>When i send xml body to my service</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n...\n&lt;mydate&gt;2025-10-15 09:49:54&lt;/mydate&gt;\n...\n</code></pre>\n<p>i got an error:</p>\n<pre><code>Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot deserialize value of type `java.time.LocalDateTime` from String &quot;2025-10-15 09:49:54&quot;\n</code></pre>\n<p>This is because Spring Boot use Jackson and not my JaxB Adapter.</p>\n<p>How can i configure Spring Boot to use my JaxB Adapter?</p>\n<p>Here is my Adapter:</p>\n<pre><code>public class LocalDateTimeAdapter extends XmlAdapter&lt;String, LocalDateTime&gt; {\n\n    private static final DateTimeFormatter STANDARD_DATETIME_PATTERN = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;);\n\n    public LocalDateTime unmarshal(String value) {\n        try {\n            return LocalDateTime.parse(value, STANDARD_DATETIME_PATTERN);\n        } catch (Exception e) {\n            throw new MyException(e.getMessage(), e);\n        }\n    }\n\n    public String marshal(LocalDateTime localDateTime) {\n        try {\n            return localDateTime.format(STANDARD_DATETIME_PATTERN);\n        } catch (Exception e) {\n            throw new MyException(e.getMessage(), e);\n        }\n    }\n}\n</code></pre>\n<p>Do you have any ideas? Thanks a lot</p>\n<p>EDIT:\nI found the reason but no solution. The “net.sf.jasperreports” library comes with jackson-dataformat-xml as a dependency, and SpringBoot picks the XML parser from jackson-xml instead of jaxb.</p>\n",
    "tags" : [ "java", "spring-boot", "jackson", "jaxb" ],
    "owner" : {
      "account_id" : 20513250,
      "reputation" : 19,
      "user_id" : 20846747,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/b49f597d592c73ac37808c95e5774c95?s=256&d=identicon&r=PG",
      "display_name" : "Randall Stephens",
      "link" : "https://stackoverflow.com/users/20846747/randall-stephens"
    },
    "is_answered" : false,
    "view_count" : 75,
    "answer_count" : 0,
    "score" : 0,
    "last_activity_date" : 1760967757,
    "creation_date" : 1760620582,
    "link" : "https://stackoverflow.com/questions/79792184/spring-boot-ignores-xmljavatypeadapter",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ ],
  "question_comments" : [ {
    "comment_id" : 140829308,
    "post_id" : 79792184,
    "body" : "I cannot exclude dataformat-xml from Jasper Reports, because Jasper Reports needs it. &quot;explicitly order the XML converts to prefer JAXB over Jackson XML&quot; Yes but how?",
    "score" : 0,
    "owner" : {
      "account_id" : 20513250,
      "reputation" : 19,
      "user_id" : 20846747,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/b49f597d592c73ac37808c95e5774c95?s=256&d=identicon&r=PG",
      "display_name" : "Randall Stephens",
      "link" : "https://stackoverflow.com/users/20846747/randall-stephens"
    },
    "creation_date" : 1761916543,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140826758,
    "post_id" : 79792184,
    "body" : "Exclude the dependency for <code>dataformat-xml</code> from Jasper Reports, or explicitly order the XML converts to prefer JAXB over Jackson XML.",
    "score" : 0,
    "owner" : {
      "account_id" : 3192259,
      "reputation" : 126826,
      "user_id" : 2696260,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/qHEzx.png?s=256",
      "display_name" : "M. Deinum",
      "link" : "https://stackoverflow.com/users/2696260/m-deinum"
    },
    "creation_date" : 1761819639,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140825455,
    "post_id" : 79792184,
    "body" : "Because if i remove “net.sf.jasperreports” library from classpath, so dataformat-xml is not longer a dependency. And than it works, because in that case spring picks the jaxb parser",
    "score" : 0,
    "owner" : {
      "account_id" : 20513250,
      "reputation" : 19,
      "user_id" : 20846747,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/b49f597d592c73ac37808c95e5774c95?s=256&d=identicon&r=PG",
      "display_name" : "Randall Stephens",
      "link" : "https://stackoverflow.com/users/20846747/randall-stephens"
    },
    "creation_date" : 1761758075,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140822250,
    "post_id" : 79792184,
    "body" : "Well if you are using Jackson XML what makes you think using JAXB configuration will help?",
    "score" : 0,
    "owner" : {
      "account_id" : 3192259,
      "reputation" : 126826,
      "user_id" : 2696260,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/qHEzx.png?s=256",
      "display_name" : "M. Deinum",
      "link" : "https://stackoverflow.com/users/2696260/m-deinum"
    },
    "creation_date" : 1761645307,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140799981,
    "post_id" : 79792184,
    "body" : "no, Content-Type is application/xml Spring is using the Jackson XML Date Adapter, not my LocalDateTimeAdapter if I use &quot;@JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;)&quot; it works",
    "score" : 0,
    "owner" : {
      "account_id" : 20513250,
      "reputation" : 19,
      "user_id" : 20846747,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/b49f597d592c73ac37808c95e5774c95?s=256&d=identicon&r=PG",
      "display_name" : "Randall Stephens",
      "link" : "https://stackoverflow.com/users/20846747/randall-stephens"
    },
    "creation_date" : 1760626112,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140799796,
    "post_id" : 79792184,
    "body" : "It will parse it as json if the content-type is json. So you probably are sending the wrong content type (this has nothing to do with the using of the adapter). Next to that make sure you have a full jaxb implementation on the classpath else it won&#39;t be possible to parse the request.",
    "score" : 0,
    "owner" : {
      "account_id" : 3192259,
      "reputation" : 126826,
      "user_id" : 2696260,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/qHEzx.png?s=256",
      "display_name" : "M. Deinum",
      "link" : "https://stackoverflow.com/users/2696260/m-deinum"
    },
    "creation_date" : 1760622466,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}