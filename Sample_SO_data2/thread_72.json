{
  "question" : {
    "question_id" : 79841425,
    "title" : "64- bit exception generated in a 64- bit environment",
    "body" : "<p>I am trying to run a web application that is on Tomcat 9 using Java 17. I am using the latest version of Eclipse to compile and run the application.</p>\n<p>The application is starting up with the following exception:</p>\n<pre><code>    WARNING: The Apache Tomcat Native library failed to load. The error reported was [C:\\Software\\apache-tomcat-9.0.105\\bin\\tcnative-1.dll: Can't load AMD 64-bit .dll on a IA 32-bit platform]\n    java.lang.UnsatisfiedLinkError: C:\\Software\\apache-tomcat-9.0.105\\bin\\tcnative-1.dll: Can't load AMD 64-bit .dll on a IA 32-bit platform\n               at java.base/jdk.internal.loader.NativeLibraries.load(Native Method)\n               at java.base/jdk.internal.loader.NativeLibraries$NativeLibraryImpl.open(NativeLibraries.java:388)\n               at java.base/jdk.internal.loader.NativeLibraries.loadLibrary(NativeLibraries.java:232)\n               at java.base/jdk.internal.loader.NativeLibraries.loadLibrary(NativeLibraries.java:174)\n               at java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2394)\n               at java.base/java.lang.Runtime.load0(Runtime.java:755)\n               at java.base/java.lang.System.load(System.java:1970)\n               at org.apache.tomcat.jni.Library.&lt;init&gt;(Library.java:49)\n               at org.apache.tomcat.jni.Library.initialize(Library.java:260)\n               at org.apache.catalina.core.AprLifecycleListener.init(AprLifecycleListener.java:212)\n               at org.apache.catalina.core.AprLifecycleListener.lifecycleEvent(AprLifecycleListener.java:143)\n               at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:109)\n               at org.apache.catalina.util.LifecycleBase.setStateInternal(LifecycleBase.java:389)\n               at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:121)\n               at org.apache.catalina.startup.Catalina.load(Catalina.java:690)\n               at org.apache.catalina.startup.Catalina.load(Catalina.java:713)\n               at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n               at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n               at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n               at java.base/java.lang.reflect.Method.invoke(Method.java:569)\n               at org.apache.catalina.startup.Bootstrap.load(Bootstrap.java:302)\n               at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:475)\n</code></pre>\n<p>I understand that this exception is thrown due to an attempt to use a 64- bit DLL with a 32- bit JVM. Consequently,\nI was careful to make sure that I downloaded a 64- bit Java 17 JVM, and I set my Tomcat installation so that it\nutilizes that 64- bit JVM.</p>\n<p>Unfortunately, despite my efforts, I am still getting the same exception.</p>\n<p>Has anyone else seen this problem? Can someone tell me how to fix it?</p>\n",
    "tags" : [ "java", "eclipse", "tomcat" ],
    "owner" : {
      "account_id" : 1039893,
      "reputation" : 2348,
      "user_id" : 1046184,
      "user_type" : "registered",
      "accept_rate" : 56,
      "profile_image" : "https://i.sstatic.net/bXSMO.jpg?s=256",
      "display_name" : "Factor Three",
      "link" : "https://stackoverflow.com/users/1046184/factor-three"
    },
    "is_answered" : true,
    "view_count" : 72,
    "answer_count" : 7,
    "score" : 0,
    "last_activity_date" : 1765381591,
    "creation_date" : 1765235532,
    "link" : "https://stackoverflow.com/questions/79841425/64-bit-exception-generated-in-a-64-bit-environment",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79841468,
    "question_id" : 79841425,
    "body" : "<p>Run <code>java -version</code>, this will probably show you the default is 32 bit.</p>\n<p>Run <code>java -d64 -version</code> to force 64 bit. This may display an error.</p>\n<p>Running your project with <code>java -d64 ...</code> should help then.\nOtherwise, you need to change the JVM you're using.</p>\n",
    "score" : 1,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 2182934,
      "reputation" : 2660,
      "user_id" : 1932011,
      "user_type" : "registered",
      "accept_rate" : 71,
      "profile_image" : "https://www.gravatar.com/avatar/612163480a1ccb4785fd647a003eefbb?s=256&d=identicon&r=PG",
      "display_name" : "JayC667",
      "link" : "https://stackoverflow.com/users/1932011/jayc667"
    },
    "creation_date" : 1765241904,
    "last_activity_date" : 1765241904,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "answer_id" : 79841887,
    "question_id" : 79841425,
    "body" : "<p>You might check that properties <code>os.arch</code> and <code>java.vm.name</code> have the same 'bitness'</p>\n",
    "score" : 0,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 22124137,
      "reputation" : 4244,
      "user_id" : 16376827,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/1ImPw.png?s=256",
      "display_name" : "g00se",
      "link" : "https://stackoverflow.com/users/16376827/g00se"
    },
    "creation_date" : 1765281156,
    "last_activity_date" : 1765281156,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "answer_id" : 79842071,
    "question_id" : 79841425,
    "body" : "<p>JayC667:</p>\n<p>I did what you suggested. Below are the results:</p>\n<pre><code>C:\\Software\\jdk17.0.17_10\\bin&gt;.\\java --version\nopenjdk 17.0.17 2025-10-21 LTS\nOpenJDK Runtime Environment Corretto-17.0.17.10.1 (build 17.0.17+10-LTS)\nOpenJDK 64-Bit Server VM Corretto-17.0.17.10.1 (build 17.0.17+10-LTS, mixed mode, sharing)\n\nC:\\Software\\jdk17.0.17_10\\bin&gt;.\\java -d64 -version\nUnrecognized option: -d64\nError: Could not create the Java Virtual Machine.\nError: A fatal exception has occurred. Program will exit.\n</code></pre>\n<ol>\n<li><p>The JVM is clearly a 64- bit JVM</p>\n</li>\n<li><p>-d64 is apparently no longer an option for running JVMs.</p>\n</li>\n</ol>\n",
    "score" : 0,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 1039893,
      "reputation" : 2348,
      "user_id" : 1046184,
      "user_type" : "registered",
      "accept_rate" : 56,
      "profile_image" : "https://i.sstatic.net/bXSMO.jpg?s=256",
      "display_name" : "Factor Three",
      "link" : "https://stackoverflow.com/users/1046184/factor-three"
    },
    "creation_date" : 1765291552,
    "last_activity_date" : 1765291552,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "answer_id" : 79842076,
    "question_id" : 79841425,
    "body" : "<p>g00se:</p>\n<p>How do I check those properties? Aren't they for a Linux system? I am running on Windows.</p>\n",
    "score" : 0,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 1039893,
      "reputation" : 2348,
      "user_id" : 1046184,
      "user_type" : "registered",
      "accept_rate" : 56,
      "profile_image" : "https://i.sstatic.net/bXSMO.jpg?s=256",
      "display_name" : "Factor Three",
      "link" : "https://stackoverflow.com/users/1046184/factor-three"
    },
    "creation_date" : 1765291791,
    "last_activity_date" : 1765291791,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "answer_id" : 79842192,
    "question_id" : 79841425,
    "body" : "<p>Most likely you have multiple Java JRE/JDK installed, and e.g. a JAVA_HOME or similar registry entry that points to this other JRE version and that version is used by Tomcat. Or the Tomcat launcher is a 32 bit program and thus can only see 32 bit programs which can lead ho the situation that the path of the Java executable is still the same but redirected by Windows to the 32 bit programs folder.</p>\n",
    "score" : 0,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 50585,
      "reputation" : 43469,
      "user_id" : 150978,
      "user_type" : "registered",
      "accept_rate" : 78,
      "profile_image" : "https://www.gravatar.com/avatar/feadc214792e2581c3c750140e3eb2c7?s=256&d=identicon&r=PG",
      "display_name" : "Robert",
      "link" : "https://stackoverflow.com/users/150978/robert"
    },
    "creation_date" : 1765299452,
    "last_activity_date" : 1765299452,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "answer_id" : 79843120,
    "question_id" : 79841425,
    "body" : "<p>Robert:</p>\n<ol>\n<li><p>You are correct: I have a few different JVMs on my machine. I have checked all of them. They are all 64- bit JVMs.</p>\n</li>\n<li><p>Your idea about the Tomcat loader was a good one. I eliminated my existing Tomcat and made sure that I had installed a 64- bit Tomcat 9 onto my machine. Unfortunately, the 32- bit exception still occurs. I believe, however, that I will look at the Eclipse IDE...</p>\n</li>\n</ol>\n",
    "score" : 0,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 1039893,
      "reputation" : 2348,
      "user_id" : 1046184,
      "user_type" : "registered",
      "accept_rate" : 56,
      "profile_image" : "https://i.sstatic.net/bXSMO.jpg?s=256",
      "display_name" : "Factor Three",
      "link" : "https://stackoverflow.com/users/1046184/factor-three"
    },
    "creation_date" : 1765379672,
    "last_activity_date" : 1765379672,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "answer_id" : 79843152,
    "question_id" : 79841425,
    "body" : "<p>@FactorThree Have you also considered the JVMs that are embedded in other products? There is e.g. a jre embedded in recent Eclipse versions as well as other products. When Tomcat is running I would use Sysinternals ProcessExplorer (or if it directly closes ProcessMonitor) and check which dll files are loaded by the process running Tomcat. May be it uses an embeded jvm.dll. At least you should see the paths of all used dlls and you can check which JRE/jdk is used. And if the Tomcat process is 32 or 64 bit.</p>\n",
    "score" : 0,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 50585,
      "reputation" : 43469,
      "user_id" : 150978,
      "user_type" : "registered",
      "accept_rate" : 78,
      "profile_image" : "https://www.gravatar.com/avatar/feadc214792e2581c3c750140e3eb2c7?s=256&d=identicon&r=PG",
      "display_name" : "Robert",
      "link" : "https://stackoverflow.com/users/150978/robert"
    },
    "creation_date" : 1765381591,
    "last_activity_date" : 1765381591,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ ],
  "answer_comments" : { }
}