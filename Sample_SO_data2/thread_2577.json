{
  "question" : {
    "question_id" : 79613524,
    "title" : "Pure Hibernate 6.x in Spring 3.4.x",
    "body" : "<p>Does anybody, actually, recommend to use pure Hibernate without the Spring data JPA inside a Spring project?</p>\n<p>Benefits from my perspective are more fine grained control over Hibernate batching, as well as transactions.</p>\n<p>Disadvantages are loosing Spring declarative transaction management.</p>\n<p>Also, Hibernate recommends to avoid the DAO/Repository approach, and code the queries inside the business layer.</p>\n<p>What do you think about that?</p>\n",
    "tags" : [ "java", "spring", "hibernate", "transactions", "sessionfactory" ],
    "owner" : {
      "account_id" : 19240672,
      "reputation" : 21,
      "user_id" : 14060733,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/f2ecbc81ba1c27a1a0f289a95ed53a96?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Felixxxx",
      "link" : "https://stackoverflow.com/users/14060733/felixxxx"
    },
    "is_answered" : true,
    "view_count" : 228,
    "closed_date" : 1747065247,
    "answer_count" : 3,
    "score" : 1,
    "last_activity_date" : 1746948885,
    "creation_date" : 1746768377,
    "link" : "https://stackoverflow.com/questions/79613524/pure-hibernate-6-x-in-spring-3-4-x",
    "closed_reason" : "Opinion-based"
  },
  "answers" : [ {
    "answer_id" : 79613880,
    "question_id" : 79613524,
    "body" : "<p>I often choose to use 3rd libraries directly rather than introducing spring's wrapper for said library (in this instance Hibernate). I feel the cost of the wrapper often outweighs the benefits. The spring wrappers often add another layer of abstraction to understand, another set of documentation to sift through and another layer of code to debug into when something inevitably goes wrong.</p>\n",
    "score" : 3,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 1096470,
      "reputation" : 29424,
      "user_id" : 1089967,
      "user_type" : "registered",
      "accept_rate" : 59,
      "profile_image" : "https://www.gravatar.com/avatar/1f256b904ff621d678598d8fa49f86c5?s=256&d=identicon&r=PG",
      "display_name" : "lance-java",
      "link" : "https://stackoverflow.com/users/1089967/lance-java"
    },
    "creation_date" : 1746784563,
    "last_activity_date" : 1746784563,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "answer_id" : 79613631,
    "question_id" : 79613524,
    "body" : "<p>Here's my two cents: it's totally fine to use plain Hibernate without Spring Data JPA,\nespecially if you want more control.</p>\n<p>Spring Data JPA is a high-level abstraction over JPA. Hibernate is the default JPA implementation used by Spring Boot (unless you explicitly configure another provider, like EclipseLink).</p>\n<p>You use it transparently through standard JPA annotations and interfaces, but Hibernate is doing all the actual work under the hood - generating SQL, managing sessions, handling caching, etc.</p>\n<p>If you decide to use plain Hibernate without Spring Data, you'll get:</p>\n<ul>\n<li><p>full access to Hibernate internals (batching, flush modes, session handling);</p>\n</li>\n<li><p>and you're not stuck in Spring Data's magic layer, which sometimes hides too much;</p>\n</li>\n<li><p>easier to debug complex query behavior;</p>\n</li>\n<li><p>works outside of Spring - easier to reuse in non-Spring environments, libraries, CLI tools, or standalone apps</p>\n</li>\n<li><p>...</p>\n</li>\n<li><p>and something else.</p>\n</li>\n</ul>\n<p>But you lose access to many helpful features:</p>\n<ul>\n<li><p>no autogenerated repositories;</p>\n</li>\n<li><p>you write all the boilerplate yourself (CRUD, pagination, custom queries);</p>\n</li>\n<li><p>you lose a lot of Spring Data features (like derived queries, projections, etc);</p>\n</li>\n<li><p>no tight Spring integration - you miss out on many Spring Boot features like autowiring, REST exposure, and data validation;</p>\n</li>\n<li><p>and you have to manage transactions a bit more carefully;</p>\n</li>\n<li><p>more setup: entity managers, transactions, exception handling;</p>\n</li>\n<li><p>...</p>\n</li>\n<li><p>and something else.</p>\n</li>\n</ul>\n<p>If you care about fine-tuning performance or doing low-level things with Hibernate, then using plain Hibernate is a good choice. If you want to move fast, avoid boilerplate, and let the framework help - Spring Data JPA is great.</p>\n<p>A lot of teams use both.</p>\n",
    "score" : 1,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 38931631,
      "reputation" : 671,
      "user_id" : 29023248,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/WxoZEuKw.png?s=256",
      "display_name" : "Aleksey Bykov",
      "link" : "https://stackoverflow.com/users/29023248/aleksey-bykov"
    },
    "creation_date" : 1746774346,
    "last_activity_date" : 1746777493,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "answer_id" : 79616120,
    "question_id" : 79613524,
    "body" : "<blockquote>\n<p>Also, Hibernate recommends to avoid the DAO/Repository approach, and code the queries inside the business layer.</p>\n</blockquote>\n<p>I would rather ignore such &quot;recommendations&quot;. In my opinion HBN team (and Gavin King in particular) just do no like spring framework without any feasible reason, please check for example:</p>\n<ul>\n<li><p><a href=\"https://hibernate.atlassian.net/browse/HHH-17677?focusedCommentId=113911\" rel=\"nofollow noreferrer\">https://hibernate.atlassian.net/browse/HHH-17677?focusedCommentId=113911</a>: I <em>really</em> wish people would stop using this crappy wrapper, and just use the standard <code>EntityManager</code> API—Spring Data JPA really causes way more problems than it’s worth.</p>\n</li>\n<li><p><a href=\"https://in.relation.to/2024/04/01/jakarta-data-1/#comment-6429588724\" rel=\"nofollow noreferrer\">https://in.relation.to/2024/04/01/jakarta-data-1/#comment-6429588724</a>: it's truly elegantly integrated with Hibernate, via <code>StatefulSession</code>, and isn't a kludge that tries to implement a stateless programming model on top of stateful persistence contexts</p>\n</li>\n</ul>\n<p>It is at least unfair and unprofessional to put a blame onto framework, which brings 90% of your users - pretty the same as to say 90% users of your product are idiots. Even if <code>spring-data-jpa</code> has any HBN-related issues, it was released in 2011 and you had 14 years to adopt their ideas and create your own <code>spring-data-hibernate</code>, like other product teams do, however they prefer to support <code>quarkus</code> (another RedHat product btw).</p>\n<p>Spring Data Repository is just a programming pattern which allows developers to properly organise a code and improve testability. The great feature of <code>spring-data-jpa</code> is it does break nothing from <code>spring-orm</code> perspective, i.e. spring data repositories may co-exist with &quot;traditional approach&quot;, so, we, as developers, can mix up our code/modules any way we want to, however if we take a look at new feature &quot;Jakarta Data&quot;, we may find the following:</p>\n<ul>\n<li><p>a lot of features are not supported (named queries, native queries, query hints, etc)</p>\n</li>\n<li><p>they distinguish stateless and stateful sessions - you can't mix up your code anymore: you are either using repositories or &quot;traditional approach&quot;</p>\n</li>\n<li><p>I do believe their ideas about annotation processing won't wok in some corner cases (entities/repositories are distributed across different modules/projects)</p>\n</li>\n</ul>\n<p>I bet it will take another 14 years for HBN team to develop something at least reliable.</p>\n",
    "score" : 1,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 4181375,
      "reputation" : 6263,
      "user_id" : 3426309,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/v58O6.jpg?s=256",
      "display_name" : "Andrey B. Panfilov",
      "link" : "https://stackoverflow.com/users/3426309/andrey-b-panfilov"
    },
    "creation_date" : 1746932395,
    "last_activity_date" : 1746948885,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ ],
  "answer_comments" : {
    "79613631" : [ {
      "comment_id" : 140413834,
      "post_id" : 79613631,
      "body" : "Yes, you can use plain Hibernate and still benefit from Spring&#39;s DI and transaction management.",
      "score" : 0,
      "owner" : {
        "account_id" : 38931631,
        "reputation" : 671,
        "user_id" : 29023248,
        "user_type" : "registered",
        "profile_image" : "https://i.sstatic.net/WxoZEuKw.png?s=256",
        "display_name" : "Aleksey Bykov",
        "link" : "https://stackoverflow.com/users/29023248/aleksey-bykov"
      },
      "creation_date" : 1746892257,
      "content_license" : "CC BY-SA 4.0"
    }, {
      "comment_id" : 140413810,
      "post_id" : 79613631,
      "body" : "If i want to use plain hinernate but want to make use of the cdi of spring abd the transactions. How do i do that?",
      "score" : 0,
      "owner" : {
        "account_id" : 19240672,
        "reputation" : 21,
        "user_id" : 14060733,
        "user_type" : "registered",
        "profile_image" : "https://www.gravatar.com/avatar/f2ecbc81ba1c27a1a0f289a95ed53a96?s=256&d=identicon&r=PG&f=y&so-version=2",
        "display_name" : "Felixxxx",
        "link" : "https://stackoverflow.com/users/14060733/felixxxx"
      },
      "creation_date" : 1746891591,
      "content_license" : "CC BY-SA 4.0"
    } ]
  }
}