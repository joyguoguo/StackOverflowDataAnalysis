{
  "question" : {
    "question_id" : 79747840,
    "title" : "Embedding fxml in fxml: Access to the parent controller and switch between fxmls",
    "body" : "<p>I have an application, where the ParentView consists of a horizontal SplitPane with two buttons at the left side to choose a ChildView, which is embedded at the right side.</p>\n<p>With the two ParentView buttons I want to choose between two ChildViews &quot;subView1&quot; and &quot;subView2&quot;.\nEach ChildView has a button, which shall change the text of a label in the ParentView.</p>\n<p>I'm looking for a way to embed a ChildView fxml, by clicking a button.\nI've already tried to use <code>&lt;fx:include fx:id=&quot;childView&quot; source=sub-view-1.fxml/&gt;</code>. But this only enables to embed the chosen fxml right from the beginning and I can't change the ChildView.</p>\n<p>Further I'm looking for a way to gain access from the ChildViewController to ParentView elements, in this case the ParentView label.</p>\n<p>My example code is:</p>\n<p>The ParentView .fxml (with the fx:include method)</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.geometry.*?&gt;\n&lt;?import javafx.scene.control.*?&gt;\n&lt;?import javafx.scene.layout.*?&gt;\n\n&lt;VBox alignment=&quot;CENTER&quot; spacing=&quot;20.0&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; xmlns=&quot;http://javafx.com/javafx/17.0.12&quot; fx:controller=&quot;de.demo.ParentViewController&quot;&gt;\n    &lt;padding&gt;\n        &lt;Insets bottom=&quot;20.0&quot; left=&quot;20.0&quot; right=&quot;20.0&quot; top=&quot;20.0&quot; /&gt;\n    &lt;/padding&gt;\n   &lt;SplitPane dividerPositions=&quot;0.5&quot; prefHeight=&quot;160.0&quot; prefWidth=&quot;200.0&quot;&gt;\n     &lt;items&gt;\n       &lt;AnchorPane minHeight=&quot;0.0&quot; minWidth=&quot;0.0&quot; prefHeight=&quot;160.0&quot; prefWidth=&quot;100.0&quot;&gt;\n            &lt;children&gt;\n                &lt;Button layoutX=&quot;24.0&quot; layoutY=&quot;21.0&quot; onAction=&quot;#openSubView1&quot; text=&quot;Subview1&quot; /&gt;\n            \n                &lt;Label fx:id=&quot;welcomeText&quot; layoutX=&quot;46.0&quot; layoutY=&quot;71.0&quot; /&gt;\n               &lt;Button layoutX=&quot;21.0&quot; layoutY=&quot;111.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#openSubView2&quot; text=&quot;SubView2&quot; /&gt;\n            &lt;/children&gt;\n         &lt;/AnchorPane&gt;\n         &lt;fx:include fx:id=&quot;subViewPlaceholder&quot; source=&quot;sub-view-1.fxml&quot; /&gt;\n     &lt;/items&gt;\n   &lt;/SplitPane&gt;\n&lt;/VBox&gt;\n</code></pre>\n<p>ParentView Controller</p>\n<pre><code>package de.demo\n\nimport javafx.fxml.FXML;\nimport javafx.scene.control.Label;\n\npublic class ParentViewController {\n\n\n    @FXML\n    protected Label welcomeText;\n\n    @FXML\n    protected void openSubView1() {\n        //here should be the code to open the subview1.fxml\n    }\n\n    @FXML\n    protected void openSubView2() {\n        //here should be the code to open the subview2.fxml\n    }\n}\n</code></pre>\n<p>ChildView fxmls</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n\n&lt;?import javafx.scene.control.*?&gt;\n&lt;?import javafx.scene.layout.*?&gt;\n\n&lt;VBox xmlns=&quot;http://javafx.com/javafx&quot;\n            xmlns:fx=&quot;http://javafx.com/fxml&quot;\n            fx:controller=&quot;de.demo.SubView1Controller&quot;\n            prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; spacing=&quot;20.0&quot; alignment=&quot;CENTER&quot;&gt;\n    &lt;Label fx:id=&quot;subView1Label&quot; text=&quot;This is SubView 1&quot;/&gt;\n    &lt;Button text=&quot;Change Main View Text&quot; onAction=&quot;#changeMainViewText&quot;/&gt;\n\n&lt;/VBox&gt;\n</code></pre>\n<p>ChildView Controller</p>\n<pre><code>package de.demo;\n\nimport javafx.fxml.FXML;\nimport javafx.scene.control.Label;\n\npublic class SubView1Controller{\n\n    @FXML\n    private Label subView1Label;\n\n    @FXML\n    private void changeMainViewText() {\n        subView1Label.setText(&quot;Sub View 1 Button Clicked!&quot;);\n// Code to access the label of the ParentView\n    }\n}\n</code></pre>\n",
    "tags" : [ "java", "javafx", "fxml" ],
    "owner" : {
      "account_id" : 26402869,
      "reputation" : 17,
      "user_id" : 29292970,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/dcf9d9d2d22b4ae00652e0f644fd88c1?s=256&d=identicon&r=PG",
      "display_name" : "Cptn Bluebear",
      "link" : "https://stackoverflow.com/users/29292970/cptn-bluebear"
    },
    "is_answered" : true,
    "view_count" : 67,
    "answer_count" : 1,
    "score" : 1,
    "last_activity_date" : 1756301199,
    "creation_date" : 1756290323,
    "link" : "https://stackoverflow.com/questions/79747840/embedding-fxml-in-fxml-access-to-the-parent-controller-and-switch-between-fxmls",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79748008,
    "question_id" : 79747840,
    "body" : "<p>The easiest way to do this from your current setup is to place a container in the right side of the split pane. Then just fill the container with the appropriate FXML in the button handlers. Here I use a <code>BorderPane</code>, which is probably the most convenient (as you can just make calls to <code>setCenter(...)</code> to replace any current content with new content).</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.geometry.*?&gt;\n&lt;?import javafx.scene.control.*?&gt;\n&lt;?import javafx.scene.layout.*?&gt;\n\n&lt;VBox alignment=&quot;CENTER&quot; spacing=&quot;20.0&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; xmlns=&quot;http://javafx.com/javafx/17.0.12&quot; fx:controller=&quot;de.demo.ParentViewController&quot;&gt;\n    &lt;padding&gt;\n        &lt;Insets bottom=&quot;20.0&quot; left=&quot;20.0&quot; right=&quot;20.0&quot; top=&quot;20.0&quot; /&gt;\n    &lt;/padding&gt;\n   &lt;SplitPane dividerPositions=&quot;0.5&quot; prefHeight=&quot;160.0&quot; prefWidth=&quot;200.0&quot;&gt;\n     &lt;items&gt;\n       &lt;AnchorPane minHeight=&quot;0.0&quot; minWidth=&quot;0.0&quot; prefHeight=&quot;160.0&quot; prefWidth=&quot;100.0&quot;&gt;\n            &lt;children&gt;\n                &lt;Button layoutX=&quot;24.0&quot; layoutY=&quot;21.0&quot; onAction=&quot;#openSubView1&quot; text=&quot;Subview1&quot; /&gt;\n            \n                &lt;Label fx:id=&quot;welcomeText&quot; layoutX=&quot;46.0&quot; layoutY=&quot;71.0&quot; /&gt;\n               &lt;Button layoutX=&quot;21.0&quot; layoutY=&quot;111.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#openSubView2&quot; text=&quot;SubView2&quot; /&gt;\n            &lt;/children&gt;\n         &lt;/AnchorPane&gt;\n         &lt;BorderPane fx:id=&quot;subViewContainer&quot; /&gt;\n     &lt;/items&gt;\n   &lt;/SplitPane&gt;\n&lt;/VBox&gt;\n</code></pre>\n<p>and</p>\n<pre><code>package de.demo\n\nimport java.io.IOException;\n\nimport javafx.fxml.FXML;\nimport javafx.scene.control.Label;\nimport javafx.scene.layout.BorderPane;\n\npublic class ParentViewController {\n\n\n    @FXML\n    protected Label welcomeText;\n\n    @FXML\n    private BorderPane subViewContainer;\n\n    @FXML\n    protected void openSubView1() throws IOException {\n        // Assumes subview1.fxml is in the same package as this controller. \n        // Modify the path if this is not the case\n        Parent subView1 = FXMLLoader.load(getClass().getResource(&quot;subview1.fxml&quot;);\n        subViewContainer.setCenter(subView1);\n    }\n\n    @FXML\n    protected void openSubView2() throws IOException {\n        // Assumes subview2.fxml is in the same package as this controller. \n        // Modify the path if this is not the case\n        Parent subView2 = FXMLLoader.load(getClass().getResource(&quot;subview2.fxml&quot;);\n        subViewContainer.setCenter(subView2);\n    }\n}\n</code></pre>\n<hr />\n<p>This approach works for this simple case, where you are only changing the content of the &quot;child views&quot; from the parent. If you want to be able to change the views from elsewhere, it's probably better to factor the functionality out into a separate &quot;view model&quot; which stores the state of the current view. Exact details will depend on which flavor of the MV* set of design patterns you favor. I created <a href=\"https://gist.github.com/james-d/bae73788a9b881cf9358cbf2d842f554\" rel=\"nofollow noreferrer\">an example</a> a couple of years ago which may be worth studying if you want to see this kind of approach.</p>\n<blockquote>\n<p>Further I'm looking for a way to gain access from the ChildViewController to ParentView elements, in this case the ParentView label.</p>\n</blockquote>\n<p>Don't. You should not modify elements of an FXML from outside the <em>controller of that FXML</em>. Instead, use some form of MVC approach. Modify the model and have the label reflect the property in the model. The example linked above includes this functionality.</p>\n",
    "score" : 2,
    "is_accepted" : true,
    "owner" : {
      "account_id" : 2518243,
      "reputation" : 210916,
      "user_id" : 2189127,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/e8e6e627b4b90ec816c5c7aa04cbcc26?s=256&d=identicon&r=PG",
      "display_name" : "James_D",
      "link" : "https://stackoverflow.com/users/2189127/james-d"
    },
    "creation_date" : 1756298930,
    "last_activity_date" : 1756301199,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140697149,
    "post_id" : 79747840,
    "body" : "Related <a href=\"https://stackoverflow.com/questions/18619394/loading-new-fxml-in-the-same-scene/18651659#18651659\">Loading new fxml in the same scene</a>",
    "score" : 1,
    "owner" : {
      "account_id" : 1180113,
      "reputation" : 160487,
      "user_id" : 1155209,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/5192e7cbcf2f72a847d6fb0d1552f049?s=256&d=identicon&r=PG",
      "display_name" : "jewelsea",
      "link" : "https://stackoverflow.com/users/1155209/jewelsea"
    },
    "creation_date" : 1756330501,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}