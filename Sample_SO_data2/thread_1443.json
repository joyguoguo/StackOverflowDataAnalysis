{
  "question" : {
    "question_id" : 79709592,
    "title" : "How to use PostMessage with TWA to enable communication between TWA &amp; browser via JS?",
    "body" : "<p>My <code>LauncherActivity.java</code> file has the following code:</p>\n<pre><code>package in.example.app;\n\nimport android.content.pm.ActivityInfo;\nimport android.net.Uri;\nimport android.os.Build;\nimport android.os.Bundle;\n\n\npublic class LauncherActivity\n        extends com.google.androidbrowserhelper.trusted.LauncherActivity {\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        // Setting an orientation crashes the app due to the transparent background on Android 8.0\n        // Oreo and below. We only set the orientation on Oreo and above. This only affects the\n        // splash screen and Chrome will still respect the orientation.\n        // See https://github.com/GoogleChromeLabs/bubblewrap/issues/496 for details.\n        if (Build.VERSION.SDK_INT &gt; Build.VERSION_CODES.O) {\n            setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_UNSPECIFIED);\n        } else {\n            setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_UNSPECIFIED);\n        }\n\n\n    }\n\n    @Override\n    protected Uri getLaunchingUrl() {\n        // Get the original launch Url.\n        Uri uri = super.getLaunchingUrl();\n\n        return uri;\n    }\n\n}\n</code></pre>\n<p>How can I enable <code>postMessage</code> communication between my <code>TWA</code> &amp; browser? I tried following this guide - <a href=\"https://developer.chrome.com/docs/android/post-message-twa\" rel=\"nofollow noreferrer\">https://developer.chrome.com/docs/android/post-message-twa</a> but it is not clear where to put the given code.</p>\n",
    "tags" : [ "java", "android", "postmessage", "android-browser", "trusted-web-activity" ],
    "owner" : {
      "account_id" : 13402484,
      "reputation" : 496,
      "user_id" : 9671590,
      "user_type" : "registered",
      "profile_image" : "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/s256-rj/photo.jpg",
      "display_name" : "dc09",
      "link" : "https://stackoverflow.com/users/9671590/dc09"
    },
    "is_answered" : false,
    "view_count" : 100,
    "answer_count" : 0,
    "score" : 1,
    "last_activity_date" : 1753131249,
    "creation_date" : 1753128655,
    "link" : "https://stackoverflow.com/questions/79709592/how-to-use-postmessage-with-twa-to-enable-communication-between-twa-browser-vi",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ ],
  "question_comments" : [ ],
  "answer_comments" : { }
}