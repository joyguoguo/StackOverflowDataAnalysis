{
  "question" : {
    "question_id" : 79686067,
    "title" : "Show global attribute at footer snippet",
    "body" : "<p>Using Java 17, Maven 3.9.10, Spring Boot 3.5.3 and the dependency <code>spring-boot-starter-thymeleaf</code>, I would like to create some web pages for a service. I am using the standard approach of Thymeleaf: Having a file <code>templates/layout.html</code>, which contains fragments for page_header, page_footer, and so on. This works fine so far.</p>\n<p>In my file <code>templates/layout.html</code> I have the footer-snippet, which represents my footer (shown on all my pages). This snippet should be able to show the value of the version of my service and looks like this:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;footer class=&quot;text-center&quot; th:fragment=&quot;page_footer&quot;&gt;\n  &lt;div&gt;\n    Copyright - Version: &lt;span th:text=&quot;${service_version}&quot;&gt;&lt;/span&gt;\n  &lt;/div&gt;\n&lt;/footer&gt;\n</code></pre>\n<p>I have created a GlobalController class, which should add attributes to all requests:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ControllerAdvice\npublic class GlobalController {\n\n    @ModelAttribute(&quot;service_version&quot;)\n    public String getVersion()  {\n        return &quot;version 1.0.0&quot;;\n    }\n\n}\n</code></pre>\n<p>Finally, the service is running and shows the footer in a browser on every route, which is implemented in this service. All these (sub)pages are referencing the footer-snippet, but in total the footer section just shows the text: <code>Copyright - Version: </code>, in other words: the value of version (here: <code>version 1.0.0</code>) is missing and is not replaced/returned.</p>\n<p>How can I show the version in the footer?</p>\n",
    "tags" : [ "java", "spring-boot", "thymeleaf" ],
    "owner" : {
      "account_id" : 9875097,
      "reputation" : 633,
      "user_id" : 7313173,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/f4518983c7862d9062b2cf911817e8a6?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Alex",
      "link" : "https://stackoverflow.com/users/7313173/alex"
    },
    "is_answered" : false,
    "view_count" : 79,
    "answer_count" : 0,
    "score" : 0,
    "last_activity_date" : 1751444121,
    "creation_date" : 1751373118,
    "link" : "https://stackoverflow.com/questions/79686067/show-global-attribute-at-footer-snippet",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ ],
  "question_comments" : [ {
    "comment_id" : 140558470,
    "post_id" : 79686067,
    "body" : "@Alex You have said that the <code>@ModelAttribute</code> method IS called for each request, so we&#39;re looking for reasons the <code>service_version</code> datum gets lost. Two possible reasons: a) it is overwritten somewhere else in the request, b) you are rendering your view via <code>redirect:</code>, which loses model data.   Either that or a typo somewhere?",
    "score" : 0,
    "owner" : {
      "account_id" : 55989,
      "reputation" : 19067,
      "user_id" : 167745,
      "user_type" : "registered",
      "accept_rate" : 76,
      "profile_image" : "https://i.sstatic.net/wBebv.jpg?s=256",
      "display_name" : "Stewart",
      "link" : "https://stackoverflow.com/users/167745/stewart"
    },
    "creation_date" : 1751458674,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140557418,
    "post_id" : 79686067,
    "body" : "Can&#39;t reproduce either",
    "score" : 0,
    "owner" : {
      "account_id" : 40864244,
      "reputation" : 632,
      "user_id" : 30001713,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/f59ea01a76709335047f0cee269d788e?s=256&d=identicon&r=PG",
      "display_name" : "biggujo",
      "link" : "https://stackoverflow.com/users/30001713/biggujo"
    },
    "creation_date" : 1751436409,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140556968,
    "post_id" : 79686067,
    "body" : "@Stewart - Just a side note:  It depends what you specifically mean by &quot;<i>a general setup situation, such as the <code>th</code> namespace</i>&quot; - but Thymeleaf works fine without needing <code>xmlns:th=&quot;http:&#47;&#47;www.thymeleaf.org&quot;</code> in a page. That is just <a href=\"https://www.thymeleaf.org/doc/tutorials/3.1/usingthymeleaf\" rel=\"nofollow noreferrer\">an &quot;incantation&quot;</a> which has &quot;no influence at all in template processing&quot;. It&#39;s there for other reasons.",
    "score" : 1,
    "owner" : {
      "account_id" : 12743722,
      "reputation" : 22621,
      "user_id" : 12567365,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/zNR3x.png?s=256",
      "display_name" : "andrewJames",
      "link" : "https://stackoverflow.com/users/12567365/andrewjames"
    },
    "creation_date" : 1751410006,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140556278,
    "post_id" : 79686067,
    "body" : "Yes it does. But all other replacements are not performed in footer/header-sections and are based on classic Controller/models. Even in my layout.html the ns of thymeleaf is set.",
    "score" : 0,
    "owner" : {
      "account_id" : 9875097,
      "reputation" : 633,
      "user_id" : 7313173,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/f4518983c7862d9062b2cf911817e8a6?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Alex",
      "link" : "https://stackoverflow.com/users/7313173/alex"
    },
    "creation_date" : 1751386211,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140556225,
    "post_id" : 79686067,
    "body" : "Does other Thymeleaf render correctly? I&#39;m wondering if there&#39;s a general setup situation, such as the <code>th</code> namespace, etc.",
    "score" : 0,
    "owner" : {
      "account_id" : 55989,
      "reputation" : 19067,
      "user_id" : 167745,
      "user_type" : "registered",
      "accept_rate" : 76,
      "profile_image" : "https://i.sstatic.net/wBebv.jpg?s=256",
      "display_name" : "Stewart",
      "link" : "https://stackoverflow.com/users/167745/stewart"
    },
    "creation_date" : 1751384847,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140556125,
    "post_id" : 79686067,
    "body" : "It is weird: If I integrate a logger, which prints &quot;getversion is called&quot; inside getVersion(), I can see, that this method is called at every request. I try to create a minimal reproducible example and provide it here.",
    "score" : 0,
    "owner" : {
      "account_id" : 9875097,
      "reputation" : 633,
      "user_id" : 7313173,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/f4518983c7862d9062b2cf911817e8a6?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Alex",
      "link" : "https://stackoverflow.com/users/7313173/alex"
    },
    "creation_date" : 1751382812,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140555991,
    "post_id" : 79686067,
    "body" : "Thank you for clarifying. Sorry, I don&#39;t have any suggestions other than doing what I did: Create a new very basic Spring Boot app, using the code in your question, to serve a basic page. That should work (as it did for me). Then change that working code, step-by-step, to match what is not working for you currently. (Someone else may have a better insight, of course.) If your simple app does <i>not</i> work, then you have a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> you can share with us.",
    "score" : 0,
    "owner" : {
      "account_id" : 12743722,
      "reputation" : 22621,
      "user_id" : 12567365,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/zNR3x.png?s=256",
      "display_name" : "andrewJames",
      "link" : "https://stackoverflow.com/users/12567365/andrewjames"
    },
    "creation_date" : 1751379576,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140555960,
    "post_id" : 79686067,
    "body" : "Sry, (1) &quot;Copyright&quot;, was just an example. and (2) of course I can see the word &quot;Copyright - &quot; there. The footer itself works fine. Just the value of &quot;version 1.0.0&quot; (which is used as a dummy String) is missing. If I take a look into the generated html code (e.g. from a browser) there is really no value.",
    "score" : 0,
    "owner" : {
      "account_id" : 9875097,
      "reputation" : 633,
      "user_id" : 7313173,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/f4518983c7862d9062b2cf911817e8a6?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Alex",
      "link" : "https://stackoverflow.com/users/7313173/alex"
    },
    "creation_date" : 1751379088,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140555889,
    "post_id" : 79686067,
    "body" : "Also, you said in the question &quot;<i>in total the footer section just shows the text: <code>Version:</code></i>&quot;. In that case, you are not even seeing the <code>Copyright - </code> text you have shown us in your Thymeleaf template. So, your problem appears to lie elsewhere (not in the code you have shown us).",
    "score" : 0,
    "owner" : {
      "account_id" : 12743722,
      "reputation" : 22621,
      "user_id" : 12567365,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/zNR3x.png?s=256",
      "display_name" : "andrewJames",
      "link" : "https://stackoverflow.com/users/12567365/andrewjames"
    },
    "creation_date" : 1751377497,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140555888,
    "post_id" : 79686067,
    "body" : "I cannot reproduce your problem using the code in your question. It works OK for me.",
    "score" : 0,
    "owner" : {
      "account_id" : 12743722,
      "reputation" : 22621,
      "user_id" : 12567365,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/zNR3x.png?s=256",
      "display_name" : "andrewJames",
      "link" : "https://stackoverflow.com/users/12567365/andrewjames"
    },
    "creation_date" : 1751377495,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140555747,
    "post_id" : 79686067,
    "body" : "Tangential, but since ~1989 in the US (and  WTO/TRIPS/Berne countries you donâ€™t need a copyright notice. Essentially legally meaningless.",
    "score" : 0,
    "owner" : {
      "account_id" : 195854,
      "reputation" : 160525,
      "user_id" : 438992,
      "user_type" : "registered",
      "accept_rate" : 90,
      "profile_image" : "https://i.sstatic.net/QouOz.jpg?s=256",
      "display_name" : "Dave Newton",
      "link" : "https://stackoverflow.com/users/438992/dave-newton"
    },
    "creation_date" : 1751374517,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}