{
  "question" : {
    "question_id" : 79599310,
    "title" : "How a class can have an attribute that can contain any enum? and map this class with JPA",
    "body" : "<p>I'm doing a personal project to learn. full-backend console program. To show user actions I print different enums according user role. My idea is persist the enums in a db, as a field of the role entity. So, my role Java class need an attribute that can contain any enum type and map it with JPA. Also I can print an array of the actions obtained from a table, it should be more simple, but since I'm with the enums.</p>\n<p>Deepseek gives me this:</p>\n<pre><code>import javax.persistence.AttributeConverter;\nimport javax.persistence.Converter;\nimport java.util.Objects;\n\n@Converter(autoApply = true)\npublic class GenericEnumConverter implements AttributeConverter&lt;Enum&lt;?&gt;, String&gt; {\n    private static final String DELIMITER = &quot;::&quot;;\n\n    @Override\n    public String convertToDatabaseColumn(Enum&lt;?&gt; attribute) {\n        if (attribute == null) return null;\n        return attribute.getDeclaringClass().getName() + DELIMITER + attribute.name();\n    }\n\n    @Override\n    public Enum&lt;?&gt; convertToEntityAttribute(String dbData) {\n        if (dbData == null) return null;\n        String[] parts = dbData.split(DELIMITER, 2);\n        if (parts.length != 2) {\n            throw new IllegalArgumentException(&quot;Invalid enum format: &quot; + dbData);\n        }\n        String className = parts[0];\n        String enumName = parts[1];\n        try {\n            Class&lt;?&gt; enumClass = Class.forName(className);\n            if (!enumClass.isEnum()) {\n                throw new IllegalArgumentException(className + &quot; is not an enum&quot;);\n            }\n            @SuppressWarnings(&quot;unchecked&quot;)\n            Class&lt;? extends Enum&lt;?&gt;&gt; enumType = (Class&lt;? extends Enum&lt;?&gt;&gt;) enumClass;\n            return Enum.valueOf(enumType, enumName);\n        } catch (ClassNotFoundException e) {\n            throw new IllegalArgumentException(&quot;Enum class not found: &quot; + className, e);\n        }\n    }\n}\n\n</code></pre>\n<pre><code>import javax.persistence.Convert;\nimport javax.persistence.Entity;\nimport javax.persistence.Id;\n\n@Entity\npublic class MyEntity {\n    @Id\n    private Long id;\n\n    @Convert(converter = GenericEnumConverter.class)\n    private Enum&lt;?&gt; anyEnum; // Can hold any enum type\n\n    // Getters and setters\n    public Enum&lt;?&gt; getAnyEnum() {\n        return anyEnum;\n    }\n\n    public void setAnyEnum(Enum&lt;?&gt; anyEnum) {\n        this.anyEnum = anyEnum;\n    }\n}\n</code></pre>\n",
    "tags" : [ "java", "database", "oop", "jpa", "enums" ],
    "owner" : {
      "account_id" : 34148279,
      "reputation" : 43,
      "user_id" : 26411637,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/pPDmENfg.png?s=256",
      "display_name" : "Bujakiewicz Franco",
      "link" : "https://stackoverflow.com/users/26411637/bujakiewicz-franco"
    },
    "is_answered" : false,
    "view_count" : 79,
    "answer_count" : 0,
    "score" : 0,
    "last_activity_date" : 1746056010,
    "creation_date" : 1745968260,
    "link" : "https://stackoverflow.com/questions/79599310/how-a-class-can-have-an-attribute-that-can-contain-any-enum-and-map-this-class",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ ],
  "question_comments" : [ {
    "comment_id" : 140382111,
    "post_id" : 79599310,
    "body" : "There&#39;s a good chance you are trying to solve the wrong problem here. By allowing <code>MyEntity.anyEnum</code> to be <i>any</i> enum, it can be set to <code>DayOfWeek.WEDNESDAY</code> or <code>RoundingMode.UP</code> or something else silly. The usefulness in enums is defining your own <code>public enum MyEnum</code>, so that <code>private MyEnum anyEnum</code> is restricted to the values you define in <code>MyEnum</code>",
    "score" : 8,
    "owner" : {
      "account_id" : 26384984,
      "reputation" : 418,
      "user_id" : 20037647,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/9nb18CcK.png?s=256",
      "display_name" : "EarthTurtle",
      "link" : "https://stackoverflow.com/users/20037647/earthturtle"
    },
    "creation_date" : 1745968808,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}