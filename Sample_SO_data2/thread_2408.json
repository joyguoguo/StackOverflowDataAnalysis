{
  "question" : {
    "question_id" : 79624704,
    "title" : "Google Cloud Speech-to-Text V2 (Android): `SPEECH_ACTIVITY_END` not triggered with `ja-JP` but works with `en-US`",
    "body" : "<h3>Environment:</h3>\n<ul>\n<li><strong>Platform</strong>: Android (Java)</li>\n<li><strong>Google Cloud Speech-to-Text Version</strong>: V2</li>\n<li><strong>Model</strong>: <code>chirp_2</code></li>\n<li><strong>Endpoint</strong>: <code>us-central1-speech.googleapis.com:443</code></li>\n</ul>\n<h3>Description:</h3>\n<p>Iâ€™m using <strong>Google Cloud Speech-to-Text V2</strong> within an <strong>Android app</strong>.<br />\nI'm encountering an issue where <code>SPEECH_ACTIVITY_END</code> is <strong>not triggered</strong> when using the <code>ja-JP</code> language code, but it <strong>works as expected</strong> with <code>en-US</code>.</p>\n<p>Here is the relevant code snippet for the streaming recognition features:</p>\n<pre class=\"lang-java prettyprint-override\"><code>protected StreamingRecognitionFeatures clientFeaturesOf(GoogleV2AISpeechConfig config) {\n    return config.getGoogleV2().getFeatures().apply(\n        StreamingRecognitionFeatures.newBuilder()\n            .setInterimResults(true)\n            .setEnableVoiceActivityEvents(true)\n            .setVoiceActivityTimeout(\n                StreamingRecognitionFeatures.VoiceActivityTimeout.newBuilder()\n                    .setSpeechEndTimeout(Duration.newBuilder().setSeconds(3).build())\n                    .build()\n            )\n            .build()\n    );\n}\n</code></pre>\n<p>With languageCode = &quot;en-US&quot;\nThe response stream includes the expected events</p>\n<pre><code>SpeechEventType: SPEECH_ACTIVITY_BEGIN  \nSpeechEventType: SPEECH_EVENT_TYPE_UNSPECIFIED  \nSpeechEventType: SPEECH_EVENT_TYPE_UNSPECIFIED  \n...\nSpeechEventType: SPEECH_ACTIVITY_END\n</code></pre>\n<p>With languageCode = &quot;ja-JP&quot;\nEverything else remains the same (code, endpoint, model, audio config, etc.), except that the audio content is in Japanese.\nHowever, in this case, I do not receive the SPEECH_ACTIVITY_END event at all. The sequence looks like:</p>\n<pre><code>SpeechEventType: SPEECH_ACTIVITY_BEGIN  \nSpeechEventType: SPEECH_EVENT_TYPE_UNSPECIFIED  \nSpeechEventType: SPEECH_EVENT_TYPE_UNSPECIFIED\n...  \n// No SPEECH_ACTIVITY_END\n</code></pre>\n<h3>Question:</h3>\n<blockquote>\n<p>Is this an expected limitation or behavior for certain languages (like Japanese)?</p>\n</blockquote>\n<blockquote>\n<p>Is SPEECH_ACTIVITY_END supported only for some language models or locales?</p>\n</blockquote>\n<blockquote>\n<p>Is there anything I should change in the configuration when using ja-JP?</p>\n</blockquote>\n<blockquote>\n<p>Any suggestions or insights are greatly appreciated.</p>\n</blockquote>\n",
    "tags" : [ "java", "android", "google-cloud-platform", "google-cloud-speech", "google-speech-to-text-api" ],
    "owner" : {
      "account_id" : 41972655,
      "reputation" : 11,
      "user_id" : 30535497,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/tr8dpRay.jpg?s=256",
      "display_name" : "Kelvin",
      "link" : "https://stackoverflow.com/users/30535497/kelvin"
    },
    "is_answered" : false,
    "view_count" : 112,
    "answer_count" : 0,
    "score" : 1,
    "last_activity_date" : 1748706941,
    "creation_date" : 1747381197,
    "link" : "https://stackoverflow.com/questions/79624704/google-cloud-speech-to-text-v2-android-speech-activity-end-not-triggered-wi",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ ],
  "question_comments" : [ {
    "comment_id" : 140475445,
    "post_id" : 79624704,
    "body" : "cross-posted: <a href=\"https://www.googlecloudcommunity.com/gc/AI-ML/Google-Cloud-Speech-to-Text-V2-Android-SPEECH-ACTIVITY-END-not/td-p/909488\" rel=\"nofollow noreferrer\">googlecloudcommunity.com/gc/AI-ML/&hellip;</a>",
    "score" : 0,
    "owner" : {
      "account_id" : 301516,
      "reputation" : 41692,
      "user_id" : 609290,
      "user_type" : "registered",
      "accept_rate" : 62,
      "profile_image" : "https://i.sstatic.net/WUBht.jpg?s=256",
      "display_name" : "DazWilkin",
      "link" : "https://stackoverflow.com/users/609290/dazwilkin"
    },
    "creation_date" : 1748711883,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}