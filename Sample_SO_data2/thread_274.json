{
  "question" : {
    "question_id" : 79816066,
    "title" : "JSF composite component field not working from ui:include inside another composite component",
    "body" : "<p>Java 21 and Wildfly 37.0.0:</p>\n<p>Seeing this weird thing where I'm creating a new composite component, but the field passed into it is null when residing inside a <code>&lt;ui:include&gt;</code> within another composite component.</p>\n<p>First, here's the output showing how this <code>value</code> I'm passing around works everywhere except the deepest layer:</p>\n<h1>output</h1>\n<pre><code>page xhtml = &quot;hello!&quot;\nouter component = &quot;hello!&quot;\ninner component direct = &quot;hello!&quot;\ninner component value = &quot;hello!&quot;\ninclude = &quot;hello!&quot;\ninner component direct = &quot;hello!&quot;\ninner component value = &quot;&quot; \n</code></pre>\n<p>You'll notice that <code>hello!</code> is always printed except when the inner component is embedded inside a <code>&lt;ui:include&gt;</code>, and that we can always directly call <code>#{applicationController.input}</code> and get a value.</p>\n<p>Here's the various bits:</p>\n<h1><code>ApplicationController</code></h1>\n<pre><code>@ApplicationScoped\n@Named\npublic class ApplicationController implements Serializable {\n    @Getter @Setter private String input = &quot;hello!&quot;;\n}\n</code></pre>\n<h1><code>page.xhtml</code></h1>\n<pre><code>&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot;\n&quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;\n\n&lt;html\n    xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\n    xmlns:h=&quot;jakarta.faces.html&quot;\n    xmlns:my=&quot;http://my.com/taglib&quot;&gt;\n    \n    &lt;h:body&gt;\n        base xhtml = &quot;#{applicationController.input}&quot;\n        &lt;br /&gt;\n        &lt;my:outerComponent controller=&quot;#{applicationController}&quot; /&gt;\n    &lt;/h:body&gt;\n&lt;/html&gt;\n</code></pre>\n<h1><code>outerComponent.xhtml</code></h1>\n<pre><code>&lt;ui:composition\n    xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\n    xmlns:ui=&quot;jakarta.faces.facelets&quot;\n    xmlns:my=&quot;http://my.com/taglib&quot;\n    xmlns:composite=&quot;jakarta.faces.composite&quot;&gt;\n\n    &lt;composite:interface&gt;\n        &lt;composite:attribute name=&quot;controller&quot; /&gt;\n    &lt;/composite:interface&gt;\n\n    &lt;composite:implementation&gt;\n        outer component = &quot;#{cc.attrs.controller.input}&quot;\n        &lt;br /&gt;\n        &lt;my:innerComponent value=&quot;#{cc.attrs.controller.input}&quot; /&gt;\n        &lt;ui:include src=&quot;includedFile.xhtml&quot; /&gt;\n    &lt;/composite:implementation&gt;\n&lt;/ui:composition&gt;\n</code></pre>\n<h1><code>includedFile.xhtml</code></h1>\n<pre><code>&lt;ui:composition\n    xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\n    xmlns:my=&quot;http://my.com/taglib&quot;\n    xmlns:ui=&quot;jakarta.faces.facelets&quot;&gt;\n    \n    include = &quot;#{cc.attrs.controller.input}&quot;\n    &lt;br /&gt;\n    &lt;my:innerComponent value=&quot;#{cc.attrs.controller.input}&quot; /&gt;\n&lt;/ui:composition&gt;\n</code></pre>\n<h1><code>innerComponent.xhtml</code></h1>\n<pre><code>&lt;ui:composition\n    xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\n    xmlns:ui=&quot;jakarta.faces.facelets&quot;\n    xmlns:composite=&quot;jakarta.faces.composite&quot;&gt;\n    \n    &lt;composite:interface&gt;\n        &lt;composite:attribute name=&quot;value&quot; required=&quot;true&quot; /&gt;\n    &lt;/composite:interface&gt;\n    \n    &lt;composite:implementation&gt;\n        inner component direct = &quot;#{applicationController.input}&quot;\n        &lt;br /&gt;\n        inner component value = &quot;#{cc.attrs.value}&quot;\n        &lt;br /&gt;\n    &lt;/composite:implementation&gt;\n&lt;/ui:composition&gt;\n</code></pre>\n<p>Looking for any advice on what may be going on here.</p>\n",
    "tags" : [ "java", "jsf", "jakarta-ee", "xhtml", "composite-component" ],
    "owner" : {
      "account_id" : 31256,
      "reputation" : 1166,
      "user_id" : 85711,
      "user_type" : "registered",
      "accept_rate" : 71,
      "profile_image" : "https://i.sstatic.net/jo9eI.jpg?s=256",
      "display_name" : "Greg Noe",
      "link" : "https://stackoverflow.com/users/85711/greg-noe"
    },
    "is_answered" : false,
    "view_count" : 43,
    "answer_count" : 0,
    "score" : 0,
    "last_activity_date" : 1762809917,
    "creation_date" : 1762809917,
    "link" : "https://stackoverflow.com/questions/79816066/jsf-composite-component-field-not-working-from-uiinclude-inside-another-composi",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ ],
  "question_comments" : [ {
    "comment_id" : 140862842,
    "post_id" : 79816066,
    "body" : "Not an actual Answer, but I ended up making includedFile.xhtml into its own composite component and everything worked fine from then on.",
    "score" : 0,
    "owner" : {
      "account_id" : 31256,
      "reputation" : 1166,
      "user_id" : 85711,
      "user_type" : "registered",
      "accept_rate" : 71,
      "profile_image" : "https://i.sstatic.net/jo9eI.jpg?s=256",
      "display_name" : "Greg Noe",
      "link" : "https://stackoverflow.com/users/85711/greg-noe"
    },
    "creation_date" : 1763573218,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}