{
  "question" : {
    "question_id" : 79661519,
    "title" : "How to prevent wildfly-elytron from overriding Jackson dependencies?",
    "body" : "<p>I have the following dependency structure (expressed in &quot;pseudo&quot; gradle structure)</p>\n<pre><code>- app\n-- compileOnly(wildfly-elytron)\n-- implementation(jackson)\n-- implementation(project(:core))\n\n- core\n-- implementation(wildfly-elytron)\n</code></pre>\n<p>where</p>\n<ul>\n<li><code>wildfly-elytron</code> is <code>org.wildfly.security:wildfly-elytron:1.15.16.Final</code></li>\n<li><code>jackson</code> is  <code>com.fasterxml.jackson.core:jackson-annotations:2.13.4</code></li>\n</ul>\n<p>I am trying to upgrade jackson to 2.16.2, to gain access to <code>JsonTypeInfo.Id.SIMPLE_NAME</code>, but I'm struggling. If I change the dependency version in the gradle file, and resolve gradle dependencies, then my source code in <code>app</code> &quot;doesn't see&quot; the change.</p>\n<p>Instead, IntelliJ points me to a <code>@JsonTypeInfo</code> annotation originating from <code>wildfly-elytron</code>.</p>\n<p>I downloaded wildfly-elytron from maven central to check, and the JAR does indeed contain jackson class files. These seem to be obscuring / overriding the 'actual' jackson dependency I'm trying to use.</p>\n<p>I've tried changing the gradle file to:</p>\n<pre><code>    compileOnly(project(core)) {\n        exclude group: &quot;org.wildfly.security&quot;\n    }\n\n    compileOnly (elytron) {\n        exclude group: &quot;com.fasterxml.jackson.core&quot;\n    }\n</code></pre>\n<p>but this hasn't worked. The jackson code is bundled up inside the elytron JAR itself, rather than being a transitive dependency, so excluding jackson from the elytron dependency is probably a waste of time.</p>\n<p>I've also tried reordering dependency declarations in the app.gradle, in an attempt to do a classpath override of sorts and prioritise jackson 2.16, but to no avail.</p>\n<p><code>app</code> uses elytron's <code>SecurityDomain</code>, so I can't just remove the dependency, and it's anyway transitively pulled in from core, which I absolutely cannot change.</p>\n<p>Any ideas would be much appreciated, thank you.</p>\n",
    "tags" : [ "java", "gradle", "jackson", "dependency-management", "elytron" ],
    "owner" : {
      "account_id" : 4360446,
      "reputation" : 1990,
      "user_id" : 3557714,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/dca1b60d2a69bc389eac206a844b448d?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Ben R.",
      "link" : "https://stackoverflow.com/users/3557714/ben-r"
    },
    "is_answered" : false,
    "view_count" : 74,
    "answer_count" : 1,
    "score" : 1,
    "last_activity_date" : 1749708044,
    "creation_date" : 1749624883,
    "link" : "https://stackoverflow.com/questions/79661519/how-to-prevent-wildfly-elytron-from-overriding-jackson-dependencies",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79662988,
    "question_id" : 79661519,
    "body" : "<p>This is unfortunately a known issue with <code>wildfly-elytron</code>: that jar is indeed bundling an old version of jackson so you need to exclude it, as advised by the wildlfy team here:</p>\n<p><a href=\"https://wildfly.zulipchat.com/#narrow/channel/196266-wildfly-user/topic/Version.20clashes.20in.20wildfly-ejb-client-bom/near/494203231\" rel=\"nofollow noreferrer\">https://wildfly.zulipchat.com/#narrow/channel/196266-wildfly-user/topic/Version.20clashes.20in.20wildfly-ejb-client-bom/near/494203231</a></p>\n",
    "score" : 0,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 120777,
      "reputation" : 14744,
      "user_id" : 313400,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/0f5475dabd0855386f112f93d497e18e?s=256&d=identicon&r=PG",
      "display_name" : "Guillaume",
      "link" : "https://stackoverflow.com/users/313400/guillaume"
    },
    "creation_date" : 1749708044,
    "last_activity_date" : 1749708044,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140504597,
    "post_id" : 79661519,
    "body" : "Run task <code>clean</code> to make sure you get rid of old cached dependencies. Run task <code>dependencies</code> to see dependency tree and possible conflicts.",
    "score" : 1,
    "owner" : {
      "account_id" : 2714938,
      "reputation" : 6448,
      "user_id" : 2342529,
      "user_type" : "registered",
      "accept_rate" : 98,
      "profile_image" : "https://i.sstatic.net/SSkK4.jpg?s=256",
      "display_name" : "Alexandru Severin",
      "link" : "https://stackoverflow.com/users/2342529/alexandru-severin"
    },
    "creation_date" : 1749626415,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}