{
  "question" : {
    "question_id" : 79829952,
    "title" : "H2 Database connects in IDE, but not from console or as a JAR file",
    "body" : "<p>I'm trying to make a Maven project that connects to an H2 database. In an IDE this works fine, but when executing the compiled project in the terminal, or when building the project into a JAR file and executing it, I get the following error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>No suitable driver found for jdbc:h2:./diary;INIT=RUNSCRIPT FROM 'classpath:diaries.sql';\n    at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:638)\n    at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:222)\n    at edu.ntnu.idi.idat.TestCode.main(TestCode.java:18)\n</code></pre>\n<p>Here's the command I used to run the project jar file:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>java -jar target/project-1.0-SNAPSHOT.jar\n</code></pre>\n<p>Here's the command I used to run the project directly:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>java -cp target/classes/ edu.ntnu.idi.idat.TestCode\n</code></pre>\n<p>What does it mean to not find suitable drivers, and how can I ensure a successful database connection?</p>\n<p>I've tried moving the JAR file around my project folder, from the <code>target</code> folder, to the root of the project folder, and even to the folder where I have my <code>TestCode.java</code> file.</p>\n<p>A post with a similar error mentions class loaders. I'm not sure what that is, and I haven't done anything related to that, so I don't believe that's relevant to my problem, although I might be wrong.</p>\n<p>Code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package edu.ntnu.idi.idat;\n\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.SQLException;\n\npublic final class TestCode {\n    private TestCode() { }\n    /**\n     * Test code.\n     * @param args\n     */\n    public static void main(\n        final String[] args\n    ) {\n        try {\n            Connection connection = DriverManager.getConnection(\n                &quot;jdbc:h2:./diary;INIT=RUNSCRIPT FROM 'classpath:diaries.sql';&quot;\n            );\n            System.out.println(\n                &quot;connection.isValid() = &quot;\n                + connection.isValid(0)\n            );\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>Here's the pom.xml file as requested:</p>\n<p><code>pom.xml</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;edu.ntnu&lt;/groupId&gt;\n  &lt;artifactId&gt;project&lt;/artifactId&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n  &lt;name&gt;project&lt;/name&gt;\n  &lt;!-- FIXME change it to the project's website --&gt;\n  &lt;url&gt;http://www.example.com&lt;/url&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;!-- https://mvnrepository.com/artifact/com.h2database/h2 --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n      &lt;artifactId&gt;h2&lt;/artifactId&gt;\n      &lt;version&gt;2.4.240&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-core --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n      &lt;version&gt;7.0.0-M9&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.5.0&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;archive&gt;\n            &lt;manifest&gt;\n              &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n              &lt;mainClass&gt;edu.ntnu.idi.idat.TestCode&lt;/mainClass&gt;\n            &lt;/manifest&gt;\n          &lt;/archive&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n    &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\n      &lt;plugins&gt;\n        &lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;!-- default lifecycle, jar packaging: see https://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging --&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.8.0&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.22.1&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.5.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.8.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;!-- site lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#site_Lifecycle --&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.7.1&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.8.1&lt;/version&gt;\n          &lt;configuration&gt;\n            &lt;source&gt;11&lt;/source&gt;\n            &lt;target&gt;11&lt;/target&gt;\n            &lt;compilerArgs&gt;\n              &lt;arg&gt;--add-exports=java.base/com.sun.crypto.provider=ALL-UNNAMED&lt;/arg&gt;\n            &lt;/compilerArgs&gt;\n          &lt;/configuration&gt;\n        &lt;/plugin&gt;\n      &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n\n</code></pre>\n<p><code>diaries.sql</code>:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>create table if not exists DIARIES (id identity primary key, title varchar (255) not null, author varchar (255) not null, dating TIMESTAMP not null, diarytype varchar (255) not null, public BOOLEAN not null, password varchar(255), contents MEDIUMBLOB (100000) not null);\n</code></pre>\n<p>Possibly relevant parts of the file structure:</p>\n<p><a href=\"https://i.sstatic.net/8MXOtctT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/8MXOtctT.png\" alt=\"relevant parts of a project file structure\" /></a></p>\n<p>Edit:</p>\n<p>I believe it's different from the question <a href=\"https://stackoverflow.com/questions/66333795/how-intellij-is-able-to-resolve-dependencies-and-run-a-spring-boot-maven-appli\">how IntelliJ is able to resolve dependencies and run a spring boot (maven) application while from the command line, it is not possible?</a>, as I'm already using the maven-jar-plugin to build dependencies into my jar file.</p>\n",
    "tags" : [ "java", "jar", "h2" ],
    "owner" : {
      "account_id" : 37604239,
      "reputation" : 95,
      "user_id" : 28332552,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/5a84dbd7a917124e895a66d1b7b38d61?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Lucy",
      "link" : "https://stackoverflow.com/users/28332552/lucy"
    },
    "is_answered" : true,
    "view_count" : 110,
    "closed_date" : 1764242992,
    "answer_count" : 2,
    "score" : 0,
    "last_activity_date" : 1764243144,
    "creation_date" : 1764086791,
    "link" : "https://stackoverflow.com/questions/79829952/h2-database-connects-in-ide-but-not-from-console-or-as-a-jar-file",
    "closed_reason" : "Duplicate"
  },
  "answers" : [ {
    "answer_id" : 79829989,
    "question_id" : 79829952,
    "body" : "<p>The error you are seeing is because the JAR you are running is not bundled with the dependencies, hence when you run it, it can not find the H2 driver which comes from the dependency in your POM. In the IDE it works because it resolves the classpath automatically when you run your project. The equivalent in the terminal would be something like: <code>java -jar yourjarhere -cp path_for_dependencies</code> (note this is from memory and its been light years I don't use this :D )</p>\n<p>You should also read and understand java classpath: <a href=\"https://www.baeldung.com/java-classpath-vs-build-path\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-classpath-vs-build-path</a></p>\n<p>OK, lets start with a clean up.</p>\n<p>Change your pom file such that it only includes the necessary dependencies and plugins in order to build a &quot;fat jar&quot; that you can run from your terminal with <code>java -jar...</code></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;edu.ntnu&lt;/groupId&gt;\n  &lt;artifactId&gt;project&lt;/artifactId&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n  &lt;name&gt;project&lt;/name&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;21&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;21&lt;/maven.compiler.target&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;!-- H2 database \n     so far this is the only dependency you need in your project\n     --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n      &lt;artifactId&gt;h2&lt;/artifactId&gt;\n      &lt;version&gt;2.4.240&lt;/version&gt;\n    &lt;/dependency&gt;\n\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;!-- Java compiler --&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.8.1&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;source&gt;${maven.compiler.source}&lt;/source&gt;\n          &lt;target&gt;${maven.compiler.target}&lt;/target&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n\n      &lt;!-- Fat JAR with main class \n      this is a plugin that will add all the dependencies within your jar\n      such that you dont need to specify the classpath when running your class\n      --&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.5.3&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;shade&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;transformers&gt;\n                &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\n                  &lt;mainClass&gt;edu.ntnu.idi.idat.TestCode&lt;/mainClass&gt;\n                &lt;/transformer&gt;\n              &lt;/transformers&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Once that is done you can use in the terminal:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>mvn clean package\njava -jar target/project-1.0-SNAPSHOT-shaded.jar\n</code></pre>\n<p>The <code>mvn</code> command is to generate your jar, and <code>java ...</code> to execute it. Give it a try and let me know.</p>\n",
    "score" : 2,
    "is_accepted" : true,
    "owner" : {
      "account_id" : 209503,
      "reputation" : 23857,
      "user_id" : 460557,
      "user_type" : "registered",
      "accept_rate" : 100,
      "profile_image" : "https://www.gravatar.com/avatar/b4565f97815833390c9c880e9e8522e4?s=256&d=identicon&r=PG",
      "display_name" : "Jorge Campos",
      "link" : "https://stackoverflow.com/users/460557/jorge-campos"
    },
    "creation_date" : 1764089184,
    "last_activity_date" : 1764243144,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "answer_id" : 79830383,
    "question_id" : 79829952,
    "body" : "<h1>Project</h1>\n<pre class=\"lang-bash prettyprint-override\"><code>SimpleJDBCApp\n├── pom.xml\n└── src\n    └── main\n        ├── java\n        │   └── edu\n        │       └── ntnu\n        │           └── idi\n        │               └── idat\n        │                   └── TestCode.java\n        └── resources\n            └── diaries.sql\n</code></pre>\n<ul>\n<li>TestCode.java : No Change</li>\n<li>diaries.sql   : No Change</li>\n</ul>\n<h2>pom.xml</h2>\n<ul>\n<li>Unnecessary settings have been removed. (Do not set settings unless necessary.)</li>\n</ul>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;edu.ntnu&lt;/groupId&gt;\n    &lt;artifactId&gt;demoapp&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demoapp&lt;/name&gt;\n    &lt;description&gt;Demo App Project&lt;/description&gt;\n    \n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n        &lt;maven.compiler.encoding&gt;UTF-8&lt;/maven.compiler.encoding&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;version&gt;2.4.240&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;finalName&gt;app&lt;/finalName&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<h2>Build</h2>\n<pre class=\"lang-bash prettyprint-override\"><code>mvn clean package\n</code></pre>\n<h2>Download dependency jar</h2>\n<ul>\n<li>If not needed, keep the dependent JAR files; there's no need to merge them into app.jar.</li>\n<li>Download the dependent JAR files to the target/libs directory.</li>\n</ul>\n<p>Linux</p>\n<pre class=\"lang-bash prettyprint-override\"><code>mvn dependency:copy-dependencies -DoutputDirectory=target/libs\n</code></pre>\n<p>Windows</p>\n<pre class=\"lang-bash prettyprint-override\"><code>mvn dependency:copy-dependencies -DoutputDirectory=target\\libs\n</code></pre>\n<p>Tree</p>\n<pre class=\"lang-bash prettyprint-override\"><code>SimpleJDBCApp\n└── target\n    ├── app.jar\n    ├── libs\n    │   └── h2-2.4.240.jar\n    ├── classes\n    │   ├── diaries.sql\n    │   └── edu\n    │       └── ntnu\n    │           └── idi\n    │               └── idat\n    │                   └── TestCode.class\n</code></pre>\n<p>two jars:</p>\n<ul>\n<li>target/app.jar</li>\n<li>target/libs/h2-2.4.240.jar</li>\n</ul>\n<h2>Run</h2>\n<p>Current Directory is SimpleJDBCApp</p>\n<p>Linux:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>java -cp &quot;target/libs/*:target/app.jar&quot; edu.ntnu.idi.idat.TestCode\n</code></pre>\n<p>Windows:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>java -cp &quot;target\\libs\\*;target\\app.jar&quot; edu.ntnu.idi.idat.TestCode\n</code></pre>\n<h2>Run with classes</h2>\n<p>Tree</p>\n<pre class=\"lang-bash prettyprint-override\"><code>SimpleJDBCApp\n└── target\n    ├── libs\n    │   └── h2-2.4.240.jar\n    ├── classes\n    │   ├── diaries.sql\n    │   └── edu\n    │       └── ntnu\n    │           └── idi\n    │               └── idat\n    │                   └── TestCode.class\n</code></pre>\n<p>Linux:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>java -cp &quot;target/classes:target/libs/*&quot; edu.ntnu.idi.idat.TestCode\n</code></pre>\n<p>Windows:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>java -cp &quot;target\\classes;target\\libs\\*&quot; edu.ntnu.idi.idat.TestCode\n</code></pre>\n<h2>Final Result</h2>\n<ul>\n<li>Rename the <code>target</code> to <code>MyApp</code></li>\n<li>Keep <code>app.jar</code></li>\n<li>Keep <code>libs</code></li>\n</ul>\n<p>You can copy the MyApp directory to other machines that have JRE/JDK installed to run your program. (The JDK version installed on the other machine must be equal to or higher than the JDK version you set during compilation.)</p>\n<pre><code>MyApp\n├── app.jar\n└── libs\n    └── h2-2.4.240.jar\n</code></pre>\n<p>Navigate to the MyApp directory</p>\n<p>Execute the command:</p>\n<p>Linux</p>\n<pre class=\"lang-bash prettyprint-override\"><code>java -cp &quot;app.jar:libs/*&quot; edu.ntnu.idi.idat.TestCode\n</code></pre>\n<p>Windows</p>\n<pre class=\"lang-bash prettyprint-override\"><code>java -cp &quot;app.jar;libs\\*&quot; edu.ntnu.idi.idat.TestCode\n</code></pre>\n<p>Note: Your program's JDBC URL includes <code>INIT=RUNSCRIPT FROM 'classpath:diaries.sql';</code>. If this causes <code>diaries.sql</code> to contain insert data (if there are 5 records), then every time the app is run, 5 new records will be added.</p>\n",
    "score" : 1,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 26698569,
      "reputation" : 4074,
      "user_id" : 20306007,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/98bbc403493aee3681b71dae7abef66e?s=256&d=identicon&r=PG",
      "display_name" : "life888888",
      "link" : "https://stackoverflow.com/users/20306007/life888888"
    },
    "creation_date" : 1764137889,
    "last_activity_date" : 1764142479,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140873795,
    "post_id" : 79829952,
    "body" : "Your IDE is likely doing the second thing. It sees that the project is a Maven project, so it reads the POM file to figure out which dependencies are needed, ensures Maven has downloaded them into the local repository, then places them on the class-path when executing the project. Note you can have Maven itself do something similar with a plugin like <a href=\"https://www.mojohaus.org/exec-maven-plugin/\" rel=\"nofollow noreferrer\">Exec Maven Plugin</a>.",
    "score" : 0,
    "owner" : {
      "account_id" : 8532578,
      "reputation" : 49884,
      "user_id" : 6395627,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/af0f9bfe593f36642a032cd7ea611e7d?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Slaw",
      "link" : "https://stackoverflow.com/users/6395627/slaw"
    },
    "creation_date" : 1764148236,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140873794,
    "post_id" : 79829952,
    "body" : "&quot;<i>What does it mean to not find suitable drivers [...]?</i>&quot; -- Your error simply means that a <code>java.sql.Driver</code> implementation that accepts <code>jdbc:h2:*</code> URLs is not present on the class-path/module-path at run-time. In other words, you aren&#39;t including the H2 dependency when executing your JAR file from the terminal. You need to either embed H2 in your executable JAR file (Jorge Campos&#39;s answer shows one way to do this) or put H2 on the class-path (life888888&#39;s answer shows one way to do this).",
    "score" : 1,
    "owner" : {
      "account_id" : 8532578,
      "reputation" : 49884,
      "user_id" : 6395627,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/af0f9bfe593f36642a032cd7ea611e7d?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Slaw",
      "link" : "https://stackoverflow.com/users/6395627/slaw"
    },
    "creation_date" : 1764148230,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140873768,
    "post_id" : 79829952,
    "body" : "&quot;<i>as I&#39;m already using the maven-jar-plugin to build dependencies into my jar file</i>&quot; -- That plugin doesn&#39;t create fat/uber/shaded JAR files. It creates a JAR file from the project&#39;s classes and resources. No dependencies are embedded or otherwise included. You&#39;d want to use <a href=\"https://maven.apache.org/plugins/maven-shade-plugin/\" rel=\"nofollow noreferrer\">Maven Shade Plugin</a>, <a href=\"https://maven.apache.org/plugins/maven-assembly-plugin/\" rel=\"nofollow noreferrer\">Maven Assembly Plugin</a>, or something similar.",
    "score" : 0,
    "owner" : {
      "account_id" : 8532578,
      "reputation" : 49884,
      "user_id" : 6395627,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/af0f9bfe593f36642a032cd7ea611e7d?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Slaw",
      "link" : "https://stackoverflow.com/users/6395627/slaw"
    },
    "creation_date" : 1764147336,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140872663,
    "post_id" : 79829952,
    "body" : "This question is similar to: <a href=\"https://stackoverflow.com/questions/66333795/how-intellij-is-able-to-resolve-dependencies-and-run-a-spring-boot-maven-appli\">how IntelliJ is able to resolve dependencies and run a spring boot (maven) application while from the command line, it is not possible?</a>. If you believe it’s different, please <a href=\"https://stackoverflow.com/posts/79829952/edit\">edit</a> the question, make it clear how it’s different and/or how the answers on that question are not helpful for your problem.",
    "score" : 0,
    "owner" : {
      "account_id" : 30223964,
      "reputation" : 252,
      "user_id" : 23162960,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/2451acfac254a6fc75757ecf89d75f9a?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Jannik S.",
      "link" : "https://stackoverflow.com/users/23162960/jannik-s"
    },
    "creation_date" : 1764089454,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140872655,
    "post_id" : 79829952,
    "body" : "The classpath variable SHOULD be set in both cases. As you&#39;re running in the parent of /target, it will surely NOT find the classes/jars needed. Either you <code>cd target</code> into the directory, or you add <code>somepath&#47;target</code> to the classpath. This will probably help, but the problem could also lie somewhere else.",
    "score" : 0,
    "owner" : {
      "account_id" : 2182934,
      "reputation" : 2660,
      "user_id" : 1932011,
      "user_type" : "registered",
      "accept_rate" : 71,
      "profile_image" : "https://www.gravatar.com/avatar/612163480a1ccb4785fd647a003eefbb?s=256&d=identicon&r=PG",
      "display_name" : "JayC667",
      "link" : "https://stackoverflow.com/users/1932011/jayc667"
    },
    "creation_date" : 1764089175,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140872635,
    "post_id" : 79829952,
    "body" : "ooook, there are waaaaaay too many things unnecessary things in your pom. always start with the necessary only. second, you should use a newer version of java on the pom properties (either 21 or 25 LTS). I will put a simplified version for you to check it out.",
    "score" : 0,
    "owner" : {
      "account_id" : 209503,
      "reputation" : 23857,
      "user_id" : 460557,
      "user_type" : "registered",
      "accept_rate" : 100,
      "profile_image" : "https://www.gravatar.com/avatar/b4565f97815833390c9c880e9e8522e4?s=256&d=identicon&r=PG",
      "display_name" : "Jorge Campos",
      "link" : "https://stackoverflow.com/users/460557/jorge-campos"
    },
    "creation_date" : 1764088699,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140872595,
    "post_id" : 79829952,
    "body" : "@Jorge Campos Will do!",
    "score" : 0,
    "owner" : {
      "account_id" : 37604239,
      "reputation" : 95,
      "user_id" : 28332552,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/5a84dbd7a917124e895a66d1b7b38d61?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Lucy",
      "link" : "https://stackoverflow.com/users/28332552/lucy"
    },
    "creation_date" : 1764087724,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140872587,
    "post_id" : 79829952,
    "body" : "Hi there, you should add to your question your pom.xml file contents and also which command you are using to run your project on the terminal. The error shows that you have a missing dependency issue.",
    "score" : 0,
    "owner" : {
      "account_id" : 209503,
      "reputation" : 23857,
      "user_id" : 460557,
      "user_type" : "registered",
      "accept_rate" : 100,
      "profile_image" : "https://www.gravatar.com/avatar/b4565f97815833390c9c880e9e8522e4?s=256&d=identicon&r=PG",
      "display_name" : "Jorge Campos",
      "link" : "https://stackoverflow.com/users/460557/jorge-campos"
    },
    "creation_date" : 1764087615,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : {
    "79829989" : [ {
      "comment_id" : 140876438,
      "post_id" : 79829989,
      "body" : "@MarkRotteveel Ah, you&#39;re right. Still, any (other) JVM arguments need to come before the <code>-jar</code> option.",
      "score" : 0,
      "owner" : {
        "account_id" : 8532578,
        "reputation" : 49884,
        "user_id" : 6395627,
        "user_type" : "registered",
        "profile_image" : "https://www.gravatar.com/avatar/af0f9bfe593f36642a032cd7ea611e7d?s=256&d=identicon&r=PG&f=y&so-version=2",
        "display_name" : "Slaw",
        "link" : "https://stackoverflow.com/users/6395627/slaw"
      },
      "creation_date" : 1764261850,
      "content_license" : "CC BY-SA 4.0"
    }, {
      "comment_id" : 140876037,
      "post_id" : 79829989,
      "body" : "@Slaw The <code>-jar</code> option <b>ignores</b> the <code>-cp</code>/<code>-classpath</code> options (when correctly placed before <code>-jar</code>); when using <code>-jar</code> the classpath needs to be defined by the <code>Class-Path</code> entry in the <code>META-INF&#47;MANIFEST.MF</code> of the JAR. The OP either needs to use <code>java -cp program.jar:h2.jar edu.ntnu.idi.idat.TestCode</code> (on Windows, use <code>;</code> instead of <code>:</code>), or they need to use a fat JAR as Jorge suggests, or they need to ensure the manifest is correctly set up (and the H2 JAR deployed relative to the program JAR).",
      "score" : 1,
      "owner" : {
        "account_id" : 213468,
        "reputation" : 110282,
        "user_id" : 466862,
        "user_type" : "registered",
        "profile_image" : "https://www.gravatar.com/avatar/d873f397779db38cd510d9ee5416fd43?s=256&d=identicon&r=PG",
        "display_name" : "Mark Rotteveel",
        "link" : "https://stackoverflow.com/users/466862/mark-rotteveel"
      },
      "creation_date" : 1764243372,
      "content_license" : "CC BY-SA 4.0"
    }, {
      "comment_id" : 140873800,
      "post_id" : 79829989,
      "body" : "&quot;<i>The equivalent in the terminal would be [...]</i>&quot; -- The <code>-cp &lt;path&gt;</code> argument needs to come before the <code>-jar &lt;jarfile&gt;</code> argument. Anything after the latter is an <i>application</i> argument (passed to the application&#39;s main method).",
      "score" : 1,
      "owner" : {
        "account_id" : 8532578,
        "reputation" : 49884,
        "user_id" : 6395627,
        "user_type" : "registered",
        "profile_image" : "https://www.gravatar.com/avatar/af0f9bfe593f36642a032cd7ea611e7d?s=256&d=identicon&r=PG&f=y&so-version=2",
        "display_name" : "Slaw",
        "link" : "https://stackoverflow.com/users/6395627/slaw"
      },
      "creation_date" : 1764148324,
      "content_license" : "CC BY-SA 4.0"
    }, {
      "comment_id" : 140873344,
      "post_id" : 79829989,
      "body" : "The POM file specify the dependencies in your project. Right now it is referencing the com.h2database.h2 library on version 2.4.240. Because it is a maven project, the IDE automatically downloads it for you and automatically configures your classpath. In the terminal you have to mimic the same thing. By running the maven command, it should download the dependencies into the <b>maven</b> folders not your target folder, that&#39;s why the <code>cp</code> command will not work, unless you pass in the path where maven saved the dependencies. The plugin I added, shadow, bundles the dependencies into your jar.",
      "score" : 0,
      "owner" : {
        "account_id" : 209503,
        "reputation" : 23857,
        "user_id" : 460557,
        "user_type" : "registered",
        "accept_rate" : 100,
        "profile_image" : "https://www.gravatar.com/avatar/b4565f97815833390c9c880e9e8522e4?s=256&d=identicon&r=PG",
        "display_name" : "Jorge Campos",
        "link" : "https://stackoverflow.com/users/460557/jorge-campos"
      },
      "creation_date" : 1764117352,
      "content_license" : "CC BY-SA 4.0"
    }, {
      "comment_id" : 140873044,
      "post_id" : 79829989,
      "body" : "@Lucy Am I meant to download JAR files and have them available in my project for dependencies to work? In that case, why don&#39;t I need to do that when running from an IDE?",
      "score" : 0,
      "owner" : {
        "account_id" : 37604239,
        "reputation" : 95,
        "user_id" : 28332552,
        "user_type" : "registered",
        "profile_image" : "https://www.gravatar.com/avatar/5a84dbd7a917124e895a66d1b7b38d61?s=256&d=identicon&r=PG&f=y&so-version=2",
        "display_name" : "Lucy",
        "link" : "https://stackoverflow.com/users/28332552/lucy"
      },
      "creation_date" : 1764102149,
      "content_license" : "CC BY-SA 4.0"
    }, {
      "comment_id" : 140873024,
      "post_id" : 79829989,
      "body" : "I followed the link you posted and tried running <code>java -classpath target&#47;classes&#47;edu&#47;ntnu&#47;idi&#47;idat&#47; TestCode</code>, which is the folder where the class TestCode resides, but it returns error message:  <code>Error: Could not find or load main class TestCode  Caused by: java.lang.ClassNotFoundException: TestCode</code>  I also don&#39;t have any dependency .jar files, so I&#39;m not sure what dependency would be referring to.",
      "score" : 0,
      "owner" : {
        "account_id" : 37604239,
        "reputation" : 95,
        "user_id" : 28332552,
        "user_type" : "registered",
        "profile_image" : "https://www.gravatar.com/avatar/5a84dbd7a917124e895a66d1b7b38d61?s=256&d=identicon&r=PG&f=y&so-version=2",
        "display_name" : "Lucy",
        "link" : "https://stackoverflow.com/users/28332552/lucy"
      },
      "creation_date" : 1764101248,
      "content_license" : "CC BY-SA 4.0"
    } ]
  }
}