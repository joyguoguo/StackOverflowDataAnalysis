{
  "question" : {
    "question_id" : 79752566,
    "title" : "Java 23 and JavaFX: Problems in creating an executable app",
    "body" : "<p>I'm developing an app using JavaFX, but I've encountered a problem creating a build and converting it into an executable app. Several years ago, I created a small app using this technology, and I remember that Intellij IDEA allowed me to create a native executable for almost any desktop operating system (Windows, Mac, or Linux). However, that strategy didn't work for me in this project. According to what I've been reading online, the JavaFX project was natively separated from the Oracle JDK, so it needs to be run independently.</p>\n<p>I'm developing this new project with Oracle OpenJDK 23 and intending to use it only in Windows environments. I've been researching how to create an executable build of this app using Maven plugins (I've already tried some variants) and nothing has worked. I managed to get the resulting .jar file to be of shade type and contain all the libraries used by the project. I've attached my pom.xml file.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;cu.nerzur&lt;/groupId&gt;\n    &lt;artifactId&gt;WallpaperEngine&lt;/artifactId&gt;\n    &lt;version&gt;0.2.2&lt;/version&gt;\n    &lt;name&gt;WallpaperEngine&lt;/name&gt;\n    &lt;description&gt;WallpaperEngine&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;junit.version&gt;5.10.2&lt;/junit.version&gt;\n        &lt;java.version&gt;23&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n\n        &lt;!-- reduce boiler plate --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sangupta&lt;/groupId&gt;\n            &lt;artifactId&gt;jerry-core&lt;/artifactId&gt;\n            &lt;version&gt;3.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- for making HTTP calls --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sangupta&lt;/groupId&gt;\n            &lt;artifactId&gt;jerry-http&lt;/artifactId&gt;\n            &lt;version&gt;2.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.38&lt;/version&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.java.dev.jna&lt;/groupId&gt;\n            &lt;artifactId&gt;jna&lt;/artifactId&gt;\n            &lt;version&gt;5.13.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.java.dev.jna&lt;/groupId&gt;\n            &lt;artifactId&gt;jna-platform&lt;/artifactId&gt;\n            &lt;version&gt;5.13.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.openjfx/javafx-controls --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n            &lt;version&gt;26-ea+3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.openjfx/javafx-fxml --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n            &lt;version&gt;26-ea+3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-swing&lt;/artifactId&gt;\n            &lt;version&gt;26-ea+3&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- for JSON parsing --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\n            &lt;version&gt;2.13.1&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.14.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;release&gt;23&lt;/release&gt;\n                    &lt;annotationProcessorPaths&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                            &lt;version&gt;1.18.38&lt;/version&gt;\n                        &lt;/path&gt;\n                    &lt;/annotationProcessorPaths&gt;\n                    &lt;compilerArgs&gt;\n                        &lt;arg&gt;-Xlint:all&lt;/arg&gt;\n                    &lt;/compilerArgs&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.6.0&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;shade&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;transformers&gt;\n                                &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\n                                    &lt;mainClass&gt;com.nerzur.wallpaperengine.Init&lt;/mainClass&gt;\n                                &lt;/transformer&gt;\n                            &lt;/transformers&gt;\n                            &lt;filters&gt;\n                                &lt;filter&gt;\n                                    &lt;artifact&gt;*:*&lt;/artifact&gt;\n                                    &lt;excludes&gt;\n                                        &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\n                                        &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\n                                        &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\n                                    &lt;/excludes&gt;\n                                &lt;/filter&gt;\n                            &lt;/filters&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.0.8&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;default-cli&lt;/id&gt;\n                        &lt;configuration&gt;\n                            &lt;mainClass&gt;com.nerzur.wallpaperengine.Init&lt;/mainClass&gt;\n                            &lt;launcher&gt;app&lt;/launcher&gt;\n                            &lt;jlinkZipName&gt;app&lt;/jlinkZipName&gt;\n                            &lt;jlinkImageName&gt;app&lt;/jlinkImageName&gt;\n                            &lt;noManPages&gt;true&lt;/noManPages&gt;\n                            &lt;stripDebug&gt;true&lt;/stripDebug&gt;\n                            &lt;noHeaderFiles&gt;true&lt;/noHeaderFiles&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>But I still can't get the Java FX runtimes to be included, and I get an error message when running the jar with the command java -jar app.jar.</p>\n<pre><code>PS D:\\Development\\SpringBoot\\WallpaperEngine\\target&gt; java -jar .\\WallpaperEngine-0.2.2.jar\nError: JavaFX runtime components are missing, and are required to run this application\nPS D:\\Development\\SpringBoot\\WallpaperEngine\\target&gt;\n</code></pre>\n<p>Some solutions mention using a module-info.java file to create a Java module that includes JavaFX dependencies. However, when creating this file, errors start to appear because I'm using dependencies that aren't backed by modules, or so it seems. I'm not currently using this file, but when I had it integrated into the project, it looked something like this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>module com.nerzur.WallpaperEngine {\n    requires javafx.controls;\n    requires javafx.fxml;\n    requires javafx.graphics;\n    requires java.desktop;\n\n    requires transitive static lombok;\n    requires transitive slf4j.api;\n    requires transitive jerry.http;\n    requires transitive jerry.core;\n    requires transitive java.net.http;\n    requires transitive com.google.gson;\n    requires transitive com.sun.jna;\n    requires transitive com.sun.jna.platform;\n    \n    opens com.nerzur.wallpaperengine to javafx.fxml;\n    opens com.nerzur.wallpaperengine.controller to javafx.fxml;\n    \n    exports com.nerzur.wallpaperengine;\n    exports com.nerzur.wallpaperengine.controller;\n    exports com.nerzur.wallpaperengine.service;\n    exports com.nerzur.wallpaperengine.scheduledTask;\n    exports com.nerzur.wallpaperengine.util;\n}\n</code></pre>\n<p>The only solution I've found to make this project compilable is to use Launch4j (an external app) using the current pom.xml and deleting the module-info.java file. Then, pass a fixed path for the JRE and another path with the JVM execution options as parameters with the following command: <code>--module-path &quot;C:\\WallpaperEngine\\libs\\javafx-sdk-24.0.2\\lib&quot; --add-modules javafx.controls,javafx.fxml,javafx.swing&quot;</code> which indicates the absolute path of the JavaFX SDK. This forces me to copy the app to an absolute path on the PC and include both SDKs in the compiled APK (which doesn't seem optimal to me).</p>\n<p>Is there any other way to create an executable for this type of application that doesn't involve such drastic methods?</p>\n",
    "tags" : [ "java", "maven", "javafx" ],
    "owner" : {
      "account_id" : 15097949,
      "reputation" : 85,
      "user_id" : 10895866,
      "user_type" : "registered",
      "profile_image" : "https://lh5.googleusercontent.com/-ooGcAauVr6I/AAAAAAAAAAI/AAAAAAAAABY/tEG3v5aOQhc/s256-rj/photo.jpg",
      "display_name" : "Gabriel Alberto P&#233;rez Guerra",
      "link" : "https://stackoverflow.com/users/10895866/gabriel-alberto-p%c3%a9rez-guerra"
    },
    "is_answered" : false,
    "view_count" : 144,
    "answer_count" : 0,
    "score" : 1,
    "last_activity_date" : 1756884881,
    "creation_date" : 1756732565,
    "link" : "https://stackoverflow.com/questions/79752566/java-23-and-javafx-problems-in-creating-an-executable-app",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ ],
  "question_comments" : [ {
    "comment_id" : 140710559,
    "post_id" : 79752566,
    "body" : "Ah ok thanks jewelsea",
    "score" : 0,
    "owner" : {
      "account_id" : 22124137,
      "reputation" : 4244,
      "user_id" : 16376827,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/1ImPw.png?s=256",
      "display_name" : "g00se",
      "link" : "https://stackoverflow.com/users/16376827/g00se"
    },
    "creation_date" : 1756856398,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140710541,
    "post_id" : 79752566,
    "body" : "@g00se if the user code is fully modular then the native code could be in a jmod rather than on the java library path, as jmods allow that (see <a href=\"https://docs.oracle.com/en/java/javase/21/docs/specs/man/jmod.html\" rel=\"nofollow noreferrer\">jmod --libs argument</a>), unlike jars.  But assuming its not, then yes, it is just necessary to ensure native code is on the java library path. I only mentioned it as a complication from my provided example as I don&#39;t demonstrate in that example how to do that nor does the <a href=\"https://docs.oracle.com/en/java/javase/24/jpackage/packaging-overview.html\" rel=\"nofollow noreferrer\">Oracle jpackage user guide</a>.",
    "score" : 0,
    "owner" : {
      "account_id" : 1180113,
      "reputation" : 160456,
      "user_id" : 1155209,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/5192e7cbcf2f72a847d6fb0d1552f049?s=256&d=identicon&r=PG",
      "display_name" : "jewelsea",
      "link" : "https://stackoverflow.com/users/1155209/jewelsea"
    },
    "creation_date" : 1756855222,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140710469,
    "post_id" : 79752566,
    "body" : "@jewelsea Out of interest, why should the presence of native code make much difference? Surely all that would be necessary would be to ensure native code be on <code>java.library.path</code>?",
    "score" : 0,
    "owner" : {
      "account_id" : 22124137,
      "reputation" : 4244,
      "user_id" : 16376827,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/1ImPw.png?s=256",
      "display_name" : "g00se",
      "link" : "https://stackoverflow.com/users/16376827/g00se"
    },
    "creation_date" : 1756850041,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140709940,
    "post_id" : 79752566,
    "body" : "Example of using <a href=\"https://stackoverflow.com/questions/77792847/how-to-make-a-windows-macos-linux-installer-for-javafx-spring-boot-application/77794387#77794387\">Maven and jpackage</a> to package a JavaFX application.  You are using JNA, indicating custom native components, so the solution to your issue would be more complicated.  You want to create an APK for Android, so it is probably best to use a technology targeted at that (e.g. <a href=\"https://gluonhq.com/products/mobile/\" rel=\"nofollow noreferrer\">Gluon Mobile</a>).",
    "score" : 0,
    "owner" : {
      "account_id" : 1180113,
      "reputation" : 160456,
      "user_id" : 1155209,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/5192e7cbcf2f72a847d6fb0d1552f049?s=256&d=identicon&r=PG",
      "display_name" : "jewelsea",
      "link" : "https://stackoverflow.com/users/1155209/jewelsea"
    },
    "creation_date" : 1756834264,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140707450,
    "post_id" : 79752566,
    "body" : "The JDK <a href=\"https://docs.oracle.com/en/java/javase/24/docs/specs/man/jpackage.html\" rel=\"nofollow noreferrer\">comes with a tool</a> that does this.  I don&#39;t usually build with Maven, but I assume <a href=\"https://akman.github.io/jpackage-maven-plugin/\" rel=\"nofollow noreferrer\">this plugin</a> is the one you would want to use.",
    "score" : 2,
    "owner" : {
      "account_id" : 2053598,
      "reputation" : 44936,
      "user_id" : 1831987,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/38b1c37530189ec4471a43a618e33f67?s=256&d=identicon&r=PG",
      "display_name" : "VGR",
      "link" : "https://stackoverflow.com/users/1831987/vgr"
    },
    "creation_date" : 1756746205,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140707331,
    "post_id" : 79752566,
    "body" : "@life888888 thanks, applying the idea you mentioned about using relative paths I was able to run the app in any directory using launch4j, the --module-path command changed to this: <code>--module-path &quot;%EXEDIR%\\libs\\javafx-sdk-24.0.2\\lib&quot; --add-modules javafx.controls,javafx.fxml,javafx.swing</code>",
    "score" : 0,
    "owner" : {
      "account_id" : 15097949,
      "reputation" : 85,
      "user_id" : 10895866,
      "user_type" : "registered",
      "profile_image" : "https://lh5.googleusercontent.com/-ooGcAauVr6I/AAAAAAAAAAI/AAAAAAAAABY/tEG3v5aOQhc/s256-rj/photo.jpg",
      "display_name" : "Gabriel Alberto P&#233;rez Guerra",
      "link" : "https://stackoverflow.com/users/10895866/gabriel-alberto-p%c3%a9rez-guerra"
    },
    "creation_date" : 1756742310,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140707160,
    "post_id" : 79752566,
    "body" : "For Launch4j, suppose your app directory is <code>C:\\WallpaperEngine</code>. Then the parameter should be adjusted to use a relative directory:  <code>.\\libs\\javafx-sdk-24.0.2\\lib</code> --&gt; <code>--module-path &quot;.\\libs\\javafx-sdk-24.0.2\\lib&quot;</code>",
    "score" : 0,
    "owner" : {
      "account_id" : 26698569,
      "reputation" : 4074,
      "user_id" : 20306007,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/98bbc403493aee3681b71dae7abef66e?s=256&d=identicon&r=PG",
      "display_name" : "life888888",
      "link" : "https://stackoverflow.com/users/20306007/life888888"
    },
    "creation_date" : 1756737639,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140707082,
    "post_id" : 79752566,
    "body" : "&quot;I get an error message&quot; you have to add the complete error to the question so people can help you to solve it.",
    "score" : 3,
    "owner" : {
      "account_id" : 372682,
      "reputation" : 26502,
      "user_id" : 721855,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/vZiox.png?s=256",
      "display_name" : "aled",
      "link" : "https://stackoverflow.com/users/721855/aled"
    },
    "creation_date" : 1756735422,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}