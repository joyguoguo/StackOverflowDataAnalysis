{
  "question" : {
    "question_id" : 79575384,
    "title" : "Getting information about currently playing media on android",
    "body" : "<p>I am planning on creating a simple application for my phone that would work like a Spotify car thing. I would display the current time, the currently playing song's title and album cover and some media control buttons. I however, have not been able to get information about the currently playing song.</p>\n<p>I have read other posts, but none of them gave a definite answer.</p>\n<p>So my question is:</p>\n<p>Is it possible for an android app to read the information of the currently playing media on the device and display them inside the application.</p>\n",
    "tags" : [ "java", "android", "kotlin", "android-jetpack-compose", "media" ],
    "owner" : {
      "account_id" : 19445430,
      "reputation" : 33,
      "user_id" : 14223076,
      "user_type" : "registered",
      "profile_image" : "https://lh6.googleusercontent.com/-6YXRjIHXr3U/AAAAAAAAAAI/AAAAAAAABkw/AMZuuclJCvDnhZDG0lXeCRV9H-acONLddg/s256-rj/photo.jpg",
      "display_name" : "0324bence",
      "link" : "https://stackoverflow.com/users/14223076/0324bence"
    },
    "is_answered" : false,
    "view_count" : 366,
    "answer_count" : 2,
    "score" : 0,
    "last_activity_date" : 1744772728,
    "creation_date" : 1744726705,
    "link" : "https://stackoverflow.com/questions/79575384/getting-information-about-currently-playing-media-on-android",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79575731,
    "question_id" : 79575384,
    "body" : "<p>Yes, it is possible to read currently playing media information on Android.</p>\n<p>Using <strong>MediaSessionManager</strong> (API 21+)</p>\n<pre><code>MediaSessionManager mediaSessionManager = (MediaSessionManager) getSystemService(Context.MEDIA_SESSION_SERVICE);\nList&lt;MediaController&gt; controllers = mediaSessionManager.getActiveSessions(new ComponentName(this, NotificationListener.class));\nfor (MediaController controller : controllers) {\n    MediaMetadata metadata = controller.getMetadata();\n    if (metadata != null) {\n        String title = metadata.getString(MediaMetadata.METADATA_KEY_TITLE);\n        String artist = metadata.getString(MediaMetadata.METADATA_KEY_ARTIST);\n        Log.d(&quot;NowPlaying&quot;, &quot;Title: &quot; + title + &quot;, Artist: &quot; + artist);\n    }\n}\n</code></pre>\n<pre><code>&lt;service android:name=&quot;.NotificationListener&quot;\n         android:label=&quot;@string/app_name&quot;\n         android:permission=&quot;android.permission.BIND_NOTIFICATION_LISTENER_SERVICE&quot;&gt;\n    &lt;intent-filter&gt;\n        &lt;action android:name=&quot;android.service.notification.NotificationListenerService&quot; /&gt;\n    &lt;/intent-filter&gt;\n&lt;/service&gt;\n</code></pre>\n",
    "score" : 0,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 36245679,
      "reputation" : 1,
      "user_id" : 27640240,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/yqQyPf0w.jpg?s=256",
      "display_name" : "Ezility",
      "link" : "https://stackoverflow.com/users/27640240/ezility"
    },
    "creation_date" : 1744738313,
    "last_activity_date" : 1744738529,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "answer_id" : 79576328,
    "question_id" : 79575384,
    "body" : "<p>Based on my experience, yes, it's definitely possible to get information about currently playing media on Android, though it requires some specific APIs.</p>\n<p>The most reliable approach is to use the Media Session API, which lets you discover active media sessions and retrieve their metadata (title, artist, album art, etc.). You'll need to:</p>\n<ul>\n<li><p>Use MediaSessionManager to get active sessions</p>\n</li>\n<li><p>Register callbacks to get notified of changes</p>\n</li>\n<li><p>Access metadata through MediaController</p>\n</li>\n</ul>\n<p>Here's what you'll need in your AndroidManifest.xml:<br />\n&lt;uses-permission android:name=&quot;android.permission.MEDIA_CONTENT_CONTROL&quot;/&gt;<br />\n&lt;uses-permission android:name=&quot;android.permission.BIND_NOTIFICATION_LISTENER_SERVICE&quot;/&gt;</p>\n<p>The trickiest part is that you need to implement a NotificationListenerService and request the user to grant notification access to your app - this is unavoidable since reading this data is considered sensitive.</p>\n<p>One gotcha: media apps implement these APIs differently, so test with multiple players (Spotify, YouTube Music, etc.) to ensure your app works reliably.</p>\n<p>If you run into issues with certain apps, you can fall back to reading media notifications, though that's more fragile.</p>\n",
    "score" : 0,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 18698797,
      "reputation" : 249,
      "user_id" : 13631451,
      "user_type" : "registered",
      "profile_image" : "https://lh4.googleusercontent.com/-VHoslIX8yyU/AAAAAAAAAAI/AAAAAAAAAAA/AMZuuclV4n2YC7BSLszYF1svXAvyDybcBw/s256-rj/photo.jpg",
      "display_name" : "dadasese",
      "link" : "https://stackoverflow.com/users/13631451/dadasese"
    },
    "creation_date" : 1744772728,
    "last_activity_date" : 1744772728,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140337238,
    "post_id" : 79575384,
    "body" : "It will depend on whatever app is playing media uses the <code>MediaSession</code> APIs or not.",
    "score" : 0,
    "owner" : {
      "account_id" : 39846,
      "reputation" : 1011235,
      "user_id" : 115145,
      "user_type" : "registered",
      "accept_rate" : 84,
      "profile_image" : "https://i.sstatic.net/wDnd8.png?s=256",
      "display_name" : "CommonsWare",
      "link" : "https://stackoverflow.com/users/115145/commonsware"
    },
    "creation_date" : 1744727027,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : {
    "79576328" : [ {
      "comment_id" : 140347317,
      "post_id" : 79576328,
      "body" : "The &quot;MEDIA_CONTENT_CONTROL&quot; permission is restricted to system apps, therefor I cannot use it",
      "score" : 0,
      "owner" : {
        "account_id" : 19445430,
        "reputation" : 33,
        "user_id" : 14223076,
        "user_type" : "registered",
        "profile_image" : "https://lh6.googleusercontent.com/-6YXRjIHXr3U/AAAAAAAAAAI/AAAAAAAABkw/AMZuuclJCvDnhZDG0lXeCRV9H-acONLddg/s256-rj/photo.jpg",
        "display_name" : "0324bence",
        "link" : "https://stackoverflow.com/users/14223076/0324bence"
      },
      "creation_date" : 1744965082,
      "content_license" : "CC BY-SA 4.0"
    } ]
  }
}