{
  "question" : {
    "question_id" : 79752125,
    "title" : "Can I programatically check if an endpoint has @PermitAll annotation, e.g. from its SecurityContext?",
    "body" : "<p>I'd like to be able to programmatically check whether or not an endpoint in my Helidon MP application has the <code>@PermitAll</code> annotation, e.g. from its SecurityContext or something like that. Is this possible? My reason is to be able to reuse a utility method that takes the security context and/or URI info and do some general validation on it.</p>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GET\n@Path(&quot;/{path: .*}&quot;)\n@Produces(MediaType.APPLICATION_JSON)\n@PermitAll\npublic Response proxyGetRequests(@PathParam(&quot;path&quot;) final String path,\n                                 @Context UriInfo uriInfo,\n                                 @Context SecurityContext securityContext) {\n    // e.g. securityContext.permitsAll() &lt;- or something like this?\n\n}\n</code></pre>\n",
    "tags" : [ "java", "helidon" ],
    "owner" : {
      "account_id" : 104880,
      "reputation" : 1902,
      "user_id" : 280177,
      "user_type" : "registered",
      "accept_rate" : 48,
      "profile_image" : "https://www.gravatar.com/avatar/a5ef079702e8fc3088efc2909455c50f?s=256&d=identicon&r=PG",
      "display_name" : "Navigateur",
      "link" : "https://stackoverflow.com/users/280177/navigateur"
    },
    "is_answered" : true,
    "view_count" : 73,
    "answer_count" : 1,
    "score" : 1,
    "last_activity_date" : 1756719297,
    "creation_date" : 1756693366,
    "link" : "https://stackoverflow.com/questions/79752125/can-i-programatically-check-if-an-endpoint-has-permitall-annotation-e-g-from",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79752361,
    "question_id" : 79752125,
    "body" : "<p>If you want to check programmatically whether an endpoint has <code>@PermitAll</code>, you have to inspect resource method metadata, not the SecurityContext.</p>\n<p>Option 1: Use Reflection</p>\n<p>Since you know the class and method, you can use reflection to see if <code>@PermitAll</code> is present:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Method method = this.getClass().getMethod(\n    &quot;proxyGetRequests&quot;, String.class, UriInfo.class, SecurityContext.class\n);\nboolean hasPermitAll = method.isAnnotationPresent(PermitAll.class);\n</code></pre>\n<p>You could generalize this by looking up the ResourceMethod based on the UriInfo path and then inspecting its annotations.</p>\n<p>Option 2: JAX-RS ResourceInfo</p>\n<p>ResourceInfo tells you which class and method are handling the current request, so you can reflectively inspect their annotations.</p>\n",
    "score" : 2,
    "is_accepted" : true,
    "owner" : {
      "account_id" : 43745108,
      "reputation" : 36,
      "user_id" : 31394942,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/300ba2aeb1ef60584fe97cc987494f4c?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Rohit Rathor",
      "link" : "https://stackoverflow.com/users/31394942/rohit-rathor"
    },
    "creation_date" : 1756719015,
    "last_activity_date" : 1756719297,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140706436,
    "post_id" : 79752125,
    "body" : "you need <a href=\"https://stackoverflow.com/questions/26553200/how-do-i-intercept-selective-methods-and-classes-in-jax-rs-in-java-ee-7-complian\">interceptor</a> for that",
    "score" : 0,
    "owner" : {
      "account_id" : 1136217,
      "reputation" : 14808,
      "user_id" : 1121249,
      "user_type" : "registered",
      "accept_rate" : 86,
      "profile_image" : "https://i.sstatic.net/LkDcL.png?s=256",
      "display_name" : "rkosegi",
      "link" : "https://stackoverflow.com/users/1121249/rkosegi"
    },
    "creation_date" : 1756717152,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : {
    "79752361" : [ {
      "comment_id" : 140707754,
      "post_id" : 79752361,
      "body" : "Amazing, thank you! I used <code>ResourceInfo</code>. Is there documentation you know of that lists all the <code>@Context</code> endpoint options (e.g. UriInfo, SecurityContext, ResourceInfo etc.)? I had no idea bout ResourceInfo",
      "score" : 0,
      "owner" : {
        "account_id" : 104880,
        "reputation" : 1902,
        "user_id" : 280177,
        "user_type" : "registered",
        "accept_rate" : 48,
        "profile_image" : "https://www.gravatar.com/avatar/a5ef079702e8fc3088efc2909455c50f?s=256&d=identicon&r=PG",
        "display_name" : "Navigateur",
        "link" : "https://stackoverflow.com/users/280177/navigateur"
      },
      "creation_date" : 1756758781,
      "content_license" : "CC BY-SA 4.0"
    } ]
  }
}