{
  "question" : {
    "question_id" : 79556904,
    "title" : "Compiling Stream Gatherers / jdk24 features",
    "body" : "<p>I don't know how to fix this error:  (I use IntelliJ IDEA 2024.2.5 (Community Edition)</p>\n<pre><code>java: invalid source release 23 with --enable-preview\n  (preview language features are only supported for release 24)\n</code></pre>\n<p>I try to compile this code from Baeldung and have settings as follow:</p>\n<pre><code>public static void gatherIntoWindows(List&lt;String&gt; countries) {\n    List&lt;List&lt;String&gt;&gt; windows = countries\n            .stream()\n            .gather(Gatherers.windowSliding(3))\n            .toList();\n}\n</code></pre>\n<p>I've downloaded JDK24 for the project but I can't choose target bytecode version 24.</p>\n<p>Can the error arise because of it?</p>\n<p><a href=\"https://i.sstatic.net/5pV1IOHO.png\" rel=\"nofollow noreferrer\">flag '--release 24'</a></p>\n",
    "tags" : [ "java", "intellij-idea", "java-stream", "jdk-24" ],
    "owner" : {
      "account_id" : 39283900,
      "reputation" : 1,
      "user_id" : 29198334,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/xF6G2U8i.jpg?s=256",
      "display_name" : "Kristina Perez",
      "link" : "https://stackoverflow.com/users/29198334/kristina-perez"
    },
    "is_answered" : false,
    "view_count" : 192,
    "answer_count" : 1,
    "score" : 0,
    "last_activity_date" : 1744233013,
    "creation_date" : 1743852925,
    "link" : "https://stackoverflow.com/questions/79556904/compiling-stream-gatherers-jdk24-features",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79557699,
    "question_id" : 79556904,
    "body" : "<p>In Intellij Idea, add jdk24</p>\n<p><a href=\"https://i.sstatic.net/Qs5NfMUn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/Qs5NfMUn.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.sstatic.net/4aW9qgcL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/4aW9qgcL.png\" alt=\"enter image description here\" /></a></p>\n<p>Select Language Level SDK Default<br />\n<a href=\"https://i.sstatic.net/VYLUhDth.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/VYLUhDth.png\" alt=\"enter image description here\" /></a></p>\n<p>Test code: you need to compile the class file before running with Java 24 if it's a diff. version.</p>\n<pre><code>public static void main(String[] args) {\n\n    List&lt;String&gt; countrie = List.of(&quot;US&quot;, &quot;India&quot;,&quot;China&quot;, &quot;Japan&quot;,&quot;Australia&quot;, &quot;Swiss&quot;);\n    List&lt;List&lt;String&gt;&gt; windows = gatherIntoWindows(countrie);\n\n    System.out.println(&quot;windows : &quot; + windows);\n}\n\npublic static List&lt;List&lt;String&gt;&gt; gatherIntoWindows(List&lt;String&gt; countries) {\n    List&lt;List&lt;String&gt;&gt; windows = countries\n            .stream()\n            .gather(Gatherers.windowSliding(3))\n            .toList();\n\n    return windows;\n}\n</code></pre>\n<p>output:<br />\nwindows : [[US, India, china], [India, china, Japan], [china, Japan, Australia], [Japan, Australia, Swiss]]</p>\n",
    "score" : 0,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 7645025,
      "reputation" : 440,
      "user_id" : 5795975,
      "user_type" : "registered",
      "profile_image" : "https://lh6.googleusercontent.com/-6KwPUS4RnyA/AAAAAAAAAAI/AAAAAAAAC8w/auZqreI45x0/s256-rj/photo.jpg",
      "display_name" : "Vijay",
      "link" : "https://stackoverflow.com/users/5795975/vijay"
    },
    "creation_date" : 1743902038,
    "last_activity_date" : 1743902038,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140305297,
    "post_id" : 79556904,
    "body" : "again, I do not use IDEA; I wonder the &quot;<i>Target bytecode vers... <code>23</code></i>&quot; in the bytecode selection of posted screenshot, even for <code>JDK24</code> --- by the way, the download pages state the latest version as &quot;Version: <code>2024.3.5</code> Released: <code>18 March 2025</code>&quot; -- Version <code>2024.2.5</code> was released November 2024, but Java 24 itself was not released back then, so probably that version of IDEA does not support Java 24",
    "score" : 0,
    "owner" : {
      "account_id" : 31180,
      "reputation" : 29752,
      "user_id" : 85421,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/kKvXH.gif?s=256",
      "display_name" : "user85421",
      "link" : "https://stackoverflow.com/users/85421/user85421"
    },
    "creation_date" : 1743962084,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140304379,
    "post_id" : 79556904,
    "body" : "IntelliJ IDEA 2024.2.5 (Community Edition), latest update",
    "score" : 0,
    "owner" : {
      "account_id" : 39283900,
      "reputation" : 1,
      "user_id" : 29198334,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/xF6G2U8i.jpg?s=256",
      "display_name" : "Kristina Perez",
      "link" : "https://stackoverflow.com/users/29198334/kristina-perez"
    },
    "creation_date" : 1743932665,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140304268,
    "post_id" : 79556904,
    "body" : "please also provide the IDE version&#185; and add it to the question! - I do not use IDEA, maybe the used version does not support Java 24  || <b>&#185;</b> - &quot;<i>IntelliJ Idea 24 Community</i>&quot; seems not to be an usual version of IDEA",
    "score" : 0,
    "owner" : {
      "account_id" : 31180,
      "reputation" : 29752,
      "user_id" : 85421,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/kKvXH.gif?s=256",
      "display_name" : "user85421",
      "link" : "https://stackoverflow.com/users/85421/user85421"
    },
    "creation_date" : 1743929258,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140302568,
    "post_id" : 79556904,
    "body" : "Can you include the capture, from the IDE, where you are entering the <code>--enable-preview</code> ?",
    "score" : 0,
    "owner" : {
      "account_id" : 9808985,
      "reputation" : 194,
      "user_id" : 7267818,
      "user_type" : "registered",
      "accept_rate" : 57,
      "profile_image" : "https://i.sstatic.net/xDbzS.jpg?s=256",
      "display_name" : "0x52",
      "link" : "https://stackoverflow.com/users/7267818/0x52"
    },
    "creation_date" : 1743863149,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140302526,
    "post_id" : 79556904,
    "body" : "when I changed in Java compiler parameter --release 24, nothing has changed. No compilation,  java: java.util.stream.Gatherers is a preview API and is disabled by default.   (use --enable-preview to enable preview APIs)",
    "score" : 0,
    "owner" : {
      "account_id" : 39283900,
      "reputation" : 1,
      "user_id" : 29198334,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/xF6G2U8i.jpg?s=256",
      "display_name" : "Kristina Perez",
      "link" : "https://stackoverflow.com/users/29198334/kristina-perez"
    },
    "creation_date" : 1743861949,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140302522,
    "post_id" : 79556904,
    "body" : "I use IntelliJ Idea 24  Community",
    "score" : 0,
    "owner" : {
      "account_id" : 39283900,
      "reputation" : 1,
      "user_id" : 29198334,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/xF6G2U8i.jpg?s=256",
      "display_name" : "Kristina Perez",
      "link" : "https://stackoverflow.com/users/29198334/kristina-perez"
    },
    "creation_date" : 1743861883,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140302312,
    "post_id" : 79556904,
    "body" : "based on the error message, <code>--release 23 --enable-preview</code> are being used with a Java 24 compiler - that is not allowed - change to <code>--release 24</code>, or remove the <code>--enable-preview</code> option, (or use Java 23) - The question is missing information how the code is being compiled, maybe that can be added!",
    "score" : 2,
    "owner" : {
      "account_id" : 31180,
      "reputation" : 29752,
      "user_id" : 85421,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/kKvXH.gif?s=256",
      "display_name" : "user85421",
      "link" : "https://stackoverflow.com/users/85421/user85421"
    },
    "creation_date" : 1743855506,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140302279,
    "post_id" : 79556904,
    "body" : "If you are running this with Java 24 you need to compile it for Java 24 (and you don&#39;t need preview since it is a standard feature in Java 24). You can&#39;t use code compiled for Java 23 with preview enabled - Java 24 wll not run that.",
    "score" : 1,
    "owner" : {
      "account_id" : 3159259,
      "reputation" : 111562,
      "user_id" : 2670892,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/4iPV5.png?s=256",
      "display_name" : "greg-449",
      "link" : "https://stackoverflow.com/users/2670892/greg-449"
    },
    "creation_date" : 1743854777,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140302264,
    "post_id" : 79556904,
    "body" : "Your code works for me. I am using Eclipse 2025-03 with JDK 24 on Windows 10.",
    "score" : 0,
    "owner" : {
      "account_id" : 2485939,
      "reputation" : 20969,
      "user_id" : 2164365,
      "user_type" : "registered",
      "accept_rate" : 40,
      "profile_image" : "https://i.sstatic.net/RKSgV.png?s=256",
      "display_name" : "Abra",
      "link" : "https://stackoverflow.com/users/2164365/abra"
    },
    "creation_date" : 1743854155,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140302261,
    "post_id" : 79556904,
    "body" : "What IDE are you using that&#39;s limiting your choices and giving you these restricted &quot;settings&quot;? Have you tried using the JDK&#39;s <code>javac</code> directly from the command line without the IDE being involved at all?",
    "score" : 1,
    "owner" : {
      "account_id" : 8002,
      "reputation" : 299458,
      "user_id" : 14122,
      "user_type" : "registered",
      "accept_rate" : 71,
      "profile_image" : "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=256&d=identicon&r=PG",
      "display_name" : "Charles Duffy",
      "link" : "https://stackoverflow.com/users/14122/charles-duffy"
    },
    "creation_date" : 1743853963,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : {
    "79557699" : [ {
      "comment_id" : 140305247,
      "post_id" : 79557699,
      "body" : "@KristinaPerez FYI -  my IDE is IDEA 2024.3.5 version, you need to upgrade your idea as suggested by Mark Rotteveel",
      "score" : 1,
      "owner" : {
        "account_id" : 7645025,
        "reputation" : 440,
        "user_id" : 5795975,
        "user_type" : "registered",
        "profile_image" : "https://lh6.googleusercontent.com/-6KwPUS4RnyA/AAAAAAAAAAI/AAAAAAAAC8w/auZqreI45x0/s256-rj/photo.jpg",
        "display_name" : "Vijay",
        "link" : "https://stackoverflow.com/users/5795975/vijay"
      },
      "creation_date" : 1743960316,
      "content_license" : "CC BY-SA 4.0"
    }, {
      "comment_id" : 140304456,
      "post_id" : 79557699,
      "body" : "@KristinaPerez Maybe you should update IntelliJ to version 2024.3.x, it is possible Java 24 support isn&#39;t in 2024.2.x",
      "score" : 1,
      "owner" : {
        "account_id" : 213468,
        "reputation" : 110280,
        "user_id" : 466862,
        "user_type" : "registered",
        "profile_image" : "https://www.gravatar.com/avatar/d873f397779db38cd510d9ee5416fd43?s=256&d=identicon&r=PG",
        "display_name" : "Mark Rotteveel",
        "link" : "https://stackoverflow.com/users/466862/mark-rotteveel"
      },
      "creation_date" : 1743935489,
      "content_license" : "CC BY-SA 4.0"
    }, {
      "comment_id" : 140304376,
      "post_id" : 79557699,
      "body" : "I &#39;ve done this but in the field  Project settings/ Project/ Language level I can choose just X - Experimental features only, not  SDK default.   Others things are the same with me. IntelliJ IDEA 2024.2.5 (Community Edition)   And can not compile the test code.",
      "score" : 0,
      "owner" : {
        "account_id" : 39283900,
        "reputation" : 1,
        "user_id" : 29198334,
        "user_type" : "registered",
        "profile_image" : "https://i.sstatic.net/xF6G2U8i.jpg?s=256",
        "display_name" : "Kristina Perez",
        "link" : "https://stackoverflow.com/users/29198334/kristina-perez"
      },
      "creation_date" : 1743932556,
      "content_license" : "CC BY-SA 4.0"
    } ]
  }
}