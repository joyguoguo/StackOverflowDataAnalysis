{
  "question" : {
    "question_id" : 79651266,
    "title" : "Some inputs are not populated/selected in edit form",
    "body" : "<p>I am making an edit form for a Spring Boot project. I'm trying to populate form data from a retrieved <code>Listing</code> via this GET controller method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(&quot;/{id}/izmena&quot;)\npublic String update(@PathVariable int id, Model model) {\n  Listing listing = listingServ.findById(id);\n  ListingFormDTO listingFormDTO = new ListingFormDTO();\n\n  listingFormDTO.setBuilding(buildingServ.toDTO(listing.getApartment().getBuilding()));\n  listingFormDTO.setItems(itemServ.toIds(listing.getApartment().getItems()));\n  listingFormDTO.setApartment(apartmentServ.toDTO(listing.getApartment()));\n  listingFormDTO.setTerms(termsServ.toDTO(listing.getTerms()));\n  listingFormDTO.setListing(listingServ.toDTO(listing));\n\n  model.addAttribute(&quot;listing&quot;, listing); // for title and heading\n  model.addAttribute(&quot;listingFormDTO&quot;, listingFormDTO); // for form\n  model.addAttribute(&quot;allItems&quot;, itemServ.findAll());\n  return &quot;listings/update.html&quot;;\n}\n</code></pre>\n<p>The form:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;form action=&quot;#&quot; th:action=&quot;@{'/oglasi/'+listing.id+'/izmena'}&quot; th:object=&quot;${listingFormDTO}&quot; method=&quot;post&quot; th:fragment=&quot;form&quot;&gt;\n  &lt;!-- ... --&gt;\n  &lt;fieldset&gt;\n  &lt;!-- ... --&gt;\n  &lt;div&gt;\n    &lt;label for=&quot;items&quot;&gt;Stvari:&lt;/label&gt;\n    &lt;select th:field=&quot;*{items}&quot; multiple&gt;\n      &lt;option th:each=&quot;item : ${allItems}&quot; th:value=&quot;${item.id}&quot; th:text=&quot;${item.name}&quot; th&gt;&lt;/option&gt;\n    &lt;/select&gt;\n  &lt;/div&gt;\n  &lt;!-- ... --&gt;\n  &lt;/fieldset&gt;\n  &lt;fieldset&gt;\n    &lt;!-- ... --&gt;\n    &lt;div&gt;\n      &lt;label for=&quot;dateAvailable&quot;&gt;Useljiv:&lt;/label&gt;\n      &lt;input type=&quot;date&quot; th:field=&quot;*{terms.dateAvailable}&quot; required&gt;\n    &lt;/div&gt;\n    &lt;!-- ... --&gt;\n  &lt;/fieldset&gt;\n  &lt;!-- ... --&gt;\n&lt;form&gt;\n</code></pre>\n<p>I send data of <code>List&lt;Item&gt;</code> and <code>TermsDTO</code> instances which are nested in <code>ListingFormDTO</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\npublic class ListingFormDTO {\n    private BuildingDTO building = BuildingDTO.builder().build();\n    private ApartmentDTO apartment = ApartmentDTO.builder().build();\n    private List&lt;Integer&gt; items = new ArrayList&lt;&gt;();\n    private TermsDTO terms = TermsDTO.builder().build();\n    private ListingDTO listing = ListingDTO.builder().build();\n}\n\n@Builder\n@Data\npublic class TermsDTO {\n    private int id;\n    private LocalDate dateAvailable;\n    private boolean deposit;\n    private boolean forStudents;\n    private boolean forWorkers;\n    private boolean smokingAllowed;\n    private boolean petsAllowed;\n}\n</code></pre>\n<p>Items are converted into their IDs and Terms are converted into DTOs:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class ItemServiceImpl implements ItemService {\n  // ...\n  @Override\n  public List&lt;Integer&gt; toIds(List&lt;Item&gt; items) {\n    return items.stream().map(item -&gt; item.getId()).toList();\n  }\n}\n\n@Service\npublic class TermsServiceImpl implements TermsService {\n  // ...\n  @Override\n  public TermsDTO toDTO(Terms terms) {\n    return termsMapper.toDTO(terms);\n  }\n}\n\n@Service\npublic class TermsServiceImpl implements TermsService {\n  // ...\n  @Override\n  public TermsDTO toDTO(Terms terms) {\n    return termsMapper.toDTO(terms);\n  }\n}\n</code></pre>\n<p><code>date</code> input is not populated and items are not selected. I've checked <code>terms</code> in the controller and they are not null:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(&quot;Listing.Terms.DateAvailable: &quot; + listing.getTerms().getDateAvailable()); // Listing.Terms.DateAvailable: 2025-06-03\nSystem.out.println(&quot;ListingFormDTO.Terms.DateAvailable: &quot; + listingFormDTO.getTerms().getDateAvailable()); // ListingFormDTO.Terms.DateAvailable: 2025-06-03\n</code></pre>\n<p>Is there a way to fix this?</p>\n",
    "tags" : [ "java", "spring", "forms", "thymeleaf" ],
    "owner" : {
      "account_id" : 25379095,
      "reputation" : 62,
      "user_id" : 19191756,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/7c6880f54aed4e61decd7250b1d126f4?s=256&d=identicon&r=PG",
      "display_name" : "IgorArnaut",
      "link" : "https://stackoverflow.com/users/19191756/igorarnaut"
    },
    "is_answered" : false,
    "view_count" : 43,
    "answer_count" : 0,
    "score" : 0,
    "last_activity_date" : 1749020956,
    "creation_date" : 1748955082,
    "link" : "https://stackoverflow.com/questions/79651266/some-inputs-are-not-populated-selected-in-edit-form",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ ],
  "question_comments" : [ ],
  "answer_comments" : { }
}