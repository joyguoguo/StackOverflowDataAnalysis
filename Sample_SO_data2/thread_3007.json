{
  "question" : {
    "question_id" : 79581350,
    "title" : "How to calculate the height occupied by a table in a PDF generated by JasperSoft Studio using iText 7 or any other libs (Java/Kotlin)?",
    "body" : "<p>I have a PDF file generated by JasperSoft Studio, which contains a table that is smaller than the size of an A4 page. The PDF is available to me as a byte array encodded as Base64 String in my code, and I need to determine the height occupied by the table in the document.\nSo far, I’ve tried using iText 7 in Java/Kotlin to extract the page size, but this gives me the full page size, not the content height.\nHere's the code I tried:</p>\n<pre><code>val document = PdfDocument(PdfReader(Base64.getDecoder().decode(pdfDocumentBase64).inputStream())) \nval documentPage: PdfPage = document.firstPage\nval documentSize: Rectangle = documentPage.pageSize\nval documentHeight = documentSize.height\n</code></pre>\n<p>However, this only gives me the full page size, not the height of the table on the page, which is what I need.</p>\n<p>I also tried accessing the resources of the page with the following code:</p>\n<pre><code>val resources: PdfResources = documentPage.resources\nval resourceNames = resources.resourceNames\nprintln(&quot;Resource names: $resourceNames&quot;)\n</code></pre>\n<p>And I got the following output:</p>\n<pre><code>Resource names: [/CS, /F1, /F2, /F3]\n</code></pre>\n<p>To be honest i didn't get what to do with last information, so i asking for your assistance.\nIs there a way in Java/Kotlin using iText 7 or any other method to calculate the height of the content (specifically the table) on the page?</p>\n<p>Here is example of my table. It has fixed width and dynamic height depending on inner content. Due to the fact that it has dynamic height i need to find some way to measure it\n<a href=\"https://i.sstatic.net/wiqVx9tY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/wiqVx9tY.png\" alt=\"Example table\" /></a></p>\n<p><a href=\"https://www.dropbox.com/scl/fi/h4c62tdzs0sw8q8f2lzl9/example.pdf?rlkey=5skyp2d11uioy5k8fy0z7fdto&amp;st=0qa6xr1e&amp;dl=0\" rel=\"nofollow noreferrer\">dropbox link to PDF file</a></p>\n",
    "tags" : [ "java", "kotlin", "itext", "jasper-reports", "itext7" ],
    "owner" : {
      "account_id" : 29336780,
      "reputation" : 23,
      "user_id" : 22476996,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/00bae6532f6ace47f9bab3d08fc57de5?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Rodderh",
      "link" : "https://stackoverflow.com/users/22476996/rodderh"
    },
    "is_answered" : false,
    "view_count" : 81,
    "answer_count" : 1,
    "score" : 1,
    "last_activity_date" : 1752742410,
    "creation_date" : 1744991000,
    "link" : "https://stackoverflow.com/questions/79581350/how-to-calculate-the-height-occupied-by-a-table-in-a-pdf-generated-by-jaspersoft",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79704542,
    "question_id" : 79581350,
    "body" : "<p>you can do something like thats:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val document = PdfDocument(PdfReader(Base64.getDecoder().decode(pdfDocumentBase64).inputStream()))\nval page = document.firstPage\nval pageSize = page.pageSize\n\n// Get the bounding box of all content\nval contentBoundingBox = page.getBBox(PdfName.MediaBox)\nval actualContentHeight = contentBoundingBox.height\n\n// Or get the used area more precisely\nval cropBox = page.getCropBox()\nval actualUsedHeight = cropBox.height\n</code></pre>\n",
    "score" : 0,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 37269812,
      "reputation" : 1,
      "user_id" : 28158683,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/d42f16f96f7c3244b2f317a3023352a2?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Lezradd",
      "link" : "https://stackoverflow.com/users/28158683/lezradd"
    },
    "creation_date" : 1752742410,
    "last_activity_date" : 1752742410,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140598121,
    "post_id" : 79581350,
    "body" : "@Rodderh - To get an idea what to look for with a <code>PdfCanvasProcessor</code> you should inspect the stream using a PDF inspection tool like iText RUPS.",
    "score" : 0,
    "owner" : {
      "account_id" : 1916831,
      "reputation" : 97023,
      "user_id" : 1729265,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/VMMeP.jpg?s=256",
      "display_name" : "mkl",
      "link" : "https://stackoverflow.com/users/1729265/mkl"
    },
    "creation_date" : 1752780925,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140382734,
    "post_id" : 79581350,
    "body" : "PdfCanvasProcessor can be used for this. It generates an event per rendered item. With these events, you can compute the compound bounding box of all the elements.",
    "score" : 2,
    "owner" : {
      "account_id" : 13734,
      "reputation" : 1682,
      "user_id" : 27760,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/da644bc81b49627b231becc846497b0f?s=256&d=identicon&r=PG",
      "display_name" : "Glenner003",
      "link" : "https://stackoverflow.com/users/27760/glenner003"
    },
    "creation_date" : 1745993246,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : {
    "79704542" : [ {
      "comment_id" : 140598138,
      "post_id" : 79704542,
      "body" : "That doesn&#39;t help, the OP wants specifically the height of the table, not the size of the visible page.",
      "score" : 0,
      "owner" : {
        "account_id" : 1916831,
        "reputation" : 97023,
        "user_id" : 1729265,
        "user_type" : "registered",
        "profile_image" : "https://i.sstatic.net/VMMeP.jpg?s=256",
        "display_name" : "mkl",
        "link" : "https://stackoverflow.com/users/1729265/mkl"
      },
      "creation_date" : 1752781222,
      "content_license" : "CC BY-SA 4.0"
    }, {
      "comment_id" : 140596387,
      "post_id" : 79704542,
      "body" : "As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/79704542/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>.",
      "score" : 1,
      "owner" : {
        "account_id" : -1,
        "reputation" : 1,
        "user_id" : -1,
        "user_type" : "moderator",
        "profile_image" : "https://www.gravatar.com/avatar/a007be5a61f6aa8f3e85ae2fc18dd66e?s=256&d=identicon&r=PG",
        "display_name" : "Community",
        "link" : "https://stackoverflow.com/users/-1/community"
      },
      "creation_date" : 1752743739,
      "content_license" : "CC BY-SA 4.0"
    } ]
  }
}