{
  "question" : {
    "question_id" : 79684179,
    "title" : "Iterating through List of WebElements not working correctly in Selenium Java",
    "body" : "<p>I have tried looking for answer or solution for this everywhere on the internet as to why this is happening but came with no luck. I thought I would has my question here. The project I am working on is doing Selenium testing on a e-commerce website with Java.</p>\n<p>I have a list of WebElements containing 2 Elements. The HTML for each WebElements are as follows:</p>\n<p>First Element:</p>\n<pre><code>&lt;div class=&quot;card product-card rounded-card custom-bg h-100 shadow-lg&quot;&gt;\n   &lt;img src=&quot;https://ecommerce-api-omic.onrender.com/api/product/7494a94f457246848a4f9532b0bfdcfd.jpg&quot; class=&quot;card-img-top img-fluid rounded&quot; alt=&quot;img&quot; style=&quot;max-height: 300px; width: auto; margin: 0px auto;&quot;&gt;\n   &lt;div class=&quot;card-body text-color&quot;&gt;\n      &lt;h5&gt;Category: &lt;b class=&quot;text-color&quot;&gt;&lt;i&gt;Test&lt;/i&gt;&lt;/b&gt;&lt;/h5&gt;\n      &lt;h5 class=&quot;card-title d-flex justify-content-between&quot;&gt;\n         &lt;div&gt;&lt;b&gt;Mobile Phone&lt;/b&gt;&lt;/div&gt;\n      &lt;/h5&gt;\n      &lt;p class=&quot;card-text&quot;&gt;&lt;b&gt;Test Product&lt;/b&gt;&lt;/p&gt;\n   &lt;/div&gt;\n   &lt;div class=&quot;card-footer&quot;&gt;\n      &lt;div class=&quot;d-flex justify-content-between mt-2&quot;&gt;\n         &lt;a class=&quot;btn bg-color custom-bg-text&quot; href=&quot;/product/13/category/17&quot;&gt;Add to Cart&lt;/a&gt;\n         &lt;div class=&quot;text-color&quot;&gt;\n            &lt;p&gt;\n               &lt;span&gt;\n            &lt;h4&gt;Price : ₹365.99&lt;/h4&gt;&lt;/span&gt;&lt;/p&gt;\n         &lt;/div&gt;\n      &lt;/div&gt;\n   &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n<p>Second Element:</p>\n<pre><code>&lt;div class=&quot;card product-card rounded-card custom-bg h-100 shadow-lg&quot;&gt;\n   &lt;img src=&quot;https://ecommerce-api-omic.onrender.com/api/product/f2e450750bc54b72a4f5049059499d0c.jpg&quot; class=&quot;card-img-top img-fluid rounded&quot; alt=&quot;img&quot; style=&quot;max-height: 300px; width: auto; margin: 0px auto;&quot;&gt;\n   &lt;div class=&quot;card-body text-color&quot;&gt;\n      &lt;h5&gt;Category: &lt;b class=&quot;text-color&quot;&gt;&lt;i&gt;Test&lt;/i&gt;&lt;/b&gt;&lt;/h5&gt;\n      &lt;h5 class=&quot;card-title d-flex justify-content-between&quot;&gt;\n         &lt;div&gt;&lt;b&gt;Testing&lt;/b&gt;&lt;/div&gt;\n      &lt;/h5&gt;\n      &lt;p class=&quot;card-text&quot;&gt;&lt;b&gt;Descrip&lt;/b&gt;&lt;/p&gt;\n   &lt;/div&gt;\n   &lt;div class=&quot;card-footer&quot;&gt;\n      &lt;div class=&quot;d-flex justify-content-between mt-2&quot;&gt;\n         &lt;a class=&quot;btn bg-color custom-bg-text&quot; href=&quot;/product/16/category/17&quot;&gt;Add to Cart&lt;/a&gt;\n         &lt;div class=&quot;text-color&quot;&gt;\n            &lt;p&gt;\n               &lt;span&gt;\n            &lt;h4&gt;Price : ₹150.99&lt;/h4&gt;&lt;/span&gt;&lt;/p&gt;\n         &lt;/div&gt;\n      &lt;/div&gt;\n   &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n<p>The problem is when I am iterating through the List of WebElements,  and printing out the product title for each element using the code below:</p>\n<pre><code>for (WebElement product : products) {\n    System.out.println(product.findElement(By.xpath(&quot;//div/b&quot;)).getText());\n}\n</code></pre>\n<p>I am getting this result:\nMobile Phone,\nMobile Phone</p>\n<p>Instead of:\nMobile Phone,\nTesting</p>\n<p>With the above result, i thought that the list might be containing the 2 of the same element but i can confirm that this is not the case. I did a printout of each elements with the code below:</p>\n<pre><code>System.out.println(products.get(0).getAttribute(&quot;innerHTML&quot;));\nSystem.out.println(products.get(1).getAttribute(&quot;innerHTML&quot;));\n</code></pre>\n<p>And i got two different elements. One with product title &quot;Mobile Phone&quot; and another one for &quot;Testing&quot;</p>\n<p>So the list does contain 2 unique WebElements. So why is it that when i am looping through them to list their title, it is giving me 2 identical product titles instead?</p>\n",
    "tags" : [ "java", "selenium-webdriver", "webdriver" ],
    "owner" : {
      "account_id" : 28583594,
      "reputation" : 13,
      "user_id" : 21884263,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/799fcb58832cf020d6afc4b815379221?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Yavaar Nosimohomed",
      "link" : "https://stackoverflow.com/users/21884263/yavaar-nosimohomed"
    },
    "is_answered" : true,
    "view_count" : 73,
    "answer_count" : 2,
    "score" : 0,
    "last_activity_date" : 1751259627,
    "creation_date" : 1751249605,
    "link" : "https://stackoverflow.com/questions/79684179/iterating-through-list-of-webelements-not-working-correctly-in-selenium-java",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79684223,
    "question_id" : 79684179,
    "body" : "<p>The problem is that when you use XPath from a relative element, e.g.</p>\n<pre><code>product.findElement(By.xpath(&quot;//div/b&quot;));\n</code></pre>\n<p>you have to add a <code>.</code> at the start of the XPath to indicate it's a relative XPath.</p>\n<p>Your code should be</p>\n<pre><code>for (WebElement product : products) {\n    System.out.println(product.findElement(By.xpath(&quot;.//div/b&quot;)).getText());\n}\n</code></pre>\n",
    "score" : 1,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 2772450,
      "reputation" : 26488,
      "user_id" : 2386774,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/dea7da142cb7e85d5d5a8576e2625431?s=256&d=identicon&r=PG",
      "display_name" : "JeffC",
      "link" : "https://stackoverflow.com/users/2386774/jeffc"
    },
    "creation_date" : 1751254391,
    "last_activity_date" : 1751254391,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "answer_id" : 79684255,
    "question_id" : 79684179,
    "body" : "<p>The XPath <code>//div/b</code> is not relative - starts searching from the root of the document, not from the current <code>product</code> WebElement. That’s why every iteration finds the first match in the DOM — in your case, &quot;Mobile Phone&quot;.</p>\n<p>You need to use a relative xPath (note the <code>.</code> at the beginning):</p>\n<pre><code>product.findElement(By.xpath(&quot;.//div/b&quot;)).getText();\n</code></pre>\n<p>You can follow this code for reference:</p>\n<pre><code>List&lt;WebElement&gt; products = driver.findElements(By.cssSelector(&quot;.product-card&quot;));\n\nfor(WebElement product : products) {  \n     String title =product.findElement(By.xPath(&quot;.//h5[@class='card-title d-flex justify-content-between']//b&quot;).getText();\n\nSystem.out.println(title);\n\n}\n</code></pre>\n<p>If you are not sure whether your XPath is scoped correctly, always start your loop with a debug like:</p>\n<pre><code>System.out.println(product.getAttribute(&quot;outerHTML&quot;));\n</code></pre>\n",
    "score" : 0,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 42795393,
      "reputation" : 1,
      "user_id" : 30926123,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/f0d29dd4abc8bb3df4cc603f984b7e01?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Shubham Kumar",
      "link" : "https://stackoverflow.com/users/30926123/shubham-kumar"
    },
    "creation_date" : 1751258212,
    "last_activity_date" : 1751259627,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ ],
  "answer_comments" : { }
}