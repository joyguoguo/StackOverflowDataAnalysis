{
  "question" : {
    "question_id" : 79574385,
    "title" : "Distorted Tray Icon Image",
    "body" : "<p>I'm making an auto-clicker app that runs in the background with jnativehook in the tray, which can open up a java.awt app when the icon is clicked. That whole part works when run from vscode with run java. When I packaged the project with <code>mvn clean package</code> to get the shaded executable JAR, the icon image for the app looks weird. (it was working fine when run from vscode). I also tried the exe application in the target folder, but I got the same results.</p>\n<p>I saw that the icon in the pom.xml had to be an ICO file instead of a PNG, so I converted the 16x16 image with <a href=\"https://convertico.com/\" rel=\"nofollow noreferrer\">https://convertico.com/</a> and it still doesn't work.</p>\n<p>I also tried just taking out the icon in the pom.xml since it was already defined in the tray part of the Java files, but I saw no change.</p>\n<p><a href=\"https://i.sstatic.net/6HG8ntXB.png\" rel=\"nofollow noreferrer\">When run from my main file in vscode from run java picture</a></p>\n<p><a href=\"https://i.sstatic.net/6R3hvZBM.png\" rel=\"nofollow noreferrer\">when run from the auto-clicker-1.0-SNAPSHOT-shaded.jar or the auto-clicker-1.0-SNAPSHOT.exe file in the target folder of the maven project picture</a></p>\n<p>My Tray.java file where I handle the tray and set the icon image for the app that works perfectly when run from the main file:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.autoclicker;\n\nimport java.awt.*;\nimport java.awt.event.*;\nimport org.jnativehook.GlobalScreen;\nimport org.jnativehook.NativeHookException;\n\npublic class Tray {\n    private TrayIcon trayIcon;\n    private App app;\n    private SettingsManager settingsManager;\n\n    public Tray() {\n        setupTray();\n        app = new App();\n        settingsManager = new SettingsManager();\n        // Initialize global key listener using current settings\n        new KeyListener();\n    }\n\n    /**\n     * Sets up the system tray icon and its associated context menu.\n     * If system tray is not supported, this method does nothing.\n     * The system tray icon is set to the image located at\n     * src/main/res/img/icon.png.\n     * The context menu has one item: &quot;Exit&quot;, which exits the application\n     * and unregisters the native hook.\n     */\n    private void setupTray() {\n        if (!SystemTray.isSupported()) {\n            System.err.println(&quot;System tray is not supported.&quot;);\n            return;\n        }\n\n        SystemTray tray = SystemTray.getSystemTray();\n        Image image = Toolkit.getDefaultToolkit().getImage(&quot;src\\\\main\\\\res\\\\img\\\\icon.png&quot;);\n        trayIcon = new TrayIcon(image, &quot;Auto Clicker&quot;);\n        trayIcon.setImageAutoSize(true);\n\n        trayIcon.addMouseListener(new MouseAdapter() {\n            @Override\n            public void mouseClicked(MouseEvent e) {\n                // Left-click to open the settings window\n                if (e.getButton() == MouseEvent.BUTTON1) {\n                    app.showSettingsWindow();\n                }\n            }\n        });\n\n        PopupMenu popup = new PopupMenu();\n        MenuItem exitItem = new MenuItem(&quot;Exit&quot;);\n        exitItem.addActionListener(e -&gt; {\n            try {\n                GlobalScreen.unregisterNativeHook();\n            } catch (NativeHookException ex) {\n                ex.printStackTrace();\n            }\n            System.exit(0);\n        });\n        popup.add(exitItem);\n        trayIcon.setPopupMenu(popup);\n\n        try {\n            tray.add(trayIcon);\n        } catch (AWTException e) {\n            System.err.println(&quot;TrayIcon could not be added.&quot;);\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>My pom.xml, which is where I set the icon for the project (I don't know very much about pom.xml):</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project \n  xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; \n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  \n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  \n  &lt;groupId&gt;com.autoclicker&lt;/groupId&gt;\n  &lt;artifactId&gt;auto-clicker&lt;/artifactId&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n  \n  &lt;name&gt;auto-clicker&lt;/name&gt;\n  &lt;!-- FIXME: change to your project's website --&gt;\n  &lt;url&gt;http://www.example.com&lt;/url&gt;\n  \n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n  &lt;/properties&gt;\n  \n  &lt;dependencies&gt;\n    &lt;!-- Test Dependency --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;4.11&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;!-- JNativeHook (global mouse/keyboard listeners) --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.1stleg&lt;/groupId&gt;\n      &lt;artifactId&gt;jnativehook&lt;/artifactId&gt;\n      &lt;version&gt;2.1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- Gson for JSON parsing --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n      &lt;artifactId&gt;gson&lt;/artifactId&gt;\n      &lt;version&gt;2.12.1&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n  \n  &lt;build&gt;\n    &lt;pluginManagement&gt;\n      &lt;!-- Lock down plugin versions for standard lifecycle plugins --&gt;\n      &lt;plugins&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.8.0&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.22.1&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.5.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.8.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.7.1&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/plugin&gt;\n      &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n    \n    &lt;plugins&gt;\n      &lt;!-- Maven Shade Plugin: creates an uber-jar --&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.2.4&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;shade&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;!-- Attach the shaded JAR with classifier &quot;shaded&quot; --&gt;\n              &lt;shadedArtifactAttached&gt;true&lt;/shadedArtifactAttached&gt;\n              &lt;shadedClassifierName&gt;shaded&lt;/shadedClassifierName&gt;\n              &lt;transformers&gt;\n                &lt;!-- Add the manifest specifying your main class (change this if necessary) --&gt;\n                &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\n                  &lt;mainClass&gt;com.autoclicker.Main&lt;/mainClass&gt;\n                &lt;/transformer&gt;\n              &lt;/transformers&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n      \n      &lt;!-- Launch4j Maven Plugin: wraps the shaded JAR into a Windows EXE --&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;com.akathist.maven.plugins.launch4j&lt;/groupId&gt;\n        &lt;artifactId&gt;launch4j-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.5.3&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;l4j-wrapper&lt;/id&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;launch4j&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n        &lt;configuration&gt;\n          &lt;jar&gt;${project.build.directory}/${project.build.finalName}-shaded.jar&lt;/jar&gt;\n          &lt;outfile&gt;${project.build.directory}/${project.build.finalName}.exe&lt;/outfile&gt;\n          &lt;headerType&gt;gui&lt;/headerType&gt;\n          &lt;chdir&gt;.&lt;/chdir&gt;\n          &lt;icon&gt;src/main/res/img/icon.ico&lt;/icon&gt;\n          &lt;jre&gt;\n            &lt;minVersion&gt;1.8.0&lt;/minVersion&gt;\n          &lt;/jre&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      \n    &lt;/plugins&gt;\n  &lt;/build&gt;\n  \n&lt;/project&gt;\n</code></pre>\n<p>The main file is simply running the Tray.java file which runs the App.java file when clicked on in the system tray:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.autoclicker;\n\nimport javax.swing.SwingUtilities;\n\npublic class Main {\n    /**\n     * Main entry point of the application.\n     *\n     * This method creates a new instance of the Tray class, which sets up the\n     * system tray and the settings window.\n     *\n     * @param args Command line arguments (not used)\n     */\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; new Tray());\n    }\n}\n</code></pre>\n<p>Here's the repo: <a href=\"https://github.com/JeromeyDynamics/Auto-Clicker-App\" rel=\"nofollow noreferrer\">https://github.com/JeromeyDynamics/Auto-Clicker-App</a></p>\n<p>Minimal reproducible example</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.*;\nimport java.awt.event.*;\nimport org.jnativehook.GlobalScreen;\nimport org.jnativehook.NativeHookException;\n\npublic class Tray {\n    public static void main(String[] args) {\n        SystemTray tray = SystemTray.getSystemTray();\n        Image image = Toolkit.getDefaultToolkit().getImage(&quot;src\\\\main\\\\res\\\\img\\\\icon.png&quot;);\n        TrayIcon trayIcon = new TrayIcon(image, &quot;Auto Clicker&quot;);\n        trayIcon.setImageAutoSize(true);\n\n        PopupMenu popup = new PopupMenu();\n        MenuItem exitItem = new MenuItem(&quot;Exit&quot;);\n        exitItem.addActionListener(e -&gt; {\n            try {\n                GlobalScreen.unregisterNativeHook();\n            } catch (NativeHookException ex) {\n                ex.printStackTrace();\n            }\n            System.exit(0);\n        });\n        popup.add(exitItem);\n        trayIcon.setPopupMenu(popup);\n\n        try {\n            tray.add(trayIcon);\n        } catch (AWTException e) {\n            System.err.println(&quot;TrayIcon could not be added.&quot;);\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n",
    "tags" : [ "java", "maven", "icons", "awt", "executable-jar" ],
    "owner" : {
      "account_id" : 33579900,
      "reputation" : 1,
      "user_id" : 25995884,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/a8007ab19465d9c27dc2868c054d2363?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Jerome Hillock",
      "link" : "https://stackoverflow.com/users/25995884/jerome-hillock"
    },
    "is_answered" : true,
    "view_count" : 55,
    "answer_count" : 1,
    "score" : 0,
    "last_activity_date" : 1744714243,
    "creation_date" : 1744691793,
    "link" : "https://stackoverflow.com/questions/79574385/distorted-tray-icon-image",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79574832,
    "question_id" : 79574385,
    "body" : "<p><a href=\"https://github.com/JeromeyDynamics/Auto-Clicker-App\" rel=\"nofollow noreferrer\">https://github.com/JeromeyDynamics/Auto-Clicker-App</a></p>\n<h1>Project Diectory</h1>\n<p>Your version</p>\n<pre><code>Auto-Clicker-App-main\n├── pom.xml\n└── src\n    ├── main\n    │   ├── java\n...\n    │   └── res\n    │       └── img\n    │           ├── icon.ico\n    │           └── icon.png\n</code></pre>\n<p>Change your icon directory to follow Maven conventions.</p>\n<pre><code>Auto-Clicker-App-main\n├── pom.xml\n└── src\n    ├── main\n    │   ├── java\n...\n    │   └── resources\n    │       ├── icon.ico\n    │       └── icon.png\n...\n</code></pre>\n<h2>pom.xml</h2>\n<p>I also made some adjustments to the pom.xml based on my usual Maven configuration practice: if the default settings work, there's no need to override them. The goal is to keep the pom.xml as minimal and clean as possible.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.autoclicker&lt;/groupId&gt;\n    &lt;artifactId&gt;auto-clicker&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;auto-clicker&lt;/name&gt;\n    &lt;description&gt;Demo App Project&lt;/description&gt;\n    \n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n        &lt;maven.compiler.encoding&gt;UTF-8&lt;/maven.compiler.encoding&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;!-- Test Dependency --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.11&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        \n        &lt;!-- JNativeHook (global mouse/keyboard listeners) --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.1stleg&lt;/groupId&gt;\n            &lt;artifactId&gt;jnativehook&lt;/artifactId&gt;\n            &lt;version&gt;2.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;!-- Gson for JSON parsing --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\n            &lt;version&gt;2.12.1&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;!-- Maven Shade Plugin: creates an uber-jar --&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.6.0&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;shade&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;!-- Attach the shaded JAR with classifier &quot;shaded&quot; --&gt;\n                            &lt;shadedArtifactAttached&gt;true&lt;/shadedArtifactAttached&gt;\n                            &lt;shadedClassifierName&gt;shaded&lt;/shadedClassifierName&gt;\n                            &lt;transformers&gt;\n                            &lt;!-- Add the manifest specifying your main class (change this if necessary) --&gt;\n                                &lt;transformer\n                                        implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\n                                    &lt;mainClass&gt;com.autoclicker.Main&lt;/mainClass&gt;\n                                &lt;/transformer&gt;\n                            &lt;/transformers&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;!-- Launch4j Maven Plugin: wraps the shaded JAR into a Windows EXE --&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.akathist.maven.plugins.launch4j&lt;/groupId&gt;\n                &lt;artifactId&gt;launch4j-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.5.3&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;l4j-wrapper&lt;/id&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;launch4j&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;jar&gt;${project.build.directory}/${project.build.finalName}-shaded.jar&lt;/jar&gt;\n                    &lt;outfile&gt;${project.build.directory}/${project.build.finalName}.exe&lt;/outfile&gt;\n                    &lt;!--\n                    &lt;headerType&gt;console&lt;/headerType&gt;\n                    --&gt;\n                    &lt;headerType&gt;gui&lt;/headerType&gt;\n                    &lt;chdir&gt;.&lt;/chdir&gt;\n                    &lt;icon&gt;src/main/resources/icon.ico&lt;/icon&gt;\n                    &lt;jre&gt;\n                        &lt;minVersion&gt;1.8.0&lt;/minVersion&gt;\n                    &lt;/jre&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Also, when debugging, please change the <code>headerType</code> of the launch4j-maven-plugin to <code>console</code> by setting <code>&lt;headerType&gt;console&lt;/headerType&gt;</code>.</p>\n<p>When <code>headerType</code> is set to <code>gui</code>, any runtime errors may not be shown because the application runs as a GUI, which hides console output.</p>\n<p>Therefore, during development and debugging, it's recommended to set <code>headerType</code> to <code>console</code>.</p>\n<h2>Main.java</h2>\n<p>Add a shared method named <code>loadIcon</code> in <code>Main.java</code> to load the icon.</p>\n<pre><code>package com.autoclicker;\n\nimport javax.swing.*;\nimport java.awt.*;\nimport java.net.URL;\n\npublic class Main {\n    public static Image loadIcon(String path) {\n        URL imageUrl = Main.class.getResource(path);\n        if (imageUrl != null) {\n            return Toolkit.getDefaultToolkit().getImage(imageUrl);\n        } else {\n            System.err.println(&quot;Icon not found:&quot; + path);\n            return null;\n        }\n    }\n\n    /**\n     * Main entry point of the application.\n     * &lt;p&gt;\n     * This method creates a new instance of the Tray class, which sets up the\n     * system tray and the settings window.\n     *\n     * @param args Command line arguments (not used)\n     */\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; new Tray());\n    }\n}\n</code></pre>\n<h2>App.java</h2>\n<p>There are two changes made here:</p>\n<ol>\n<li><p>The icon is now loaded by calling <code>Main.loadIcon()</code> instead of loading it directly.</p>\n</li>\n<li><p>The frame icon is explicitly set to your <code>icon.png</code>. (If not set, it defaults to the standard Java coffee cup icon.)</p>\n</li>\n</ol>\n<p>Additionally, the original code attempted to load the icon using the incorrect file name <code>pixil-frame-0.png</code>, whereas the actual file is named <code>icon.png</code>. This mismatch was the reason the file couldn't be found.</p>\n<p><strong>App.java</strong></p>\n<pre><code>// Image icon = Toolkit.getDefaultToolkit().getImage(&quot;auto-clicker\\\\src\\\\main\\\\res\\\\img\\\\pixil-frame-0.png&quot;);\n            \nImage icon = Main.loadIcon(&quot;/icon.png&quot;);\n\nif (icon != null) {\n    settingsFrame.setIconImage(icon); // ✅ SET ICON\n}\n</code></pre>\n<h2>Tray.java</h2>\n<p><strong>Tray.java</strong></p>\n<pre><code>// Image image = Toolkit.getDefaultToolkit().getImage(&quot;src\\\\main\\\\res\\\\img\\\\icon.png&quot;);\n\nImage image = Main.loadIcon(&quot;/icon.png&quot;);\n</code></pre>\n<h1>Build</h1>\n<pre><code>mvn clean package\n</code></pre>\n<h1>Run exe</h1>\n<p><a href=\"https://i.sstatic.net/v8WW4G4o.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/v8WW4G4o.png\" alt=\"enter image description here\" /></a></p>\n<p>You can see that the tray icon in the bottom-right corner is now displayed correctly. The frame icon in the top-left corner has been updated to icon.png, and the icon for the label has also been changed.</p>\n",
    "score" : 1,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 26698569,
      "reputation" : 4090,
      "user_id" : 20306007,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/98bbc403493aee3681b71dae7abef66e?s=256&d=identicon&r=PG",
      "display_name" : "life888888",
      "link" : "https://stackoverflow.com/users/20306007/life888888"
    },
    "creation_date" : 1744710356,
    "last_activity_date" : 1744710356,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140335699,
    "post_id" : 79574385,
    "body" : "Load your icon as a resource as Abra says. You should use <code>ImageIO</code>",
    "score" : 0,
    "owner" : {
      "account_id" : 22124137,
      "reputation" : 4244,
      "user_id" : 16376827,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/1ImPw.png?s=256",
      "display_name" : "g00se",
      "link" : "https://stackoverflow.com/users/16376827/g00se"
    },
    "creation_date" : 1744702981,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140335316,
    "post_id" : 79574385,
    "body" : "from target folder, it is trying to get the absolute path - <code>src\\\\main\\\\res\\\\img\\\\icon.png</code>. can you try adding a relative path or creating the folder structure inside the target folder where you are running the .exe",
    "score" : 0,
    "owner" : {
      "account_id" : 12840169,
      "reputation" : 112,
      "user_id" : 9288455,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/433bbff7406ffc29e6287dcb3f9b7577?s=256&d=identicon&r=PG",
      "display_name" : "Zanda",
      "link" : "https://stackoverflow.com/users/9288455/zanda"
    },
    "creation_date" : 1744692399,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140335312,
    "post_id" : 79574385,
    "body" : "<a href=\"https://stackoverflow.com/questions/2273040/how-to-bundle-images-in-jar-file\">How to bundle images in jar file</a>",
    "score" : 0,
    "owner" : {
      "account_id" : 2485939,
      "reputation" : 20969,
      "user_id" : 2164365,
      "user_type" : "registered",
      "accept_rate" : 40,
      "profile_image" : "https://i.sstatic.net/RKSgV.png?s=256",
      "display_name" : "Abra",
      "link" : "https://stackoverflow.com/users/2164365/abra"
    },
    "creation_date" : 1744692283,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140335303,
    "post_id" : 79574385,
    "body" : "When you create a JAR file that I assume contains file <code>icon.png</code>, the path to that file is <b>not</b> <code>src\\main\\res\\img\\icon.png</code>",
    "score" : 1,
    "owner" : {
      "account_id" : 2485939,
      "reputation" : 20969,
      "user_id" : 2164365,
      "user_type" : "registered",
      "accept_rate" : 40,
      "profile_image" : "https://i.sstatic.net/RKSgV.png?s=256",
      "display_name" : "Abra",
      "link" : "https://stackoverflow.com/users/2164365/abra"
    },
    "creation_date" : 1744691920,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : {
    "79574832" : [ {
      "comment_id" : 140338180,
      "post_id" : 79574832,
      "body" : "@JeromeHillock , If this answer solved your problem, you can mark it as accepted.",
      "score" : 0,
      "owner" : {
        "account_id" : 10843443,
        "reputation" : 924,
        "user_id" : 20882864,
        "user_type" : "registered",
        "profile_image" : "https://i.sstatic.net/CCQCy.jpg?s=256",
        "display_name" : "Marce Puente",
        "link" : "https://stackoverflow.com/users/20882864/marce-puente"
      },
      "creation_date" : 1744742584,
      "content_license" : "CC BY-SA 4.0"
    } ]
  }
}