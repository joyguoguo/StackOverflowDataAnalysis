{
  "question" : {
    "question_id" : 79843154,
    "title" : "How to use Request/Reply Pattern using Smallrye with MQ in Java",
    "body" : "<p>Iâ€™m trying to implement an RPC-style Request/Reply pattern using SmallRye Reactive Messaging with IBM MQ in a Quarkus application.</p>\n<p>I already know how to implement this pattern using plain JMS:</p>\n<ul>\n<li><p>Producer sends a message with a unique <strong>JMSCorrelationID</strong></p>\n</li>\n<li><p>Consumer replies using the same correlation ID</p>\n</li>\n<li><p>Producer uses a message selector like:<br />\n<code>JMSCorrelationID = 'some-id'</code><br />\nso it only receives the matching response</p>\n</li>\n</ul>\n<p>This works fine in traditional JMS because I can create a temporary queue and attach a dynamic message selector at consumption time.</p>\n<hr />\n<h3><strong>Problem with SmallRye</strong></h3>\n<p>SmallRye Reactive Messaging does not seem to allow dynamic correlation IDs on the <code>@Incoming</code> channel.</p>\n<p>The configuration requires a static selector in <code>application.properties</code>, for example:</p>\n<pre><code>mp.messaging.incoming.reply-channel.selector=JMSCorrelationID='123'\n</code></pre>\n<p>But for a Request/Reply pattern every request has a different correlation ID (usually a UUID), so I cannot preconfigure a fixed selector.</p>\n<p>SmallRye does not offer a way to:</p>\n<ul>\n<li><p>Create a dynamic consumer at runtime</p>\n</li>\n<li><p>Apply a selector dynamically</p>\n</li>\n<li><p>Bind an incoming channel to a temporary queue created on the fly</p>\n</li>\n</ul>\n<p>So I cannot recreate the usual JMS Request/Reply flow using SmallRye unless I fall back to raw JMS APIs.</p>\n<hr />\n<h3><strong>Question</strong></h3>\n<p>Is there any way to implement the JMS Request/Reply pattern with dynamic correlation IDs (or temporary queues) using SmallRye Reactive Messaging + IBM MQ?</p>\n<p>Or is the only viable solution to bypass SmallRye and use the JMS API directly for this specific use case?</p>\n",
    "tags" : [ "java", "jms", "quarkus", "messaging", "smallrye" ],
    "owner" : {
      "account_id" : 30321380,
      "reputation" : 1378,
      "user_id" : 23237053,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/3GrS5.jpg?s=256",
      "display_name" : "Kobra",
      "link" : "https://stackoverflow.com/users/23237053/kobra"
    },
    "is_answered" : false,
    "view_count" : 32,
    "answer_count" : 0,
    "score" : 0,
    "last_activity_date" : 1765381708,
    "creation_date" : 1765381708,
    "link" : "https://stackoverflow.com/questions/79843154/how-to-use-request-reply-pattern-using-smallrye-with-mq-in-java",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ ],
  "question_comments" : [ ],
  "answer_comments" : { }
}