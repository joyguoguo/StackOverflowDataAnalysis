{
  "question" : {
    "question_id" : 79599763,
    "title" : "play.api.UnexpectedException: Unexpected exception[NoClassDefFoundError: javax/validation/ConstraintValidatorFactory]",
    "body" : "<p><strong>Title</strong>:<br />\nMigration Issue to Play Framework 3.0.0: <code>NoClassDefFoundError: javax/validation/ConstraintValidatorFactory</code></p>\n<p><strong>Body</strong>:</p>\n<p>I'm migrating a Play Framework application from <strong>2.9.4</strong> to <strong>3.0.0</strong> to adopt <strong>Jakarta Bean Validation</strong> (<code>jakarta.validation.constraints.*</code>) since Play 2.9 still relies on the old <code>javax.validation</code> package and does not support annotations like <code>@NotNull</code>, <code>@NotBlank</code>, etc. from Jakarta.</p>\n<p>After updating the necessary configurations and dependencies, I'm encountering the following error at startup:</p>\n<pre><code>play.api.UnexpectedException: Unexpected exception[NoClassDefFoundError: javax/validation/ConstraintValidatorFactory]\nCaused by: java.lang.NoClassDefFoundError: javax/validation/ConstraintValidatorFactory\n...\n</code></pre>\n<p>It seems like the application is still expecting <strong>javax.validation</strong> instead of <strong>jakarta.validation</strong>, even though I've added the following dependencies in <code>build.sbt</code>:</p>\n<pre class=\"lang-scala prettyprint-override\"><code>&quot;jakarta.validation&quot; % &quot;jakarta.validation-api&quot; % &quot;3.1.1&quot;,\n&quot;org.hibernate&quot; % &quot;hibernate-validator&quot; % &quot;9.0.0.Beta3&quot;,\n&quot;org.hibernate&quot; % &quot;hibernate-validator-annotation-processor&quot; % &quot;9.0.0.Beta3&quot;,\n&quot;org.glassfish&quot; % &quot;jakarta.el&quot; % &quot;4.0.2&quot;,\n&quot;com.sun.el&quot; % &quot;el-ri&quot; % &quot;3.0.4&quot;\n</code></pre>\n<p>My <code>build.properties</code>:</p>\n<pre><code>sbt.version=1.10.6\n</code></pre>\n<p>Play version in <code>plugins.sbt</code>:</p>\n<pre class=\"lang-scala prettyprint-override\"><code>addSbtPlugin(&quot;com.typesafe.play&quot; % &quot;sbt-plugin&quot; % &quot;2.9.4&quot;) // legacy\n</code></pre>\n<p>I updated <code>build.sbt</code> to use Play 3.0.0:</p>\n<pre class=\"lang-scala prettyprint-override\"><code>&quot;org.playframework&quot; %% &quot;play-pekko-http-server&quot; % &quot;3.0.0&quot;,\n&quot;org.playframework&quot; %% &quot;play-pekko-http2-support&quot; % &quot;3.0.0&quot;\n</code></pre>\n<p>I suspect the issue is due to the Play framework still internally relying on <code>javax.validation</code> instead of <code>jakarta.validation</code>.</p>\n<hr />\n<p><strong>Question</strong>:<br />\nHow can I ensure my Play 3.0.0 application uses Jakarta Bean Validation (<code>jakarta.validation</code>) properly and completely avoids references to <code>javax.validation</code>?</p>\n",
    "tags" : [ "java", "playframework" ],
    "owner" : {
      "account_id" : 20382460,
      "reputation" : 1,
      "user_id" : 15585886,
      "user_type" : "registered",
      "profile_image" : "https://lh3.googleusercontent.com/a-/AOh14GguuRqYnb7Jo0k4ODSeLG9mHrxuH4sFAeMOB-mt8Q=k-s256",
      "display_name" : "Sumit Sharma",
      "link" : "https://stackoverflow.com/users/15585886/sumit-sharma"
    },
    "is_answered" : false,
    "view_count" : 59,
    "answer_count" : 1,
    "score" : 0,
    "last_activity_date" : 1746669146,
    "creation_date" : 1745998007,
    "link" : "https://stackoverflow.com/questions/79599763/play-api-unexpectedexception-unexpected-exceptionnoclassdeffounderror-javax-v",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79611617,
    "question_id" : 79599763,
    "body" : "<p>till playframework version 3.1.0 still it relies on javax, use</p>\n<pre><code>3.1.0-SNAPSHOT\n</code></pre>\n<p>or the M version, although i found some problems by using M version and then again got back too snapshot</p>\n<pre><code>addSbtPlugin(&quot;org.playframework&quot; % &quot;sbt-plugin&quot; %&quot;3.1.0-SNAPSHOT&quot;)\n</code></pre>\n",
    "score" : 0,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 26198824,
      "reputation" : 41,
      "user_id" : 19879549,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/3339b1bab718174bcb04534d4484956c?s=256&d=identicon&r=PG",
      "display_name" : "Raya",
      "link" : "https://stackoverflow.com/users/19879549/raya"
    },
    "creation_date" : 1746669146,
    "last_activity_date" : 1746669146,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ ],
  "answer_comments" : { }
}