{
  "question" : {
    "question_id" : 79748314,
    "title" : "Spring Boot Hibernate Cannot Find SQLTypes.VECTOR",
    "body" : "<p>Using Spring Boot 3.5.X and Hibernate 6.6.8 with Postgres and Pgvector, creating an entity with an embedding vector fails at runtime with error <code>Unable to determine SQL type name for column 'embedding' of table 'ENTITY' because there is no type mapping for org.hibernate.type.SqlTypes code: 10000 (VECTOR)</code>.</p>\n<p>From Hibernate docs (<a href=\"https://docs.jboss.org/hibernate/orm/current/userguide/html_single/Hibernate_User_Guide.html#vector-module\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/orm/current/userguide/html_single/Hibernate_User_Guide.html#vector-module</a>) the JDBC type requires a <code>hibernate-vector</code> module. However, this does not seem to fix the issue.</p>\n<p>Pom:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;version&gt;3.2.3&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n        &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n        &lt;version&gt;42.7.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.ai&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-ai-starter-model-ollama&lt;/artifactId&gt;\n        &lt;version&gt;1.0.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n        &lt;version&gt;6.6.8.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-vector&lt;/artifactId&gt;\n        &lt;version&gt;${hibernate.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>Entity:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Column(name=&quot;embedding&quot;)\n@JdbcTypeCode(SqlTypes.VECTOR_FLOAT32)\n@Array(length=768)\nprivate float[] embedding;\n</code></pre>\n",
    "tags" : [ "java", "spring-boot", "hibernate", "pgvector" ],
    "owner" : {
      "account_id" : 21258995,
      "reputation" : 15,
      "user_id" : 15639993,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/9b67e5f1cf92b6cc6b62acb115ff3c44?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Questioneering",
      "link" : "https://stackoverflow.com/users/15639993/questioneering"
    },
    "is_answered" : true,
    "view_count" : 104,
    "answer_count" : 1,
    "score" : 1,
    "last_activity_date" : 1756362746,
    "creation_date" : 1756316445,
    "link" : "https://stackoverflow.com/questions/79748314/spring-boot-hibernate-cannot-find-sqltypes-vector",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79748715,
    "question_id" : 79748314,
    "body" : "<p>It seems this data type is for oracle 23 ai</p>\n<pre><code>public static finalÂ int VECTOR_FLOAT32\n</code></pre>\n<p>A type code representing a single-precision floating-point vector type for oracle 23ai database.</p>\n<p>It seems you want to use <a href=\"https://docs.jboss.org/hibernate/orm/current/userguide/html_single/Hibernate_User_Guide.html#vector-module-usage\" rel=\"nofollow noreferrer\">VECTOR</a></p>\n<p>Please try:</p>\n<pre><code>@JdbcTypeCode(SqlTypes.VECTOR)\n</code></pre>\n",
    "score" : 1,
    "is_accepted" : true,
    "owner" : {
      "account_id" : 1408815,
      "reputation" : 2135,
      "user_id" : 1811348,
      "user_type" : "registered",
      "accept_rate" : 88,
      "profile_image" : "https://www.gravatar.com/avatar/cc9822a771917722f4b087a19ffabaf7?s=256&d=identicon&r=PG",
      "display_name" : "swapyonubuntu",
      "link" : "https://stackoverflow.com/users/1811348/swapyonubuntu"
    },
    "creation_date" : 1756362746,
    "last_activity_date" : 1756362746,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ ],
  "answer_comments" : { }
}