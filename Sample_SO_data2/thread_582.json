{
  "question" : {
    "question_id" : 79794858,
    "title" : "Updating a JTextField from the inside of a Java for loop",
    "body" : "<p>The purpose of my program is to do time-consuming file operations that are executed inside a for loop.\nThat's why I would like the program to show the current operation through a text field.\nI don't know how to explain it in a simpler way.\nI can't post the whole program because it would be too long.</p>\n<p>I can't find a way to update a <strong>JTextField</strong> field while a loop is running inside a method.</p>\n<p>For example, in a loop like:</p>\n<pre><code>void Test() {\n    ArrayList&lt;String&gt; asList = new ArrayList&lt;&gt;();\n    // Load asList.\n    for (int jj=0; jj &lt; asList.size(); jj++) {\n      // Miscellaneous instructions working on files.\n      TxtLog.setText(jj + &quot; &quot; + asList.get(jj));\n    }\n}\n</code></pre>\n<p>The <strong>TxtLog</strong> field is never updated.</p>\n<p>How do I get it to update while running the for loop?</p>\n<p><strong>EDIT: I solved with SwingWorker associated with a Thread.sleep!</strong></p>\n",
    "tags" : [ "java", "swing", "textfield" ],
    "owner" : {
      "account_id" : 19082404,
      "reputation" : 49,
      "user_id" : 19263575,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/2c5d78ac03d256fe075c420a4acff01e?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "ZioCrick",
      "link" : "https://stackoverflow.com/users/19263575/ziocrick"
    },
    "is_answered" : false,
    "view_count" : 162,
    "answer_count" : 2,
    "score" : -1,
    "last_activity_date" : 1761600472,
    "creation_date" : 1760960484,
    "link" : "https://stackoverflow.com/questions/79794858/updating-a-jtextfield-from-the-inside-of-a-java-for-loop",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79802060,
    "question_id" : 79794858,
    "body" : "<p>As I mentioned in the comments, using <strong>Thread.sleep()</strong> causes the user interface to “freeze” for the duration of that call, so it is always advisable to use a <em>Timer</em>.</p>\n<pre><code>void test() {\n\n     // just to test the code \n   TxtLog = new JTextField();\n   JFrame xxxx = new JFrame();\n   xxxx.setBounds( 100, 100, 400, 400 );\n   TxtLog.setBounds( 100, 100, 400, 400 );\n   xxxx.add( TxtLog );\n   xxxx.setVisible( true );\n     // end\n\n     // replace &quot;Miscellaneous instructions working on files&quot; to test\n   List&lt;String&gt; asList = List.of( &quot;Hello&quot;, &quot;world&quot;, &quot;Byebye baby&quot; );\n\n     // we instantiate our *Timer* passing it the time between\n     // different executions as a parameter.\n   timer = new Timer( 2000, ( e ) -&gt; {\n      TxtLog.setText( jj + &quot; -&gt; &quot; + asList.get( jj ) );\n\n        // we verify that the index does not exceed the capacity of our\n        // list. When it does, we stop the *Timer*.\n      if( ++jj == asList.size() ) {\n         timer.stop();\n      }\n   } );\n\n     // we set the time it takes for the *Timer* to start. If we do not\n     // specify it, this parameter will automatically be set to the\n     // value between executions (in our case, “2000”).\n   timer.setInitialDelay( 0 );\n   timer.start();\n}\n</code></pre>\n",
    "score" : 0,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 10843443,
      "reputation" : 924,
      "user_id" : 20882864,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/CCQCy.jpg?s=256",
      "display_name" : "Marce Puente",
      "link" : "https://stackoverflow.com/users/20882864/marce-puente"
    },
    "creation_date" : 1761582840,
    "last_activity_date" : 1761582840,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "answer_id" : 79802268,
    "question_id" : 79794858,
    "body" : "<p>Ok <strong>Marce Puente</strong>, I will try also the timer.</p>\n<p>However, the example that solved the problem for me is the following.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package SwingworkerSample;\n// Java program to illustrate working of SwingWorker.\nimport java.awt.*; \nimport java.awt.event.ActionEvent; \nimport java.awt.event.ActionListener; \nimport java.awt.event.WindowAdapter; \nimport java.awt.event.WindowEvent; \nimport java.util.List; \nimport java.util.concurrent.ExecutionException; \nimport javax.swing.*; \n \npublic class SwingWorkerSample { \n  private static JLabel statusLabel; \n  private static JFrame mainFrame; \n \n  public static void swingWorkerSample () {\n    mainFrame = new JFrame(&quot;Swing Worker&quot;); \n    mainFrame.setSize(400, 400); \n    mainFrame.setLayout(new GridLayout(2,1)); \n    mainFrame.addWindowListener(new WindowAdapter() {\n      @Override\n      public void windowClosing(WindowEvent e) { \n        System.exit(0); \n      } \n    }); \n    statusLabel = new JLabel(&quot;Not Completed&quot;, JLabel.CENTER); \n    mainFrame.add(statusLabel); \n    JButton btn = new JButton(&quot;Start counter&quot;); \n    btn.setPreferredSize(new Dimension(5,5)); \n    btn.addActionListener(new ActionListener() { \n      @Override\n      public void actionPerformed(ActionEvent e) { \n        System.out.println(&quot;Button clicked, thread started&quot;); \n        startThread();  \n      } \n    }); \n    mainFrame.add(btn); \n    mainFrame.setVisible(true); \n  }\n  private static void startThread() { \n    SwingWorker sw1 = new SwingWorker() {\n      @Override\n      protected String doInBackground() throws Exception {\n        // define what thread will do here \n        for ( int i=10; i&gt;=0; i-- ) { \n          Thread.sleep(1000); \n          System.out.println(&quot;Value in thread : &quot; + i); \n          publish(i); \n        } \n        String res = &quot;Finished Execution&quot;; \n        return res; \n      }\n      @Override\n      protected void process(List chunks) { \n        // define what the event dispatch thread  \n        // will do with the intermediate results received \n        // while the thread is executing \n        int val = (int) chunks.get(chunks.size()-1); \n        statusLabel.setText(String.valueOf(val)); \n      } \n      @Override\n      protected void done() { \n        // this method is called when the background  \n        // thread finishes execution \n        try {\n          String statusMsg = (String) get(); \n          System.out.println(&quot;Inside done function&quot;); \n          statusLabel.setText(statusMsg); \n        } catch (InterruptedException e) { \n          e.printStackTrace(); \n        } catch (ExecutionException e) { \n          e.printStackTrace();\n        }\n      }\n    }; \n    sw1.execute();      // executes the swingworker on worker thread \n  } \n  public static void main(String[] args) { \n    swingWorkerSample();\n  }\n}\n</code></pre>\n",
    "score" : 0,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 19082404,
      "reputation" : 49,
      "user_id" : 19263575,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/2c5d78ac03d256fe075c420a4acff01e?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "ZioCrick",
      "link" : "https://stackoverflow.com/users/19263575/ziocrick"
    },
    "creation_date" : 1761600472,
    "last_activity_date" : 1761600472,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140816658,
    "post_id" : 79794858,
    "body" : "That means your question is unclear. A good way to phrase it would be as follows: Title:*“How can I make a JTextField alternately display the items contained in an ArrayList?”* Description: <i>“I need TxtLog to display the items in asList at one-second intervals”</i>.",
    "score" : 0,
    "owner" : {
      "account_id" : 10843443,
      "reputation" : 924,
      "user_id" : 20882864,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/CCQCy.jpg?s=256",
      "display_name" : "Marce Puente",
      "link" : "https://stackoverflow.com/users/20882864/marce-puente"
    },
    "creation_date" : 1761390657,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140816620,
    "post_id" : 79794858,
    "body" : "<i>IMO still inappropiate, because no mcve</i> Well, tbf, the OP is trying to <i>insert</i>, not only a mcve, but working code",
    "score" : 0,
    "owner" : {
      "account_id" : 22124137,
      "reputation" : 4244,
      "user_id" : 16376827,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/1ImPw.png?s=256",
      "display_name" : "g00se",
      "link" : "https://stackoverflow.com/users/16376827/g00se"
    },
    "creation_date" : 1761387743,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140816610,
    "post_id" : 79794858,
    "body" : "there are <a href=\"https://stackoverflow.com/help/site-moderators\">moderators</a> technically, but those are human exception handlers and might not care about reopening an (IMO still inappropiate, because no <a href=\"https://stackoverflow.com/help/mcve\">mcve</a>) question.",
    "score" : 0,
    "owner" : {
      "account_id" : 30223964,
      "reputation" : 262,
      "user_id" : 23162960,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/2451acfac254a6fc75757ecf89d75f9a?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Jannik S.",
      "link" : "https://stackoverflow.com/users/23162960/jannik-s"
    },
    "creation_date" : 1761387211,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140816451,
    "post_id" : 79794858,
    "body" : "So does that mean that this site is run by an AI instead of human people? Isn&#39;t there an administrator who can enable me to access to add an answer?",
    "score" : 0,
    "owner" : {
      "account_id" : 19082404,
      "reputation" : 49,
      "user_id" : 19263575,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/2c5d78ac03d256fe075c420a4acff01e?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "ZioCrick",
      "link" : "https://stackoverflow.com/users/19263575/ziocrick"
    },
    "creation_date" : 1761375498,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140815303,
    "post_id" : 79794858,
    "body" : "In order to post your answer, you must first improve your question so that it can be reopened. To do this, I suggest you edit it and explain in as much detail as possible what you expect your code to do (describe it as if you were talking to an idiot).",
    "score" : 0,
    "owner" : {
      "account_id" : 10843443,
      "reputation" : 924,
      "user_id" : 20882864,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/CCQCy.jpg?s=256",
      "display_name" : "Marce Puente",
      "link" : "https://stackoverflow.com/users/20882864/marce-puente"
    },
    "creation_date" : 1761315661,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140814375,
    "post_id" : 79794858,
    "body" : "I tried but unfortunately it won&#39;t let me do it.",
    "score" : 0,
    "owner" : {
      "account_id" : 19082404,
      "reputation" : 49,
      "user_id" : 19263575,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/2c5d78ac03d256fe075c420a4acff01e?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "ZioCrick",
      "link" : "https://stackoverflow.com/users/19263575/ziocrick"
    },
    "creation_date" : 1761288930,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140814023,
    "post_id" : 79794858,
    "body" : "Not sure you can at this point. Best insert it as code for the time being",
    "score" : 0,
    "owner" : {
      "account_id" : 22124137,
      "reputation" : 4244,
      "user_id" : 16376827,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/1ImPw.png?s=256",
      "display_name" : "g00se",
      "link" : "https://stackoverflow.com/users/16376827/g00se"
    },
    "creation_date" : 1761263213,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140813991,
    "post_id" : 79794858,
    "body" : "Can you please tell me how to add an answer?",
    "score" : 0,
    "owner" : {
      "account_id" : 19082404,
      "reputation" : 49,
      "user_id" : 19263575,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/2c5d78ac03d256fe075c420a4acff01e?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "ZioCrick",
      "link" : "https://stackoverflow.com/users/19263575/ziocrick"
    },
    "creation_date" : 1761260252,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140812455,
    "post_id" : 79794858,
    "body" : "You&#39;re right, but I can&#39;t find the button to enter an answer. What do I do, add the source code in my initial post?",
    "score" : 0,
    "owner" : {
      "account_id" : 19082404,
      "reputation" : 49,
      "user_id" : 19263575,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/2c5d78ac03d256fe075c420a4acff01e?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "ZioCrick",
      "link" : "https://stackoverflow.com/users/19263575/ziocrick"
    },
    "creation_date" : 1761209445,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140812080,
    "post_id" : 79794858,
    "body" : "If you have solved your problem (as I understand from your <a href=\"https://stackoverflow.com/questions/79794858/updating-a-jtextfield-from-the-inside-of-a-java-for-loop#comment140811784_79794858\">comment</a>), then perhaps you should post an <a href=\"https://stackoverflow.com/help/self-answer\">answer</a> - unless you think that other people cannot benefit from your question (and answer), in which case you should delete your question. Refer to <a href=\"https://stackoverflow.com/tour\">tour</a>.",
    "score" : 0,
    "owner" : {
      "account_id" : 2485939,
      "reputation" : 20969,
      "user_id" : 2164365,
      "user_type" : "registered",
      "accept_rate" : 40,
      "profile_image" : "https://i.sstatic.net/RKSgV.png?s=256",
      "display_name" : "Abra",
      "link" : "https://stackoverflow.com/users/2164365/abra"
    },
    "creation_date" : 1761191822,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140811807,
    "post_id" : 79794858,
    "body" : "Using <b>Thread.sleep</b> in the user interface is a bad idea, as it will freeze during that interval, which is annoying for the user. As <b>g00se</b> mentions, I suggest using <b>javax.swing.Timer</b>.",
    "score" : 0,
    "owner" : {
      "account_id" : 10843443,
      "reputation" : 924,
      "user_id" : 20882864,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/CCQCy.jpg?s=256",
      "display_name" : "Marce Puente",
      "link" : "https://stackoverflow.com/users/20882864/marce-puente"
    },
    "creation_date" : 1761170358,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140811803,
    "post_id" : 79794858,
    "body" : "tbh, <code>SwingWorker</code> + <code>Thread.sleep</code> sounds more complex than <code>javax.swing.Timer</code> but maybe it depends on the context",
    "score" : 0,
    "owner" : {
      "account_id" : 22124137,
      "reputation" : 4244,
      "user_id" : 16376827,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/1ImPw.png?s=256",
      "display_name" : "g00se",
      "link" : "https://stackoverflow.com/users/16376827/g00se"
    },
    "creation_date" : 1761170053,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140811784,
    "post_id" : 79794858,
    "body" : "Update. After a thousand tests and modifications I managed to associate the SwingWorker with a Thread.sleep and I solved my need!",
    "score" : 0,
    "owner" : {
      "account_id" : 19082404,
      "reputation" : 49,
      "user_id" : 19263575,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/2c5d78ac03d256fe075c420a4acff01e?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "ZioCrick",
      "link" : "https://stackoverflow.com/users/19263575/ziocrick"
    },
    "creation_date" : 1761169310,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140806696,
    "post_id" : 79794858,
    "body" : "The question drew several good comments. But, with the short piece of code in the question, there is some degree of speculation. I suggest giving attention to the links in the comments from Abra and camickr.",
    "score" : 0,
    "owner" : {
      "account_id" : 6606677,
      "reputation" : 1251,
      "user_id" : 5103317,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/c81d92487b054d7290b4f36562c0ee02?s=256&d=identicon&r=PG",
      "display_name" : "Old Dog Programmer",
      "link" : "https://stackoverflow.com/users/5103317/old-dog-programmer"
    },
    "creation_date" : 1760975322,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140806592,
    "post_id" : 79794858,
    "body" : "GUI components should be manipulated only on the Event Dispatch Thread.  If your <code>Test()</code> method is not already running there (and it probably shouldn&#39;t be) then you can use <a href=\"https://docs.oracle.com/en/java/javase/25/docs/api/java.desktop/javax/swing/SwingUtilities.html#invokeAndWait(java.lang.Runnable)\" rel=\"nofollow noreferrer\"><code>SwingUtilities.invokeAndWait()</code></a> to perform the update on the EDT and delay continuing until that has completed.",
    "score" : 2,
    "owner" : {
      "account_id" : 2792262,
      "reputation" : 190832,
      "user_id" : 2402272,
      "user_type" : "registered",
      "accept_rate" : 85,
      "profile_image" : "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=256&d=identicon&r=PG",
      "display_name" : "John Bollinger",
      "link" : "https://stackoverflow.com/users/2402272/john-bollinger"
    },
    "creation_date" : 1760972178,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140806477,
    "post_id" : 79794858,
    "body" : "If the text field is <b>never</b> updated, then: 1) you have no entries in the ArrayList or 2) you don&#39;t have a reference to the text field that is visible on the frame. Post a proper <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> to demonstrate the problem.",
    "score" : 3,
    "owner" : {
      "account_id" : 44852,
      "reputation" : 324711,
      "user_id" : 131872,
      "user_type" : "registered",
      "accept_rate" : 100,
      "profile_image" : "https://www.gravatar.com/avatar/a0ced8e21d2a761db718acb6362b9225?s=256&d=identicon&r=PG",
      "display_name" : "camickr",
      "link" : "https://stackoverflow.com/users/131872/camickr"
    },
    "creation_date" : 1760969204,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140806289,
    "post_id" : 79794858,
    "body" : "Do you want the <code>JTextField</code> to display the result of the <i>Miscellaneous instructions working on files</i> at the end of each loop iteration? If yes, then I think you also need to give the user time to read that result, no? Or does each miscellaneous instruction take a long time to complete? By the way, I suggest that you take the <a href=\"https://stackoverflow.com/tour\">tour</a> and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>.",
    "score" : 4,
    "owner" : {
      "account_id" : 2485939,
      "reputation" : 20969,
      "user_id" : 2164365,
      "user_type" : "registered",
      "accept_rate" : 40,
      "profile_image" : "https://i.sstatic.net/RKSgV.png?s=256",
      "display_name" : "Abra",
      "link" : "https://stackoverflow.com/users/2164365/abra"
    },
    "creation_date" : 1760962435,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140806281,
    "post_id" : 79794858,
    "body" : "Hello ZioCrick, welcome, you have two problems. The first is that a <i>for</i> loop executes in a time that is instantaneous to human perception, so if the list contains: <b>{ “a”, ‘b’, “c” }</b>, even though <b>TxtLog</b> will receive and display all the letters, you will only see the last one. On the other hand, you will probably need to call <b>TxtLog.repaint()</b> to update its display (always assuming that <b>asList</b> is not empty)",
    "score" : 1,
    "owner" : {
      "account_id" : 10843443,
      "reputation" : 924,
      "user_id" : 20882864,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/CCQCy.jpg?s=256",
      "display_name" : "Marce Puente",
      "link" : "https://stackoverflow.com/users/20882864/marce-puente"
    },
    "creation_date" : 1760962132,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140806246,
    "post_id" : 79794858,
    "body" : "Use <a href=\"https://docs.oracle.com/en/java/javase/24/docs/api/java.desktop/javax/swing/Timer.html\" rel=\"nofollow noreferrer\"><code>javax.swing.Timer</code></a> and give Swing a chance to update the display before setting the new text. Don’t use a loop for such task.",
    "score" : 5,
    "owner" : {
      "account_id" : 3211603,
      "reputation" : 301001,
      "user_id" : 2711488,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/t2hoD.jpg?s=256",
      "display_name" : "Holger",
      "link" : "https://stackoverflow.com/users/2711488/holger"
    },
    "creation_date" : 1760960836,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : {
    "79802268" : [ {
      "comment_id" : 140821420,
      "post_id" : 79802268,
      "body" : "Your code is fine (+1), but it may behave in a way that is not desired (only you know that). To illustrate this, add another button that displays a message in the console, change Thread.sleep(1000); to Thread.sleep(10000);, and try pressing the second button during the timeout...",
      "score" : 0,
      "owner" : {
        "account_id" : 10843443,
        "reputation" : 924,
        "user_id" : 20882864,
        "user_type" : "registered",
        "profile_image" : "https://i.sstatic.net/CCQCy.jpg?s=256",
        "display_name" : "Marce Puente",
        "link" : "https://stackoverflow.com/users/20882864/marce-puente"
      },
      "creation_date" : 1761602146,
      "content_license" : "CC BY-SA 4.0"
    } ]
  }
}