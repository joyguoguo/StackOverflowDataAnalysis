{
  "question" : {
    "question_id" : 79602883,
    "title" : "Hibernate won&#39;t generate SQLite table with autoincrement PK",
    "body" : "<p>I created the JPA entity <code>Country</code> for a Springboot project</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@Setter\n@Entity\n@Data\npublic class Country {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(nullable = false)\n    private String name;\n\n    @Column(nullable = false)\n    private String region;\n\n    @Column(nullable = false)\n    private String continent;\n}\n\n</code></pre>\n<p>I ran the application and the SQLite database file was generated.</p>\n<p>However, upon inspection using <a href=\"https://sqlitebrowser.org/\" rel=\"nofollow noreferrer\"><em>DB Browser for SQLite</em></a>, I found out that the <code>country</code> table did not have <code>AUTOINCREMENT</code> in its schema.</p>\n<p>The following is the generated DDL query for <code>country</code> table:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TABLE &quot;country&quot; (\n    &quot;id&quot;    INTEGER,\n    &quot;continent&quot; varchar(255) NOT NULL,\n    &quot;name&quot;  varchar(255) NOT NULL,\n    &quot;region&quot;    varchar(255) NOT NULL,\n    PRIMARY KEY(&quot;id&quot;)\n);\n</code></pre>\n<p>This is my application properties</p>\n<pre><code>spring.datasource.url=jdbc:sqlite:./database.sqlite\nspring.datasource.driver-class-name=org.sqlite.JDBC\nspring.jpa.database-platform=org.hibernate.community.dialect.SQLiteDialect\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.properties.hibernate.hbm2ddl.auto=update\nspring.jpa.show-sql=true\n</code></pre>\n<p>How do I ensure that the schema of the generated table have <code>AUTOINCREMENT</code>?</p>\n",
    "tags" : [ "java", "database", "hibernate", "sqlite", "jpa" ],
    "owner" : {
      "account_id" : 22462233,
      "reputation" : 15,
      "user_id" : 16663934,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/92d5db4c1149607237042ac579dc163a?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Iooosef",
      "link" : "https://stackoverflow.com/users/16663934/iooosef"
    },
    "is_answered" : true,
    "view_count" : 73,
    "answer_count" : 1,
    "score" : 0,
    "last_activity_date" : 1746167509,
    "creation_date" : 1746165661,
    "link" : "https://stackoverflow.com/questions/79602883/hibernate-wont-generate-sqlite-table-with-autoincrement-pk",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79602907,
    "question_id" : 79602883,
    "body" : "<p>SQLite will auto-increment the primary key if it's declared as <code>INTEGER PRIMARY KEY</code>, even without the keyword <code>AUTOINCREMENT</code>.</p>\n<p>References:</p>\n<ul>\n<li><p><a href=\"https://www3.sqlite.org/autoinc.html\" rel=\"nofollow noreferrer\">https://www3.sqlite.org/autoinc.html</a></p>\n</li>\n<li><p><a href=\"https://www.slingacademy.com/article/demystifying-sqlite-autoincrement-and-row-ids/\" rel=\"nofollow noreferrer\">https://www.slingacademy.com/article/demystifying-sqlite-autoincrement-and-row-ids/</a></p>\n</li>\n</ul>\n",
    "score" : 0,
    "is_accepted" : true,
    "owner" : {
      "account_id" : 16264424,
      "reputation" : 299,
      "user_id" : 11744933,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/c2a6b186c0cae5c1e679bfb495889428?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Syed",
      "link" : "https://stackoverflow.com/users/11744933/syed"
    },
    "creation_date" : 1746167509,
    "last_activity_date" : 1746167509,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140389049,
    "post_id" : 79602883,
    "body" : "Have you tried inserting the data? is it automatically generating the id? because SQLite will auto-increment the primary key if it&#39;s declared as INTEGER PRIMARY KEY even without the keyword AUTOINCREMENT.    ref: <a href=\"https://www3.sqlite.org/autoinc.html\" rel=\"nofollow noreferrer\">www3.sqlite.org/autoinc.html</a>",
    "score" : 0,
    "owner" : {
      "account_id" : 16264424,
      "reputation" : 299,
      "user_id" : 11744933,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/c2a6b186c0cae5c1e679bfb495889428?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Syed",
      "link" : "https://stackoverflow.com/users/11744933/syed"
    },
    "creation_date" : 1746167296,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : {
    "79602907" : [ {
      "comment_id" : 140392157,
      "post_id" : 79602907,
      "body" : "You&#39;re welcome \uD83E\uDD17",
      "score" : 0,
      "owner" : {
        "account_id" : 16264424,
        "reputation" : 299,
        "user_id" : 11744933,
        "user_type" : "registered",
        "profile_image" : "https://www.gravatar.com/avatar/c2a6b186c0cae5c1e679bfb495889428?s=256&d=identicon&r=PG&f=y&so-version=2",
        "display_name" : "Syed",
        "link" : "https://stackoverflow.com/users/11744933/syed"
      },
      "creation_date" : 1746254270,
      "content_license" : "CC BY-SA 4.0"
    }, {
      "comment_id" : 140391851,
      "post_id" : 79602907,
      "body" : "Thank you! I never knew it increments implicitly. I was just assuming it won&#39;t work since I don&#39;t see it explicitly in the generated DDL.",
      "score" : 0,
      "owner" : {
        "account_id" : 22462233,
        "reputation" : 15,
        "user_id" : 16663934,
        "user_type" : "registered",
        "profile_image" : "https://www.gravatar.com/avatar/92d5db4c1149607237042ac579dc163a?s=256&d=identicon&r=PG&f=y&so-version=2",
        "display_name" : "Iooosef",
        "link" : "https://stackoverflow.com/users/16663934/iooosef"
      },
      "creation_date" : 1746234343,
      "content_license" : "CC BY-SA 4.0"
    } ]
  }
}