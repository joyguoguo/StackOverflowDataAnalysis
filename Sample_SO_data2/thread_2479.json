{
  "question" : {
    "question_id" : 79619920,
    "title" : "Exception @Scheduled Tasks shutdowns Application. @ExceptionHandler or cleaner solution possible?",
    "body" : "<p>I have a simple Scheduled Task:</p>\n<pre><code>@Component\npublic class ScheduledTasks {\n\n    @Scheduled\n    public void doSomething() {\n        ..\n    }\n}\n</code></pre>\n<p>From there exceptions are propagated to SpringBootApplication.java and if one exception occurs, the whole application is shutdowning.</p>\n<p>A clean handling is possible for RestController with @ExceptionHandler.</p>\n<p>Is there a cleaner way to prevent shutdown the application than try-catch all exceptions in the doSomething() method?</p>\n<p>I'd like to log exceptions, I don't think I can handle them.</p>\n",
    "tags" : [ "java", "spring", "spring-boot" ],
    "owner" : {
      "account_id" : 29137161,
      "reputation" : 35,
      "user_id" : 22321063,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/b27b6976ef7ea6a3872fd17a00a9f6ad?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "AAAA",
      "link" : "https://stackoverflow.com/users/22321063/aaaa"
    },
    "is_answered" : false,
    "view_count" : 116,
    "answer_count" : 0,
    "score" : 0,
    "last_activity_date" : 1747173521,
    "creation_date" : 1747148134,
    "link" : "https://stackoverflow.com/questions/79619920/exception-scheduled-tasks-shutdowns-application-exceptionhandler-or-cleaner-s",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ ],
  "question_comments" : [ {
    "comment_id" : 140423206,
    "post_id" : 79619920,
    "body" : "add <code>new CountDownLatch(1).await();</code> into <code>main</code> method",
    "score" : 0,
    "owner" : {
      "account_id" : 4181375,
      "reputation" : 6263,
      "user_id" : 3426309,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/v58O6.jpg?s=256",
      "display_name" : "Andrey B. Panfilov",
      "link" : "https://stackoverflow.com/users/3426309/andrey-b-panfilov"
    },
    "creation_date" : 1747175897,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140422940,
    "post_id" : 79619920,
    "body" : "Your code above does not kill the application but the thread only as the colleagues stated before. Logging is also automatically injected by <a href=\"https://github.com/spring-projects/spring-framework/blob/main/spring-context/src/main/java/org/springframework/scheduling/support/TaskUtils.java\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-framework/blob/main/&hellip;</a> producing something llike this: <code>[   scheduling-1] o.s.s.s.TaskUtils$LoggingErrorHandler    : Unexpected error occurred in scheduled task</code> To wrap this up, it seems your code is not executed by spring scheduling.",
    "score" : 0,
    "owner" : {
      "account_id" : 11555562,
      "reputation" : 569,
      "user_id" : 8466853,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/cd7f72b426ce3c46739900b8ba014e26?s=256&d=identicon&r=PG",
      "display_name" : "Arno",
      "link" : "https://stackoverflow.com/users/8466853/arno"
    },
    "creation_date" : 1747168987,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140422132,
    "post_id" : 79619920,
    "body" : "Add a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> to the question.",
    "score" : 1,
    "owner" : {
      "account_id" : 372682,
      "reputation" : 26512,
      "user_id" : 721855,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/vZiox.png?s=256",
      "display_name" : "aled",
      "link" : "https://stackoverflow.com/users/721855/aled"
    },
    "creation_date" : 1747152337,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140422022,
    "post_id" : 79619920,
    "body" : "This should run on a background thread, so unless you are calling this method from the main method your application should just keep running. Hence there is information and configuration that you left out of this question.",
    "score" : 1,
    "owner" : {
      "account_id" : 3192259,
      "reputation" : 126826,
      "user_id" : 2696260,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/qHEzx.png?s=256",
      "display_name" : "M. Deinum",
      "link" : "https://stackoverflow.com/users/2696260/m-deinum"
    },
    "creation_date" : 1747150059,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140422014,
    "post_id" : 79619920,
    "body" : "Why not just catch it in <code>doSomething()</code>? Exceptions are thrown so they can be handled by the caller. For scheduled tasks, there&#39;s no direct caller, so you have to handle it at the global level ... unless you just handle it in the task itself. Whether that&#39;s appropriate depends on the use case, business logic, and your design.",
    "score" : 1,
    "owner" : {
      "account_id" : 183966,
      "reputation" : 15288,
      "user_id" : 419705,
      "user_type" : "registered",
      "accept_rate" : 67,
      "profile_image" : "https://i.sstatic.net/cvuY8.png?s=256",
      "display_name" : "Roddy of the Frozen Peas",
      "link" : "https://stackoverflow.com/users/419705/roddy-of-the-frozen-peas"
    },
    "creation_date" : 1747149957,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140422001,
    "post_id" : 79619920,
    "body" : "Can you post somewhere a small PoC of this. Have you properly configured your application? A scheduled task should kill only the thread it started. What is the exception? Although not impossible it is very unusual for this to happen.",
    "score" : 1,
    "owner" : {
      "account_id" : 209503,
      "reputation" : 23867,
      "user_id" : 460557,
      "user_type" : "registered",
      "accept_rate" : 100,
      "profile_image" : "https://www.gravatar.com/avatar/b4565f97815833390c9c880e9e8522e4?s=256&d=identicon&r=PG",
      "display_name" : "Jorge Campos",
      "link" : "https://stackoverflow.com/users/460557/jorge-campos"
    },
    "creation_date" : 1747149787,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}