{
  "question" : {
    "question_id" : 79841206,
    "title" : "Is there a way to set $JAVA_HOME on a per project basis for Maven?",
    "body" : "<p>Looking through <a href=\"https://maven.apache.org/configure.html#mavenrc-file\" rel=\"nofollow noreferrer\">Maven's documentation</a>, I can see that I can set <code>$JAVA_HOME</code> in my <code>.mavenrc</code> in my home directory, but this is a global setting. I have some projects that need a specific maven version (which I manage with <a href=\"https://mvnvm.teams.work\" rel=\"nofollow noreferrer\">mvnvm</a>) as well as a specific java version (java 11.0.29). I'd prefer if I could set <code>$JAVA_HOME</code> per project, maybe as some configuration setting I've missed that goes in one of the many <code>.mvn</code> configs.</p>\n",
    "tags" : [ "java", "maven", "configuration" ],
    "owner" : {
      "account_id" : 18787960,
      "reputation" : 39,
      "user_id" : 13701140,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/fef29db71392927f1409708b026709af?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "BrknRules",
      "link" : "https://stackoverflow.com/users/13701140/brknrules"
    },
    "is_answered" : true,
    "view_count" : 57,
    "answer_count" : 3,
    "score" : 0,
    "last_activity_date" : 1765276776,
    "creation_date" : 1765214334,
    "link" : "https://stackoverflow.com/questions/79841206/is-there-a-way-to-set-java-home-on-a-per-project-basis-for-maven",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79841230,
    "question_id" : 79841206,
    "body" : "<p>I would prefer (and use) <a href=\"https://sdkman.io/\" rel=\"nofollow noreferrer\">sdkman</a>, you can do <code>sdk ls maven</code> to get a list of available <code>maven</code> versions. Then use <code>sdk use maven 3.9.11</code> or <code>sdk use maven 4.0.0-rc-5</code> or whichever version you need at your project root. Finally, you absolutely <strong>can</strong> enable per directory environments by setting <code>sdkman_auto_env=true</code> in <code>~/.sdkman/etc/config</code> and using the <a href=\"https://sdkman.io/usage/#env-command\" rel=\"nofollow noreferrer\"><code>sdk env</code> command</a> in your project directories.</p>\n",
    "score" : 1,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 3557625,
      "reputation" : 201916,
      "user_id" : 2970947,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/HLTev.png?s=256",
      "display_name" : "Elliott Frisch",
      "link" : "https://stackoverflow.com/users/2970947/elliott-frisch"
    },
    "creation_date" : 1765216184,
    "last_activity_date" : 1765216184,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "answer_id" : 79841817,
    "question_id" : 79841206,
    "body" : "<p>Consider creating simple two line shell scripts to set a specific JAVA_HOME before executing maven; that will only affect the instance of the shell being used to run that script, it won't affect your global system. It is a simple trick I use to make upgrading projects less time consuming as I generally will have version old and version new running side by side in different terminal windows to figure out build and test failures and such, or differences in dependency:tree output.</p>\n<p>Conveniently Maven really only needs the JAVA_HOME variable, so you do not need to meddle with your PATH at all.</p>\n<p>I generally have three sets of scripts per JDK version; one to only clean-install (mvn11, mvn17, mvn21), one to run only unit tests (mvnTest11, mvnTest17, mvnTest21) and one to run only integration tests (mvnIT11, mvnIT17, mvnIT21). Because who wants to always run everything at all times, eh?</p>\n<p>So mvn11.sh might look like this:</p>\n<pre><code>#!/usr/bin/env bash\n\nexport JAVA_HOME=&quot;/path/to/jdk11&quot;\nmvn clean install -DskipTests -Dmaven.javadoc.skip=true\n</code></pre>\n<p>or for Windows, a mvn11.cmd might look like this:</p>\n<pre><code>@echo off\n\nset &quot;JAVA_HOME=C:\\Path\\to\\jdk11&quot;\nmvn clean install -DskipTests -Dmaven.javadoc.skip=true\n</code></pre>\n",
    "score" : 1,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 187094,
      "reputation" : 5301,
      "user_id" : 424903,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/8oHZF.png?s=256",
      "display_name" : "Gimby",
      "link" : "https://stackoverflow.com/users/424903/gimby"
    },
    "creation_date" : 1765276776,
    "last_activity_date" : 1765276776,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "answer_id" : 79841336,
    "question_id" : 79841206,
    "body" : "<p>Usually you would set this in your IDE (IntelliJ, Eclipse), or on the build server (GitLab, GitHub Actions ...)</p>\n",
    "score" : 0,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 888714,
      "reputation" : 36707,
      "user_id" : 927493,
      "user_type" : "registered",
      "accept_rate" : 61,
      "profile_image" : "https://i.sstatic.net/sxsnm.png?s=256",
      "display_name" : "JF Meier",
      "link" : "https://stackoverflow.com/users/927493/jf-meier"
    },
    "creation_date" : 1765226641,
    "last_activity_date" : 1765226641,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ ],
  "answer_comments" : { }
}