{
  "question" : {
    "question_id" : 79749165,
    "title" : "Disabling inherited methods at compile time",
    "body" : "<p>I have seen <a href=\"https://stackoverflow.com/q/5486402/4142984\">Disabling inherited method on derived class</a> which is a <em>near duplicate</em> of my question.</p>\n<p>In my case, I'm not the owner of the super-class.</p>\n<p>I have a class <code>NotMyA</code> and a derived class <code>MyB extends NotMyA</code>.</p>\n<p>My class is specialized and it should not be possible to use some inherited methods, and I want a warning or an error on compile-time, while the access to the super-class method should still be possible (because otherwise the framework would not work any more).</p>\n<p>First thing in mind is to declare a derived method as <code>private</code> or <code>protected</code>, but this is not possible for good reasons.</p>\n<p>I very much guess this is not possible at all (in java versions up to and including 21), but it would be <strong>very</strong> annoying to just miss the way to do it.</p>\n",
    "tags" : [ "java", "inheritance" ],
    "owner" : {
      "account_id" : 5175809,
      "reputation" : 1196,
      "user_id" : 4142984,
      "user_type" : "registered",
      "accept_rate" : 83,
      "profile_image" : "https://www.gravatar.com/avatar/a6305f943ab99c2928fdc8c2acfae9cd?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Gyro Gearloose",
      "link" : "https://stackoverflow.com/users/4142984/gyro-gearloose"
    },
    "is_answered" : true,
    "view_count" : 97,
    "closed_date" : 1756736122,
    "answer_count" : 1,
    "score" : 0,
    "last_activity_date" : 1756453129,
    "creation_date" : 1756387717,
    "link" : "https://stackoverflow.com/questions/79749165/disabling-inherited-methods-at-compile-time",
    "closed_reason" : "Needs details or clarity"
  },
  "answers" : [ {
    "answer_id" : 79749318,
    "question_id" : 79749165,
    "body" : "<p>Converting intended comment into an answer, but only because it's too long for a comment, rather than because it's a good (or the only) answer :)</p>\n<p>The big problem in your question is the &quot;at compile time&quot;.</p>\n<p>Obviously you can override the method with one producing an exception, but as you say, this will only flag that the method was &quot;forbidden for use&quot; at runtime, which you explicitly do not want.</p>\n<p>There is no real way to 'block' a superclass' method with an error in the way you describe.</p>\n<p>However, it seems that, rather than specifically needing to &quot;block&quot; functionality from a superclass that you do not control, what you're really after is simply a way to flag to the developer at the time of &quot;developing&quot; (rather than &quot;running&quot;) the code, they're trying to do something that is unsupported. E.g. it could be an error when &quot;compiling&quot; the code, it could be a nice pop-up in the IDE, or in fact a lack of one, e.g. the forbidden method doesn't come up on autocompletion when dealing with the MyB class.</p>\n<p>In my view, the best way to do this is by a form of Dependency Inversion (i.e., the D in the SOLID principles): any code that expects your subclass directly, should instead expect an interface, e.g. MyInterface, which your subclass depends on (i.e. implements).</p>\n<p>Then your MyB can act as an 'Adapter' class, by both extending NotMyA <em>and</em> implementing MyInterface, but with the intent that it is never used directly in method signatures, and is only accessed via MyInterface instead, which then blocks access to the forbidden methods.</p>\n<p>This allows you to pass your MyB objects to methods expecting MyInterface, with the guarantee that if the code inside does something forbidden in the method, the compiler would flag it, while also allowing you to pass MyB objects to external methods not under your control, which expect it to be validly upcast to a NotMyA object.</p>\n",
    "score" : 2,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 5233910,
      "reputation" : 22431,
      "user_id" : 4183191,
      "user_type" : "registered",
      "accept_rate" : 100,
      "profile_image" : "https://www.gravatar.com/avatar/8ce0d78cc78f51ee79cec5088effe3ed?s=256&d=identicon&r=PG",
      "display_name" : "Tasos Papastylianou",
      "link" : "https://stackoverflow.com/users/4183191/tasos-papastylianou"
    },
    "creation_date" : 1756395304,
    "last_activity_date" : 1756395304,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140698856,
    "post_id" : 79749165,
    "body" : "Well, by the looks of it you are trying to prevent the developers from breaking the &quot;rule&quot;. Java itself as already mentioned will not allow that (I will be even bold enough to say no language with similar capabilities allow for that, but don&#39;t hold me to that). However you can use a different strategy such as adding a tooling into your project that will validate such rule. You can use <a href=\"https://www.archunit.org/\" rel=\"nofollow noreferrer\">Archunit</a> for instance and implement your rule and at build time it would fail, provided that you absolutely don&#39;t allow anything to go live without a proper build.",
    "score" : 0,
    "owner" : {
      "account_id" : 209503,
      "reputation" : 23867,
      "user_id" : 460557,
      "user_type" : "registered",
      "accept_rate" : 100,
      "profile_image" : "https://www.gravatar.com/avatar/b4565f97815833390c9c880e9e8522e4?s=256&d=identicon&r=PG",
      "display_name" : "Jorge Campos",
      "link" : "https://stackoverflow.com/users/460557/jorge-campos"
    },
    "creation_date" : 1756391300,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140698834,
    "post_id" : 79749165,
    "body" : "@JorgeCampos in this specific case (but I cannot repeat it often enough: I like to have an answer independent of this specific case) it is a specialized javafx....Group that should only be able to hold specific children, not everything that <code>Group</code> allows. And the main problem is not to wait for an Error thrown in runtime. Perhaps Turing Decidability blocks a general solution.",
    "score" : 0,
    "owner" : {
      "account_id" : 5175809,
      "reputation" : 1196,
      "user_id" : 4142984,
      "user_type" : "registered",
      "accept_rate" : 83,
      "profile_image" : "https://www.gravatar.com/avatar/a6305f943ab99c2928fdc8c2acfae9cd?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Gyro Gearloose",
      "link" : "https://stackoverflow.com/users/4142984/gyro-gearloose"
    },
    "creation_date" : 1756390745,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140698794,
    "post_id" : 79749165,
    "body" : "The &quot;problem in general&quot; cannot be solved in Java.  You just can&#39;t do it.  In some cases, you can override the method and just throw an exception, but this creates its own problems.",
    "score" : 1,
    "owner" : {
      "account_id" : 2709823,
      "reputation" : 11069,
      "user_id" : 2338547,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/QT3fG.png?s=256",
      "display_name" : "markspace",
      "link" : "https://stackoverflow.com/users/2338547/markspace"
    },
    "creation_date" : 1756390102,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140698789,
    "post_id" : 79749165,
    "body" : "I would be more interested in understanding what is that you are trying to accomplish with it. With just the description, I agree with Mat up here it is a modeling problem but in order for us to understand it you need to specify which problem you are trying to solve.",
    "score" : 2,
    "owner" : {
      "account_id" : 209503,
      "reputation" : 23867,
      "user_id" : 460557,
      "user_type" : "registered",
      "accept_rate" : 100,
      "profile_image" : "https://www.gravatar.com/avatar/b4565f97815833390c9c880e9e8522e4?s=256&d=identicon&r=PG",
      "display_name" : "Jorge Campos",
      "link" : "https://stackoverflow.com/users/460557/jorge-campos"
    },
    "creation_date" : 1756390049,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140698781,
    "post_id" : 79749165,
    "body" : "@TasosPapastylianou Good point. Opinion-based answer: it schould work, as the user explicitly is addressing the super-class.",
    "score" : 0,
    "owner" : {
      "account_id" : 5175809,
      "reputation" : 1196,
      "user_id" : 4142984,
      "user_type" : "registered",
      "accept_rate" : 83,
      "profile_image" : "https://www.gravatar.com/avatar/a6305f943ab99c2928fdc8c2acfae9cd?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Gyro Gearloose",
      "link" : "https://stackoverflow.com/users/4142984/gyro-gearloose"
    },
    "creation_date" : 1756389888,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140698766,
    "post_id" : 79749165,
    "body" : "Not clear to me if &quot;not possible for good reasons&quot; means &quot;in my specific use case&quot; or &quot;the language disallows it&quot;, but, just to be clear, the language disallows this. For the more general question, suppose that a user of your class attempts <code>NotMyA a = new MyB(); a.forbiddenMethod();</code>. What behaviour would you expect?",
    "score" : 0,
    "owner" : {
      "account_id" : 5233910,
      "reputation" : 22431,
      "user_id" : 4183191,
      "user_type" : "registered",
      "accept_rate" : 100,
      "profile_image" : "https://www.gravatar.com/avatar/8ce0d78cc78f51ee79cec5088effe3ed?s=256&d=identicon&r=PG",
      "display_name" : "Tasos Papastylianou",
      "link" : "https://stackoverflow.com/users/4183191/tasos-papastylianou"
    },
    "creation_date" : 1756389493,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140698758,
    "post_id" : 79749165,
    "body" : "@Mat It is kind of a <i>restriction</i> and specialization of the base. The super-class in question is from the javafx framework, my class has to be derived from it, or it wouldn&#39;t work at all. I intentionally did not mention javafx nor tag it, as I&#39;m interested in the problem in general. Of course, it <i>is</i> a modeling problem, but biggest part of modeling goes to the framework.",
    "score" : 0,
    "owner" : {
      "account_id" : 5175809,
      "reputation" : 1196,
      "user_id" : 4142984,
      "user_type" : "registered",
      "accept_rate" : 83,
      "profile_image" : "https://www.gravatar.com/avatar/a6305f943ab99c2928fdc8c2acfae9cd?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Gyro Gearloose",
      "link" : "https://stackoverflow.com/users/4142984/gyro-gearloose"
    },
    "creation_date" : 1756389272,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140698730,
    "post_id" : 79749165,
    "body" : "If your class isn&#39;t an extension of the base, it shouldn&#39;t extend it. Sounds like a modeling problem.",
    "score" : 4,
    "owner" : {
      "account_id" : 318397,
      "reputation" : 208010,
      "user_id" : 635608,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/oIJia.png?s=256",
      "display_name" : "Mat",
      "link" : "https://stackoverflow.com/users/635608/mat"
    },
    "creation_date" : 1756388643,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : {
    "79749318" : [ {
      "comment_id" : 140699579,
      "post_id" : 79749318,
      "body" : "As you say, not an answer but good enough for an upvote. Maybe it helps me to figure out a way to use a delegate class.",
      "score" : 0,
      "owner" : {
        "account_id" : 5175809,
        "reputation" : 1196,
        "user_id" : 4142984,
        "user_type" : "registered",
        "accept_rate" : 83,
        "profile_image" : "https://www.gravatar.com/avatar/a6305f943ab99c2928fdc8c2acfae9cd?s=256&d=identicon&r=PG&f=y&so-version=2",
        "display_name" : "Gyro Gearloose",
        "link" : "https://stackoverflow.com/users/4142984/gyro-gearloose"
      },
      "creation_date" : 1756406879,
      "content_license" : "CC BY-SA 4.0"
    }, {
      "comment_id" : 140699263,
      "post_id" : 79749318,
      "body" : "Compile time has nothing to do with LSP violation. It is just as dramatic at runtime.",
      "score" : 0,
      "owner" : {
        "account_id" : 43022,
        "reputation" : 24624,
        "user_id" : 125562,
        "user_type" : "registered",
        "accept_rate" : 64,
        "profile_image" : "https://i.sstatic.net/SdIqA.png?s=256",
        "display_name" : "Basilevs",
        "link" : "https://stackoverflow.com/users/125562/basilevs"
      },
      "creation_date" : 1756398713,
      "content_license" : "CC BY-SA 4.0"
    } ]
  }
}