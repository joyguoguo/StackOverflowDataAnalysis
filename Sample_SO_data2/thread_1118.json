{
  "question" : {
    "question_id" : 79745618,
    "title" : "Parameter 0 of method entityManagerFactory in PrimaryDataSourceConfig required a bean of type EntityManagerFactoryBuilder that could not be found",
    "body" : "<p>I am trying to configure 2 databases in a single spring boot application. So that I have configured 2 separate Config files for Postgres and Postgres vector DB.</p>\n<pre><code>@Configuration\n@EnableTransactionManagement\n@EnableJpaRepositories(\n        basePackages = &quot;com.example.sse_chat_bot.repository.primary&quot;,\n        entityManagerFactoryRef = &quot;primaryEntityManagerFactory&quot;,\n        transactionManagerRef = &quot;primaryTransactionManager&quot;\n)\npublic class PrimaryDataSourceConfig {\n\n\n\n    @Bean(name = &quot;primaryDataSourceProperties&quot;)\n    @ConfigurationProperties(&quot;spring.datasource.primary&quot;)\n    public DataSourceProperties dataSourceProperties() {\n        return new DataSourceProperties();\n    }\n\n    @Bean(name = &quot;primaryDataSource&quot;)\n    public DataSource dataSource() {\n        return dataSourceProperties().initializeDataSourceBuilder().build();\n    }\n\n    // The streamlined, modern approach - no separate builder bean needed\n    @Bean(name = &quot;primaryEntityManagerFactory&quot;)\n    public LocalContainerEntityManagerFactoryBean entityManagerFactory(\n            EntityManagerFactoryBuilder builder,\n\n            @Qualifier(&quot;primaryDataSource&quot;) DataSource dataSource\n    ) {\n        return builder\n                .dataSource(dataSource) // Set the DataSource\n                .packages(&quot;com.example.sse_chat_bot.entity.primary&quot;)\n                .build();\n    }\n\n    @Bean(name = &quot;primaryTransactionManager&quot;)\n    public PlatformTransactionManager transactionManager(\n            @Qualifier(&quot;primaryEntityManagerFactory&quot;) LocalContainerEntityManagerFactoryBean entityManagerFactory\n    ) {\n        return new JpaTransactionManager(entityManagerFactory.getObject());\n    }\n}\n</code></pre>\n<p>but the error</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nParameter 0 of method entityManagerFactory in com.example.sse_chat_bot.config.PrimaryDataSourceConfig required a bean of type 'org.springframework.boot.orm.jpa.EntityManagerFactoryBuilder' that could not be found.\n\n\nAction:\n\nConsider defining a bean of type 'org.springframework.boot.orm.jpa.EntityManagerFactoryBuilder' in your configuration.\n\n\nSpring is unable to autowire the EntityManagerFactoryBuilder. \n</code></pre>\n<p>How can i solve this problem??</p>\n",
    "tags" : [ "java", "postgresql", "spring-boot", "backend" ],
    "owner" : {
      "account_id" : 18214005,
      "reputation" : 45,
      "user_id" : 13255966,
      "user_type" : "registered",
      "profile_image" : "https://lh3.googleusercontent.com/a-/AOh14Gj3ig1jfNvNLNc-AUAhnGMEAXgZ9999Z5f2zQzC=k-s256",
      "display_name" : "Miraj Hossain Shawon",
      "link" : "https://stackoverflow.com/users/13255966/miraj-hossain-shawon"
    },
    "is_answered" : false,
    "view_count" : 113,
    "answer_count" : 0,
    "score" : 1,
    "last_activity_date" : 1756118928,
    "creation_date" : 1756117945,
    "link" : "https://stackoverflow.com/questions/79745618/parameter-0-of-method-entitymanagerfactory-in-primarydatasourceconfig-required-a",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ ],
  "question_comments" : [ {
    "comment_id" : 140690353,
    "post_id" : 79745618,
    "body" : "I have tried this but showing deprication error. &#39;EntityManagerFactoryBuilder(org.springframework.orm.jpa.Jpa&zwnj;&#8203;VendorAdapter, java.util.Map&lt;java.lang.String,?&gt;, org.springframework.orm.jpa.persistenceunit.PersistenceUnitM&zwnj;&#8203;anager)&#39; is deprecated since version 3.4.4 and marked for removal",
    "score" : 0,
    "owner" : {
      "account_id" : 18214005,
      "reputation" : 45,
      "user_id" : 13255966,
      "user_type" : "registered",
      "profile_image" : "https://lh3.googleusercontent.com/a-/AOh14Gj3ig1jfNvNLNc-AUAhnGMEAXgZ9999Z5f2zQzC=k-s256",
      "display_name" : "Miraj Hossain Shawon",
      "link" : "https://stackoverflow.com/users/13255966/miraj-hossain-shawon"
    },
    "creation_date" : 1756122643,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140690340,
    "post_id" : 79745618,
    "body" : "You can simply create new instance of <code>EntityManagerFactoryBuilder</code> when you need one.",
    "score" : 0,
    "owner" : {
      "account_id" : 4497436,
      "reputation" : 20796,
      "user_id" : 3656904,
      "user_type" : "registered",
      "accept_rate" : 67,
      "profile_image" : "https://www.gravatar.com/avatar/8bdbd1f89f8907e8e8b15ab88c084c65?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "talex",
      "link" : "https://stackoverflow.com/users/3656904/talex"
    },
    "creation_date" : 1756122292,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140690266,
    "post_id" : 79745618,
    "body" : "by making sure such a bean exists on your path",
    "score" : 0,
    "owner" : {
      "account_id" : 3116234,
      "reputation" : 9469,
      "user_id" : 2636929,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/85fa83a02c04af43fcd224821ca9b750?s=256&d=identicon&r=PG",
      "display_name" : "Stultuske",
      "link" : "https://stackoverflow.com/users/2636929/stultuske"
    },
    "creation_date" : 1756120635,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}