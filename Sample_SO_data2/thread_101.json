{
  "question" : {
    "question_id" : 79839647,
    "title" : "What is right way to implement simple token-based authentication in Spring Security",
    "body" : "<p>I'm developing small monolith Spring-based REST API application with next key points:</p>\n<ul>\n<li>authentication will be only by username/password that are provided directly from mobile app.</li>\n<li>as sending username/password on each request is bad practice I want to get some token (say JWT) that is then used to authenticate the user.</li>\n</ul>\n<p>That seems to be quite standard task.</p>\n<p>As application is quite small I see it too excessive to implement <strong>Spring OAuth Authorization Server</strong> and <strong>Spring OAuth Resource Server</strong>. Moreover, resource owner password workflow is now deprecated and common workflow is code workflow that uses <strong>Authorization Server</strong> login form, that is not acceptable in my case, as I need to provide username/password directly in REST API call (password is actually read from device, not typed by user).</p>\n<p>Unfortunately I did not found standard solution for this case nor in Spring documentation, nor googling, nor AI. All recommendations, including answers\n<a href=\"https://stackoverflow.com/questions/22153339/token-authentication-based-with-spring-security\">Token authentication based with spring security</a> or <a href=\"https://stackoverflow.com/questions/21994348/spring-security-token-based-api-auth-user-password-authentication\">Spring Security - Token based API auth &amp; user/password authentication</a>, are like this (just a piece of solution):</p>\n<pre><code>fun extractJwtFromRequest(request: HttpServletRequest): String? {\n    val bearerToken = request.getHeader(&quot;Authorization&quot;)\n    return if (bearerToken != null &amp;&amp; bearerToken.startsWith(&quot;Bearer &quot;)) {\n        bearerToken.substring(7)\n    } else null\n}\n</code></pre>\n<p>What looks more like a hack, than a framework backed standard solution.</p>\n<p>It seems that Spring Security provides standard support for very simple cases like basic or form authentication, but if you need more mature token based solution it forces you to use OAuth infrastructure.</p>\n<p>So, to use token-based authentication with Spring I see only 2 ways:</p>\n<ul>\n<li>using OAuth infrastructure with Resource Server and Authorization\nServer (that does not seem acceptable in my case).</li>\n<li>writing custom filters, manually extracting token, etc.</li>\n</ul>\n<p>Are there other options to use token-based authentication with Spring?</p>\n",
    "tags" : [ "java", "spring", "spring-boot", "kotlin", "spring-security" ],
    "owner" : {
      "account_id" : 43469067,
      "reputation" : 29,
      "user_id" : 31258431,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/62649dab95f43ce069ed570e624eb11b?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "sankranti",
      "link" : "https://stackoverflow.com/users/31258431/sankranti"
    },
    "is_answered" : false,
    "view_count" : 76,
    "closed_date" : 1765147349,
    "answer_count" : 0,
    "score" : -1,
    "last_activity_date" : 1765462638,
    "creation_date" : 1765020402,
    "link" : "https://stackoverflow.com/questions/79839647/what-is-right-way-to-implement-simple-token-based-authentication-in-spring-secur",
    "closed_reason" : "Needs more focus"
  },
  "answers" : [ ],
  "question_comments" : [ {
    "comment_id" : 140898882,
    "post_id" : 79839647,
    "body" : "@sankranti that is simply not true. A cookie is a text header in a request and can be extracted just like a JWT is a text header that can be extracted. So you claiming that it cant be used in a mobile app is simple just not true.",
    "score" : 0,
    "owner" : {
      "account_id" : 2064278,
      "reputation" : 15107,
      "user_id" : 1840146,
      "user_type" : "registered",
      "accept_rate" : 86,
      "profile_image" : "https://i.sstatic.net/JXdxm.png?s=256",
      "display_name" : "Toerktumlare",
      "link" : "https://stackoverflow.com/users/1840146/toerktumlare"
    },
    "creation_date" : 1765501789,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140898269,
    "post_id" : 79839647,
    "body" : "The industry accepted and used standard is to use the Spring Security Resource server which is for extracting the token and do the login. If you find that too excessive to configure build your own filter which extracts the <code>Bearer</code> token.",
    "score" : 0,
    "owner" : {
      "account_id" : 3192259,
      "reputation" : 126826,
      "user_id" : 2696260,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/qHEzx.png?s=256",
      "display_name" : "M. Deinum",
      "link" : "https://stackoverflow.com/users/2696260/m-deinum"
    },
    "creation_date" : 1765466885,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140898128,
    "post_id" : 79839647,
    "body" : "@Toerktumlare please, read the question carefully, cookies and from login are not applicable for mobile application.",
    "score" : 0,
    "owner" : {
      "account_id" : 43469067,
      "reputation" : 29,
      "user_id" : 31258431,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/62649dab95f43ce069ed570e624eb11b?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "sankranti",
      "link" : "https://stackoverflow.com/users/31258431/sankranti"
    },
    "creation_date" : 1765461495,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140896019,
    "post_id" : 79839647,
    "body" : "Use cookie based login, FormLogin. Its you that think you need a jwt which is not the case.",
    "score" : 0,
    "owner" : {
      "account_id" : 2064278,
      "reputation" : 15107,
      "user_id" : 1840146,
      "user_type" : "registered",
      "accept_rate" : 86,
      "profile_image" : "https://i.sstatic.net/JXdxm.png?s=256",
      "display_name" : "Toerktumlare",
      "link" : "https://stackoverflow.com/users/1840146/toerktumlare"
    },
    "creation_date" : 1765366321,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}