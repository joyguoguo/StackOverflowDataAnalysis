{
  "question" : {
    "question_id" : 79636740,
    "title" : "How to get the height of the row with Text when font size is known in JavaFX?",
    "body" : "<p>I have <code>Text</code> nodes in <code>HBox</code> and I need to know the exact height of the row before the row is shown (without using pulse listener). This is my test code:</p>\n<pre><code>public class Test1 extends Application {\n\n    @Override\n    public void start(Stage primaryStage) {\n        Font systemFont = Font.font(&quot;System&quot;, 14);\n        VBox root = new VBox(\n                createBox(&quot;red&quot;, systemFont),\n                createBox(&quot;yellow&quot;, systemFont),\n                createBox(&quot;red&quot;, systemFont)\n        );\n        Scene scene = new Scene(root, 300, 200);\n        primaryStage.setScene(scene);\n        primaryStage.show();\n    }\n\n    private HBox createBox(String color, Font font) {\n        var hBox = new HBox();\n        hBox.setStyle(&quot;-fx-padding: 0; -fx-background-color: &quot; + color);\n        var text = new Text(&quot;Hello, World!&quot;);\n        text.setFont(font);\n        hBox.getChildren().add(text);\n        hBox.heightProperty().addListener((ov, oldV, newV) -&gt; System.out.println(&quot;NewHeight:&quot; + newV));\n        return hBox;\n    }\n\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n<p>This is the result stage:</p>\n<p><a href=\"https://i.sstatic.net/LhThXvOd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/LhThXvOd.png\" alt=\"enter image description here\" /></a></p>\n<p>And this is the output:</p>\n<pre><code>NewHeight:17.0\nNewHeight:17.0\nNewHeight:17.0\n</code></pre>\n<p>As you see, the font size is 14, while the row height is 17, so, we have +3 pixels difference for every row.</p>\n<p>Could anyone say how to calculate this difference (before the row is shown) or at least how to remove it - I can add it manually via padding.</p>\n",
    "tags" : [ "java", "javafx", "javafx-css" ],
    "owner" : {
      "account_id" : 34599290,
      "reputation" : 1188,
      "user_id" : 26656564,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/882f996623517814360ba4bb403102e7?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "SilverCube",
      "link" : "https://stackoverflow.com/users/26656564/silvercube"
    },
    "is_answered" : true,
    "view_count" : 112,
    "answer_count" : 1,
    "score" : 4,
    "last_activity_date" : 1748134380,
    "creation_date" : 1748087993,
    "link" : "https://stackoverflow.com/questions/79636740/how-to-get-the-height-of-the-row-with-text-when-font-size-is-known-in-javafx",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79637285,
    "question_id" : 79636740,
    "body" : "<p>The documentation of <a href=\"https://openjfx.io/javadoc/24/javafx.graphics/javafx/scene/text/Font.html\" rel=\"noreferrer\"><code>Font</code></a> says the size is in <a href=\"https://en.wikipedia.org/wiki/Point_(typography)\" rel=\"noreferrer\">points</a>, not pixels:</p>\n<blockquote>\n<p>The size of a <code>Font</code> is described as being specified in points which are a real world measurement of approximately <code>1/72</code> inch.</p>\n</blockquote>\n<p>Which means having a font with size <code>14</code> does not necessarily mean the height of a <code>Text</code> will be the same value. But you can get the height of a <code>Text</code> before it's shown via its <a href=\"https://openjfx.io/javadoc/24/javafx.graphics/javafx/scene/Node.html#layoutBoundsProperty\" rel=\"noreferrer\">layout bounds</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Text text = new Text(&quot;Hello, World!&quot;);\ntext.setFont(Font.font(&quot;System&quot;, 14));\n\ndouble height = text.getLayoutBounds().getHeight();\nSystem.out.println(height);\n</code></pre>\n<p>Note the height will also be affected by the <a href=\"https://openjfx.io/javadoc/24/javafx.graphics/javafx/scene/text/Text.html#boundsTypeProperty\" rel=\"noreferrer\"><code>Text.boundsType</code></a> property. By default, that property will be set to <code>TextBoundsType.LOGICAL</code>.</p>\n<hr />\n<p>If you want the height of something like an <code>HBox</code>, which contains the <code>Text</code>, before its shown then you can try and make use of methods like <a href=\"https://openjfx.io/javadoc/24/javafx.graphics/javafx/scene/Node.html#autosize()\" rel=\"noreferrer\"><code>Node::autoside()</code></a>, <a href=\"https://openjfx.io/javadoc/24/javafx.graphics/javafx/scene/Node.html#prefHeight(double)\" rel=\"noreferrer\"><code>Node::prefHeight(double)</code></a>, <a href=\"https://openjfx.io/javadoc/24/javafx.graphics/javafx/scene/Node.html#applyCss()\" rel=\"noreferrer\"><code>Node::applyCss()</code></a> (requires the <code>Node</code> to be part of a <code>Scene</code>), <a href=\"https://openjfx.io/javadoc/24/javafx.graphics/javafx/scene/Parent.html#layout()\" rel=\"noreferrer\"><code>Parent::layout()</code></a>, and so on. However, those methods aren't <em>guaranteed</em> to give the actual height the node when displayed. The size of a node depends on many things:</p>\n<ul>\n<li><p>The minimum, preferred, and maximum sizes of the node and whether the node is resizable. Note the size values may be rounded for and within regions if <a href=\"https://openjfx.io/javadoc/24/javafx.graphics/javafx/scene/layout/Region.html#snapToPixelProperty()\" rel=\"noreferrer\"><code>Region.snapToPixel</code></a> is true (the default).</p>\n</li>\n<li><p>Property configurations of the <code>Node</code>, its ancestors, and its descendants. These configurations can come from code/FXML or CSS. This includes all sources of CSS (application's user-agent stylesheet, scene's user-agent stylesheet, scene stylesheets, parent stylesheets, inline style).</p>\n</li>\n<li><p>The rest of the scene graph, including how the node's <code>Parent</code> decides to layout said node.</p>\n</li>\n</ul>\n<p>Depending on what you really want, the following may be enough:</p>\n<pre class=\"lang-java prettyprint-override\"><code>HBox box = new HBox(text); // 'text' from previous snippet\nbox.autosize();\nSystem.out.println(box.getHeight());\n</code></pre>\n<p>Or you may need to add your <code>HBox</code> to a <code>Scene</code>, call <code>applyCss()</code> and <code>layout()</code> on the root, then get the height. But to be truly accurate in this case, you'd basically need to recreate the real scene graph. You might as well just add the <code>HBox</code> to the real <code>Scene</code> and get its height after a layout pulse at that point. You can simply observe the <code>Region.height</code> or <code>Node.layoutBounds</code> property if you always need the most up-to-date value. If there are <em>transformations</em> involved (e.g., scaling) and you want the visual height of a node, then observe the <code>Node.boundsInParent</code> property.</p>\n<p>That said, it's not often one needs to calculate the height of an arbitrary node ahead of time. Perhaps there's another way to do what you want. For instance, if you're trying to create your own layout then don't try to perform size calculations from outside your layout. Instead, subclass <code>Region</code> (or similar) and override the <code>layoutChildren()</code> method. Perform the size calculations in that method.</p>\n",
    "score" : 7,
    "is_accepted" : true,
    "owner" : {
      "account_id" : 8532578,
      "reputation" : 49904,
      "user_id" : 6395627,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/af0f9bfe593f36642a032cd7ea611e7d?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Slaw",
      "link" : "https://stackoverflow.com/users/6395627/slaw"
    },
    "creation_date" : 1748134380,
    "last_activity_date" : 1748134380,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140467835,
    "post_id" : 79636740,
    "body" : "Related: <a href=\"https://stackoverflow.com/questions/26152642/get-the-height-of-a-node-in-javafx-generate-a-layout-pass\">Get the height of a node in JavaFX (generate a layout pass)</a>",
    "score" : 1,
    "owner" : {
      "account_id" : 1180113,
      "reputation" : 160487,
      "user_id" : 1155209,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/5192e7cbcf2f72a847d6fb0d1552f049?s=256&d=identicon&r=PG",
      "display_name" : "jewelsea",
      "link" : "https://stackoverflow.com/users/1155209/jewelsea"
    },
    "creation_date" : 1748474352,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140463115,
    "post_id" : 79636740,
    "body" : "<i>&quot; I need to know the exact height of the row &quot;</i>. The vast majority of the time people think they need things like this, they don&#39;t. JavaFX manages layout for you, using layout panes. If you want to position something relative to the text node, use an appropriate layout pane (or combination thereof). Almost any time you are measuring sizes of nodes there is a simpler solution to whatever you are trying to achieve.",
    "score" : 3,
    "owner" : {
      "account_id" : 2518243,
      "reputation" : 210916,
      "user_id" : 2189127,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/e8e6e627b4b90ec816c5c7aa04cbcc26?s=256&d=identicon&r=PG",
      "display_name" : "James_D",
      "link" : "https://stackoverflow.com/users/2189127/james-d"
    },
    "creation_date" : 1748359993,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140455300,
    "post_id" : 79636740,
    "body" : "“As you see, the font size is 14, while the row height is 17, so, we have +3 pixels difference for every row.”  The font size is <i>not</i> 14 pixels.  The font size is 14 <i>points,</i> which means every line of text is &#185;⁴⁄₇₂ inches high.  How many pixels that requires will depend on the dot pitch of the monitor and the graphics mode resolution.  (This complexity is why it’s a very good idea to let layouts and default preferred sizes do this work.)",
    "score" : 4,
    "owner" : {
      "account_id" : 2053598,
      "reputation" : 44991,
      "user_id" : 1831987,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/38b1c37530189ec4471a43a618e33f67?s=256&d=identicon&r=PG",
      "display_name" : "VGR",
      "link" : "https://stackoverflow.com/users/1831987/vgr"
    },
    "creation_date" : 1748091316,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140455299,
    "post_id" : 79636740,
    "body" : "Have you looked at the <a href=\"https://openjfx.io/javadoc/24/javafx.graphics/javafx/scene/text/Text.html#setBoundsType(javafx.scene.text.TextBoundsType)\" rel=\"nofollow noreferrer\">setBoundsType</a> method of Text?",
    "score" : 0,
    "owner" : {
      "account_id" : 2053598,
      "reputation" : 44991,
      "user_id" : 1831987,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/38b1c37530189ec4471a43a618e33f67?s=256&d=identicon&r=PG",
      "display_name" : "VGR",
      "link" : "https://stackoverflow.com/users/1831987/vgr"
    },
    "creation_date" : 1748091249,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}