{
  "question" : {
    "question_id" : 79680863,
    "title" : "Newest Java 24 can&#39;t run Play because of class file version mismatch",
    "body" : "<p>I've created a project that ran perfectly fine 2 weeks ago with Scala and Play Framework. It worked, but now it doesn't, but the error confuses me a lot. I used Java 24 and also tested on Java 17, but the error message is that I'm using too old Java version, so it can't run the program. While Play complains about too high of a version 24, so something is off (55 is for Java 11 I believe). Here is the stack:</p>\n<pre><code>$ sbt start\nWARNING: A terminally deprecated method in sun.misc.Unsafe has been called\nWARNING: sun.misc.Unsafe::arrayBaseOffset has been called by net.openhft.hashing.UnsafeAccess (file:/home/myuser/.sbt/boot/scala-2.12.20/org.scala-sbt/sbt/1.11.2/zero-allocation-hashing-0.16.jar)\nWARNING: Please consider reporting this to the maintainers of class net.openhft.hashing.UnsafeAccess\nWARNING: sun.misc.Unsafe::arrayBaseOffset will be removed in a future release\nWARNING: A restricted method in java.lang.System has been called\nWARNING: java.lang.System::load has been called by com.sun.jna.Native in an unnamed module (file:/home/myuser/.sbt/boot/scala-2.12.20/org.scala-sbt/sbt/1.11.2/jna-5.12.0.jar)\nWARNING: Use --enable-native-access=ALL-UNNAMED to avoid a warning for callers in this module\nWARNING: Restricted methods will be blocked in a future release unless native access is enabled\n\n[info] welcome to sbt 1.11.2 (Oracle Corporation Java 24.0.1)\n[info] loading settings for project traffcik-visualizer-build from plugins.sbt...\n[info] loading project definition from /home/myuser/Projects/FROMGITHUB/traffcik-visualizer/traffcik-visualizer/project\n[info] loading settings for project root from build.sbt...\n[info]   __              __\n[info]   \\ \\     ____   / /____ _ __  __\n[info]    \\ \\   / __ \\ / // __ `// / / /\n[info]    / /  / /_/ // // /_/ // /_/ /\n[info]   /_/  / .___//_/ \\__,_/ \\__, /\n[info]       /_/               /____/\n[info] \n[info] Version 3.0.7 running Java 24.0.1\n[info] \n[info] Play is run entirely by the community. Please consider contributing and/or donating:\n[info] https://www.playframework.com/sponsors\n[info] \n[info] !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n[info]   Java version is 24. Play supports only Java 11, 17 and 21.\n[info] !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n[info] \n[warn] The start command is deprecated, and will be removed in a future version of Play.\n[warn] To run Play in production mode, run 'stage' instead, and then execute the generated start script in target/universal/stage/bin.\n[warn] To test your application using production mode, run 'runProd' instead.\n[info] Wrote /home/myuser/Projects/FROMGITHUB/traffcik-visualizer/traffcik-visualizer/target/scala-3.7.1/traffcikvisualizer_3-1.0-SNAPSHOT.pom\n\n(Starting server. Type Ctrl+D to exit logs, the server will remain in background)\n \nError: A JNI error has occurred, please check your installation and try again\nException in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: play/core/server/ProdServerStart has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0\n    at java.lang.ClassLoader.defineClass1(Native Method)\n    at java.lang.ClassLoader.defineClass(ClassLoader.java:756)\n    at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\n    at java.net.URLClassLoader.defineClass(URLClassLoader.java:468)\n    at java.net.URLClassLoader.access$100(URLClassLoader.java:74)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:369)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:363)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:362)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\n    at sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:601)\n</code></pre>\n<p>EDIT: Just to clarify, the error in Play about Java 24 disappears if I cofigure system for Java 17 with update-alternatives, but not the error about classfile.</p>\n",
    "tags" : [ "java", "scala", "playframework" ],
    "owner" : {
      "account_id" : 42438589,
      "reputation" : 1,
      "user_id" : 30752506,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/830f827565f857ff5daa10a264013e54?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Alex Seeker",
      "link" : "https://stackoverflow.com/users/30752506/alex-seeker"
    },
    "is_answered" : false,
    "view_count" : 56,
    "closed_date" : 1750957802,
    "answer_count" : 0,
    "score" : 0,
    "last_activity_date" : 1750956043,
    "creation_date" : 1750955377,
    "link" : "https://stackoverflow.com/questions/79680863/newest-java-24-cant-run-play-because-of-class-file-version-mismatch",
    "closed_reason" : "Duplicate"
  },
  "answers" : [ ],
  "question_comments" : [ {
    "comment_id" : 140545151,
    "post_id" : 79680863,
    "body" : "&quot;<i>I didn&#39;t touch anything ...</i>&quot; - maybe some automatic update, some app deleted/changed <code>JAVA_HOME</code> (Oracle Database liked to do that), some download, or ... I can hardly guess",
    "score" : 0,
    "owner" : {
      "account_id" : 31180,
      "reputation" : 29752,
      "user_id" : 85421,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/kKvXH.gif?s=256",
      "display_name" : "user85421",
      "link" : "https://stackoverflow.com/users/85421/user85421"
    },
    "creation_date" : 1750957609,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140545135,
    "post_id" : 79680863,
    "body" : "Unclear what your setup is. Do you configure JVM in the <code>build.sbt</code> maybe? Sounds like JVM 24 is starting SBT and the play SBT module (used when you do <code>sbt start</code>) but then Play server starts with JVM 8 whereas it is compiled for 11+.",
    "score" : 0,
    "owner" : {
      "account_id" : 7034556,
      "reputation" : 15907,
      "user_id" : 5389127,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/391c01e15f62cee096b758c4c2815c2c?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Ga&#235;l J",
      "link" : "https://stackoverflow.com/users/5389127/ga%c3%abl-j"
    },
    "creation_date" : 1750957382,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140545097,
    "post_id" : 79680863,
    "body" : "@user85421 It seems JAVA_HOME was not defined properly, I&#39;m not sure why, but as I set it manually, it works now. But why did this happen now? I didn&#39;t touch anything there for 2 weeks.",
    "score" : 0,
    "owner" : {
      "account_id" : 42438589,
      "reputation" : 1,
      "user_id" : 30752506,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/830f827565f857ff5daa10a264013e54?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Alex Seeker",
      "link" : "https://stackoverflow.com/users/30752506/alex-seeker"
    },
    "creation_date" : 1750956669,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140545078,
    "post_id" : 79680863,
    "body" : "( check <code>PATH</code> and <code>JAVA_HOME</code> environment variables; or even start with <code>java -version</code> )",
    "score" : 2,
    "owner" : {
      "account_id" : 31180,
      "reputation" : 29752,
      "user_id" : 85421,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/kKvXH.gif?s=256",
      "display_name" : "user85421",
      "link" : "https://stackoverflow.com/users/85421/user85421"
    },
    "creation_date" : 1750956137,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140545056,
    "post_id" : 79680863,
    "body" : "what a <i>mess</i>: <code>Java version is 24. Play supports only Java 11, 17 and 21</code>, major 55 is <code>Java 11</code>, but the server seems to be starting on <code>Java 8</code> (major 52) -- as I understand all these: play is running on <code>24</code>, some files (server?) was compiled for <code>11</code> (matches the play warning), but the server is being started on <code>8</code> (the first Java found on the system/PATH ?) -- I do not know Play, but assuming it is trying &quot;<i>Starting server</i>&quot; when the problem arises",
    "score" : 6,
    "owner" : {
      "account_id" : 31180,
      "reputation" : 29752,
      "user_id" : 85421,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/kKvXH.gif?s=256",
      "display_name" : "user85421",
      "link" : "https://stackoverflow.com/users/85421/user85421"
    },
    "creation_date" : 1750955784,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140545055,
    "post_id" : 79680863,
    "body" : "What is your question? Play 3.0.x supports Java 11, 17, 21 <a href=\"https://www.playframework.com/documentation/3.0.x/Requirements\" rel=\"nofollow noreferrer\">playframework.com/documentation/3.0.x/Requirements</a> Don&#39;t use Java 24.",
    "score" : 0,
    "owner" : {
      "account_id" : 2503348,
      "reputation" : 53087,
      "user_id" : 5249621,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/lLtZV.jpg?s=256",
      "display_name" : "Dmytro Mitin",
      "link" : "https://stackoverflow.com/users/5249621/dmytro-mitin"
    },
    "creation_date" : 1750955782,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}