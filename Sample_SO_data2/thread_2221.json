{
  "question" : {
    "question_id" : 79640225,
    "title" : "Json merging null value from partial payload is consider during patch operation",
    "body" : "<p>I have a class let say below is the model sample</p>\n<pre><code>@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\n@Data\n@JsonInclude(JsonInclude.Include.NON_NULL)\nclass A {\n\n    private String a;\n    private String b;\n    private String c;\n    @JsonMerge\n    private D d;\n}\n\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@Data\n@JsonInclude(JsonInclude.Include.NON_NULL)\nclass D {\n    private String e;\n    private String f;\n    private String g;\n    private String h;\n}\n</code></pre>\n<p>Two json is given with complete model and partial model describing same class as above</p>\n<pre><code>\n public static final String a = &quot;&quot;&quot;\n        { &quot;a&quot;:&quot;a in a value&quot;,\n        &quot;b&quot;:&quot;b in a value&quot;,\n        &quot;c&quot;:&quot;c in a value&quot;,\n        &quot;d&quot;:{\n        &quot;e&quot;:&quot;e in a value&quot;,\n        &quot;f&quot;:&quot;f in a value&quot;,\n        &quot;g&quot;:&quot;g in a value&quot;,\n        &quot;h&quot;:&quot;h in a value&quot;\n        }\n        }\n        &quot;&quot;&quot;;\n    public static final String b = &quot;&quot;&quot;\n        { &quot;a&quot;:&quot;a in b value&quot;,\n        &quot;b&quot;:&quot;b in b value&quot;,\n        &quot;d&quot;:{\n        &quot;e&quot;:&quot;e in b value&quot;,\n        &quot;f&quot;:&quot;f in b value&quot;\n        }\n        }\n        &quot;&quot;&quot;;\n\n</code></pre>\n<p>When i'm trying to merge these two Json using Jackson version 2.17.3 I'm getting below output</p>\n<p>input object :<code>A(a=a in a value, b=b in a value, c=c in a value, d=D(e=e in a value, f=f in a value, g=g in a value, h=h in a value))</code></p>\n<p>partial Object: <code>A(a=a in b value, b=b in b value, c=null, d=D(e=e in b value, f=f in b value, g=null, h=null))</code></p>\n<p>object after merge: <code>A(a=a in b value, b=b in b value, c=c in a value, d=D(e=e in b value, f=f in b value, g=g in a value, h=h in a value))</code></p>\n<p>but requirement is to ignore value of h in merging</p>\n<p>desire output after merge: <code>A(a=a in b value, b=b in b value, c=c in a value, d=D(e=e in b value, f=f in b value, g=g in a value, h=null))</code></p>\n<p>here in above desire output h from partial payload has been considered.</p>\n<p>Main method</p>\n<pre><code>public static void main(String[] args) throws JsonProcessingException {\n\n        var completeObject = JsonParser.parseJsonString(a,A.class);\n        var partialObject = JsonParser.parseJsonString(b,A.class);\n\n        System.out.println(completeObject);\n        System.out.println(partialObject);\n\n        ObjectMapper objectMapper = new ObjectMapper();\n        ObjectReader objectReader = objectMapper.readerForUpdating(completeObject);\n        A update = objectReader.readValue(b);\n        System.out.println(update);\n\n    }\n\n</code></pre>\n",
    "tags" : [ "java", "json", "spring", "jackson", "jackson-databind" ],
    "owner" : {
      "account_id" : 17600717,
      "reputation" : 33,
      "user_id" : 12770774,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/f300f9eafec7c7b6745b5a8c7358e065?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "&#209;itish kumar",
      "link" : "https://stackoverflow.com/users/12770774/%c3%91itish-kumar"
    },
    "is_answered" : false,
    "view_count" : 47,
    "answer_count" : 0,
    "score" : 0,
    "last_activity_date" : 1748339463,
    "creation_date" : 1748339463,
    "link" : "https://stackoverflow.com/questions/79640225/json-merging-null-value-from-partial-payload-is-consider-during-patch-operation",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ ],
  "question_comments" : [ ],
  "answer_comments" : { }
}