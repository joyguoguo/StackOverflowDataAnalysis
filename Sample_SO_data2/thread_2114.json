{
  "question" : {
    "question_id" : 79650471,
    "title" : "Flutter - Migration problem after downloading latest Android Studio",
    "body" : "<p>I've been using  Android Studio version: <code>2024.3</code> for couple of month but recently I've downloaded <code>Android Studio Meerkat Feature Drop | 2024.3.2</code> and run into load of problems, the java version incompatibility, gradle incompatibility, etc. etc. and that way it broke my project many times, so i rolled back and tried many ways removing many flutter packages, installing different gradle versions and switching between different Java versions, the iOS versions run fine but i run into problem when i run in Android</p>\n<p>I've included all the android related code here</p>\n<p>App Level <code>build.gradle</code>:</p>\n<pre><code>plugins {\n    id &quot;com.android.application&quot;\n    id &quot;kotlin-android&quot;\n    // The Flutter Gradle Plugin must be applied after the Android and Kotlin Gradle plugins.\n    id &quot;dev.flutter.flutter-gradle-plugin&quot;\n    id &quot;com.google.gms.google-services&quot;\n}\n\ndef localProperties = new Properties()\ndef localPropertiesFile = rootProject.file(&quot;local.properties&quot;)\nif (localPropertiesFile.exists()) {\n    localPropertiesFile.withReader(&quot;UTF-8&quot;) { reader -&gt;\n        localProperties.load(reader)\n    }\n}\n\ndef flutterVersionCode = localProperties.getProperty(&quot;flutter.versionCode&quot;)\nif (flutterVersionCode == null) {\n    flutterVersionCode = &quot;1&quot;\n}\n\ndef flutterVersionName = localProperties.getProperty(&quot;flutter.versionName&quot;)\nif (flutterVersionName == null) {\n    flutterVersionName = &quot;1.0&quot;\n}\ndef keystoreProperties = new Properties()\ndef keystorePropertiesFile = rootProject.file('key.properties')\nif (keystorePropertiesFile.exists()) {\n    keystoreProperties.load(new FileInputStream(keystorePropertiesFile))\n}\n\nandroid {\n    namespace = &quot;com.flutterflow.dent_shop_manager&quot;\n    compileSdk = flutter.compileSdkVersion\n    ndkVersion = flutter.ndkVersion\n\n    compileOptions {\n        sourceCompatibility = JavaVersion.VERSION_1_8\n        targetCompatibility = JavaVersion.VERSION_1_8\n    }\n\n    defaultConfig {\n        applicationId &quot;com.flutterflow.hailrepair&quot;\n        minSdkVersion 26\n        targetSdkVersion 34\n        versionCode flutterVersionCode.toInteger()\n        versionName flutterVersionName\n    }\n\n    signingConfigs {\n        release {\n            keyAlias keystoreProperties['keyAlias']\n            keyPassword keystoreProperties['keyPassword']\n            storeFile keystoreProperties['storeFile'] ? file(keystoreProperties['storeFile']) : null\n            storePassword keystoreProperties['storePassword']\n        }\n    }\n\n    buildTypes {\n\n        release {\n            signingConfig signingConfigs.debug\n\n            signingConfig signingConfigs.release\n        }\n    }\n}\n\nflutter {\n    source = &quot;../..&quot;\n}\n\n</code></pre>\n<p><code>gradle-wrapper.properties</code>:</p>\n<pre><code>distributionBase=GRADLE_USER_HOME\ndistributionPath=wrapper/dists\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-7.6.1-bin.zip\nnetworkTimeout=10000\nzipStoreBase=GRADLE_USER_HOME\nzipStorePath=wrapper/dists\n</code></pre>\n<p><code>build.gradle</code>:</p>\n<pre><code>allprojects {\n    repositories {\n        google()\n        mavenCentral()\n    }\n}\n\nrootProject.buildDir = &quot;../build&quot;\nsubprojects {\n    project.buildDir = &quot;${rootProject.buildDir}/${project.name}&quot;\n}\nsubprojects {\n    project.evaluationDependsOn(&quot;:app&quot;)\n}\n\ntasks.register(&quot;clean&quot;, Delete) {\n    delete rootProject.buildDir\n}\n\n</code></pre>\n<p><code>settings.gradle</code>:</p>\n<pre><code>pluginManagement {\n    def flutterSdkPath = {\n        def properties = new Properties()\n        file(&quot;local.properties&quot;).withInputStream { properties.load(it) }\n        def flutterSdkPath = properties.getProperty(&quot;flutter.sdk&quot;)\n        assert flutterSdkPath != null, &quot;flutter.sdk not set in local.properties&quot;\n        return flutterSdkPath\n    }()\n\n    includeBuild(&quot;$flutterSdkPath/packages/flutter_tools/gradle&quot;)\n\n    repositories {\n        google()\n        mavenCentral()\n        gradlePluginPortal()\n    }\n}\n\nplugins {\n    id &quot;dev.flutter.flutter-plugin-loader&quot; version &quot;1.0.0&quot;\n    id &quot;com.android.application&quot; version '7.4.2' apply false\n    id &quot;org.jetbrains.kotlin.android&quot; version &quot;1.9.0&quot; apply false\n    id &quot;com.google.gms.google-services&quot; version &quot;4.4.2&quot; apply false\n}\n\ninclude &quot;:app&quot;\n</code></pre>\n<p>How can I upgrade the gradle version? I understand many things changed with gradle like the build.gradle files are different on latest version of gradle, but help me migrate to it</p>\n",
    "tags" : [ "java", "android", "flutter", "kotlin", "gradle" ],
    "owner" : {
      "account_id" : 19201172,
      "reputation" : 619,
      "user_id" : 14029095,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/EDBvcw8Z.jpg?s=256",
      "display_name" : "Tanjim ahmed",
      "link" : "https://stackoverflow.com/users/14029095/tanjim-ahmed"
    },
    "is_answered" : true,
    "view_count" : 127,
    "answer_count" : 2,
    "score" : 0,
    "last_activity_date" : 1748929604,
    "creation_date" : 1748908774,
    "link" : "https://stackoverflow.com/questions/79650471/flutter-migration-problem-after-downloading-latest-android-studio",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79650484,
    "question_id" : 79650471,
    "body" : "<p>downloading Java 17, and running this line finally solved it</p>\n<pre><code>flutter config --jdk-dir /Users/&lt;user_name&gt;/Library/Java/JavaVirtualMachines/ms-17.0.15/Contents/Home  \n</code></pre>\n<p>But I'd still want to know if there's any <code>Easy</code> way i can upgrade my build.gradle without breaking my project cause the more days get past the harder it will become to migrate.</p>\n",
    "score" : 0,
    "is_accepted" : true,
    "owner" : {
      "account_id" : 19201172,
      "reputation" : 619,
      "user_id" : 14029095,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/EDBvcw8Z.jpg?s=256",
      "display_name" : "Tanjim ahmed",
      "link" : "https://stackoverflow.com/users/14029095/tanjim-ahmed"
    },
    "creation_date" : 1748909720,
    "last_activity_date" : 1748909720,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "answer_id" : 79650676,
    "question_id" : 79650471,
    "body" : "<p>They are making this very hectic these days, but yeah you can try either waiting for another flutter update, because sometimes it take time for all the plugins to get updated after an android studio update.</p>\n",
    "score" : 0,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 29791861,
      "reputation" : 1,
      "user_id" : 22831838,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/ejz42.jpg?s=256",
      "display_name" : "Harsh Sharma",
      "link" : "https://stackoverflow.com/users/22831838/harsh-sharma"
    },
    "creation_date" : 1748929604,
    "last_activity_date" : 1748929604,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140482094,
    "post_id" : 79650471,
    "body" : "did you try with update distribution url and ` id &quot;com.android.application&quot; version &#39;7.4.2&#39; apply false` ?",
    "score" : 0,
    "owner" : {
      "account_id" : 32147388,
      "reputation" : 29,
      "user_id" : 24946231,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/9b0aa9e42b5baa933b47e0dd3b27a39c?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "blackVR",
      "link" : "https://stackoverflow.com/users/24946231/blackvr"
    },
    "creation_date" : 1748924851,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140481822,
    "post_id" : 79650471,
    "body" : "You don&#39;t show what error message(s) you are seeing....",
    "score" : 0,
    "owner" : {
      "account_id" : 2399674,
      "reputation" : 2776,
      "user_id" : 2097675,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/ea8b0e79d096f1b359aeb6e5353b5ef5?s=256&d=identicon&r=PG",
      "display_name" : "JJF",
      "link" : "https://stackoverflow.com/users/2097675/jjf"
    },
    "creation_date" : 1748909465,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : {
    "79650676" : [ {
      "comment_id" : 140482646,
      "post_id" : 79650676,
      "body" : "Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/79650676/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>.",
      "score" : 0,
      "owner" : {
        "account_id" : -1,
        "reputation" : 1,
        "user_id" : -1,
        "user_type" : "moderator",
        "profile_image" : "https://www.gravatar.com/avatar/a007be5a61f6aa8f3e85ae2fc18dd66e?s=256&d=identicon&r=PG",
        "display_name" : "Community",
        "link" : "https://stackoverflow.com/users/-1/community"
      },
      "creation_date" : 1748941238,
      "content_license" : "CC BY-SA 4.0"
    } ]
  }
}