{
  "question" : {
    "question_id" : 79822080,
    "title" : "Asserting on keyboard layout",
    "body" : "<p>There is a feature of some of our GUI fields: if it gains focus, the user's keyboard layout is switched to a specific <code>Locale</code>. For example, to <code>Locale.US</code>.</p>\n<p>While you may argue it's nonsense (I would chime in), it's still a feature that needs to be tested.</p>\n<p>How do I programmatically get the current keyboard layout, preferably in a cross-platform way (our users use Windows as well as Linux)?</p>\n<p>Or do I have to just have some additional &quot;control&quot; field, focus it, programmatically click a key and make layout assumptions based on which character that control field actually displays? The solution has a kludgy feel to it.</p>\n<p>Java 8, AssertJ Swing.</p>\n",
    "tags" : [ "java", "assertj-swing" ],
    "owner" : {
      "account_id" : 10187542,
      "reputation" : 2667,
      "user_id" : 20692967,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/NZSXm.jpg?s=256",
      "display_name" : "Sergey Zolotarev",
      "link" : "https://stackoverflow.com/users/20692967/sergey-zolotarev"
    },
    "is_answered" : false,
    "view_count" : 58,
    "answer_count" : 0,
    "score" : -4,
    "last_activity_date" : 1763371025,
    "creation_date" : 1763371025,
    "link" : "https://stackoverflow.com/questions/79822080/asserting-on-keyboard-layout",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ ],
  "question_comments" : [ {
    "comment_id" : 140858265,
    "post_id" : 79822080,
    "body" : "&quot;Keyboard layout&quot; is rather annoyingly OS specific. For good reason; some OSes might have one global value, others might have one-per-app or even one-per-window. Still others might not have a layout setting bound to OS or app level at all, instead directly to the keyboard itself. Especially if it is a global setting, properly written OSes won&#39;t let a mere app just change it. Testing sounds like a good idea. Unfortunately, java doesn&#39;t generally provide ways to interact with the OS if the feature has no meaningful lowest common denominator amongst major OSes.",
    "score" : 1,
    "owner" : {
      "account_id" : 401843,
      "reputation" : 107136,
      "user_id" : 768644,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/b13bedc5215730fbce5edff6c130988a?s=256&d=identicon&r=PG",
      "display_name" : "rzwitserloot",
      "link" : "https://stackoverflow.com/users/768644/rzwitserloot"
    },
    "creation_date" : 1763386154,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140857877,
    "post_id" : 79822080,
    "body" : "@Stultuske so that users can enter diagnosis codes (which are always in Latin letters) without &quot;Oh, snap, wrong layout&quot; moments. The initial layout is restored once such fields lose focus",
    "score" : 0,
    "owner" : {
      "account_id" : 10187542,
      "reputation" : 2667,
      "user_id" : 20692967,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/NZSXm.jpg?s=256",
      "display_name" : "Sergey Zolotarev",
      "link" : "https://stackoverflow.com/users/20692967/sergey-zolotarev"
    },
    "creation_date" : 1763373884,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140857855,
    "post_id" : 79822080,
    "body" : "... ok, let me rephrase, since it is (as you&#39;ve already stated yourself) nonsense, why would you have a feature like this at all?",
    "score" : 0,
    "owner" : {
      "account_id" : 3116234,
      "reputation" : 9469,
      "user_id" : 2636929,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/85fa83a02c04af43fcd224821ca9b750?s=256&d=identicon&r=PG",
      "display_name" : "Stultuske",
      "link" : "https://stackoverflow.com/users/2636929/stultuske"
    },
    "creation_date" : 1763373077,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140857826,
    "post_id" : 79822080,
    "body" : "@Stultuske because we prefer features that work to those that don&#39;t. Tests is the only wat to ensure it",
    "score" : 0,
    "owner" : {
      "account_id" : 10187542,
      "reputation" : 2667,
      "user_id" : 20692967,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/NZSXm.jpg?s=256",
      "display_name" : "Sergey Zolotarev",
      "link" : "https://stackoverflow.com/users/20692967/sergey-zolotarev"
    },
    "creation_date" : 1763372184,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140857802,
    "post_id" : 79822080,
    "body" : "&quot;it&#39;s still a feature that needs to be tested&quot; ... why?",
    "score" : 1,
    "owner" : {
      "account_id" : 3116234,
      "reputation" : 9469,
      "user_id" : 2636929,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/85fa83a02c04af43fcd224821ca9b750?s=256&d=identicon&r=PG",
      "display_name" : "Stultuske",
      "link" : "https://stackoverflow.com/users/2636929/stultuske"
    },
    "creation_date" : 1763371639,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}