{
  "question" : {
    "question_id" : 79567684,
    "title" : "Getting unsupported media type error when sending a file to an endpoint in spring",
    "body" : "<p>I am trying to test my file converter using postman and a input button in angular but am receiving a content type error. i have this endpoint that is supposed to capture the file and user. Whenever i send over the docx file i keep getting an error regarding the MIME stating\n<strong>Content-Type 'application/vnd.openxmlformats-officedocument.wordprocessingml.document;charset=UTF-8' is not supported</strong></p>\n<p>I added a consumes attribute to my endpoint to consume the specified content type but am still receiving the same error</p>\n<pre><code> @PostMapping(value = &quot;convert-to-pdf&quot; , consumes = &quot;application/vnd.openxmlformats-officedocument.wordprocessingml.document&quot;,produces = &quot;application/pdf&quot; )\n</code></pre>\n<p>I keep trying to add breaking points to my logic but i dont think its getting to the method body because of the file</p>\n",
    "tags" : [ "java", "angularjs", "spring", "file", "http" ],
    "owner" : {
      "account_id" : 13902811,
      "reputation" : 1,
      "user_id" : 10038012,
      "user_type" : "registered",
      "profile_image" : "https://lh6.googleusercontent.com/-GVJi0TDpLJk/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq1PP38ZFP4azNID_J2B-6u3V5Qxtg/mo/s256-rj/photo.jpg",
      "display_name" : "merman",
      "link" : "https://stackoverflow.com/users/10038012/merman"
    },
    "is_answered" : false,
    "view_count" : 75,
    "answer_count" : 1,
    "score" : 0,
    "last_activity_date" : 1744343644,
    "creation_date" : 1744325254,
    "link" : "https://stackoverflow.com/questions/79567684/getting-unsupported-media-type-error-when-sending-a-file-to-an-endpoint-in-sprin",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79567969,
    "question_id" : 79567684,
    "body" : "<p>The issue occurs because your endpoint is expecting the request to have a Content-Type of exactly application/vnd.openxmlformats-officedocument.wordprocessingml.document, but file uploads from Postman or Angular use multipart/form-data, not that specific content type.</p>\n<p>Change your endpoint to consume multipart/form-data, Update your controller method like below :</p>\n<pre><code>@PostMapping(\n    value = &quot;/convert-to-pdf&quot;,\n    consumes = MediaType.MULTIPART_FORM_DATA_VALUE,\n    produces = MediaType.APPLICATION_PDF_VALUE\n)\npublic ResponseEntity&lt;byte[]&gt; convertToPdf(\n        @RequestPart(&quot;file&quot;) MultipartFile file,\n        @RequestPart(&quot;user&quot;) String user\n) {\n    // process the file\n}\n</code></pre>\n",
    "score" : 0,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 7645025,
      "reputation" : 440,
      "user_id" : 5795975,
      "user_type" : "registered",
      "profile_image" : "https://lh6.googleusercontent.com/-6KwPUS4RnyA/AAAAAAAAAAI/AAAAAAAAC8w/auZqreI45x0/s256-rj/photo.jpg",
      "display_name" : "Vijay",
      "link" : "https://stackoverflow.com/users/5795975/vijay"
    },
    "creation_date" : 1744343644,
    "last_activity_date" : 1744343644,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ ],
  "answer_comments" : { }
}