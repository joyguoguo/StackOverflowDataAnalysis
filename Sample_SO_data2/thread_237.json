{
  "question" : {
    "question_id" : 79819241,
    "title" : "Spring Boot plugin builds Docker image using Buildpacks",
    "body" : "<p>I am trying to build an app using Spring plugin without Dockerfile using docker compose running in Ubuntu. Here is my docker-compose.yml:</p>\n<pre><code>services:\n  app:\n    image: 'docker.io/my_appName/api:latest'\n    container_name: app\n    depends_on:\n      db:\n        condition: service_started\n    ports:\n     ...\n    environment:\n      ...\n  db:\n    image: 'postgres:14.5-alpine'\n    ...\n  adminer:\n    ...\n</code></pre>\n<p>then this script is supposed to create the image and run the services in docker</p>\n<pre><code>#!/bin/bash\ndocker compose -f docker/docker-compose.yml down --remove-orphans\ndocker rmi my_appName/api\n./mvnw spring-boot:build-image &amp;&amp; ./gradlew bootBuildImage &amp;&amp; docker compose -f docker/docker-compose.yml up\n</code></pre>\n<p>After running it, I get this error:</p>\n<pre><code>    ...\n    [INFO]     [creator]     *** Images (6615d4ffce78):\n    [INFO]     [creator]           docker.io/my_appName/api:latest\n    [INFO]     [creator]     Reusing cache layer 'paketo-buildpacks/syft:syft'\n    [INFO]     [creator]     Reusing cache layer 'buildpacksio/lifecycle:cache.sbom'\n    [INFO] \n    [INFO] Successfully built image 'docker.io/my_appName/api:latest'\n    \n...\n    app Error pull access denied for my_appName/api, repository does not exist or may require 'docker login'                        0.8s \n        Error response from daemon: pull access denied for my_appName/api, repository does not exist or may require 'docker login\n</code></pre>\n<p>The image is not created even if the log says it is. Then the actual error when the final piece of the script (docker compose ... up) runs.</p>\n<p>For sure I am doing something wrong</p>\n<p>Any idea?</p>\n",
    "tags" : [ "java", "spring", "docker", "maven" ],
    "owner" : {
      "account_id" : 7019272,
      "reputation" : 89,
      "user_id" : 5379390,
      "user_type" : "registered",
      "accept_rate" : 14,
      "profile_image" : "https://www.gravatar.com/avatar/6581f4890f15c2259e4a2efffef175f2?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "vinx",
      "link" : "https://stackoverflow.com/users/5379390/vinx"
    },
    "is_answered" : false,
    "view_count" : 51,
    "answer_count" : 0,
    "score" : 0,
    "last_activity_date" : 1763054963,
    "creation_date" : 1763054963,
    "link" : "https://stackoverflow.com/questions/79819241/spring-boot-plugin-builds-docker-image-using-buildpacks",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ ],
  "question_comments" : [ {
    "comment_id" : 140858709,
    "post_id" : 79819241,
    "body" : "No matter how you name it, the prefix docker.io and suffix latest are automatically added.  So if you name my_appName, this is converted in  docker.io/library/my_appName:latest  If you name my_appName/api this is converted in  docker.io/my_appName/api:latest",
    "score" : 0,
    "owner" : {
      "account_id" : 7019272,
      "reputation" : 89,
      "user_id" : 5379390,
      "user_type" : "registered",
      "accept_rate" : 14,
      "profile_image" : "https://www.gravatar.com/avatar/6581f4890f15c2259e4a2efffef175f2?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "vinx",
      "link" : "https://stackoverflow.com/users/5379390/vinx"
    },
    "creation_date" : 1763397865,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140855641,
    "post_id" : 79819241,
    "body" : "Tried? image: &#39;my_appName/api:latest&#39;",
    "score" : 0,
    "owner" : {
      "account_id" : 17553626,
      "reputation" : 508,
      "user_id" : 12733532,
      "user_type" : "registered",
      "profile_image" : "https://lh3.googleusercontent.com/-EAww28wDCxk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcgKS9dXdmUh-hOQPlZYZygBUfLwQ/s256-rj/photo.jpg",
      "display_name" : "Max",
      "link" : "https://stackoverflow.com/users/12733532/max"
    },
    "creation_date" : 1763213852,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140853313,
    "post_id" : 79819241,
    "body" : "Copy paste error sorry! Both give the same error  ./mvnw spring-boot:build-image OR ./gradlew build &amp;&amp; ./gradlew bootBuildImage  still don&#39; t see the image",
    "score" : 0,
    "owner" : {
      "account_id" : 7019272,
      "reputation" : 89,
      "user_id" : 5379390,
      "user_type" : "registered",
      "accept_rate" : 14,
      "profile_image" : "https://www.gravatar.com/avatar/6581f4890f15c2259e4a2efffef175f2?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "vinx",
      "link" : "https://stackoverflow.com/users/5379390/vinx"
    },
    "creation_date" : 1763074291,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140853008,
    "post_id" : 79819241,
    "body" : "In the last line of the script, are you using <i>both</i> Gradle and Maven as build systems?  Ignoring the Compose setup, if you just run the single relevant <code>.&#47;gradlew</code> or <code>.&#47;mvnw</code> command, do you see the image in <code>docker images</code>?",
    "score" : 0,
    "owner" : {
      "account_id" : 13863020,
      "reputation" : 164852,
      "user_id" : 10008173,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/bc86d913c15f3b126673faa654e9668c?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "David Maze",
      "link" : "https://stackoverflow.com/users/10008173/david-maze"
    },
    "creation_date" : 1763059310,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}