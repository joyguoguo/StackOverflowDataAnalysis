{
  "question" : {
    "question_id" : 79628653,
    "title" : "How do I handle a process that does the same thing for 2 different objects with the same fields",
    "body" : "<p>First of all, I don't have control over the objects as they come from a 3rd party dependency.</p>\n<p>They are just simple java objects for example</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Object_A {\n    private String foo;\n    private String bar;\n}\n\npublic class Object_B {\n    private String foo;\n    private String bar;\n}\n</code></pre>\n<p>Now I have a code that would do the same thing for both this objects</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void processA(Object_A object) {\n    //object.getFoo() do something\n    //object.getBar() do something\n}\n\nprivate void processB(Object_B object) {\n    //object.getFoo() do something\n    //object.getBar() do something\n}\n</code></pre>\n<p>How do I handle this to get rid of duplicate code?</p>\n",
    "tags" : [ "java" ],
    "owner" : {
      "account_id" : 7646924,
      "reputation" : 1420,
      "user_id" : 5797253,
      "user_type" : "registered",
      "accept_rate" : 46,
      "profile_image" : "https://www.gravatar.com/avatar/3accd3ee89e21599f1ecad73a853ff9c?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "crimson589",
      "link" : "https://stackoverflow.com/users/5797253/crimson589"
    },
    "is_answered" : true,
    "view_count" : 114,
    "answer_count" : 1,
    "score" : 0,
    "last_activity_date" : 1747658309,
    "creation_date" : 1747654506,
    "link" : "https://stackoverflow.com/questions/79628653/how-do-i-handle-a-process-that-does-the-same-thing-for-2-different-objects-with",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79628683,
    "question_id" : 79628653,
    "body" : "<p>You handle common functionality the same way you’d do if you had control over the classes, use an abstract class or an interface. Since you can’t change the classes to implement the interface directly, you have to resort to delegation.</p>\n<p>For example</p>\n<pre class=\"lang-java prettyprint-override\"><code>interface Common {\n    String getFoo();\n    void setFoo(String foo);\n    String getBar();\n    void setBar(String bar);\n}\n\nrecord ObjectAAdapter(Object_A a) implements Common {\n    public String getFoo() {\n        return a.getFoo();\n    }\n    public void setFoo(String foo) {\n        a.setFoo(foo);\n    }\n    public String getBar() {\n        return a.getBar();\n    }\n    public void setBar(String bar) {\n        a.setBar(bar);\n    }\n}\n\nrecord ObjectBAdapter(Object_B b) implements Common {\n    public String getFoo() {\n        return b.getFoo();\n    }\n    public void setFoo(String foo) {\n        b.setFoo(foo);\n    }\n    public String getBar() {\n        return b.getBar();\n    }\n    public void setBar(String bar) {\n        b.setBar(bar);\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>private void processA(Object_A object) {\n    process(new ObjectAAdapter(object));\n}\n\nprivate void processB(Object_B object) {\n    process(new ObjectBAdapter(object));\n}\n\nprivate void process(Common object) {\n    //object.getFoo() do something\n    //object.getBar() do something\n}\n</code></pre>\n<p>However, in trivial cases like when you really only need to call <code>getFoo()</code> and <code>getBar()</code>, you can use a simpler alternative:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void processA(Object_A object) {\n    process(object.getFoo(), object.getBar());\n}\n\nprivate void processB(Object_B object) {\n    process(object.getFoo(), object.getBar());\n}\n\nprivate void process(String foo, String bar) {\n    // foo do something\n    // bar do something\n}\n</code></pre>\n",
    "score" : 7,
    "is_accepted" : true,
    "owner" : {
      "account_id" : 3211603,
      "reputation" : 301001,
      "user_id" : 2711488,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/t2hoD.jpg?s=256",
      "display_name" : "Holger",
      "link" : "https://stackoverflow.com/users/2711488/holger"
    },
    "creation_date" : 1747655578,
    "last_activity_date" : 1747655578,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140439243,
    "post_id" : 79628653,
    "body" : "Facade design pattern. Links: (1) <a href=\"https://refactoring.guru/design-patterns/facade\" rel=\"nofollow noreferrer\">Refactoring Guru</a> (2) <a href=\"https://en.wikipedia.org/wiki/Facade_pattern\" rel=\"nofollow noreferrer\">Wikipedia</a>",
    "score" : 0,
    "owner" : {
      "account_id" : 7612423,
      "reputation" : 87409,
      "user_id" : 5772882,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/8283c64511fa80afed5259d10850168f?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Anonymous",
      "link" : "https://stackoverflow.com/users/5772882/anonymous"
    },
    "creation_date" : 1747659223,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : {
    "79628683" : [ {
      "comment_id" : 140442641,
      "post_id" : 79628683,
      "body" : "@Holger &quot;So why should these 20 unrelated methods change at the same time?&quot; because this very much sounds like some generated classes where getFoo means the same thing, but the connection is not made between the classes via a base class or interface. &quot;if those twenty classes get changed, nobody should be surprised that there are twenty callers to adapt&quot;. It&#39;s not surprising, but frustrating. When a class is added, you need a new adapter. When a class is removed, you need to remove the adapter. When a declaration changes, you need to adjust it at 20 places.",
      "score" : 0,
      "owner" : {
        "account_id" : 194308,
        "reputation" : 80530,
        "user_id" : 436560,
        "user_type" : "registered",
        "accept_rate" : 87,
        "profile_image" : "https://i.sstatic.net/2GESV.jpg?s=256",
        "display_name" : "Lajos Arpad",
        "link" : "https://stackoverflow.com/users/436560/lajos-arpad"
      },
      "creation_date" : 1747745967,
      "content_license" : "CC BY-SA 4.0"
    }, {
      "comment_id" : 140442308,
      "post_id" : 79628683,
      "body" : "@LajosArpad “…and getFoo changes to something else” <i>which</i> <code>getFoo</code>? In your scenario, you have 20 unrelated classes with 20 unrelated getFoo methods. So why should these 20 unrelated methods change at the same time? On the other hand, if those twenty classes get changed, nobody should be surprised that there are twenty callers to adapt. In fact, that’s the <i>minimum</i> of follow-up changes for that. The actual <code>process</code> needs no adaptation. And well, if you want “the approach being robust” you shouldn’t use Reflection, as that approach doesn’t even tell you at compile-time that something broke.",
      "score" : 3,
      "owner" : {
        "account_id" : 3211603,
        "reputation" : 301001,
        "user_id" : 2711488,
        "user_type" : "registered",
        "profile_image" : "https://i.sstatic.net/t2hoD.jpg?s=256",
        "display_name" : "Holger",
        "link" : "https://stackoverflow.com/users/2711488/holger"
      },
      "creation_date" : 1747739193,
      "content_license" : "CC BY-SA 4.0"
    }, {
      "comment_id" : 140440008,
      "post_id" : 79628683,
      "body" : "@Anonymous I would not rely on the classes not being changed, but on the approach being robust.",
      "score" : 0,
      "owner" : {
        "account_id" : 194308,
        "reputation" : 80530,
        "user_id" : 436560,
        "user_type" : "registered",
        "accept_rate" : 87,
        "profile_image" : "https://i.sstatic.net/2GESV.jpg?s=256",
        "display_name" : "Lajos Arpad",
        "link" : "https://stackoverflow.com/users/436560/lajos-arpad"
      },
      "creation_date" : 1747673053,
      "content_license" : "CC BY-SA 4.0"
    }, {
      "comment_id" : 140439729,
      "post_id" : 79628683,
      "body" : "@LajosArpad True (though I have a hard time seeing someone wanting to make such a breaking change in 20 classes). It’s the same as in all inheritance. As Holger says, <i>the same way you’d do if you had control over the classes</i>.",
      "score" : 0,
      "owner" : {
        "account_id" : 7612423,
        "reputation" : 87409,
        "user_id" : 5772882,
        "user_type" : "registered",
        "profile_image" : "https://www.gravatar.com/avatar/8283c64511fa80afed5259d10850168f?s=256&d=identicon&r=PG&f=y&so-version=2",
        "display_name" : "Anonymous",
        "link" : "https://stackoverflow.com/users/5772882/anonymous"
      },
      "creation_date" : 1747668105,
      "content_license" : "CC BY-SA 4.0"
    }, {
      "comment_id" : 140439314,
      "post_id" : 79628683,
      "body" : "@Anonymous You implement a new class for each of the classes and will have to adjust each such class whenever something changes. So if you implmenent 20 adapters and getFoo changes to something else, then you need to adjust it at 20 places.",
      "score" : 0,
      "owner" : {
        "account_id" : 194308,
        "reputation" : 80530,
        "user_id" : 436560,
        "user_type" : "registered",
        "accept_rate" : 87,
        "profile_image" : "https://i.sstatic.net/2GESV.jpg?s=256",
        "display_name" : "Lajos Arpad",
        "link" : "https://stackoverflow.com/users/436560/lajos-arpad"
      },
      "creation_date" : 1747660596,
      "content_license" : "CC BY-SA 4.0"
    }, {
      "comment_id" : 140439258,
      "post_id" : 79628683,
      "body" : "@LajosArpad That doesn’t count as code duplication in my book. <code>a.getFoo()</code> and <code>b.getFoo()</code> call two different and unrelated methods. In a real-world situation they would also most often have different names.",
      "score" : 4,
      "owner" : {
        "account_id" : 7612423,
        "reputation" : 87409,
        "user_id" : 5772882,
        "user_type" : "registered",
        "profile_image" : "https://www.gravatar.com/avatar/8283c64511fa80afed5259d10850168f?s=256&d=identicon&r=PG&f=y&so-version=2",
        "display_name" : "Anonymous",
        "link" : "https://stackoverflow.com/users/5772882/anonymous"
      },
      "creation_date" : 1747659531,
      "content_license" : "CC BY-SA 4.0"
    }, {
      "comment_id" : 140439206,
      "post_id" : 79628683,
      "body" : "But then you duplicate the getters and setters, whereas the goal was not to duplicate I suppose.",
      "score" : 0,
      "owner" : {
        "account_id" : 194308,
        "reputation" : 80530,
        "user_id" : 436560,
        "user_type" : "registered",
        "accept_rate" : 87,
        "profile_image" : "https://i.sstatic.net/2GESV.jpg?s=256",
        "display_name" : "Lajos Arpad",
        "link" : "https://stackoverflow.com/users/436560/lajos-arpad"
      },
      "creation_date" : 1747658361,
      "content_license" : "CC BY-SA 4.0"
    } ]
  }
}