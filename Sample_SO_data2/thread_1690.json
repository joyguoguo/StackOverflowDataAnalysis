{
  "question" : {
    "question_id" : 79687542,
    "title" : "Getting NoClassDefFoundError on a defined class",
    "body" : "<p>I am getting a weird failure when accessing a SOAP- based web service:</p>\n<pre><code>ul 01, 2025 7:21:20 PM org.apache.catalina.core.StandardWrapperValve invoke \n\nSEVERE: Allocate exception for servlet [rbac-ws]\n java.lang.NoClassDefFoundError: Could not initialize class org.springframework.core.SerializableTypeWrapper\n           at org.springframework.core.ResolvableType.getInterfaces(ResolvableType.java:403)\n           at org.springframework.core.ResolvableType.as(ResolvableType.java:365)\n           at org.springframework.core.convert.support.GenericConversionService.getRequiredTypeInfo(GenericConversionService.java:266)\n           at org.springframework.core.convert.support.GenericConversionService.addConverterFactory(GenericConversionService.java:103)\n           at org.springframework.core.convert.support.DefaultConversionService.addScalarConverters(DefaultConversionService.java:79)\n           at org.springframework.core.convert.support.DefaultConversionService.addDefaultConverters(DefaultConversionService.java:63)\n           at org.springframework.core.convert.support.DefaultConversionService.&lt;init&gt;(DefaultConversionService.java:50)\n           at org.springframework.core.env.AbstractPropertyResolver.&lt;init&gt;(AbstractPropertyResolver.java:41)\n           at org.springframework.core.env.PropertySourcesPropertyResolver.&lt;init&gt;(PropertySourcesProp\n</code></pre>\n<p>The reason why this failure is &quot;weird&quot; is because the class is included in the service's classpath!</p>\n<p>I am running the service in Eclipse. In the WebContent\\WEB-INF\\lib folder,I have included a jar file called spring-core-4.0.5.RELEASE.jar. This jar file has the class org.springframework.core.SerializableTypeWrapper.</p>\n<p>And yet when I attempt to access the service, I am getting the NoClassDefFoundError exception.</p>\n<p>Has anyone else seen this problem with a random class &quot;Not found&quot; even if it is defined? If so, how did you fix it (if you did)?</p>\n",
    "tags" : [ "java", "spring", "eclipse" ],
    "owner" : {
      "account_id" : 1039893,
      "reputation" : 2348,
      "user_id" : 1046184,
      "user_type" : "registered",
      "accept_rate" : 56,
      "profile_image" : "https://i.sstatic.net/bXSMO.jpg?s=256",
      "display_name" : "Factor Three",
      "link" : "https://stackoverflow.com/users/1046184/factor-three"
    },
    "is_answered" : false,
    "view_count" : 79,
    "answer_count" : 0,
    "score" : 0,
    "last_activity_date" : 1751483239,
    "creation_date" : 1751464236,
    "link" : "https://stackoverflow.com/questions/79687542/getting-noclassdeffounderror-on-a-defined-class",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ ],
  "question_comments" : [ {
    "comment_id" : 140561056,
    "post_id" : 79687542,
    "body" : "This isn&#39;t a full stacktrace, just the top snippet. But errors like these generally come from the fact of using incompatible versions of Spring WS and Spring or even worse mixing some random jars from different versions of Spring and/or Spring WS. You state you have <code>spring-core</code> 4.0.5 in your lib directory. That by itself isn&#39;t interesting. The whole content of that directory is interesting as that would give the information needed. That being said you shouldn&#39;t be looking for jars yourself, you should use something like Maven or Gradle to do that for you. Saves you a lot of trouble.",
    "score" : 1,
    "owner" : {
      "account_id" : 3192259,
      "reputation" : 126826,
      "user_id" : 2696260,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/qHEzx.png?s=256",
      "display_name" : "M. Deinum",
      "link" : "https://stackoverflow.com/users/2696260/m-deinum"
    },
    "creation_date" : 1751528334,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140560349,
    "post_id" : 79687542,
    "body" : "Back to the original problem, aside from being a decade old and having numerous vulnerabilities, <a href=\"https://mvnrepository.com/artifact/org.springframework/spring-core/4.0.5.RELEASE\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/org.springframework/spring-core/&hellip;</a> mentions the jar has 4 dependencies. <i>Are they also in WEB-INF/lib?</i>",
    "score" : 2,
    "owner" : {
      "account_id" : 13796,
      "reputation" : 20126,
      "user_id" : 27905,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/b01aba24c3bf2bc78c64fc0ea7f47d18?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "nitind",
      "link" : "https://stackoverflow.com/users/27905/nitind"
    },
    "creation_date" : 1751500541,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140560172,
    "post_id" : 79687542,
    "body" : "@rzwitserloot, no one claimed that <code>NoClassDefFoundError</code> was not misleading here.  I did assert that one would expect an <code>ExceptionInInitializerError</code> instead when a static initializer throws an exception.  The specs back that up, and it can be verified by testing that the JVM does not automatically wrap EIIErrors in <code>NoClassDefFoundError</code>s.  If that&#39;s not what you meant when you said &quot;the <i>cause</i> of that NCDFErr would be an ExceptionInInitializer error&quot; then I&#39;m willing to split responsibility for that misunderstanding with you.",
    "score" : 0,
    "owner" : {
      "account_id" : 2792262,
      "reputation" : 190832,
      "user_id" : 2402272,
      "user_type" : "registered",
      "accept_rate" : 85,
      "profile_image" : "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=256&d=identicon&r=PG",
      "display_name" : "John Bollinger",
      "link" : "https://stackoverflow.com/users/2402272/john-bollinger"
    },
    "creation_date" : 1751492700,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140560139,
    "post_id" : 79687542,
    "body" : "I have to say, that doesn&#39;t <i>look</i> like a full stack trace",
    "score" : 1,
    "owner" : {
      "account_id" : 22124137,
      "reputation" : 4244,
      "user_id" : 16376827,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/1ImPw.png?s=256",
      "display_name" : "g00se",
      "link" : "https://stackoverflow.com/users/16376827/g00se"
    },
    "creation_date" : 1751491798,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140560129,
    "post_id" : 79687542,
    "body" : "It&#39;s not &#39;for my education&#39; @FactorThree. What a rude thing to say. It&#39;s to aid in getting an answer to this question. You are presumably the one most interested in getting this question answered. With that attitude, I&#39;m certainly not going to bother.",
    "score" : 0,
    "owner" : {
      "account_id" : 401843,
      "reputation" : 107206,
      "user_id" : 768644,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/b13bedc5215730fbce5edff6c130988a?s=256&d=identicon&r=PG",
      "display_name" : "rzwitserloot",
      "link" : "https://stackoverflow.com/users/768644/rzwitserloot"
    },
    "creation_date" : 1751491430,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140560124,
    "post_id" : 79687542,
    "body" : "@JohnBollinger NoClassDefFoundError occurring if a class is not being loaded due to a reason other than &#39;I do not know where the bytecode is at&#39;, is confusing and a misnomer. That a spec explicitly explains that it is a misnomer doesn&#39;t change this. If you had <code>&#47;** Adds two numbers together *&#47; public int minus(int a, int b) {return a - b;}</code> in a source file, would you say: &quot;No, it&#39;s fine, see, this is specced behaviour!&#39;? No, of course not. In the end such decisions are in the eye of the beholder, but surely 95%+ would agree that &#39;NoClassDefFoundError&#39; is a misleading name for this.",
    "score" : 0,
    "owner" : {
      "account_id" : 401843,
      "reputation" : 107206,
      "user_id" : 768644,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/b13bedc5215730fbce5edff6c130988a?s=256&d=identicon&r=PG",
      "display_name" : "rzwitserloot",
      "link" : "https://stackoverflow.com/users/768644/rzwitserloot"
    },
    "creation_date" : 1751491321,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140559813,
    "post_id" : 79687542,
    "body" : "aled: the question you reference is answered by telling the questioner that the class was &quot;not present&quot; at runtime. The problem here is that the class in  question <i>is</i> present at runtime. I know this because I checked it before asking my question. And I already made that clear  in my question, so no edit of the question is necessary.",
    "score" : 0,
    "owner" : {
      "account_id" : 1039893,
      "reputation" : 2348,
      "user_id" : 1046184,
      "user_type" : "registered",
      "accept_rate" : 56,
      "profile_image" : "https://i.sstatic.net/bXSMO.jpg?s=256",
      "display_name" : "Factor Three",
      "link" : "https://stackoverflow.com/users/1046184/factor-three"
    },
    "creation_date" : 1751483534,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140559781,
    "post_id" : 79687542,
    "body" : "rzwitserloot: Actually, I <i>did</i> read the stack trace. There is no &quot;CAUSE&quot; provided. For your edification, I have included the full stack trace.",
    "score" : 0,
    "owner" : {
      "account_id" : 1039893,
      "reputation" : 2348,
      "user_id" : 1046184,
      "user_type" : "registered",
      "accept_rate" : 56,
      "profile_image" : "https://i.sstatic.net/bXSMO.jpg?s=256",
      "display_name" : "Factor Three",
      "link" : "https://stackoverflow.com/users/1046184/factor-three"
    },
    "creation_date" : 1751482852,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140559683,
    "post_id" : 79687542,
    "body" : "... in which case the stack trace the OP presents would not only be missing relevant detail, but also would not even be for the exception that we would expect to carry the relevant detail.",
    "score" : 0,
    "owner" : {
      "account_id" : 2792262,
      "reputation" : 190832,
      "user_id" : 2402272,
      "user_type" : "registered",
      "accept_rate" : 85,
      "profile_image" : "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=256&d=identicon&r=PG",
      "display_name" : "John Bollinger",
      "link" : "https://stackoverflow.com/users/2402272/john-bollinger"
    },
    "creation_date" : 1751481174,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140559673,
    "post_id" : 79687542,
    "body" : "Well no, @rzwitserloot, what I&#39;m positing is that the exception message is correct, <i>and</i> the exception type is properly reflective of the nature of the issue.  The Language and VM specs give no indication that we should expect an <code>ExceptionInInitializerError</code> to be wrapped in a <code>NoClassDefFoundError</code>.  What <i>can</i> happen, however, is that a class initialization fails with an <code>ExceptionInInitializerError</code>, thus (by spec) leaving the class in an erroneous state, and then a second attempt at initializing it produces (again by spec) a <code>NoClassDefFoundError</code>. Perhaps the OP is observing that.",
    "score" : 0,
    "owner" : {
      "account_id" : 2792262,
      "reputation" : 190832,
      "user_id" : 2402272,
      "user_type" : "registered",
      "accept_rate" : 85,
      "profile_image" : "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=256&d=identicon&r=PG",
      "display_name" : "John Bollinger",
      "link" : "https://stackoverflow.com/users/2402272/john-bollinger"
    },
    "creation_date" : 1751480979,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140559624,
    "post_id" : 79687542,
    "body" : "@JohnBollinger incorrect. It causes a NoClassDefFoundError, and the <i>cause</i> of that NCDFErr would be an ExceptionInInitializer error. At least, if loading a class causes another class to load (because class A uses &#39;B&#39; in one of its signatures, and B isn&#39;t loaded either, then loading A will first load B). As I said, John, assume errors are correct. What you&#39;re positing is an extraordinary claim: That the error message is misleading horse manure. It happens, but, you&#39;re going to have bring more proof than a wild guess.",
    "score" : 0,
    "owner" : {
      "account_id" : 401843,
      "reputation" : 107206,
      "user_id" : 768644,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/b13bedc5215730fbce5edff6c130988a?s=256&d=identicon&r=PG",
      "display_name" : "rzwitserloot",
      "link" : "https://stackoverflow.com/users/768644/rzwitserloot"
    },
    "creation_date" : 1751479728,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140559428,
    "post_id" : 79687542,
    "body" : "This question is similar to: <a href=\"https://stackoverflow.com/questions/34413/why-am-i-getting-a-noclassdeffounderror-in-java\">Why am I getting a NoClassDefFoundError in Java?</a>. If you believe it’s different, please <a href=\"https://stackoverflow.com/posts/79687542/edit\">edit</a> the question, make it clear how it’s different and/or how the answers on that question are not helpful for your problem. Note that <code>NoClassDefFoundError</code> is different from <code>ClassNotFoundException</code>.",
    "score" : 0,
    "owner" : {
      "account_id" : 372682,
      "reputation" : 26512,
      "user_id" : 721855,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/vZiox.png?s=256",
      "display_name" : "aled",
      "link" : "https://stackoverflow.com/users/721855/aled"
    },
    "creation_date" : 1751476448,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140559241,
    "post_id" : 79687542,
    "body" : "Factor Three - you should post the <i>full</i> stack trace",
    "score" : 2,
    "owner" : {
      "account_id" : 22124137,
      "reputation" : 4244,
      "user_id" : 16376827,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/1ImPw.png?s=256",
      "display_name" : "g00se",
      "link" : "https://stackoverflow.com/users/16376827/g00se"
    },
    "creation_date" : 1751472869,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140559194,
    "post_id" : 79687542,
    "body" : "@rzwitserloot, an exception in a static initializer should cause an <code>ExceptionInInitializerError</code> instead of a <code>NoClassDefFoundError</code>.  Don&#39;t you think this <code>NoClassDefFoundError</code> must indicate some other kind of problem with initializing the class?",
    "score" : 0,
    "owner" : {
      "account_id" : 2792262,
      "reputation" : 190832,
      "user_id" : 2402272,
      "user_type" : "registered",
      "accept_rate" : 85,
      "profile_image" : "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=256&d=identicon&r=PG",
      "display_name" : "John Bollinger",
      "link" : "https://stackoverflow.com/users/2402272/john-bollinger"
    },
    "creation_date" : 1751472208,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140558926,
    "post_id" : 79687542,
    "body" : "The problem lies in that class having a <code>static</code> initializer that throws an exception, or it loads a class that does that.",
    "score" : 0,
    "owner" : {
      "account_id" : 401843,
      "reputation" : 107206,
      "user_id" : 768644,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/b13bedc5215730fbce5edff6c130988a?s=256&d=identicon&r=PG",
      "display_name" : "rzwitserloot",
      "link" : "https://stackoverflow.com/users/768644/rzwitserloot"
    },
    "creation_date" : 1751467400,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140558924,
    "post_id" : 79687542,
    "body" : "The exception&#39;s type name is misleading. The problem is <b>not</b> that the class &quot;could not be found&quot;. The problem is that the class could not be INITIALIZED. Generally, you should at first assume error messages mean what they say they mean. In other words, read them. It literally tells you what the problem is. &quot;Could not initialize class&quot;. The text you removed for brevity includes the cause, and <b>that is the problem</b> - i.e. you elided the very part you need to know what&#39;s really wrong here.",
    "score" : 3,
    "owner" : {
      "account_id" : 401843,
      "reputation" : 107206,
      "user_id" : 768644,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/b13bedc5215730fbce5edff6c130988a?s=256&d=identicon&r=PG",
      "display_name" : "rzwitserloot",
      "link" : "https://stackoverflow.com/users/768644/rzwitserloot"
    },
    "creation_date" : 1751467397,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}