{
  "question" : {
    "question_id" : 79828739,
    "title" : "Android API NFC Antenna location incorrect",
    "body" : "<p>For my app it is crucial to display the user with the correct location of the NFC antenna as it interacts with an embedded device and data gets exchanged for a prolonged time, so stable connection is important. To do this, I utilize the API provided by Android so I can sketch which part of the phone the user has to hold against the device.</p>\n<p>The docs (<a href=\"https://developer.android.com/reference/android/nfc/AvailableNfcAntenna\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/nfc/AvailableNfcAntenna</a>)<br />\nspecify getLocationX and getLocationY for the class AvailableNfcAntenna as:</p>\n<p>&quot;Location of the antenna on the X/Y axis in millimeters. 0 is the top-left when the user is facing the screen and the device orientation is Portrait.&quot;</p>\n<p>However I noticed for many android devices (API level &gt;34) that this often returns either incorrect values or (0,0) values.</p>\n<p>(0,0) values, e.g. on Fairphone and OnePlus phones, I assume stem from vendors not implementing this API functionality.</p>\n<p>However, e.g. Pixel 7, Pixel 9 Pro and Pixel 10 return me device dimensions of (70x150), (72x152) and (72x152), so nearly same size. According to <a href=\"https://support.google.com/pixelphone/answer/7157629?hl=de#zippy=%2Cpixel\" rel=\"nofollow noreferrer\">https://support.google.com/pixelphone/answer/7157629?hl=de#zippy=%2Cpixel</a> the nfc antenna should be located at similar places, central and below the camera in the upper half of the phone. Yet, for the X/Y location the API returns (38,97), (36,44) and (31,25).</p>\n<p>I already figured that some devices follow a different coordinate system: For the Pixel 7 the y value does make sense when (0,0) is bottom left. For the Pixel 9 Pro the y value makes sense when (0,0) is top left. However for the pixel 10 the y value does not make sense independent of which of the two origins i would use to calculate the position.</p>\n<p>Could not really find any resources online to help me with this, so I would be really grateful if anybody could give me some hints here.</p>\n",
    "tags" : [ "java", "android", "nfc" ],
    "owner" : {
      "account_id" : 44790200,
      "reputation" : 9,
      "user_id" : 31937035,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/66c53e9a642a70155dd4bd587a700333?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "user31937035",
      "link" : "https://stackoverflow.com/users/31937035/user31937035"
    },
    "is_answered" : false,
    "view_count" : 75,
    "closed_date" : 1764055977,
    "answer_count" : 0,
    "score" : -2,
    "last_activity_date" : 1763993916,
    "creation_date" : 1763993916,
    "link" : "https://stackoverflow.com/questions/79828739/android-api-nfc-antenna-location-incorrect",
    "closed_reason" : "Not suitable for this site"
  },
  "answers" : [ ],
  "question_comments" : [ {
    "comment_id" : 140870706,
    "post_id" : 79828739,
    "body" : "@GabeSechan For some specific reasons I’m not able to elaborate on, NFC is the only option available in this case. Everything works great under normal operation, it’s just one rarely occurring function that requires accurate and prolonged contact. That’s why I’m looking to add some sort of indicator to help the user align it correctly.",
    "score" : 0,
    "owner" : {
      "account_id" : 44790200,
      "reputation" : 9,
      "user_id" : 31937035,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/66c53e9a642a70155dd4bd587a700333?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "user31937035",
      "link" : "https://stackoverflow.com/users/31937035/user31937035"
    },
    "creation_date" : 1764005765,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140870671,
    "post_id" : 79828739,
    "body" : "If you need to make sustained contact, I&#39;d question if NFC is the correct method.  Bluetooth would probably be more convenient and less likely to have broken connections.  You can use NFC to initiate pairing, then send the data over BT.  As a bonus BT is multiple times faster, so it will finish more quickly.",
    "score" : 1,
    "owner" : {
      "account_id" : 1790714,
      "reputation" : 94752,
      "user_id" : 1631193,
      "user_type" : "registered",
      "accept_rate" : 71,
      "profile_image" : "https://www.gravatar.com/avatar/ac9dfee58394495fa69f12f58a928be3?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Gabe Sechan",
      "link" : "https://stackoverflow.com/users/1631193/gabe-sechan"
    },
    "creation_date" : 1764004926,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140870664,
    "post_id" : 79828739,
    "body" : "@DavidConrad To me it looks way too high. <a href=\"https://imgur.com/a/jk6sB8d\" rel=\"nofollow noreferrer\">imgur.com/a/jk6sB8d</a> First picture is a sketch with the values return from the API, the following images are from the Google Pixel Hardware Diagram collection at <a href=\"https://support.google.com/pixelphone/answer/7157629?hl=de#zippy=%2Cpixel-pro\" rel=\"nofollow noreferrer\">support.google.com/pixelphone/answer/&hellip;</a> . Pixel 9 about matches, Pixel 10 in no way",
    "score" : 0,
    "owner" : {
      "account_id" : 44790200,
      "reputation" : 9,
      "user_id" : 31937035,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/66c53e9a642a70155dd4bd587a700333?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "user31937035",
      "link" : "https://stackoverflow.com/users/31937035/user31937035"
    },
    "creation_date" : 1764004752,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140870430,
    "post_id" : 79828739,
    "body" : "How does the Pixel 10 value not make sense from the top-left? 31 is about halfway across the phone if the width is 72 (a little less), and 25 is about one-sixth of the way down from the top if the height is 152, which is right about where the bottom of the camera is. It makes sense to me. What am I missing?",
    "score" : 0,
    "owner" : {
      "account_id" : 318670,
      "reputation" : 16467,
      "user_id" : 636009,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/IIQJV.jpg?s=256",
      "display_name" : "David Conrad",
      "link" : "https://stackoverflow.com/users/636009/david-conrad"
    },
    "creation_date" : 1763997419,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}