{
  "question" : {
    "question_id" : 79631988,
    "title" : "how to avoid default Tomcat 404 HTML page",
    "body" : "<p>I am using tomcat version 10.1.12 and I wanted to avoid tomcat`s default HTML error response page and tried below. but it seems tomcat silently ignores this valve.</p>\n<p>I added below inside host block and didn`t see any changes in startup log:</p>\n<pre><code>&lt;Valve className=&quot;org.apache.catalina.valves.JsonErrorReportValve&quot;\n       showReport=&quot;false&quot;\n       showServerInfo=&quot;false&quot;/&gt;\n</code></pre>\n<p>Then i tried ErrorReportValve with same attribute but tomcat recognized and printed the name of the valve in catalina during startup:</p>\n<pre><code>&lt;Valve className=&quot;org.apache.catalina.valves.ErrorReportValve&quot;\n       showReport=&quot;false&quot;\n       showServerInfo=&quot;false&quot;/&gt;\n</code></pre>\n<p>I have a middleware deployed with the context path /middleware, and the URL is stored in a central server, so I cannot change the context path.</p>\n<p>The following is handled properly by the application:</p>\n<pre><code>http://212.xx.xx.xx:8443/middleware/non-existing-path\n</code></pre>\n<p>But this one without context path:</p>\n<pre><code>http://212.xx.xx.xx:8443/non-existing-path\n</code></pre>\n<p>returns the default Tomcat 404 HTML page, which I want to avoid.</p>\n",
    "tags" : [ "java", "tomcat", "tomcat10" ],
    "owner" : {
      "account_id" : 3759553,
      "reputation" : 465,
      "user_id" : 3124992,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/lpeJ2.png?s=256",
      "display_name" : "Sanjok",
      "link" : "https://stackoverflow.com/users/3124992/sanjok"
    },
    "is_answered" : true,
    "view_count" : 72,
    "answer_count" : 1,
    "score" : 2,
    "last_activity_date" : 1763909473,
    "creation_date" : 1747830833,
    "link" : "https://stackoverflow.com/questions/79631988/how-to-avoid-default-tomcat-404-html-page",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79827934,
    "question_id" : 79631988,
    "body" : "<p>The most straightforward way is to define a custom error page(s) and configure the same in the ROOT/other web app web.xml</p>\n<p>Below is an example section of the web.xml</p>\n<pre><code>    &lt;error-page&gt;\n        &lt;error-code&gt;401&lt;/error-code&gt;\n        &lt;location&gt;/error.html&lt;/location&gt;\n    &lt;/error-page&gt;\n    &lt;error-page&gt;\n        &lt;error-code&gt;408&lt;/error-code&gt;\n        &lt;location&gt;/error.html&lt;/location&gt;\n    &lt;/error-page&gt;\n    &lt;error-page&gt;\n        &lt;error-code&gt;404&lt;/error-code&gt;\n        &lt;location&gt;/error.html&lt;/location&gt;\n    &lt;/error-page&gt;\n        &lt;error-page&gt;\n    &lt;error-code&gt;400&lt;/error-code&gt;\n        &lt;location&gt;/WEB-INF/errors/error.jsp&lt;/location&gt;\n    &lt;/error-page&gt;\n    &lt;error-page&gt;\n        &lt;error-code&gt;500&lt;/error-code&gt;\n        &lt;location&gt;/WEB-INF/errors/error.jsp&lt;/location&gt;\n    &lt;/error-page&gt;\n</code></pre>\n<p>The primary difference between /<em>.html and /WEB-INF/errors/</em>.jsp is whether the file can be directly accessed. Create the files in the appropriate locations, it should work.</p>\n",
    "score" : 2,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 4809624,
      "reputation" : 3855,
      "user_id" : 3883475,
      "user_type" : "registered",
      "accept_rate" : 85,
      "profile_image" : "https://www.gravatar.com/avatar/71106c6d5cd85776d437a95b7db6ba49?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Ironluca",
      "link" : "https://stackoverflow.com/users/3883475/ironluca"
    },
    "creation_date" : 1763909473,
    "last_activity_date" : 1763909473,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140456798,
    "post_id" : 79631988,
    "body" : "FYI  the ROOT dir is removed  in production and my application so i  have middleware.war  and middleware(dir) in webapps dir. I think either i should renamed the war file to ROOT while keeping  the context path /middleware as it is , OR  i should create ROOT dir and keep index.html file to show custom NOT_FOUND message.",
    "score" : 0,
    "owner" : {
      "account_id" : 3759553,
      "reputation" : 465,
      "user_id" : 3124992,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/lpeJ2.png?s=256",
      "display_name" : "Sanjok",
      "link" : "https://stackoverflow.com/users/3124992/sanjok"
    },
    "creation_date" : 1748164382,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140454790,
    "post_id" : 79631988,
    "body" : "Since the application is deployed as ROOT, a request to <a href=\"http://212.xx.xx.xx:8443/non-existing-path\" rel=\"nofollow noreferrer\">212.xx.xx.xx:8443/non-existing-path</a> will be handled by the ROOT context. Please update the ROOT application&#39;s configuration to handle 404 errors.",
    "score" : 0,
    "owner" : {
      "account_id" : 26698569,
      "reputation" : 4090,
      "user_id" : 20306007,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/98bbc403493aee3681b71dae7abef66e?s=256&d=identicon&r=PG",
      "display_name" : "life888888",
      "link" : "https://stackoverflow.com/users/20306007/life888888"
    },
    "creation_date" : 1748073147,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}