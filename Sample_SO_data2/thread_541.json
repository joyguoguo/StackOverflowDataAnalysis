{
  "question" : {
    "question_id" : 79799161,
    "title" : "Why does my /ping route return 404 in a Spring MVC app (not Spring Boot)?",
    "body" : "<p>I'm working on my first Spring MVC project (not Spring Boot), and I’m running into a 404 issue when calling the <code>/ping</code> route for a health check.</p>\n<p>I have a simple <code>PingController</code> defined like this:</p>\n<pre><code>package org.example.tricol.controllers;\n\nimport org.example.tricol.utils.Console;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\npublic class PingController {\n    public PingController() {\n        Console.header(&quot;PingController initialized&quot;);\n    }\n\n    @GetMapping(&quot;/ping&quot;)\n    public String ping() {\n        return &quot;pong&quot;;\n    }\n</code></pre>\n<p>The logs show that Spring correctly maps <code>/ping</code>, but when I try to access it via browser or <code>curl</code>, I get a <strong>404 Not Found</strong>.</p>\n<h3><strong>Project Setup</strong></h3>\n<ul>\n<li><p>Built with <strong>Spring Core + MVC</strong>, <strong>no Spring Boot</strong></p>\n</li>\n<li><p>Deployed on <strong>Tomcat 10</strong></p>\n</li>\n<li><p>Project packaged as <code>.war</code></p>\n</li>\n<li><p>Context path: <code>/tricol</code></p>\n</li>\n<li><p>IntelliJ used as IDE</p>\n</li>\n<li><p>No <code>web.xml</code> file (I’m using Java-based configuration)</p>\n</li>\n</ul>\n<h3><strong>Relevant Config</strong></h3>\n<p><code>WebAppInitializer.java</code></p>\n<pre><code>package org.example.tricol.config;\n\nimport org.example.tricol.utils.Console;\nimport org.springframework.web.servlet.support.AbstractAnnotationConfigDispatcherServletInitializer;\n\npublic class WebAppInitializer extends AbstractAnnotationConfigDispatcherServletInitializer {\n    public WebAppInitializer() {\n        Console.header(&quot;WEB APP INITIALIZER&quot;);\n    }\n\n    @Override\n    protected Class&lt;?&gt;[] getRootConfigClasses() {\n        return new Class[] { AppConfig.class, DataSourceConfig.class };\n    }\n\n    @Override\n    protected Class&lt;?&gt;[] getServletConfigClasses() {\n        return new Class[] { WebMvcConfig.class };\n    }\n\n    @Override\n    protected String[] getServletMappings() {\n        return new String[] { &quot;/&quot; };\n    }\n}\n</code></pre>\n<p><code>AppConfig.java</code></p>\n<pre><code>package org.example.tricol.config;\n\nimport org.example.tricol.utils.Console;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\nimport org.springframework.transaction.annotation.EnableTransactionManagement;\n\n@Configuration\n@ComponentScan(basePackages = &quot;org.example.tricol&quot;)\n@EnableJpaRepositories(basePackages = &quot;org.example.tricol.repositories&quot;)\n@EnableTransactionManagement // enable @Transactional\npublic class AppConfig {\n    public AppConfig() {\n        Console.header(&quot;TRICOL FOURNISSEURS MANAGEMENT - APP CONFIG&quot;);\n    }\n}\n</code></pre>\n<p><code>WebMvcConfig</code></p>\n<pre><code>package org.example.tricol.config;\n\nimport org.example.tricol.utils.Console;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.web.servlet.config.annotation.EnableWebMvc;\n\n@Configuration\n@EnableWebMvc\npublic class WebMvcConfig {\n    public WebMvcConfig() {\n        Console.header(&quot;WEB MVC CONFIGURATION&quot;);\n    }\n}\n</code></pre>\n<h3><strong>Question</strong></h3>\n<p>Why does my <code>/ping</code> route still return 404 even though Spring shows it’s mapped?<br />\nIs there something wrong with my configuration or deployment setup (Tomcat context, <code>.war</code>, or servlet mapping)?</p>\n<p>I'm sure the problem is came from a lacking of understand of the app bootstrap or Routes Handling Process</p>\n<p>Edit:</p>\n<pre><code>--------------------------------------------------\n09:24:47.045 [RMI TCP Connection(2)-127.0.0.1] INFO org.example.tricol.utils.Console -- &gt;&gt;&gt; PINGCONTROLLER INITIALIZED &lt;&lt;&lt;\n09:24:47.045 [RMI TCP Connection(2)-127.0.0.1] INFO org.example.tricol.utils.Console -- --------------------------------------------------\n09:24:47.047 [RMI TCP Connection(2)-127.0.0.1] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory -- Creating shared instance of singleton bean 'org.springframework.web.servlet.config.annotation.DelegatingWebMvcConfiguration'\n09:24:47.064 [RMI TCP Connection(2)-127.0.0.1] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory -- Creating shared instance of singleton bean 'requestMappingHandlerMapping'\n09:24:47.069 [RMI TCP Connection(2)-127.0.0.1] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory -- Creating shared instance of singleton bean 'mvcContentNegotiationManager'\n09:24:47.120 [RMI TCP Connection(2)-127.0.0.1] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory -- Creating shared instance of singleton bean 'mvcApiVersionStrategy'\n09:24:47.142 [RMI TCP Connection(2)-127.0.0.1] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory -- Creating shared instance of singleton bean 'mvcConversionService'\n09:24:47.207 [RMI TCP Connection(2)-127.0.0.1] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory -- Creating shared instance of singleton bean 'mvcResourceUrlProvider'\n09:24:47.213 [RMI TCP Connection(2)-127.0.0.1] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory -- Autowiring by type from bean name 'requestMappingHandlerMapping' via factory method to bean named 'mvcContentNegotiationManager'\n09:24:47.214 [RMI TCP Connection(2)-127.0.0.1] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory -- Autowiring by type from bean name 'requestMappingHandlerMapping' via factory method to bean named 'mvcApiVersionStrategy'\n09:24:47.214 [RMI TCP Connection(2)-127.0.0.1] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory -- Autowiring by type from bean name 'requestMappingHandlerMapping' via factory method to bean named 'mvcConversionService'\n09:24:47.214 [RMI TCP Connection(2)-127.0.0.1] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory -- Autowiring by type from bean name 'requestMappingHandlerMapping' via factory method to bean named 'mvcResourceUrlProvider'\n09:24:47.301 [RMI TCP Connection(2)-127.0.0.1] DEBUG _org.springframework.web.servlet.HandlerMapping.Mappings -- \n    o.e.t.c.FournisseurController:\n    {GET [/v1/fournisseurs]}: findAll()\n09:24:47.304 [RMI TCP Connection(2)-127.0.0.1] DEBUG _org.springframework.web.servlet.HandlerMapping.Mappings -- \n    o.e.t.c.PingController:\n    {GET [/ping]}: ping()\n</code></pre>\n",
    "tags" : [ "java", "spring", "spring-mvc" ],
    "owner" : {
      "account_id" : 44432160,
      "reputation" : 11,
      "user_id" : 31749767,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/m2SIuzDs.jpg?s=256",
      "display_name" : "Marouane Amanar",
      "link" : "https://stackoverflow.com/users/31749767/marouane-amanar"
    },
    "is_answered" : true,
    "view_count" : 107,
    "answer_count" : 1,
    "score" : -3,
    "last_activity_date" : 1761581019,
    "creation_date" : 1761339235,
    "link" : "https://stackoverflow.com/questions/79799161/why-does-my-ping-route-return-404-in-a-spring-mvc-app-not-spring-boot",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79801920,
    "question_id" : 79799161,
    "body" : "<p>I found the issue.<br />\nBy default, in <code>WebAppInitializer</code>, the <code>getServletConfig()</code> method should return <code>null</code> so that the application context is used.<br />\nOtherwise, if you explicitly point to a class annotated with <code>@EnableWebMvc</code>, you must rescan the components using <code>@ComponentScan</code>; if you don’t, the components will only be defined in the application context and won’t be accessible to the servlet context.<br />\nThis can make the logs quite confusing and tricky to debug</p>\n",
    "score" : 1,
    "is_accepted" : true,
    "owner" : {
      "account_id" : 44432160,
      "reputation" : 11,
      "user_id" : 31749767,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/m2SIuzDs.jpg?s=256",
      "display_name" : "Marouane Amanar",
      "link" : "https://stackoverflow.com/users/31749767/marouane-amanar"
    },
    "creation_date" : 1761575092,
    "last_activity_date" : 1761581019,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140819902,
    "post_id" : 79799161,
    "body" : "Thanks for the comment, I do always check the ports before usage, so I don&#39;t think so",
    "score" : 0,
    "owner" : {
      "account_id" : 44432160,
      "reputation" : 11,
      "user_id" : 31749767,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/m2SIuzDs.jpg?s=256",
      "display_name" : "Marouane Amanar",
      "link" : "https://stackoverflow.com/users/31749767/marouane-amanar"
    },
    "creation_date" : 1761553427,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140819825,
    "post_id" : 79799161,
    "body" : "I had a similar issue recently and it turned out that port 8080 was already used by another application. Did you try to change the port?",
    "score" : 0,
    "owner" : {
      "account_id" : 21851467,
      "reputation" : 974,
      "user_id" : 16143492,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/PMrGU.png?s=256",
      "display_name" : "nineninesevenfour",
      "link" : "https://stackoverflow.com/users/16143492/nineninesevenfour"
    },
    "creation_date" : 1761550456,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140817866,
    "post_id" : 79799161,
    "body" : "So first of all, the logs show that in PingController, the method ping is mapped to /ping with a GET request.  My project’s context (the WAR folder) is set to tricol, so I use <a href=\"http://localhost:8080/tricol/\" rel=\"nofollow noreferrer\">localhost:8080/tricol</a>.  As you can see, in getServletMappings I’ve mapped it with /, so I’m sending the request to <a href=\"http://localhost:8080/tricol/ping\" rel=\"nofollow noreferrer\">localhost:8080/tricol/ping</a>. However, I get an error saying that the resource tricol/ping isn’t available (or something similar)",
    "score" : 0,
    "owner" : {
      "account_id" : 44432160,
      "reputation" : 11,
      "user_id" : 31749767,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/m2SIuzDs.jpg?s=256",
      "display_name" : "Marouane Amanar",
      "link" : "https://stackoverflow.com/users/31749767/marouane-amanar"
    },
    "creation_date" : 1761485559,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140817863,
    "post_id" : 79799161,
    "body" : "This project is an API-based application designed to be consumed by a UI interface. That’s why I used a @RestController. Thanks for clarifying that point.",
    "score" : 0,
    "owner" : {
      "account_id" : 44432160,
      "reputation" : 11,
      "user_id" : 31749767,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/m2SIuzDs.jpg?s=256",
      "display_name" : "Marouane Amanar",
      "link" : "https://stackoverflow.com/users/31749767/marouane-amanar"
    },
    "creation_date" : 1761485371,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140817048,
    "post_id" : 79799161,
    "body" : "<i>The logs show that Spring correctly maps /ping</i> What does it say exactly? What URL are you sending the request to? What does Spring say when it cannot handle the request?",
    "score" : 1,
    "owner" : {
      "account_id" : 6737779,
      "reputation" : 3560,
      "user_id" : 5191913,
      "user_type" : "registered",
      "accept_rate" : 67,
      "profile_image" : "https://www.gravatar.com/avatar/36e1d9bc2ad9adcb5002da17e84cc57c?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Savior",
      "link" : "https://stackoverflow.com/users/5191913/savior"
    },
    "creation_date" : 1761414545,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140816048,
    "post_id" : 79799161,
    "body" : "For MVC, you need to use @Controller, that annotation works with views ( HTML, JSP ), the other annotation @ RestController does NOT return a views, it works with JSON and it is used for an endpoint to be consumed by frontend like react. So if your plan is to display &quot;pong&quot; HTML page when you trigger localhost:8080/ping, and your application is MVC, when you should use @ Controller. If your application is NOT MVC, and you just want to return a response of string &quot;pong&quot; then you should use @ RestController.",
    "score" : 2,
    "owner" : {
      "account_id" : 10463559,
      "reputation" : 2718,
      "user_id" : 7713562,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/JhIYm.png?s=256",
      "display_name" : "zawarudo",
      "link" : "https://stackoverflow.com/users/7713562/zawarudo"
    },
    "creation_date" : 1761341647,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140816015,
    "post_id" : 79799161,
    "body" : "I have no idea That I&#39;m using the wrong annotation, an explination please?",
    "score" : 0,
    "owner" : {
      "account_id" : 44432160,
      "reputation" : 11,
      "user_id" : 31749767,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/m2SIuzDs.jpg?s=256",
      "display_name" : "Marouane Amanar",
      "link" : "https://stackoverflow.com/users/31749767/marouane-amanar"
    },
    "creation_date" : 1761339874,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140816011,
    "post_id" : 79799161,
    "body" : "Why are you using annotation RestController if you are using MVC? Shouldn&#39;t you use annotation Controller instead and that you return &quot;pong&quot; which will represent your HTML view?",
    "score" : 0,
    "owner" : {
      "account_id" : 10463559,
      "reputation" : 2718,
      "user_id" : 7713562,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/JhIYm.png?s=256",
      "display_name" : "zawarudo",
      "link" : "https://stackoverflow.com/users/7713562/zawarudo"
    },
    "creation_date" : 1761339575,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : {
    "79801920" : [ {
      "comment_id" : 140820873,
      "post_id" : 79801920,
      "body" : "@Savior I correct the message, thanks!!",
      "score" : 0,
      "owner" : {
        "account_id" : 44432160,
        "reputation" : 11,
        "user_id" : 31749767,
        "user_type" : "registered",
        "profile_image" : "https://i.sstatic.net/m2SIuzDs.jpg?s=256",
        "display_name" : "Marouane Amanar",
        "link" : "https://stackoverflow.com/users/31749767/marouane-amanar"
      },
      "creation_date" : 1761581039,
      "content_license" : "CC BY-SA 4.0"
    }, {
      "comment_id" : 140820871,
      "post_id" : 79801920,
      "body" : "@Savior Yep sorry for I made a mistake in names! and yes I didn&#39;t about the context separation in Servlet Dispatcher until today HAHA",
      "score" : 0,
      "owner" : {
        "account_id" : 44432160,
        "reputation" : 11,
        "user_id" : 31749767,
        "user_type" : "registered",
        "profile_image" : "https://i.sstatic.net/m2SIuzDs.jpg?s=256",
        "display_name" : "Marouane Amanar",
        "link" : "https://stackoverflow.com/users/31749767/marouane-amanar"
      },
      "creation_date" : 1761580998,
      "content_license" : "CC BY-SA 4.0"
    }, {
      "comment_id" : 140820672,
      "post_id" : 79801920,
      "body" : "Do you mean your <code>WebAppInitializer</code> class and its <code>getServletConfigClasses</code> method? That seems appropriately set. If anything, you just need to scan packages in a more dedicated manner (app context for app context stuff, web context for web stuff).",
      "score" : 0,
      "owner" : {
        "account_id" : 6737779,
        "reputation" : 3560,
        "user_id" : 5191913,
        "user_type" : "registered",
        "accept_rate" : 67,
        "profile_image" : "https://www.gravatar.com/avatar/36e1d9bc2ad9adcb5002da17e84cc57c?s=256&d=identicon&r=PG&f=y&so-version=2",
        "display_name" : "Savior",
        "link" : "https://stackoverflow.com/users/5191913/savior"
      },
      "creation_date" : 1761575785,
      "content_license" : "CC BY-SA 4.0"
    } ]
  }
}