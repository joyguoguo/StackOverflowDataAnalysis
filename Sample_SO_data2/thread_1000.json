{
  "question" : {
    "question_id" : 79756165,
    "title" : "How do I create a Javadoc link to a class in a sibling module?",
    "body" : "<p>Given that:</p>\n<ul>\n<li><a href=\"https://docs.oracle.com/en/java/javase/24/docs/specs/javadoc/doc-comment-spec.html#links\" rel=\"nofollow noreferrer\">markdown javadoc comments can link to references</a></li>\n<li>references are defined like <a href=\"https://docs.oracle.com/en/java/javase/22/docs/specs/javadoc/doc-comment-spec.html#references\" rel=\"nofollow noreferrer\">this</a>, specifically:\n<blockquote>\n<p>The most general form of a reference is:</p>\n<p><code>module/package.class#member</code></p>\n</blockquote>\n</li>\n<li>This project structure:</li>\n</ul>\n<pre><code>.\n├── build.gradle\n├── com.example.moduleone\n│   ├── build.gradle\n│   └── src\n│       └── main\n│           └── java\n│               ├── com\n│               │   └── example\n│               │       └── botany\n│               │           ├── fruit\n│               │           │   └── Tomato.java\n│               │           └── package-info.java\n│               └── module-info.java\n├── com.example.moduletwo\n│   ├── build.gradle\n│   └── src\n│       └── main\n│           └── java\n│               ├── com\n│               │   └── example\n│               │       └── food\n│               │           ├── package-info.java\n│               │           └── vegetable\n│               │               └── Potato.java\n│               └── module-info.java\n├── gradle\n│   └── wrapper\n│       ├── gradle-wrapper.jar\n│       └── gradle-wrapper.properties\n├── gradlew\n├── gradlew.bat\n├── lib\n│   └── markista.docagrams.jar\n└── settings.gradle\n\n</code></pre>\n<p>I would assume that with the correct Javadoc command options, the following Javadoc comment will be rendered as a link to the <code>Tomato</code> class in <code>com.example.moduleone</code>:</p>\n<pre><code>/// [com.example.moduleone/com.example.botany.fruit.Tomato] is a reference to a class \n    \n</code></pre>\n<p>Instead, when I run javadoc, I get an error:</p>\n<pre><code>javadoc -d build/doc/com.example.moduletwo \\\n        --module-path com.example.moduleone/build/classes/java/main:com.example.moduletwo/build/classes/java/main \\\n        --source-path com.example.moduleone/src/main/java:com.example.moduletwo/src/main/java \\\n        -subpackages com.example.food.vegetable:com.example.botany.fruit \\\n        -link ../com.example.moduleone --add-modules com.example.moduleone \\\n        com.example.moduletwo/src/main/java/module-info.java \\\n        com.example.moduletwo/src/main/java/com/example/food/vegetable/Potato.java \\\n        com.example.moduletwo/src/main/java/com/example/food/package-info.java\n\nLoading source file com.example.moduletwo/src/main/java/module-info.java...\nLoading source file com.example.moduletwo/src/main/java/com/example/food/vegetable/Potato.java...\nLoading source file com.example.moduletwo/src/main/java/com/example/food/package-info.java...\nLoading source files for package com.example.food.vegetable...\nLoading source files for package com.example.botany.fruit...\nConstructing Javadoc information...\nCreating destination directory: &quot;build/doc/com.example.moduletwo/&quot;\nerror: Error reading file: build/doc/com.example.moduletwo/../com.example.moduleone/element-list\nBuilding index for all the packages and classes...\nStandard Doclet version 24.0.1\nBuilding tree for all the packages and classes...\nGenerating build/doc/com.example.moduletwo/com.example.moduletwo/com/example/food/vegetable/Potato.html...\nGenerating build/doc/com.example.moduletwo/com.example.moduletwo/com/example/botany/fruit/Tomato.html...\nGenerating build/doc/com.example.moduletwo/com.example.moduletwo/com/example/botany/fruit/package-summary.html...\nGenerating build/doc/com.example.moduletwo/com.example.moduletwo/com/example/botany/fruit/package-tree.html...\nGenerating build/doc/com.example.moduletwo/com.example.moduletwo/com/example/food/vegetable/package-summary.html...\nGenerating build/doc/com.example.moduletwo/com.example.moduletwo/com/example/food/vegetable/package-tree.html...\nGenerating build/doc/com.example.moduletwo/com.example.moduletwo/module-summary.html...\nGenerating build/doc/com.example.moduletwo/overview-tree.html...\nGenerating build/doc/com.example.moduletwo/allclasses-index.html...\nBuilding index for all classes...\nGenerating build/doc/com.example.moduletwo/allpackages-index.html...\nGenerating build/doc/com.example.moduletwo/index-all.html...\nGenerating build/doc/com.example.moduletwo/search.html...\nGenerating build/doc/com.example.moduletwo/index.html...\nGenerating build/doc/com.example.moduletwo/help-doc.html...\n1 error\n\n</code></pre>\n<p>The full path to the Tomato class and its source is:</p>\n<pre><code>com.example.moduleone/build/classes/java/main/com/example/botany/fruit/Tomato.class\ncom.example.moduleone/src/main/java/com/example/botany/fruit/Tomato.java\n</code></pre>\n<p>module-info.java from com.example.moduleone:</p>\n<pre><code>/// Example module\nmodule com.example.moduleone {\n    exports com.example.botany.fruit;\n}\n</code></pre>\n<p>module-info.java from com.example.moduletwo:</p>\n<pre><code>/// Example module\nmodule com.example.moduletwo {\n    exports com.example.food.vegetable;\n}\n</code></pre>\n<p>Git repo with reproducible problem:</p>\n<p><a href=\"https://github.com/sandydunlop/javadoc-reference-not-found\" rel=\"nofollow noreferrer\">https://github.com/sandydunlop/javadoc-reference-not-found</a></p>\n",
    "tags" : [ "java", "javadoc" ],
    "owner" : {
      "account_id" : 5471091,
      "reputation" : 1,
      "user_id" : 7006329,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/SxZUA.jpg?s=256",
      "display_name" : "Sandy Dunlop",
      "link" : "https://stackoverflow.com/users/7006329/sandy-dunlop"
    },
    "is_answered" : false,
    "view_count" : 64,
    "answer_count" : 1,
    "score" : 0,
    "last_activity_date" : 1757016898,
    "creation_date" : 1757014989,
    "link" : "https://stackoverflow.com/questions/79756165/how-do-i-create-a-javadoc-link-to-a-class-in-a-sibling-module",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79756191,
    "question_id" : 79756165,
    "body" : "<p>Maybe you need to run Javadoc on moduleone before moduletwo can pick it up?</p>\n",
    "score" : -1,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 7506919,
      "reputation" : 30,
      "user_id" : 5703157,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/66b5dc237b1dc66312ef1635e8cb6db0?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "TTCUSM",
      "link" : "https://stackoverflow.com/users/5703157/ttcusm"
    },
    "creation_date" : 1757016898,
    "last_activity_date" : 1757016898,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140715743,
    "post_id" : 79756165,
    "body" : "Can you try adding <code>requires com.example.moduleone;</code> or at least <code>requires static com.example.moduleone;</code> to the module-info.java of <code>com.example.moduletwo</code>?",
    "score" : 0,
    "owner" : {
      "account_id" : 15064163,
      "reputation" : 17111,
      "user_id" : 10871900,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/720202b6e19abc330dcd92e6a1254562?s=256&d=identicon&r=PG",
      "display_name" : "dan1st",
      "link" : "https://stackoverflow.com/users/10871900/dan1st"
    },
    "creation_date" : 1757021092,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : {
    "79756191" : [ {
      "comment_id" : 140715987,
      "post_id" : 79756191,
      "body" : "@SandyDunlop Testing things out, it does look like that&#39;s the problem. But if subproject B depends on subproject A, then running <code>.&#47;gradlew javadoc</code> should cause subproject A to build its Javadoc first, letting the Javadoc of subproject B succeed. However, I&#39;m seeing that the links are <code>file</code> URIs, so I don&#39;t know that the links will work if you publish your Javadoc (even if just via <a href=\"https://javadoc.io\" rel=\"nofollow noreferrer\">javadoc.io</a>). You may want to consider creating &quot;aggregate&quot; Javadocs. Since you&#39;re apparently using JPMS, that should involve specifying the <code>--module-source-path</code> and <code>--module</code> arguments.",
      "score" : 0,
      "owner" : {
        "account_id" : 8532578,
        "reputation" : 49904,
        "user_id" : 6395627,
        "user_type" : "registered",
        "profile_image" : "https://www.gravatar.com/avatar/af0f9bfe593f36642a032cd7ea611e7d?s=256&d=identicon&r=PG&f=y&so-version=2",
        "display_name" : "Slaw",
        "link" : "https://stackoverflow.com/users/6395627/slaw"
      },
      "creation_date" : 1757033397,
      "content_license" : "CC BY-SA 4.0"
    }, {
      "comment_id" : 140715786,
      "post_id" : 79756191,
      "body" : "Yes, I think something was wrong with my gradle build file. I&#39;ve re-rwitten it and the problem seems to have gone away now.     I suspect as you said it wasn&#39;t generating moduleone&#39;s elements-list before it was trying to build moduletwo&#39;s docs.",
      "score" : 0,
      "owner" : {
        "account_id" : 5471091,
        "reputation" : 1,
        "user_id" : 7006329,
        "user_type" : "registered",
        "profile_image" : "https://i.sstatic.net/SxZUA.jpg?s=256",
        "display_name" : "Sandy Dunlop",
        "link" : "https://stackoverflow.com/users/7006329/sandy-dunlop"
      },
      "creation_date" : 1757023061,
      "content_license" : "CC BY-SA 4.0"
    } ]
  }
}