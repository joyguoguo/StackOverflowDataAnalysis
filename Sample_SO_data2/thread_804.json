{
  "question" : {
    "question_id" : 79765209,
    "title" : "How to get jsoup value of a &lt;script&gt; tag?",
    "body" : "<p>Tell me how to get the value &quot;mp4_144&quot;?</p>\n<pre><code>&lt;script type=&quot;text/javascript&quot;&gt;\nvar playerParams = {&quot;type&quot;:&quot;vk&quot;,&quot;params&quot;:[{&quot;&quot;failover_host&quot;:&quot;vkvd432.okcdn.ru&quot;,&quot;trailer&quot;:{&quot;mp4_144&quot;:&quot;https:\\/\\/vkvd419.okcdn.ru\\/?srcIp=77.222&quot;&quot;}]};\n&lt;/script&gt;\n</code></pre>\n<hr />\n<pre><code>OkHttpClient okHttp = new OkHttpClient();\nRequest request = new Request.Builder()\n                        .header(&quot;User-Agent&quot;,&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.90 Safari/537.36&quot;)\n                        .url(url)\n                        .build();\nDocument doc = Jsoup.parse(okHttp.newCall(request).execute().body().string());\nElements scriptElements = doc.getElementsByTag(&quot;script&quot;);\n</code></pre>\n",
    "tags" : [ "java", "android", "jsoup" ],
    "owner" : {
      "account_id" : 6245327,
      "reputation" : 6,
      "user_id" : 4857470,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/dfb580cb2fd7410b496a78e349acea7c?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Enjo Flash",
      "link" : "https://stackoverflow.com/users/4857470/enjo-flash"
    },
    "is_answered" : true,
    "view_count" : 76,
    "answer_count" : 2,
    "score" : 1,
    "last_activity_date" : 1760962811,
    "creation_date" : 1757943318,
    "link" : "https://stackoverflow.com/questions/79765209/how-to-get-jsoup-value-of-a-script-tag",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79765274,
    "question_id" : 79765209,
    "body" : "<p>Since the question is about JSoup, the only thing you need is this to access the tag's content:</p>\n<pre><code>String content = scriptElements.first().data();\n</code></pre>\n<p>It contains</p>\n<pre class=\"lang-none prettyprint-override\"><code>var playerParams = {&quot;type&quot;:&quot;vk&quot;,&quot;params&quot;:[{&quot;&quot;failover_host&quot;:&quot;vkvd432.okcdn.ru&quot;,&quot;trailer&quot;:{&quot;mp4_144&quot;:&quot;https:\\/\\/vkvd419.okcdn.ru\\/?srcIp=77.222&quot;&quot;}]};\n</code></pre>\n<p>which you can then further process to extract the relevant portions you need. The next step would involve a JSON parser (although the JSON seems to be malformed with the repeated double quotes), a regular expression or simple string manipulation. Pick whatever you prefer.</p>\n",
    "score" : 1,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 8120254,
      "reputation" : 20887,
      "user_id" : 6216216,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/e8c2dc279acf2025292412366e8eb72a?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "tyg",
      "link" : "https://stackoverflow.com/users/6216216/tyg"
    },
    "creation_date" : 1757946586,
    "last_activity_date" : 1757946586,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "answer_id" : 79766255,
    "question_id" : 79765209,
    "body" : "<p>I eventually came up with this:</p>\n<pre><code>String html = scriptElements.html();\nString string = &quot;&quot;;\nMatcher matcher = Pattern.compile(&quot;(?&lt;=mp4_144\\&quot;:\\&quot;)[^\\&quot;]+&quot;).matcher(html);\nif (matcher.find()) {\n    string = matcher.group();\n}\n</code></pre>\n",
    "score" : 0,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 6245327,
      "reputation" : 6,
      "user_id" : 4857470,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/dfb580cb2fd7410b496a78e349acea7c?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Enjo Flash",
      "link" : "https://stackoverflow.com/users/4857470/enjo-flash"
    },
    "creation_date" : 1758027255,
    "last_activity_date" : 1760962811,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ ],
  "answer_comments" : {
    "79765274" : [ {
      "comment_id" : 140739161,
      "post_id" : 79765274,
      "body" : "Can you be a bit more specific? <i>What</i> isn&#39;t working? The only thing that can go wrong is when there actually is no <code>&lt;script&gt;</code> element - in that case you will end up with an NPE because <code>first()</code> returns null. But you said there is, so that cannot be the issue (still, you should handle null gracefully, but that isn&#39;t part of the question).",
      "score" : 0,
      "owner" : {
        "account_id" : 8120254,
        "reputation" : 20887,
        "user_id" : 6216216,
        "user_type" : "registered",
        "profile_image" : "https://www.gravatar.com/avatar/e8c2dc279acf2025292412366e8eb72a?s=256&d=identicon&r=PG&f=y&so-version=2",
        "display_name" : "tyg",
        "link" : "https://stackoverflow.com/users/6216216/tyg"
      },
      "creation_date" : 1758016600,
      "content_license" : "CC BY-SA 4.0"
    }, {
      "comment_id" : 140738598,
      "post_id" : 79765274,
      "body" : "String content = scriptElements.first().data(); doesn&#39;t work",
      "score" : 0,
      "owner" : {
        "account_id" : 6245327,
        "reputation" : 6,
        "user_id" : 4857470,
        "user_type" : "registered",
        "profile_image" : "https://www.gravatar.com/avatar/dfb580cb2fd7410b496a78e349acea7c?s=256&d=identicon&r=PG&f=y&so-version=2",
        "display_name" : "Enjo Flash",
        "link" : "https://stackoverflow.com/users/4857470/enjo-flash"
      },
      "creation_date" : 1758000066,
      "content_license" : "CC BY-SA 4.0"
    } ]
  }
}