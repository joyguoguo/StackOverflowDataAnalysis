{
  "question" : {
    "question_id" : 79578607,
    "title" : "Flappybird pipes generating wrong and losing lives when making through gap and gapHeight doesn&#39;t decrease gap distance",
    "body" : "<p>Creating a processing flappybird game for class there are multiple tabs not sure if they're needed for the solution to this but my gapHeight when changed doesn't seem to change the distance between pipes and the pipes aren't generating correctly as they appear off screen at times and when I make it through the gap it will still say game over here is the code:</p>\n<pre><code>class FlappyBird extends MiniGame {\n  PVector birdPosition;\n  boolean gameOver = false;\n  boolean objectiveComplete = false;\n  boolean passedPipe = false;\n  ArrayList&lt;PVector&gt; pipes;\n  float pipeWidth = 50;\n  float gapHeight = 200;\n  float pipeSpeed = 10;\n\n  FlappyBird(boolean objStart, String name, double timerLength) {\n    super(objStart, name, timerLength);\n    birdPosition = new PVector(100, height / 2);\n    pipes = new ArrayList&lt;PVector&gt;();\n    spawnPipes();\n  }\n\n  public void reset() {\n    super.reset();\n    birdPosition.set(100, height / 2);\n    pipes.clear();\n    spawnPipes();\n    gameOver = false;\n    objectiveComplete = false;\n    passedPipe = false;\n  }\n\n  public void play() {\n    super.play();\n\n    if (!gameOver) {\n      if (config.keys[2]) { \n        birdPosition.y -= 15;\n      }\n\n      if (config.keys[4]) {\n        birdPosition.y += 15;\n      }\n\n      if (birdPosition.y &lt; 0) {\n        birdPosition.y = 0;\n      }\n\n      if (birdPosition.y &gt; height) {\n        birdPosition.y = height;\n      }\n\n      for (int i = pipes.size() - 1; i &gt;= 0; i--) {\n        pipes.get(i).x -= pipeSpeed;\n\n        if (pipes.get(i).x + pipeWidth &lt; birdPosition.x &amp;&amp; !objectiveComplete &amp;&amp; !passedPipe) {\n          this.passedPipe = true;\n          this.objectiveComplete = true;\n        }\n\n        if (pipes.get(i).x + pipeWidth &lt; 0) {\n          pipes.remove(i);\n        }\n      }\n\n      for (PVector pipe : pipes) {\n        if (birdPosition.x + 50 &gt; pipe.x &amp;&amp; birdPosition.x - 50 &lt; pipe.x + pipeWidth) {\n          if (birdPosition.y - 20 &lt; pipe.y || birdPosition.y + 20 &gt; pipe.y + gapHeight) {\n            gameOver = true;\n          }\n        }\n      }\n    }\n\n    if (gameOver) {\n      background(0, 255, 0);\n      textSize(50);\n      textAlign(CENTER);\n      fill(255);\n      text(&quot;fail&quot;, width / 2, height / 2);\n    } else {\n      background(0);\n      drawRocket(birdPosition.x, birdPosition.y);\n\n      fill(0, 255, 0);\n      for (PVector pipe : pipes) {\n        rect(pipe.x, 0, pipeWidth, pipe.y);\n        rect(pipe.x, pipe.y + gapHeight, pipeWidth, height - pipe.y - gapHeight);\n      }\n    }\n  }\n\n  private void drawRocket(float x, float y) {\n    pushMatrix();\n    translate(x, y);\n    fill(255);\n    rectMode(CENTER);\n    rect(0, 0, 100, 40);\n    fill(255, 0, 0);\n    triangle(50, -20, 50, 20, 80, 0);\n    fill(255, 0, 0);\n    triangle(-50, 20, -50, 40, -30, 20);\n    triangle(-50, -20, -50, -40, -30, -20);\n    fill(0, 0, 255);\n    ellipse(10, 0, 20, 20);\n    popMatrix();\n  }\n\n  private void spawnPipes() {\n    float topPipeHeight = random(50, height - gapHeight - 200);\n    pipes.add(new PVector(width, topPipeHeight));\n  }\n}\n</code></pre>\n<p>Tried changing gapHeight's # and creating a this.objectiveComplete == true to show a you win screen and not take a life but ended up only bugging it</p>\n",
    "tags" : [ "java", "processing", "game-development" ],
    "owner" : {
      "account_id" : 41451936,
      "reputation" : 1,
      "user_id" : 30296204,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/5349ed9657d522c43d9b50d50008d1c8?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "justin",
      "link" : "https://stackoverflow.com/users/30296204/justin"
    },
    "is_answered" : false,
    "view_count" : 49,
    "answer_count" : 0,
    "score" : 0,
    "last_activity_date" : 1744871304,
    "creation_date" : 1744871304,
    "link" : "https://stackoverflow.com/questions/79578607/flappybird-pipes-generating-wrong-and-losing-lives-when-making-through-gap-and-g",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ ],
  "question_comments" : [ ],
  "answer_comments" : { }
}