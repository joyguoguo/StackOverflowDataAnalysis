{
  "question" : {
    "question_id" : 79719773,
    "title" : "Avoid extra characters generated by JFugue&#39;s MidiParser",
    "body" : "<p>I need to turn a midi sequence into a jfugue's music string.</p>\n<p>I am using this code</p>\n<pre><code>public String getMusicStringFromSequence(Sequence sequence) {\n        MidiParser parser = new MidiParser();\n        StaccatoParserListener listener = new StaccatoParserListener();\n        parser.addParserListener(listener);\n        parser.parse(sequence);\n        return listener.getPattern().toString();\n    }\n</code></pre>\n<p>The problem is that i get strings like</p>\n<pre><code>Eb6ia76 Eb6ia76 Eb6ia76 Eb6ha76 B5ia102 G5ia102 \n</code></pre>\n<p>With unwanted extra characters after notes (a76, a102). Is there a way to avoid these extra characters?</p>\n",
    "tags" : [ "java", "jfugue" ],
    "owner" : {
      "account_id" : 9572330,
      "reputation" : 1018,
      "user_id" : 7930987,
      "user_type" : "registered",
      "accept_rate" : 50,
      "profile_image" : "https://i.sstatic.net/6MZy4.jpg?s=256",
      "display_name" : "BabaNew",
      "link" : "https://stackoverflow.com/users/7930987/babanew"
    },
    "is_answered" : true,
    "view_count" : 57,
    "answer_count" : 1,
    "score" : 1,
    "last_activity_date" : 1754147706,
    "creation_date" : 1753870169,
    "link" : "https://stackoverflow.com/questions/79719773/avoid-extra-characters-generated-by-jfugues-midiparser",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79723455,
    "question_id" : 79719773,
    "body" : "<p>The characters you see are a result of JFugue producing an accurate Staccato string that represents the music in the Sequence. Specifically, 'a' followed by a value is the MIDI Note On Velocity.</p>\n<p>One way around this is to use getTokens() on the Pattern and, for each token that has getType() of TokenType.NOTE, use one of the variety of toXxxString() or getXxxString() methods on Note to get strings that focus on a variety of properties of the Note.</p>\n",
    "score" : 1,
    "is_accepted" : true,
    "owner" : {
      "account_id" : 1636,
      "reputation" : 20877,
      "user_id" : 2197,
      "user_type" : "registered",
      "accept_rate" : 76,
      "profile_image" : "https://www.gravatar.com/avatar/594ce48419604cfc222d377f49d65975?s=256&d=identicon&r=PG",
      "display_name" : "David Koelle",
      "link" : "https://stackoverflow.com/users/2197/david-koelle"
    },
    "creation_date" : 1754147706,
    "last_activity_date" : 1754147706,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140637287,
    "post_id" : 79719773,
    "body" : "I don&#39;t think there is a way to avoid them, but you could remove them using string regex replacement, or (possibly) by iterating the tokens in the pattern and reconstructing the note tokens with velocity decorators removed.",
    "score" : 1,
    "owner" : {
      "account_id" : 47283,
      "reputation" : 723470,
      "user_id" : 139985,
      "user_type" : "registered",
      "accept_rate" : 69,
      "profile_image" : "https://www.gravatar.com/avatar/147c5a9cc1feec049c50da791ac7d144?s=256&d=identicon&r=PG",
      "display_name" : "Stephen C",
      "link" : "https://stackoverflow.com/users/139985/stephen-c"
    },
    "creation_date" : 1754134221,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140637276,
    "post_id" : 79719773,
    "body" : "Those unwanted characters are apparently velocity decorators (representing in this case the &quot;attack&quot;.)",
    "score" : 0,
    "owner" : {
      "account_id" : 47283,
      "reputation" : 723470,
      "user_id" : 139985,
      "user_type" : "registered",
      "accept_rate" : 69,
      "profile_image" : "https://www.gravatar.com/avatar/147c5a9cc1feec049c50da791ac7d144?s=256&d=identicon&r=PG",
      "display_name" : "Stephen C",
      "link" : "https://stackoverflow.com/users/139985/stephen-c"
    },
    "creation_date" : 1754133729,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}