{
  "question" : {
    "question_id" : 79760073,
    "title" : "Wrong pom location (and project structure) causing startup issues on Spring Boot",
    "body" : "<p>I am trying to deploy my Spring Boot project on Railway with nixpacks. In order to build nixpacks, the pom file needs to be located at the root of the project. Here's the problem:</p>\n<p>In order to test my project locally, I run this command through VS Code interface.</p>\n<pre><code>c:; cd 'c:\\Users\\usuario\\Documents\\Proyectos\\Workline\\Workline-BackEnd'; \n&amp; 'C:\\Program Files\\Java\\jdk-21\\bin\\java.exe' '-XX:+ShowCodeDetailsInExceptionMessages' \n'-cp' 'C:\\Users\\usuario\\AppData\\Roaming\\Code\\User\\workspaceStorage\\32c394f384e4105ee1d100916b7c5ed0\\redhat.java\\jdt_ws\\jdt.ls-java-project\\bin' \n'com.example.demo.DemoApplication' \n</code></pre>\n<p>Which runs fine when the pom is in the wrong location:</p>\n<pre><code>C:.\n│   .env\n│   .gitignore\n│   logback-spring.xml\n│   mvnw\n│   mvnw.cmd\n│\n├───.mvn\n│   └───wrapper\n│           maven-wrapper.properties\n│\n├───.vscode\n│       settings.json\n│\n└───demo\n    │   pom.xml **THIS SHOULD NOT BE HERE**\n    │\n    ├───src\n    │   ├───main\n    │   │   ├───java\n    │   │   │   └───com\n    │   │   │       └───example\n    │   │   │           └───demo\n    │   │   │               │   DemoApplication.java\n    │   │   │               │\n    │   │   │               ├───config\n    │   │   │               │       // config files ...\n    │   │   │               │\n    │   │   │               ├───controllers\n    │   │   │               │       // Project controllers ...\n    │   │   │               │\n    │   │   │               ├───domain\n    │   │   │               │   │   // Project entities ....\n    │   │   │               │\n    │   │   │               ├───exceptions\n    │   │   │               │   ├───controllers\n    │   │   │               │   │       // Exception controllers ...\n    │   │   │               │\n    │   │   │               ├───repositories\n    │   │   │               │       // Repositories ...\n    │   │   │               └───services\n    │   │   │                   │   // Entity services ...\n    │   │   │                   │\n    │   │   │                   ├───auth\n    │   │   │                   │   // Auth services ...\n    │   │   │                   │\n    │   │   │                   ├─── // More entity subfolders\n    │   │   │\n    │   │   └───resources\n    │   │       │   application.properties\n    │   │       │\n    │   │       ├───static\n    │   │       │\n    │   │       └───templates\n    │   │           \n    │   │\n    │   └───test\n    │       └───java\n    │           └───com\n    │               └───example\n    │                   └───demo\n    │                           // Test files\n    │\n    └───target\n        ├───classes\n        │   └───com\n        │       └───example\n        │           └───demo\n        │               │   DemoApplication.class\n        │               │   // Class files \n        │\n        ├───generated-sources\n        │   └───annotations\n        ├───generated-test-sources\n        │   └───test-annotations\n        └───test-classes\n            └───com\n                └───example\n                    └───demo\n                            // Class test files\n</code></pre>\n<p>But if I move the pom file to the project root, the same command won't read the dependencies from pom. How can I fix it? I already tried relocating the <code>src</code> and <code>target</code> folders to the root, and it won't read the pom file either.</p>\n<p>Edit: pom file to show build details</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.2.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;21&lt;/java.version&gt;\n    &lt;/properties&gt;\n    // List of dependencies including starter-web, starter-jpa ...\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.11.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;release&gt;17&lt;/release&gt;\n                    &lt;annotationProcessorPaths&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                            &lt;version&gt;1.18.28&lt;/version&gt;\n                        &lt;/path&gt;\n                    &lt;/annotationProcessorPaths&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n",
    "tags" : [ "java", "spring", "spring-boot", "maven", "nixpacks" ],
    "owner" : {
      "account_id" : 41223391,
      "reputation" : 50,
      "user_id" : 30183592,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/e8c81589f93343dece0cdbf4413bd577?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Horacio Garc&#237;a Magallanes",
      "link" : "https://stackoverflow.com/users/30183592/horacio-garc%c3%ada-magallanes"
    },
    "is_answered" : true,
    "view_count" : 112,
    "answer_count" : 1,
    "score" : -1,
    "last_activity_date" : 1757446338,
    "creation_date" : 1757433628,
    "link" : "https://stackoverflow.com/questions/79760073/wrong-pom-location-and-project-structure-causing-startup-issues-on-spring-boot",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79760222,
    "question_id" : 79760073,
    "body" : "<p>You should try this file order/configuration</p>\n<pre><code>Project Foler\n│   pom.xml\n│   mvnw\n│   mvnw.cmd\n│   .gitignore\n│   logback-spring.xml\n│\n├───.mvn\n│   └───wrapper\n│\n├───src\n│   ├───main\n│   │   ├───java\n│   │   │   └───com\n│   │   │       └───example\n│   │   │           └───demo\n│   │   │               DemoApplication.java\n│   │   │               ...etc\n│   │   └───resources\n│   │       application.properties\n│   │       ...etc\n│   └───test\n│       └───java\n│           └───com.example.demo\n│\n└───target\n</code></pre>\n<p>Here's what you should try to do:</p>\n<p>Move <code>demo/src</code> to <code>src</code></p>\n<p>Delete <code>demo/target</code> (Maven will regenerate)</p>\n<p>Move <code>demo/pom.xml</code> to <code>pom.xml</code></p>\n<p>Delete or leave empty the <code>demo</code> folder (or maybe make demo your root folder and put everything in it).</p>\n<p>After that run:</p>\n<pre><code>mvnw clean package\n</code></pre>\n<p>Laso, delete <code>.vscode/settings.json</code> and let VS Code recreate it.</p>\n<p>Or open the command palette: <code>Java: Clean Java Language Server Workspace</code>.</p>\n<p>Otherwise making <code>demo</code> a submodule could <strong>maybe</strong> do the trick:</p>\n<pre><code>&lt;modules&gt;\n    &lt;module&gt;demo&lt;/module&gt;\n  &lt;/modules&gt;\n</code></pre>\n",
    "score" : 2,
    "is_accepted" : true,
    "owner" : {
      "user_type" : "does_not_exist",
      "display_name" : "user17466897"
    },
    "creation_date" : 1757446338,
    "last_activity_date" : 1757446338,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ ],
  "answer_comments" : {
    "79760222" : [ {
      "comment_id" : 140727448,
      "post_id" : 79760222,
      "body" : "Your advice compiled the project and it runs, but only using mvn spring-boot:run instead of vscode command (c:; cd &#39;c:\\Users\\usuario\\Documents\\Proyectos\\Workline\\Workline-Back&zwnj;&#8203;End&#39;; &amp; &#39;C:\\Program Files\\Java\\jdk-21\\bin\\java.exe&#39; &#39;-XX:+ShowCodeDetailsInExceptionMessages&#39; &#39;-cp&#39; &#39;C:\\Users\\usuario\\AppData\\Roaming\\Code\\User\\workspaceStorage&zwnj;&#8203;\\72c871b85a2cee706f4&zwnj;&#8203;27eb1009f4275\\redhat&zwnj;&#8203;.java\\jdt_ws\\jdt.ls-&zwnj;&#8203;java-project\\bin&#39; &#39;com.example.demo.DemoApplication&#39; ). Anyways, thank you so much for your help",
      "score" : 0,
      "owner" : {
        "account_id" : 41223391,
        "reputation" : 50,
        "user_id" : 30183592,
        "user_type" : "registered",
        "profile_image" : "https://www.gravatar.com/avatar/e8c81589f93343dece0cdbf4413bd577?s=256&d=identicon&r=PG&f=y&so-version=2",
        "display_name" : "Horacio Garc&#237;a Magallanes",
        "link" : "https://stackoverflow.com/users/30183592/horacio-garc%c3%ada-magallanes"
      },
      "creation_date" : 1757528237,
      "content_license" : "CC BY-SA 4.0"
    } ]
  }
}