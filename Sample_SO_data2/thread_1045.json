{
  "question" : {
    "question_id" : 79752591,
    "title" : "How to remove ns2 from a sitemap xml?",
    "body" : "<p>I am trying to generate a proper sitemap in a Spring Boot with Java but it creates &quot;ns2&quot; that I don't want. Is it possible to remove?</p>\n<p>My generated xml is as following:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\n&lt;ns2:sitemapindex xmlns:ns2=&quot;http://www.sitemaps.org/schemas/sitemap/0.9&quot;&gt;\n    &lt;sitemap&gt;\n        &lt;loc&gt;http://localhost:8080/api/listings/1.xml&lt;/loc&gt;\n    &lt;/sitemap&gt;\n    &lt;sitemap&gt;\n        &lt;loc&gt;http://localhost:8080/api/listings/2.xml&lt;/loc&gt;\n    &lt;/sitemap&gt;\n&lt;/ns2:sitemapindex&gt;\n</code></pre>\n<p>But I want it to look like the following one:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;sitemapindex xmlns=&quot;http://www.sitemaps.org/schemas/sitemap/0.9&quot;&gt;\n    &lt;sitemap&gt;\n        &lt;loc&gt;http://localhost:8080/api/listings/1.xml&lt;/loc&gt;\n    &lt;/sitemap&gt;\n    &lt;sitemap&gt;\n        &lt;loc&gt;http://localhost:8080/api/listings/2.xml&lt;/loc&gt;\n    &lt;/sitemap&gt;\n&lt;/sitemapindex&gt;\n</code></pre>\n<p>Is it achievable?</p>\n<p>I have the following classes:</p>\n<p><code>XmlUrl.java</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import jakarta.xml.bind.annotation.XmlAccessType;\nimport jakarta.xml.bind.annotation.XmlAccessorType;\nimport jakarta.xml.bind.annotation.XmlElement;\nimport jakarta.xml.bind.annotation.XmlRootElement;\nimport lombok.Data;\n\n@Data\n@XmlAccessorType(value = XmlAccessType.NONE)\n@XmlRootElement(name = &quot;sitemap&quot;)\npublic class XmlUrl {\n    @XmlElement\n    private String loc;\n}\n</code></pre>\n<p><code>XmlUrlSet.java</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import jakarta.xml.bind.annotation.*;\nimport lombok.Data;\n\nimport java.util.ArrayList;\nimport java.util.Collection;\n\n@Data\n@XmlAccessorType(value = XmlAccessType.NONE)\n@XmlRootElement(name = &quot;sitemapindex&quot;, namespace = &quot;http://www.sitemaps.org/schemas/sitemap/0.9&quot;)\npublic class XmlUrlSet {\n    @XmlElements({@XmlElement(name = &quot;sitemap&quot;, type = XmlUrl.class)})\n    private Collection&lt;XmlUrl&gt; xmlUrls = new ArrayList&lt;XmlUrl&gt;();\n}\n</code></pre>\n<p><code>package-info.java</code> is located next to the <code>SpringBootApplication.java</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@XmlSchema(\n        namespace = &quot;http://www.sitemaps.org/schemas/sitemap/0.9&quot;,\n        elementFormDefault = XmlNsForm.QUALIFIED,\n        xmlns = @XmlNs(namespaceURI = &quot;http://www.sitemaps.org/schemas/sitemap/0.9&quot;, prefix = &quot;&quot;))\npackage com.example.test;\n\nimport jakarta.xml.bind.annotation.XmlNsForm;\nimport jakarta.xml.bind.annotation.XmlNs;\nimport jakarta.xml.bind.annotation.XmlSchema;\n</code></pre>\n<p><code>SitemapService.java</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class SitemapService {\n\n    public XmlUrlSet getAllSitemaps() {\n        XmlUrlSet xmlUrlSet = new XmlUrlSet();\n        Collection&lt;XmlUrl&gt; xmlUrls = new ArrayList&lt;XmlUrl&gt;();\n\n        XmlUrl xmlUrl1 = new XmlUrl();\n        xmlUrl1.setLoc(&quot;http://localhost:8080/api/listings/1.xml&quot;);\n        xmlUrls.add(xmlUrl1);\n\n        XmlUrl xmlUrl2 = new XmlUrl();\n        xmlUrl2.setLoc(&quot;http://localhost:8080/api/listings/2.xml&quot;);\n        xmlUrls.add(xmlUrl2);\n\n        xmlUrlSet.setXmlUrls(xmlUrls);\n        return xmlUrlSet;\n    }\n}\n</code></pre>\n",
    "tags" : [ "java", "xml", "spring-boot", "sitemap" ],
    "owner" : {
      "account_id" : 83131,
      "reputation" : 9085,
      "user_id" : 233286,
      "user_type" : "registered",
      "accept_rate" : 73,
      "profile_image" : "https://i.sstatic.net/0ivuN.jpg?s=256",
      "display_name" : "ilhan",
      "link" : "https://stackoverflow.com/users/233286/ilhan"
    },
    "is_answered" : true,
    "view_count" : 117,
    "answer_count" : 1,
    "score" : 1,
    "last_activity_date" : 1756818858,
    "creation_date" : 1756733655,
    "link" : "https://stackoverflow.com/questions/79752591/how-to-remove-ns2-from-a-sitemap-xml",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79753543,
    "question_id" : 79752591,
    "body" : "<p>The default namespace is correctly defined in <code>package-info.java</code> with an empty <code>prefix</code>.</p>\n<pre><code>@XmlSchema(\n        namespace = &quot;http://www.sitemaps.org/schemas/sitemap/0.9&quot;,\n        elementFormDefault = XmlNsForm.QUALIFIED,\n        xmlns = @XmlNs(namespaceURI = &quot;http://www.sitemaps.org/schemas/sitemap/0.9&quot;, prefix = &quot;&quot;))\npackage com.example.test;\n</code></pre>\n<p>But <code>@XmlRootElement(name = &quot;sitemapindex&quot;, namespace = &quot;http://www.sitemaps.org/schemas/sitemap/0.9&quot;)</code> on <code>XmlUrlSet</code> is overwriting that definition and also applying the namespace to that element only leaving all descendants unqualified.<br />\nRemoving <code>namespace</code> from <code>@XmlRootelement</code> should give the expected result.</p>\n",
    "score" : 1,
    "is_accepted" : true,
    "owner" : {
      "account_id" : 3377022,
      "reputation" : 14393,
      "user_id" : 2834978,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/ff9af10001f37bc0de566ca2caf2f558?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "LMC",
      "link" : "https://stackoverflow.com/users/2834978/lmc"
    },
    "creation_date" : 1756818858,
    "last_activity_date" : 1756818858,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140708329,
    "post_id" : 79752591,
    "body" : "@LMC, thank you very much. It worked. Can you write it as an answer too?",
    "score" : 1,
    "owner" : {
      "account_id" : 83131,
      "reputation" : 9085,
      "user_id" : 233286,
      "user_type" : "registered",
      "accept_rate" : 73,
      "profile_image" : "https://i.sstatic.net/0ivuN.jpg?s=256",
      "display_name" : "ilhan",
      "link" : "https://stackoverflow.com/users/233286/ilhan"
    },
    "creation_date" : 1756795435,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140707479,
    "post_id" : 79752591,
    "body" : "The JAXB implementation most probably have a NamspacePrefixMapper class, so you need to get hold of the Marshaller used.",
    "score" : 2,
    "owner" : {
      "account_id" : 116746,
      "reputation" : 12898,
      "user_id" : 306030,
      "user_type" : "registered",
      "accept_rate" : 70,
      "profile_image" : "https://i.sstatic.net/y053l.jpg?s=256",
      "display_name" : "forty-two",
      "link" : "https://stackoverflow.com/users/306030/forty-two"
    },
    "creation_date" : 1756747174,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140707386,
    "post_id" : 79752591,
    "body" : "Try removing <code>namespace</code> from <code>@XmlRootElement(name = &quot;sitemapindex&quot;, namespace = &quot;http:&#47;&#47;www.sitemaps.org&#47;schemas&#47;sitemap&#47;0.9&quot;)</code> since it&#39;s already defined in package-info.java. Also, as it is, the namespace only applies to <code>stemapindex</code> element but should apply for all the elements given a default namespace on root element.",
    "score" : 1,
    "owner" : {
      "account_id" : 3377022,
      "reputation" : 14393,
      "user_id" : 2834978,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/ff9af10001f37bc0de566ca2caf2f558?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "LMC",
      "link" : "https://stackoverflow.com/users/2834978/lmc"
    },
    "creation_date" : 1756743816,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}