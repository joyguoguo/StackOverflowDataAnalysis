{
  "question" : {
    "question_id" : 79642082,
    "title" : "Allure Playwright not recording actions unless they are within step() or API requests",
    "body" : "<p>Allure reports from Playwright tests do not include actions taken outside of <code>step()</code> calls. For example,</p>\n<pre class=\"lang-java prettyprint-override\"><code>  step(\n    &quot;Menu navigation&quot;,\n    () -&gt; {\n      page.locator(&quot;a&quot;).filter(new locator.FilterOptions().setHasText(project)).first().click();\n      page.locator(&quot;a&quot;).filter(new Locator.FilterOptions().setHasText(struct)).first().click();\n      page.locator(&quot;a&quot;).filter(new Locator.FilterOptions().setHasText(management)).first().click();\n    });\n</code></pre>\n<p>Will result in these clicks showing up in the Test Body section, as one entry &quot;Menu Navigation&quot;.</p>\n<p>Omitting <code>step()</code> and simply using the locators:</p>\n<pre class=\"lang-java prettyprint-override\"><code>page.locator(&quot;a&quot;).filter(new locator.FilterOptions().setHasText(project)).first().click();\npage.locator(&quot;a&quot;).filter(new Locator.FilterOptions().setHasText(struct)).first().click();\npage.locator(&quot;a&quot;).filter(new Locator.FilterOptions().setHasText(management)).first().click();\n</code></pre>\n<p>Will result in the clicks being wholly absent from the report. What I need is for each click, each fill, each press and each url nav be recorded separately in Test Body.</p>\n<p>Parts of my <code>pom.xml</code> that I believe to hold relevant entities:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.14.0&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;release&gt;${java.release.version}&lt;/release&gt;\n          &lt;encoding&gt;${maven.source.encoding}&lt;/encoding&gt;\n          &lt;forceJavacCompilerUse&gt;true&lt;/forceJavacCompilerUse&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.1.2&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;test&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n        &lt;configuration&gt;\n          &lt;reuseForks&gt;true&lt;/reuseForks&gt;\n          &lt;forkCount&gt;2C&lt;/forkCount&gt;\n          &lt;excludedGroups&gt;none&lt;/excludedGroups&gt;\n          &lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\n          &lt;systemPropertyVariables&gt;\n            &lt;!-- redacted --&gt;\n          &lt;/systemPropertyVariables&gt;\n          &lt;argLine&gt;\n            -Dfile.encoding=${project.build.sourceEncoding}\n            -javaagent:&quot;${settings.localRepository}/org/aspectj/aspectjweaver/${aspectj.version}/aspectjweaver-${aspectj.version}.jar&quot;\n          &lt;/argLine&gt;\n          &lt;useSystemClassLoader&gt;false&lt;/useSystemClassLoader&gt;\n          &lt;properties&gt;\n            &lt;property&gt;\n              &lt;name&gt;listener&lt;/name&gt;\n            &lt;/property&gt;\n          &lt;/properties&gt;\n          &lt;suiteXmlFiles&gt;\n            &lt;suiteXmlFile&gt;${suite-xml}&lt;/suiteXmlFile&gt;\n          &lt;/suiteXmlFiles&gt;\n          &lt;argLine&gt;${argLine}&lt;/argLine&gt;\n        &lt;/configuration&gt;\n        &lt;dependencies&gt;\n          &lt;dependency&gt;\n            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n            &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\n            &lt;version&gt;${aspectj.version}&lt;/version&gt;\n          &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n      &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\n      &lt;artifactId&gt;allure-maven&lt;/artifactId&gt;\n      &lt;version&gt;2.15.2&lt;/version&gt;\n      &lt;configuration&gt;\n        &lt;reportVersion&gt;2.29.1&lt;/reportVersion&gt;\n      &lt;/configuration&gt;\n    &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.microsoft.playwright&lt;/groupId&gt;\n      &lt;artifactId&gt;playwright&lt;/artifactId&gt;\n      &lt;version&gt;1.49.0&lt;/version&gt;    \n    &lt;dependency&gt;\n      &lt;groupId&gt;org.testng&lt;/groupId&gt;\n      &lt;artifactId&gt;testng&lt;/artifactId&gt;\n      &lt;version&gt;7.10.2&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n      &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\n      &lt;version&gt;${aspectj.version}&lt;/version&gt;\n      &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;!-- allure --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\n      &lt;artifactId&gt;allure-testng&lt;/artifactId&gt;\n      &lt;version&gt;${allure.version}&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.github.uchagani&lt;/groupId&gt;\n      &lt;artifactId&gt;allure-playwright-java&lt;/artifactId&gt;\n      &lt;version&gt;1.1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n</code></pre>\n<p>This is a test project, a POC, so the test suite is very basic:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE suite SYSTEM &quot;https://testng.org/testng-1.0.dtd&quot;&gt;\n&lt;suite name=&quot;1. Test suite name&quot; verbose=&quot;1&quot; thread-count=&quot;1&quot; time-out=&quot;60000&quot;&gt;\n    &lt;test name=&quot;1. Test case name&quot;&gt;\n        &lt;classes&gt;\n            &lt;class name=&quot;tests.FirstTests&quot;/&gt;\n            &lt;class name=&quot;tests.SampleClassTests&quot;/&gt;\n        &lt;/classes&gt;\n    &lt;/test&gt;\n&lt;/suite&gt;\n</code></pre>\n<p>How to make Allure record every single Playwright action separately?</p>\n",
    "tags" : [ "java", "playwright", "allure", "playwright-java" ],
    "owner" : {
      "account_id" : 6144798,
      "reputation" : 863,
      "user_id" : 4791056,
      "user_type" : "registered",
      "accept_rate" : 52,
      "profile_image" : "https://lh3.googleusercontent.com/-bqHPOIJKwFg/AAAAAAAAAAI/AAAAAAAAAB4/dYsinW5LVhY/s256-rj/photo.jpg",
      "display_name" : "Petersaber",
      "link" : "https://stackoverflow.com/users/4791056/petersaber"
    },
    "is_answered" : false,
    "view_count" : 86,
    "answer_count" : 0,
    "score" : 0,
    "last_activity_date" : 1748786020,
    "creation_date" : 1748430577,
    "link" : "https://stackoverflow.com/questions/79642082/allure-playwright-not-recording-actions-unless-they-are-within-step-or-api-req",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ ],
  "question_comments" : [ ],
  "answer_comments" : { }
}