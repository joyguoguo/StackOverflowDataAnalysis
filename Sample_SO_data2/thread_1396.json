{
  "question" : {
    "question_id" : 79714947,
    "title" : "Create Java Project only lists maven-archetype-quickstart versions up to 1.4 (No 1.5)",
    "body" : "<p>I am in an offline (airgapped) environment at work. I cannot connect my dev machine to the internet.<br />\nI can get files onto the machine</p>\n<p>Operating system is Windows 11</p>\n<p>I have installed VS Code (1.100.0) and the latest versions (as of today) of the following extensions via VSIX install:</p>\n<ul>\n<li>Debugger for java</li>\n<li>Gradle for java</li>\n<li>Language support for java</li>\n<li>Maven for java</li>\n<li>Project manager for java</li>\n<li>Test runner for java</li>\n</ul>\n<p>I have maven and Oracle Java installed:</p>\n<pre><code>mvn -v\nNOTE: Picked up JDK_JAVA_OPTIONS: --add-modules=java.desktop --add-opens java.desktop/sun.awt=ALL-UNNAMED --add-opens java.desktop/sun.awt.image=ALL-UNNAMED --add-opens java.desktop/java.awt=ALL-UNNAMED\nPicked up JAVA_TOOL_OPTIONS: -agentlib:jvmhook\nPicked up _JAVA_OPTIONS: -Xrunjvmhook -Xbootclasspath/a:&quot;C:\\Program Files (x86)\\OpenText\\Functional Testing for Developers\\bin\\java_shared\\classes&quot;;&quot;C:\\Program Files (x86)\\OpenText\\Functional Testing for Developers\\bin\\java_shared\\classes\\jasmine.jar&quot;\nApache Maven 3.9.9 (8e8579a9e76f7d015ee5ec7bfcdc97d260186937)\nMaven home: C:\\Program Files\\apache-maven\nJava version: 21.0.7, vendor: Oracle Corporation, runtime: C:\\Program Files\\Java\\jdk-21\nDefault locale: en_GB, platform encoding: UTF-8\nOS name: &quot;windows 11&quot;, version: &quot;10.0&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;\n</code></pre>\n<p>I also have OpenText Functional Testing for Developers installed (Automated Test framework)</p>\n<p>I can get it all working just fine - I have a POC automation framework working and happily automating the AUT.</p>\n<p>However, When I go to &quot;Create Java Project&quot; and select &quot;Maven&quot; &gt; &quot;maven-archetype-quickstart&quot;, the latest available version is 1.4:</p>\n<p><a href=\"https://i.sstatic.net/28zld7M6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/28zld7M6.png\" alt=\"Create Java Project menu\" /></a></p>\n<p>If I do the same thing with same version of VS Code and Java on my personal machine, 1.5 is listed.</p>\n<p>Presumably this is something to do with the offline environment.<br />\nWe have a SonaType Nexus repository that is visible to the machine:</p>\n<p><a href=\"https://i.sstatic.net/Vvyez9th.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/Vvyez9th.png\" alt=\"enter image description here\" /></a></p>\n<p>This is intended to provide an offline mirror of Maven Central that we can pull dependencies from</p>\n<p>I have configured Maven's <code>settings.xml</code> to point to this repo:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;mirror&gt;\n            &lt;name&gt;remote-repos&lt;/name&gt;\n            &lt;url&gt;http://redacted.local:8081/content/groups/public/&lt;/url&gt;\n            &lt;id&gt;remote-repos&lt;/id&gt;\n            &lt;mirrorOf&gt;*,!redacted-snapshots,!snapshots&lt;/mirrorOf&gt;\n        &lt;/mirror&gt;\n</code></pre>\n<p>In the project creation menu for Eclipse, 1.5 is listed. If I rename my Maven folder (take it out of the path), then Eclipse no longer sees 1.5, (it sees a max of 1.1 or something IIRC). In that case, VS Code still sees up to 1.4 - no change.</p>\n<p>In VS Code, if I use the &quot;Clean&quot; and &quot;Install&quot; buttons:</p>\n<p><a href=\"https://i.sstatic.net/3KtfHhhl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/3KtfHhhl.png\" alt=\"enter image description here\" /></a></p>\n<p>I see it communicating with Nexus and downloading stuff, so it clearly seems to be able to see it.</p>\n<p>If I browse the Nexus web interface from the machine, I see the 1.5 archetype:</p>\n<p><a href=\"https://i.sstatic.net/vTN6Tto7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/vTN6Tto7.png\" alt=\"enter image description here\" /></a></p>\n<p>I tried pasting in the BOM for JUnit 5 into my 1.4 archetype project but I just could not get it to work.</p>\n<p>It's also worth noting that if I click the + in the Maven &quot;Dependencies&quot; widget:</p>\n<p><a href=\"https://i.sstatic.net/QLDCbYnZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/QLDCbYnZ.png\" alt=\"enter image description here\" /></a></p>\n<p>and type in the box:</p>\n<p><a href=\"https://i.sstatic.net/26IYX7bM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/26IYX7bM.png\" alt=\"enter image description here\" /></a></p>\n<p>I get no results.</p>\n<p>I did another POC for a different automation framework evaluation, and I swear while I was doing that I was able to pull dependencies using that menu, but that VM got deleted, so I cannot verify.</p>\n",
    "tags" : [ "java", "maven", "visual-studio-code", "maven-archetype", "offline-mode" ],
    "owner" : {
      "account_id" : 1099417,
      "reputation" : 512,
      "user_id" : 1092198,
      "user_type" : "registered",
      "accept_rate" : 29,
      "profile_image" : "https://www.gravatar.com/avatar/f52c3ce467c84b779c8d0d467deaa949?s=256&d=identicon&r=PG",
      "display_name" : "Clive Galway",
      "link" : "https://stackoverflow.com/users/1092198/clive-galway"
    },
    "is_answered" : true,
    "view_count" : 98,
    "answer_count" : 1,
    "score" : 1,
    "last_activity_date" : 1753606209,
    "creation_date" : 1753456831,
    "link" : "https://stackoverflow.com/questions/79714947/create-java-project-only-lists-maven-archetype-quickstart-versions-up-to-1-4-no",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79715816,
    "question_id" : 79714947,
    "body" : "<p>I'm no expert,so take this with a grain of salt,but you could try to creating a project via Maven CLI as a workaround. Something like:</p>\n<pre><code>mvn archetype:generate -DarchetypeGroupId=org.apache.maven.archetypes \\\n  -DarchetypeArtifactId=maven-archetype-quickstart \\\n  -DarchetypeVersion=1.5\n</code></pre>\n<p>You can then import it into VS Code.</p>\n<p>Also it's kinda weird that you can see the archetype in Nexus and not in VSCode,maybe clear VS Codeâ€™s archetype cache by deleting or resetting extension state, or by reinstalling extensions.You could try to delete or rename folders related to the extensions you want to refresh,it should be something like</p>\n<pre><code>%USERPROFILE%\\.vscode\\extensions    for Windows.\n</code></pre>\n<pre><code>~/.vscode/extensions for Linux\n</code></pre>\n",
    "score" : 1,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 30283641,
      "reputation" : 31,
      "user_id" : 23208086,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/wNdta.gif?s=256",
      "display_name" : "Gritcu Bogdan",
      "link" : "https://stackoverflow.com/users/23208086/gritcu-bogdan"
    },
    "creation_date" : 1753546007,
    "last_activity_date" : 1753546007,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140623352,
    "post_id" : 79714947,
    "body" : "When you create a project, the first thing you are asked is which build tool you want, and the problem is there. It&#39;s not until you select maven and pick the archetype that it actually creates the project, so I don&#39;t understand how which JDK you want to use can be defined before that point.",
    "score" : 0,
    "owner" : {
      "account_id" : 1099417,
      "reputation" : 512,
      "user_id" : 1092198,
      "user_type" : "registered",
      "accept_rate" : 29,
      "profile_image" : "https://www.gravatar.com/avatar/f52c3ce467c84b779c8d0d467deaa949?s=256&d=identicon&r=PG",
      "display_name" : "Clive Galway",
      "link" : "https://stackoverflow.com/users/1092198/clive-galway"
    },
    "creation_date" : 1753695909,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140621957,
    "post_id" : 79714947,
    "body" : "Of course the project has a JDK, as that provides javac and builds your code so that you can actually run it. If you generate a maven project ahead of time, that maven pom.xml likely explicitly defines the JDK version to use and may inform the caches that get built when opening the project.",
    "score" : 0,
    "owner" : {
      "account_id" : 14914414,
      "reputation" : 1185,
      "user_id" : 10808904,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/Ts8fIsJj.png?s=256",
      "display_name" : "Xavier Pedraza",
      "link" : "https://stackoverflow.com/users/10808904/xavier-pedraza"
    },
    "creation_date" : 1753633625,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140621601,
    "post_id" : 79714947,
    "body" : "But if it&#39;s a new project, how does the project have a JDK?   Also, if I generate a project using maven command-line as per the suggestion by Gritcu Bogdan below and open it with vscode, it works. Would that not rule that out?",
    "score" : 0,
    "owner" : {
      "account_id" : 1099417,
      "reputation" : 512,
      "user_id" : 1092198,
      "user_type" : "registered",
      "accept_rate" : 29,
      "profile_image" : "https://www.gravatar.com/avatar/f52c3ce467c84b779c8d0d467deaa949?s=256&d=identicon&r=PG",
      "display_name" : "Clive Galway",
      "link" : "https://stackoverflow.com/users/1092198/clive-galway"
    },
    "creation_date" : 1753618185,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140618633,
    "post_id" : 79714947,
    "body" : "Is it possible that <code>1.5</code> uses a class file version that is too recent for the project JDK? IDEA and other tools will often treat missing and incompatible dependencies similarly.",
    "score" : 0,
    "owner" : {
      "account_id" : 14914414,
      "reputation" : 1185,
      "user_id" : 10808904,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/Ts8fIsJj.png?s=256",
      "display_name" : "Xavier Pedraza",
      "link" : "https://stackoverflow.com/users/10808904/xavier-pedraza"
    },
    "creation_date" : 1753459321,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : {
    "79715816" : [ {
      "comment_id" : 140621379,
      "post_id" : 79715816,
      "body" : "I tried reinstalling extensions already, it&#39;s not that.    OS is Windows, I edited the OP to reflect that.    The create via command-line technique worked! It pulled it via Nexus - so clearly, yeah, it appears to be a VSCode specific issue.  I also now see 1.5 in my .m2 folder on my machine.  However, doing create project in vscode still does not show 1.5 in the list.  Thankyou! At least this is a workaround for the time being, and gives me some food for thought",
      "score" : 0,
      "owner" : {
        "account_id" : 1099417,
        "reputation" : 512,
        "user_id" : 1092198,
        "user_type" : "registered",
        "accept_rate" : 29,
        "profile_image" : "https://www.gravatar.com/avatar/f52c3ce467c84b779c8d0d467deaa949?s=256&d=identicon&r=PG",
        "display_name" : "Clive Galway",
        "link" : "https://stackoverflow.com/users/1092198/clive-galway"
      },
      "creation_date" : 1753606721,
      "content_license" : "CC BY-SA 4.0"
    } ]
  }
}