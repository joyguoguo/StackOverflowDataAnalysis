{
  "question" : {
    "question_id" : 79783812,
    "title" : "Troubleshooting Flyway dep upgrade 8.5.13 -&gt; 11.3.4 (Spring)",
    "body" : "<p>I get this CI/CD error after I updated the POM file to a newer version:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:compile (default-compile) on project redacted: Compilation failure: Compilation failure:\n[ERROR] /builds/ZHxiFWMPd/0/redacted/support/redacted/src/main/java/redacted/redacted/redacted/redacted/config/FlywayMigrationStrategyImpl.java:[3,25] cannot access org.flywaydb.core.Flyway\n[ERROR]   bad class file: /builds/ZHxiFWMPd/0/redacted/support/redacted/.m2/repository/org/flywaydb/flyway-core/11.3.4/flyway-core-11.3.4.jar(/org/flywaydb/core/Flyway.class)\n[ERROR]     class file has wrong version 61.0, should be 55.0\n[ERROR]     Please remove or make sure it appears in the correct subdirectory of the classpath.\n[ERROR] /builds/ZHxiFWMPd/0/redacted/support/redacted/src/main/java/redacted/redacted/redacted/redacted/config/FlywayMigrationStrategyImpl.java:[14,25] cannot find symbol\n[ERROR]   symbol:   class Flyway\n[ERROR]   location: class redacted.redacted.redacted.edge.config.FlywayMigrationStrategyImpl\n[ERROR] -&gt; [Help 1]\n</code></pre>\n<p>It seems the error is stemming from the flyway class below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package redacted.redacted.redacted.redacted.config;\n\nimport org.flywaydb.core.Flyway;\nimport org.springframework.boot.autoconfigure.flyway.FlywayMigrationStrategy;\nimport org.springframework.stereotype.Component;\n\n/**\n * Custom class to allow Flyway &gt;= 7.x.x to work correctly with Spring Boot 2.3.x Note: This should\n * be updated if we ever update Spring Boot to a version that supports Flyway &gt;= 7.x.x\n */\n@Component\npublic class FlywayMigrationStrategyImpl implements FlywayMigrationStrategy {\n    @Override\n    public void migrate(Flyway flyway) {\n        flyway.migrate();\n    }\n}\n</code></pre>\n<p>Any idea of how to update the class to get it to compile? The only other problem I can think is there is a problem with the class path.</p>\n",
    "tags" : [ "java", "spring", "spring-boot", "maven", "flyway" ],
    "owner" : {
      "account_id" : 25556748,
      "reputation" : 45,
      "user_id" : 19340123,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/IIHQX.png?s=256",
      "display_name" : "Njhasty",
      "link" : "https://stackoverflow.com/users/19340123/njhasty"
    },
    "is_answered" : true,
    "view_count" : 119,
    "closed_date" : 1759817806,
    "answer_count" : 1,
    "score" : -1,
    "last_activity_date" : 1759831912,
    "creation_date" : 1759761560,
    "link" : "https://stackoverflow.com/questions/79783812/troubleshooting-flyway-dep-upgrade-8-5-13-11-3-4-spring",
    "closed_reason" : "Not suitable for this site"
  },
  "answers" : [ {
    "answer_id" : 79783833,
    "question_id" : 79783812,
    "body" : "<blockquote>\n<p>class file has wrong version 61.0, should be 55.0</p>\n</blockquote>\n<p>I assume that your project is running on Java 11 but the version of Flyway expects at least Java 17 probably.  You can either downgrade Flyway to align with Java 11, or you can upgrade your microservice to Java 17</p>\n<blockquote>\n<p>Supported Java Versions Java JDK 17+</p>\n</blockquote>\n<p><a href=\"https://documentation.red-gate.com/fd/api-java-277579358.html\" rel=\"nofollow noreferrer\">https://documentation.red-gate.com/fd/api-java-277579358.html</a></p>\n<blockquote>\n<p>Deprecated Java 8. Java 17 is now required for development.</p>\n</blockquote>\n<p><a href=\"https://www.componentsource.com/product/flyway/releases/2800006\" rel=\"nofollow noreferrer\">https://www.componentsource.com/product/flyway/releases/2800006</a></p>\n",
    "score" : 4,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 10463559,
      "reputation" : 2718,
      "user_id" : 7713562,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/JhIYm.png?s=256",
      "display_name" : "zawarudo",
      "link" : "https://stackoverflow.com/users/7713562/zawarudo"
    },
    "creation_date" : 1759763754,
    "last_activity_date" : 1759831879,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140779943,
    "post_id" : 79783812,
    "body" : "This has nothing to do with flyway, is all about JDK.",
    "score" : 1,
    "owner" : {
      "account_id" : 1046868,
      "reputation" : 5367,
      "user_id" : 1051677,
      "user_type" : "registered",
      "accept_rate" : 100,
      "profile_image" : "https://www.gravatar.com/avatar/662f409b812848562fa7a07d1988b1c2?s=256&d=identicon&r=PG",
      "display_name" : "Silviu Burcea",
      "link" : "https://stackoverflow.com/users/1051677/silviu-burcea"
    },
    "creation_date" : 1759766150,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}