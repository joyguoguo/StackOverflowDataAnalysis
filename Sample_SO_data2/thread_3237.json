{
  "question" : {
    "question_id" : 79565781,
    "title" : "Why is this throwing a number format exception",
    "body" : "<p>I'm working on a simple mortgage calculator right now cause I'm new to coding and not very good at it I'm trying to get ask the user how big the loan is so I'm trying to user Number.format for currency so I can set it up as a currency</p>\n<p>What I'm trying right now looks like this</p>\n<pre><code>NumberFormat percent = NumberFormat.getPercentInstance();\nNumberFormat currency = NumberFormat.getCurrencyInstance();\nScanner scanner = new Scanner(System.in);\n\n\nSystem.out.print(&quot;How big is your loan: &quot;);\nint loanSize = Integer.parseInt(currency.format(scanner.nextInt()));`\n</code></pre>\n<p>This is returning</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;$1,000,000.00&quot;\n    at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67)\n    at java.base/java.lang.Integer.parseInt(Integer.java:588)\n    at java.base/java.lang.Integer.parseInt(Integer.java:685)\n    at Main.main(Main.java:23)`\n</code></pre>\n<p>What I excepted is that it would take the users input which starts as a string and parse it to an integer then as the user was putting in the input (Ex: 1000000) it would format it to look like a currency (If there are any problems with how im asking sorry this is my first time asking a question on stack overflow)</p>\n",
    "tags" : [ "java", "input", "numberformatexception" ],
    "owner" : {
      "account_id" : 41156045,
      "reputation" : 1,
      "user_id" : 30148903,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/3c532b044a3d8fd0485ced680587be4b?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "kenneth templeton",
      "link" : "https://stackoverflow.com/users/30148903/kenneth-templeton"
    },
    "is_answered" : true,
    "view_count" : 121,
    "answer_count" : 2,
    "score" : -1,
    "last_activity_date" : 1744270074,
    "creation_date" : 1744262780,
    "link" : "https://stackoverflow.com/questions/79565781/why-is-this-throwing-a-number-format-exception",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79565890,
    "question_id" : 79565781,
    "body" : "<pre><code>NumberFormat percent = NumberFormat.getPercentInstance(); \nNumberFormat currency = NumberFormat.getCurrencyInstance(); \nScanner scanner = new Scanner(System.in); \n\nSystem.out.print(&quot;How big is your loan: &quot;); \nint loanSize = scanner.nextInt(); \n\nSystem.out.println(&quot;Your loan amount is: &quot; + currency.format(loanSize));\n</code></pre>\n<p>You're trying to format a number as currency and then parse it back as an integer, which doesn't work because currency formatting adds symbols and commas that can't be parsed as integers.</p>\n<p>Let me explain what's happening:</p>\n<ol>\n<li><p><code>scanner.nextInt()</code> reads an integer from user input</p>\n</li>\n<li><p><code>currency.format()</code> converts that integer to a formatted currency string (e.g., &quot;$1,000.00&quot;)</p>\n</li>\n<li><p><code>Integer.parseInt()</code> tries to convert that currency string back to an integer, which fails because it can't parse &quot;$1,000.00&quot; as an integer</p>\n</li>\n</ol>\n",
    "score" : 2,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 18504694,
      "reputation" : 184,
      "user_id" : 13481265,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/4340659e4bdbadc3f75acd0c83558921?s=256&d=identicon&r=PG",
      "display_name" : "Lucifer",
      "link" : "https://stackoverflow.com/users/13481265/lucifer"
    },
    "creation_date" : 1744267174,
    "last_activity_date" : 1744267174,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "answer_id" : 79565981,
    "question_id" : 79565781,
    "body" : "<p>Still seems, no input was mentioned, conversion from String to Number.</p>\n<pre><code>String loanText;\n\nloanText = currency.format(1_000_000L);\nSystem.out.printf(&quot;You can loan upto %s.%n&quot;, loanText);\n\nloanText = currency.format(1_000_000.02);\nSystem.out.printf(&quot;You can loan upto %s.%n&quot;, loanText);\n\ntry {\n    Number loan;\n  \n    loanText = &quot;$1,000,000.00&quot;;\n    loan = currency.parse(loanText);\n    System.out.printf(&quot;Loan: %s (%s).%n&quot;, loan, loan.getClass().getSimpleName());\n\n    loanText = &quot;$1,000,000.02&quot;;\n    loan = currency.parse(loanText);\n    System.out.printf(&quot;Loan: %s (%s).%n&quot;, loan, loan.getClass().getSimpleName());\n} catch (ParseException ex) {\n    System.out.println(ex);\n}\n</code></pre>\n<p>Depending on the decimals you'll get a long or double for the Number. The Number interface provides conversion between numerical classes like <code>loan.doubleValue()</code>.</p>\n<pre><code>You can loan upto $1,000,000.00.\nYou can loan upto $1,000,000.02.\nLoan: 1000000 (Long).\nLoan: 1000000.02 (Double).\n</code></pre>\n<p>The above was for Locale.US.\nFor Locale.GERMANY (for instance):</p>\n<pre><code>  loanText = &quot;1.000.000,00\\u00a0€&quot;;\n  loanText = &quot;1.000.000,02\\u00a0€&quot;;\n</code></pre>\n<p>Here the currency comes after the number, separated by a non-breaking space, so no line wrapping may occur.</p>\n<p>Requiring to enter a fixed currecny is a PITA.</p>\n",
    "score" : 0,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 960307,
      "reputation" : 110397,
      "user_id" : 984823,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/Z2KYN.jpg?s=256",
      "display_name" : "Joop Eggen",
      "link" : "https://stackoverflow.com/users/984823/joop-eggen"
    },
    "creation_date" : 1744269602,
    "last_activity_date" : 1744270074,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140319471,
    "post_id" : 79565781,
    "body" : "Why are you parsing a string into an integer, converting that to another string (that isn&#39;t numeric), and then trying to parse that back into an integer? Don&#39;t write code like this.",
    "score" : 0,
    "owner" : {
      "account_id" : 71739,
      "reputation" : 311888,
      "user_id" : 207421,
      "user_type" : "registered",
      "accept_rate" : 82,
      "profile_image" : "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=256&d=identicon&r=PG",
      "display_name" : "user207421",
      "link" : "https://stackoverflow.com/users/207421/user207421"
    },
    "creation_date" : 1744273830,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}