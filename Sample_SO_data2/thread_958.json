{
  "question" : {
    "question_id" : 79760442,
    "title" : "I am having issues stating my OSGi application with org.eclipse.equinox.simpleconfigurator",
    "body" : "<p>I am trying to start an OSGi app from the Windows command prompt using org.eclipse.equinox.simpleconfigurator and either I am missing something in my config.ini or it doesn't get picked-up for some reason, but I can't tell if it's actually reading my bundles.info. Here is my folder structure:</p>\n<pre><code>MyApp\n  plugins\n     (all the eclipse plugins, dependencies and application jar files are under this)\n  configuration\n     config.ini\n     org.eclipse.equinox.simpleconfigurator\n         bundles.info\n</code></pre>\n<p>The content of my config.ini is the following:</p>\n<pre><code>    osgi.bundles.defaultStartLevel=4\n    osgi.framework=plugins/org.eclipse.osgi_3.22.0.v20241030-2121.jar\n    osgi.bundles=\\\n    plugins/org.eclipse.osgi_3.22.0.v20241030-2121.jar@1:start,\\\n    plugins/org.eclipse.equinox.simpleconfigurator@1:start,\\\n    plugins/org.eclipse.core.runtime_3.32.0.v20241003-0436.jar@1:start,\\\n    plugins/org.eclipse.equinox.common_3.19.200.v20241004-0654.jar@1:start,\\\n    plugins/org.eclipse.core.jobs_3.15.400.v20240619-0602.jar@2:start,\\\n\n    eclipse.product=MyProduct.product\n    eclipse.buildId=@build@\n    eof=eof\n</code></pre>\n<p>The application is started under the MyApp folder. I do use the -Dorg.eclipse.equinox.simpleconfigurator.configUrl to specify the location of the bundles.info file. I started adding -Dosgi.bundles on the java command line, but I don't think I should be doing that because for every jar file I add, it then complains about missing dependencies and in the end I'll have to add every single jar files from the plugins folder which defeats the purpose of having them defined in bundles.info.</p>\n<p>Here is an example of an entry in my bundles.info:</p>\n<pre><code>org.eclipse.core.commands,3.12.200.v20240627-1019,plugins/org.eclipse.core.commands_3.12.200.v20240627-1019.jar,4,false\n</code></pre>\n<p>I assumed the location of the jar files is based on the where the application is started; here since the application is started in the MyApp folder, the proper location is plugins/myjar.jar</p>\n<p>Any pointer about how to solve this is appreciated.</p>\n<p>Thanks</p>\n",
    "tags" : [ "java", "osgi", "eclipse-rcp" ],
    "owner" : {
      "account_id" : 43867408,
      "reputation" : 1,
      "user_id" : 31456424,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/9c5f16d43f87a31a20ce56b27b08f510?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Deverry",
      "link" : "https://stackoverflow.com/users/31456424/deverry"
    },
    "is_answered" : false,
    "view_count" : 88,
    "answer_count" : 0,
    "score" : 0,
    "last_activity_date" : 1757475181,
    "creation_date" : 1757474934,
    "link" : "https://stackoverflow.com/questions/79760442/i-am-having-issues-stating-my-osgi-application-with-org-eclipse-equinox-simpleco",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ ],
  "question_comments" : [ {
    "comment_id" : 140741466,
    "post_id" : 79760442,
    "body" : "Like howlger I just use Tycho with the standard layout so I don&#39;t know exactly what is allowed as I never need to look at this.",
    "score" : 1,
    "owner" : {
      "account_id" : 3159259,
      "reputation" : 111562,
      "user_id" : 2670892,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/4iPV5.png?s=256",
      "display_name" : "greg-449",
      "link" : "https://stackoverflow.com/users/2670892/greg-449"
    },
    "creation_date" : 1758093461,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140741328,
    "post_id" : 79760442,
    "body" : "Best practice is to build your product with Maven/Tycho which generates <code>configuration&#47;config.ini</code> and <code>configuration&#47;org.eclipse.equinox.simpleconfigurator&#47;bundles&zwnj;&#8203;.info</code>. By default, the folders <code>configuration</code>, <code>features</code> and <code>plugins</code> are in the same directory with <code>bundle.info</code> containing lines like <code>&lt;bundle_symbolic_name&gt;,&lt;version&gt;,plugins&#47;&lt;file_name&gt;.jar,&lt;st&zwnj;&#8203;art_level&gt;,&lt;autostar&zwnj;&#8203;t_false_true&gt;</code>. Adding an additional plugin JAR file into <code>plugins&#47;</code> and adding a corresponding line in <code>bundle.info</code> works for me (not recommended for production!).",
    "score" : 1,
    "owner" : {
      "account_id" : 8692823,
      "reputation" : 35045,
      "user_id" : 6505250,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/FgNJn.jpg?s=256",
      "display_name" : "howlger",
      "link" : "https://stackoverflow.com/users/6505250/howlger"
    },
    "creation_date" : 1758089851,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140740988,
    "post_id" : 79760442,
    "body" : "@greg-449  This what I found about bundles.info <code>This line tells the OSGi framework to start the org.eclipse.equinox.app bundle, found at plugins&#47;org.eclipse.equinox.app_1.5.100.jar relative to the application&#39;s configuration directory. </code>  So according to that I would need to be able to specify ../plugins/MyPlugin.jar because that&#39;s the relative path to my configuration folder, but it looks like this is not allowed.",
    "score" : 0,
    "owner" : {
      "account_id" : 43867408,
      "reputation" : 1,
      "user_id" : 31456424,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/9c5f16d43f87a31a20ce56b27b08f510?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Deverry",
      "link" : "https://stackoverflow.com/users/31456424/deverry"
    },
    "creation_date" : 1758068640,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140740954,
    "post_id" : 79760442,
    "body" : "@greg-449 Quick question, all my bundles are in my plugins folder under the main app folder (see my original post above). My config.ini uses <code>osgi.bundles=reference\\:file\\:plugins&#47;org.eclipse.equinox.si&zwnj;&#8203;mpleconfigurator_1.5&zwnj;&#8203;.300.v20240424-1301.&zwnj;&#8203;jar@1\\:start</code> to make sure it looks at my plugins folder. How does the bundles.info finds all my jar files since I cannot put the path for each jar files in the 3rd parameter (i.e. plugins/myplugin.jar), only the individual filename (according to my google search)? Thanks",
    "score" : 0,
    "owner" : {
      "account_id" : 43867408,
      "reputation" : 1,
      "user_id" : 31456424,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/9c5f16d43f87a31a20ce56b27b08f510?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Deverry",
      "link" : "https://stackoverflow.com/users/31456424/deverry"
    },
    "creation_date" : 1758066308,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140731210,
    "post_id" : 79760442,
    "body" : "One thing to check is that you have the start levels correct in the bundles.info - org.eclipse.core.runtime needs to be level 0 for example",
    "score" : 0,
    "owner" : {
      "account_id" : 3159259,
      "reputation" : 111562,
      "user_id" : 2670892,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/4iPV5.png?s=256",
      "display_name" : "greg-449",
      "link" : "https://stackoverflow.com/users/2670892/greg-449"
    },
    "creation_date" : 1757668237,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140731000,
    "post_id" : 79760442,
    "body" : "This stuff is tricky to get right doing it yourself. The recommended way is to use <a href=\"https://stackoverflow.com/questions/tagged/tycho\">tycho</a> which builds all this from the info in the xxx.product file",
    "score" : 1,
    "owner" : {
      "account_id" : 3159259,
      "reputation" : 111562,
      "user_id" : 2670892,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/4iPV5.png?s=256",
      "display_name" : "greg-449",
      "link" : "https://stackoverflow.com/users/2670892/greg-449"
    },
    "creation_date" : 1757662064,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140730522,
    "post_id" : 79760442,
    "body" : "@greg-449 I simplified part of my config.ini: <code>osgi.bundles.defaultStartLevel=4 org.eclipse.equinox.simpleconfigurator.configUrl=configurati&zwnj;&#8203;on&#47;org.eclipse.equin&zwnj;&#8203;ox.simpleconfigurato&zwnj;&#8203;r&#47;bundles.info osgi.bundles=reference\\:file\\:plugins&#47;org.eclipse.equinox.si&zwnj;&#8203;mpleconfigurator_1.5&zwnj;&#8203;.300.v20240424-1301.&zwnj;&#8203;jar@1:start</code>  Still get this error: <code>java.lang.IllegalStateException: Unable to acquire application service. Ensure that the org.eclipse.core.runtime bundle is resolved and started (see config.ini).</code>  It&#39;s like it doesn&#39;t even find my config.ini and bundles.info file. Is there a way to debug it?",
    "score" : 0,
    "owner" : {
      "account_id" : 43867408,
      "reputation" : 1,
      "user_id" : 31456424,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/9c5f16d43f87a31a20ce56b27b08f510?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Deverry",
      "link" : "https://stackoverflow.com/users/31456424/deverry"
    },
    "creation_date" : 1757634673,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140726508,
    "post_id" : 79760442,
    "body" : "The <code>simpleconfigurator</code> is the one reading the <code>bundles.info</code> to resolve all bundles. But in your <code>config.ini</code> you start other bundles at the same time as the <code>simpleconfigurator</code> (<code>@1:start</code> means start level 1) which likely causing this issue. As greg-449 already said, in your <code>config.ini</code> there should only <code>simpleconfigurator</code> which resolves and starts all other bundles. E.g. in <code>bundles.info</code> <code>...jar,4,false</code> at the end of the line means start level 4 and auto start set to false.",
    "score" : 0,
    "owner" : {
      "account_id" : 8692823,
      "reputation" : 35045,
      "user_id" : 6505250,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/FgNJn.jpg?s=256",
      "display_name" : "howlger",
      "link" : "https://stackoverflow.com/users/6505250/howlger"
    },
    "creation_date" : 1757503188,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140726128,
    "post_id" : 79760442,
    "body" : "The osgi.bundles normally just has a single entry pointing to the simple configurator - for example <code>osgi.bundles=reference\\:file\\:org.eclipse.equinox.simpleconf&zwnj;&#8203;igurator_1.5.500.v20&zwnj;&#8203;250306-1127.jar@1\\:s&zwnj;&#8203;tart</code> (taken from Eclipse 4.36 config.ini)",
    "score" : 1,
    "owner" : {
      "account_id" : 3159259,
      "reputation" : 111562,
      "user_id" : 2670892,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/4iPV5.png?s=256",
      "display_name" : "greg-449",
      "link" : "https://stackoverflow.com/users/2670892/greg-449"
    },
    "creation_date" : 1757490671,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140726081,
    "post_id" : 79760442,
    "body" : "@greg-449 Yes, I have all 410 necessary plugins in my bundles.info and those are the same as my target platform used in eclipse (where the application works without any issue).   What I meant is that I have the base plugins defined in my config.ini by the osgi.bundles parameter to start the application, but I get errors like this:  <i>Unresolved requirement: Require-Bundle: org.eclipse.core.contenttype; bundle-version=&quot;[3.9.0,4.0.0)&quot;; visibility:=&quot;reexport&quot;</i>  And that already exists in my bundles.info.",
    "score" : 0,
    "owner" : {
      "account_id" : 43867408,
      "reputation" : 1,
      "user_id" : 31456424,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/9c5f16d43f87a31a20ce56b27b08f510?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Deverry",
      "link" : "https://stackoverflow.com/users/31456424/deverry"
    },
    "creation_date" : 1757489604,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140726027,
    "post_id" : 79760442,
    "body" : "It is normal for the bundles.info to list all plugins. This file is usually built by something like <a href=\"https://stackoverflow.com/questions/tagged/tycho\">tycho</a>",
    "score" : 0,
    "owner" : {
      "account_id" : 3159259,
      "reputation" : 111562,
      "user_id" : 2670892,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/4iPV5.png?s=256",
      "display_name" : "greg-449",
      "link" : "https://stackoverflow.com/users/2670892/greg-449"
    },
    "creation_date" : 1757487726,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}