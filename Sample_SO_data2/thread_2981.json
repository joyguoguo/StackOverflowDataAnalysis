{
  "question" : {
    "question_id" : 79583505,
    "title" : "Build failed in Flutter project after cloning to new device – Unknown Kotlin JVM target: 21",
    "body" : "<p>I recently cloned my Flutter project to a new machine. The project was working without issues before, but after trying to run it on the new device, I’m getting the following error during build:</p>\n<pre><code>FAILURE: Build failed with an exception.\n\n* What went wrong:\nCould not determine the dependencies of task ':flutter_image_compress_common:compileDebugKotlin'.\n&gt; Unknown Kotlin JVM target: 21\n</code></pre>\n<p>⚠️ Project context</p>\n<p>The error seems to be caused by the dependency:</p>\n<blockquote>\n<p>flutter_image_compress: ^2.1.0</p>\n</blockquote>\n<p>My app/build.gradle file contains the following relevant configuration:</p>\n<pre><code>plugins {\n    id &quot;com.android.application&quot;\n    id &quot;kotlin-android&quot;\n    id &quot;dev.flutter.flutter-gradle-plugin&quot;\n}\n\nandroid {\n    namespace &quot;com.app.application&quot;\n    compileSdkVersion flutter.compileSdkVersion\n    ndkVersion flutter.ndkVersion\n\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n\n    kotlinOptions {\n        jvmTarget = '17'\n    }\n\n    defaultConfig {\n        applicationId &quot;com.app&quot;\n        minSdkVersion 21\n        targetSdkVersion flutter.targetSdkVersion\n        versionCode flutterVersionCode.toInteger()\n        versionName flutterVersionName\n    }\n}\n\nflutter {\n    source '../..'\n}\n</code></pre>\n",
    "tags" : [ "java", "android", "flutter", "kotlin" ],
    "owner" : {
      "account_id" : 26292251,
      "reputation" : 428,
      "user_id" : 19959092,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/e9f62e2fc4dd4469aebc6e609301acfd?s=256&d=identicon&r=PG",
      "display_name" : "Pantastix",
      "link" : "https://stackoverflow.com/users/19959092/pantastix"
    },
    "is_answered" : true,
    "view_count" : 90,
    "closed_date" : 1745229276,
    "answer_count" : 2,
    "score" : 2,
    "last_activity_date" : 1745229342,
    "creation_date" : 1745164159,
    "link" : "https://stackoverflow.com/questions/79583505/build-failed-in-flutter-project-after-cloning-to-new-device-unknown-kotlin-jvm",
    "closed_reason" : "Duplicate"
  },
  "answers" : [ {
    "answer_id" : 79583540,
    "question_id" : 79583505,
    "body" : "<pre><code>JavaVersion.VERSION_1_8 - :))) May be need be change to JavaVersion.VERSION_21?\nAnd check your toml file\n\nelse the thing:\n    kotlinOptions {\n        jvmTarget = '17'\n    }\njump to 21 target too\nOtherwise check (Ctrl+B) on flutter.compileSdkVersion in build.gradle what wersion is overthere, is it compatible with current Kotlin and Gredle version?\n</code></pre>\n",
    "score" : 1,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 30041122,
      "reputation" : 21,
      "user_id" : 23021977,
      "user_type" : "registered",
      "profile_image" : "https://lh3.googleusercontent.com/a/ACg8ocK78A_kY-1G_HSn21VWu2O3UK6xDKQneDk7Pm1M1yun=k-s256",
      "display_name" : "Serhij",
      "link" : "https://stackoverflow.com/users/23021977/serhij"
    },
    "creation_date" : 1745167073,
    "last_activity_date" : 1745167473,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "answer_id" : 79584156,
    "question_id" : 79583505,
    "body" : "<p>You can try changing the <strong>Gradle JDK</strong> from <em>jbr-21</em> to <em>jbr-17</em> in Android Studio's settings (<em>Build, Execution, Deployment -&gt; Build Tools -&gt; Gradle</em>)</p>\n",
    "score" : 1,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 29520193,
      "reputation" : 2019,
      "user_id" : 22623172,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/AHjMGF8J.png?s=256",
      "display_name" : "Vlad Guriev",
      "link" : "https://stackoverflow.com/users/22623172/vlad-guriev"
    },
    "creation_date" : 1745218094,
    "last_activity_date" : 1745218094,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140353659,
    "post_id" : 79583505,
    "body" : "Inside Settings -&gt; Build, Execution, Deployment -&gt; Gradle -&gt; Build Tools",
    "score" : 0,
    "owner" : {
      "account_id" : 14722107,
      "reputation" : 6861,
      "user_id" : 10632369,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/541566093e9d34a3858f5446d06a7a6e?s=256&d=identicon&r=PG",
      "display_name" : "tomerpacific",
      "link" : "https://stackoverflow.com/users/10632369/tomerpacific"
    },
    "creation_date" : 1745217424,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140352781,
    "post_id" : 79583505,
    "body" : "@tomerpacific where can i find this?",
    "score" : 0,
    "owner" : {
      "account_id" : 26292251,
      "reputation" : 428,
      "user_id" : 19959092,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/e9f62e2fc4dd4469aebc6e609301acfd?s=256&d=identicon&r=PG",
      "display_name" : "Pantastix",
      "link" : "https://stackoverflow.com/users/19959092/pantastix"
    },
    "creation_date" : 1745173376,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140352693,
    "post_id" : 79583505,
    "body" : "What is the Gradle JDK you have set up?",
    "score" : 0,
    "owner" : {
      "account_id" : 14722107,
      "reputation" : 6861,
      "user_id" : 10632369,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/541566093e9d34a3858f5446d06a7a6e?s=256&d=identicon&r=PG",
      "display_name" : "tomerpacific",
      "link" : "https://stackoverflow.com/users/10632369/tomerpacific"
    },
    "creation_date" : 1745170136,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : {
    "79583540" : [ {
      "comment_id" : 140352804,
      "post_id" : 79583540,
      "body" : "if I change the jvmTarget to 21 there es well i get the error there too.",
      "score" : 0,
      "owner" : {
        "account_id" : 26292251,
        "reputation" : 428,
        "user_id" : 19959092,
        "user_type" : "registered",
        "profile_image" : "https://www.gravatar.com/avatar/e9f62e2fc4dd4469aebc6e609301acfd?s=256&d=identicon&r=PG",
        "display_name" : "Pantastix",
        "link" : "https://stackoverflow.com/users/19959092/pantastix"
      },
      "creation_date" : 1745173910,
      "content_license" : "CC BY-SA 4.0"
    } ]
  }
}