{
  "question" : {
    "question_id" : 79551331,
    "title" : "How can I detect the age recommendation for accessing a certain website?",
    "body" : "<p><strong>Introduction to the problem:</strong></p>\n<p>Currently, my app has a feature that can detect whether a page/profile was found and if the respective link can be accessed in the first place. Now, I am trying to make a more secure program that will also check the age restrictions of the platform the user will access, as the app won't be allowed to send the user on a platform that has inappropriate content.</p>\n<p><strong>The problem:</strong></p>\n<p>I tried checking the whole content of a page by using a <code>BufferedReader</code> that will read each line and check for tokens that usually indicate age restrictions, but this doesn't work and it is not reliable and efficient.</p>\n<p><strong>Code related to the problem:</strong></p>\n<pre><code>//Link Validation\npublic static boolean checkAbilityToCreate(String link)  {\n    if (link.startsWith(&quot;http://&quot;) || link.startsWith(&quot;https://&quot;) &amp;&amp; !link.equals(&quot;https://example.com&quot;)) {\n        \n        Pattern emailPattern = Pattern.compile\n                (&quot;([\\\\w.-]+)\\\\.([\\\\w .-]){2,}/(.+)&quot;);\n        String checkOn = link.split(&quot;//&quot;)[1];\n        Matcher matcher = emailPattern.matcher(checkOn);\n        \n        if (matcher.find()) {\n            try {\n                URI uri = new URI(link);\n                URL url = uri.toURL();\n            } catch (Exception e) {\n                return false;\n            }\n            return valid_Hyper_Text_Transfer_Protocol(link);\n        }\n    }\n    return false;\n}\n\nprivate static boolean valid_Hyper_Text_Transfer_Protocol(String httpToCheck) {\n    \n    try {\n        URL url = new URL(httpToCheck);\n        HttpURLConnection connection = (HttpURLConnection) url.openConnection();\n        connection.connect();\n        \n        if (connection.getResponseCode() == HttpURLConnection.HTTP_OK) {\n            return ContentValidator.isValidContent(connection);\n        }\n        \n    } catch (IOException e) {\n        //TODO - handle\n    }\n    \n    return false;\n}\n\nprivate static class ContentValidator {\n    public static boolean isValidContent(HttpURLConnection connection) {\n        \n        try {\n            BufferedReader in = new BufferedReader(new InputStreamReader(connection.getInputStream()));\n            StringBuilder content = new StringBuilder();\n            String dummy = &quot;&quot;;\n            while ((dummy = in.readLine()) != null) {\n                content.append(dummy);\n                if (content.toString().contains(&quot;page isn't available&quot;) ||\n                        content.toString().contains(&quot;page not found&quot;)) {\n                    return false;\n                }\n\n                //another if statement that was looking in the content for age \n                //restrictions\n            }\n            in.close();\n            \n            return true;\n        } catch (IOException e) {\n            return false;\n        }\n    }\n}\n</code></pre>\n<p>The code shown is the way I validate a link, in the <code>isValidContent</code> method were the tokens that would check for any indicator of age recommendation at each line (I removed them as they wouldn't solve the problem).</p>\n<p><strong>What I ask for:</strong>\nI would apreciate any kind of suggestion or documentation that will further help me implement this feature.</p>\n<p><strong>Extra Details:</strong></p>\n<ul>\n<li>There is <strong>no error message</strong> given, just the fact that what I want to achieve doesn't work.</li>\n<li>Reading the file line by line <strong>doesn't give the proper output</strong> and the patterns for identifying the age recommendation fail most of the times.</li>\n<li>Using custom test files that specify the restrictions work.</li>\n</ul>\n",
    "tags" : [ "java", "network-programming", "intellij-idea", "url", "backend" ],
    "owner" : {
      "account_id" : 38890247,
      "reputation" : 156,
      "user_id" : 29003408,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/LhjH9Wyd.jpg?s=256",
      "display_name" : "Andrei Greblă",
      "link" : "https://stackoverflow.com/users/29003408/andrei-grebl%c4%83"
    },
    "is_answered" : true,
    "view_count" : 174,
    "closed_date" : 1743750430,
    "answer_count" : 1,
    "score" : 0,
    "last_activity_date" : 1743776183,
    "creation_date" : 1743619052,
    "link" : "https://stackoverflow.com/questions/79551331/how-can-i-detect-the-age-recommendation-for-accessing-a-certain-website",
    "closed_reason" : "Opinion-based"
  },
  "answers" : [ {
    "answer_id" : 79553893,
    "question_id" : 79551331,
    "body" : "<p>After more people told me so, I must accept that the only way I can create this feature is to either choose the top sites I won’t like the user to enter or to try into making a better pattern recognition algorithm still based on tokens that will identify if there is an age recommendation.</p>\n",
    "score" : 0,
    "is_accepted" : true,
    "owner" : {
      "account_id" : 38890247,
      "reputation" : 156,
      "user_id" : 29003408,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/LhjH9Wyd.jpg?s=256",
      "display_name" : "Andrei Greblă",
      "link" : "https://stackoverflow.com/users/29003408/andrei-grebl%c4%83"
    },
    "creation_date" : 1743710339,
    "last_activity_date" : 1743710339,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140298578,
    "post_id" : 79551331,
    "body" : "Thanks for clarifying! I will try to find time today to edit the question with the proper details needed.",
    "score" : 0,
    "owner" : {
      "account_id" : 38890247,
      "reputation" : 156,
      "user_id" : 29003408,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/LhjH9Wyd.jpg?s=256",
      "display_name" : "Andrei Greblă",
      "link" : "https://stackoverflow.com/users/29003408/andrei-grebl%c4%83"
    },
    "creation_date" : 1743758972,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140298546,
    "post_id" : 79551331,
    "body" : "Please add all clarification <b>to your question</b> by editing it, also with further details on &quot;doesn&#39;t work&quot; mean. Is there any error message given? Is reading the file line by line not giving the proper output? If this is really related to the networking part itself, or the URL part: running this with a static input (where reading the input is done from a static string, and not through requesting the data over the network) yields a different result?",
    "score" : 0,
    "owner" : {
      "account_id" : 1129881,
      "reputation" : 12128,
      "user_id" : 1116230,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/55a894894150db28d6641f0c57e48bac?s=256&d=identicon&r=PG",
      "display_name" : "Nico Haase",
      "link" : "https://stackoverflow.com/users/1116230/nico-haase"
    },
    "creation_date" : 1743758186,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140298533,
    "post_id" : 79551331,
    "body" : "Can you elaborate on that? I don’t understand the citation: “this doesn’t work”. Also, all the tags that I’ve placed are relevant to the content of this question. This is a network related question. It is an url based system. It is a code on the backend side. It is written and handled by Intellij(Not specifically needed to mention, but I did in case it helped).",
    "score" : 0,
    "owner" : {
      "account_id" : 38890247,
      "reputation" : 156,
      "user_id" : 29003408,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/LhjH9Wyd.jpg?s=256",
      "display_name" : "Andrei Greblă",
      "link" : "https://stackoverflow.com/users/29003408/andrei-grebl%c4%83"
    },
    "creation_date" : 1743757964,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140296599,
    "post_id" : 79551331,
    "body" : "So if there is no other possible way, I think I should choose a list of top websites that the program should not allow the user enter. I don’t think it is possible in another way.",
    "score" : 0,
    "owner" : {
      "account_id" : 38890247,
      "reputation" : 156,
      "user_id" : 29003408,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/LhjH9Wyd.jpg?s=256",
      "display_name" : "Andrei Greblă",
      "link" : "https://stackoverflow.com/users/29003408/andrei-grebl%c4%83"
    },
    "creation_date" : 1743710084,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140296562,
    "post_id" : 79551331,
    "body" : "There&#39;s no way to do this once; every site will use its own method and its own age. You would need to write custom code for every single site, and keep it up to date when they change.",
    "score" : 0,
    "owner" : {
      "account_id" : 3273747,
      "reputation" : 21269,
      "user_id" : 2756409,
      "user_type" : "registered",
      "accept_rate" : 100,
      "profile_image" : "https://i.sstatic.net/UIrGI.jpg?s=256",
      "display_name" : "TylerH",
      "link" : "https://stackoverflow.com/users/2756409/tylerh"
    },
    "creation_date" : 1743709368,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140291967,
    "post_id" : 79551331,
    "body" : "Thanks for the suggestion! I&#39;ll try to implement it, but before doing so, I&#39;ll wait for other suggestions so I can decide which is the best in my case to implement. I don&#39;t think there is another way though, but still, is worth waiting a bit.",
    "score" : 0,
    "owner" : {
      "account_id" : 38890247,
      "reputation" : 156,
      "user_id" : 29003408,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/LhjH9Wyd.jpg?s=256",
      "display_name" : "Andrei Greblă",
      "link" : "https://stackoverflow.com/users/29003408/andrei-grebl%c4%83"
    },
    "creation_date" : 1743623165,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140291902,
    "post_id" : 79551331,
    "body" : "And that is why I told you: no, look for patterns in the pages and try to build logic for those patterns.",
    "score" : 0,
    "owner" : {
      "account_id" : 2843847,
      "reputation" : 57516,
      "user_id" : 2442804,
      "user_type" : "registered",
      "accept_rate" : 80,
      "profile_image" : "https://i.sstatic.net/51a3aQOH.jpg?s=256",
      "display_name" : "luk2302",
      "link" : "https://stackoverflow.com/users/2442804/luk2302"
    },
    "creation_date" : 1743622177,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140291891,
    "post_id" : 79551331,
    "body" : "Your are right, age restriction is not an established standard, that&#39;s why I ask if there is an alternative way.",
    "score" : 0,
    "owner" : {
      "account_id" : 38890247,
      "reputation" : 156,
      "user_id" : 29003408,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/LhjH9Wyd.jpg?s=256",
      "display_name" : "Andrei Greblă",
      "link" : "https://stackoverflow.com/users/29003408/andrei-grebl%c4%83"
    },
    "creation_date" : 1743622023,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140291875,
    "post_id" : 79551331,
    "body" : "It is how it is, &quot;not found&quot; / 404 is an established standard, age restriction is not.",
    "score" : 1,
    "owner" : {
      "account_id" : 2843847,
      "reputation" : 57516,
      "user_id" : 2442804,
      "user_type" : "registered",
      "accept_rate" : 80,
      "profile_image" : "https://i.sstatic.net/51a3aQOH.jpg?s=256",
      "display_name" : "luk2302",
      "link" : "https://stackoverflow.com/users/2442804/luk2302"
    },
    "creation_date" : 1743621779,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140291823,
    "post_id" : 79551331,
    "body" : "Well, I tried this approach on multiple pages from different websites, but it seems like this kind of information is not stored in the page.  Also, it is not really efficient, as I have to go and search in the entire page and rarely finding what I need. This is not the case for &quot;page not found&quot; message that is in most of the modern websites.",
    "score" : 0,
    "owner" : {
      "account_id" : 38890247,
      "reputation" : 156,
      "user_id" : 29003408,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/LhjH9Wyd.jpg?s=256",
      "display_name" : "Andrei Greblă",
      "link" : "https://stackoverflow.com/users/29003408/andrei-grebl%c4%83"
    },
    "creation_date" : 1743620868,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140291782,
    "post_id" : 79551331,
    "body" : "Why does it not work and is not efficient? Your approach sounds like the only feasible one, unfortunately a unstable and unreliable one.",
    "score" : 0,
    "owner" : {
      "account_id" : 2843847,
      "reputation" : 57516,
      "user_id" : 2442804,
      "user_type" : "registered",
      "accept_rate" : 80,
      "profile_image" : "https://i.sstatic.net/51a3aQOH.jpg?s=256",
      "display_name" : "luk2302",
      "link" : "https://stackoverflow.com/users/2442804/luk2302"
    },
    "creation_date" : 1743619768,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}