{
  "question" : {
    "question_id" : 79749567,
    "title" : "How to aggregate benchmarks in Timefold using Benchmark Aggregator?",
    "body" : "<p>I want to implement a way to aggregate all existing benchmarks from benchmark directory in a single comprehensive report. As far as I know, I will need the <strong>BenchmarkAggregator</strong> class to do this. I also know that I have to also set the benchmark config and the benchmark directory so the code would look like this at this moment:</p>\n<pre><code>BenchmarkAggregator benchmarkAggregator = new BenchmarkAggregator();\n        benchmarkAggregator.setBenchmarkDirectory(benchmarkConfig.getBenchmarkDirectory());\n        BenchmarkReportConfig benchmarkReportConfig = benchmarkConfig.getBenchmarkReportConfig();\n        if (benchmarkReportConfig != null) {\n            benchmarkReportConfig = new BenchmarkReportConfig(benchmarkReportConfig);\n        } else {\n            benchmarkReportConfig = new BenchmarkReportConfig();\n        }\n\n        benchmarkAggregator.setBenchmarkReportConfig(benchmarkReportConfig);\n</code></pre>\n<p>What it is not clear for me is how can I call the <strong>aggregate()</strong> method so that it takes all the results from the benchmark output directory and aggregates them in a single result? I don't understand how to work with these 2 parameters:</p>\n<pre><code>List&lt;SingleBenchmarkResult&gt; singleBenchmarkResultList\nMap&lt;SolverBenchmarkResult, String&gt; solverBenchmarkResultNameMap\n</code></pre>\n<p>And I don't see in the documentation a clear way (or an example) to do something useful with the <strong>aggregate()</strong> method. Initially, I tried to use (look at this <a href=\"https://github.com/PatrickDiallo23/Automatic-Timetable-Generation-System/commit/a221c65cec31c67acf682ac27fbaa0f70159629e\" rel=\"nofollow noreferrer\">commit</a>):</p>\n<pre><code>BenchmarkAggregatorFrame.createAndDisplayFromXmlResource(&quot;benchmarkConfig.xml&quot;);\n</code></pre>\n<p>But I saw that I cannot open a separate Swing GUI while using a fullstack application. As a short paranthesis, it would be nice to enable a similar feature but for web apps (please note that I don't know if the aggregate method does that).</p>\n<p>How should I approach this? Any help is appreciated. Thanks!</p>\n",
    "tags" : [ "java", "spring-boot", "optaplanner", "timefold" ],
    "owner" : {
      "account_id" : 24893102,
      "reputation" : 177,
      "user_id" : 18764743,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/f5F3VvM6.jpg?s=256",
      "display_name" : "Diallo Francis Patrick",
      "link" : "https://stackoverflow.com/users/18764743/diallo-francis-patrick"
    },
    "is_answered" : true,
    "view_count" : 88,
    "answer_count" : 1,
    "score" : 0,
    "last_activity_date" : 1756805167,
    "creation_date" : 1756412937,
    "link" : "https://stackoverflow.com/questions/79749567/how-to-aggregate-benchmarks-in-timefold-using-benchmark-aggregator",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79752892,
    "question_id" : 79749567,
    "body" : "<p>I managed to find a solution for this. If someone knows a better solution, please let me know.</p>\n<pre><code>public File aggregateAllBenchmarks() {\n// Load benchmark configuration\nPlannerBenchmarkConfig benchmarkConfig = PlannerBenchmarkConfig.createFromXmlResource(&quot;benchmarkConfig.xml&quot;);\nFile benchmarkDirectory = benchmarkConfig.getBenchmarkDirectory();\nif (!benchmarkDirectory.exists() || !benchmarkDirectory.isDirectory()) {\n    throw new IllegalArgumentException(&quot;Benchmark directory does not exist: &quot; + benchmarkDirectory);\n}\n\n// Read all existing benchmark results from the directory\nBenchmarkResultIO benchmarkResultIO = new BenchmarkResultIO();\nList&lt;PlannerBenchmarkResult&gt; plannerBenchmarkResults = \n        benchmarkResultIO.readPlannerBenchmarkResultList(benchmarkDirectory);\n\nif (plannerBenchmarkResults.isEmpty()) {\n    throw new IllegalArgumentException(&quot;No benchmark results found in directory: &quot; + benchmarkDirectory);\n}\n\n// Collect all single benchmark results and preserve solver names\nList&lt;SingleBenchmarkResult&gt; allSingleBenchmarkResults = new ArrayList&lt;&gt;();\nMap&lt;SolverBenchmarkResult, String&gt; solverBenchmarkResultNameMap = new HashMap&lt;&gt;();\n\nfor (PlannerBenchmarkResult plannerResult : plannerBenchmarkResults) {\n    for (SolverBenchmarkResult solverResult : plannerResult.getSolverBenchmarkResultList()) {\n        allSingleBenchmarkResults.addAll(solverResult.getSingleBenchmarkResultList());\n        solverBenchmarkResultNameMap.put(solverResult, solverResult.getName());\n    }\n}\n\n// Create and configure the benchmark aggregator\nBenchmarkAggregator aggregator = new BenchmarkAggregator();\naggregator.setBenchmarkDirectory(benchmarkDirectory);\naggregator.setBenchmarkReportConfig(benchmarkConfig.getBenchmarkReportConfig());\n\n// Perform the aggregation - returns HTML report file\nFile htmlOverviewFile = aggregator.aggregate(allSingleBenchmarkResults, solverBenchmarkResultNameMap);\n\nreturn htmlOverviewFile;\n}\n</code></pre>\n",
    "score" : 0,
    "is_accepted" : true,
    "owner" : {
      "account_id" : 24893102,
      "reputation" : 177,
      "user_id" : 18764743,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/f5F3VvM6.jpg?s=256",
      "display_name" : "Diallo Francis Patrick",
      "link" : "https://stackoverflow.com/users/18764743/diallo-francis-patrick"
    },
    "creation_date" : 1756758717,
    "last_activity_date" : 1756805167,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ ],
  "answer_comments" : {
    "79752892" : [ {
      "comment_id" : 140724538,
      "post_id" : 79752892,
      "body" : "This will be most probably the resolution for those who are using Timefold with version older that 1.26.0. For the newest versions, you can refer to the documentation. <a href=\"https://docs.timefold.ai/timefold-solver/latest/using-timefold-solver/benchmarking-and-tweaking#benchmarkReportAggregation\" rel=\"nofollow noreferrer\">docs.timefold.ai/timefold-solver/latest/using-timefold-solve&zwnj;&#8203;r/&hellip;</a>",
      "score" : 0,
      "owner" : {
        "account_id" : 24893102,
        "reputation" : 177,
        "user_id" : 18764743,
        "user_type" : "registered",
        "profile_image" : "https://i.sstatic.net/f5F3VvM6.jpg?s=256",
        "display_name" : "Diallo Francis Patrick",
        "link" : "https://stackoverflow.com/users/18764743/diallo-francis-patrick"
      },
      "creation_date" : 1757423700,
      "content_license" : "CC BY-SA 4.0"
    } ]
  }
}