{
  "question" : {
    "question_id" : 79710692,
    "title" : "How to do silent OAuth logout in Spring Boot?",
    "body" : "<p>I'm trying to develop a Microsoft authentication mechanism to let user login &amp; logout. So far the login works smooth and same the logout also. But when I do logout, a page appears of Microsoft showing it's logging me out. My requirement is this should be done in behind the scene.</p>\n<p>Dependencies:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;3.4.4&lt;/version&gt;\n    &lt;relativePath /&gt;\n&lt;/parent&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>In Angular code:</p>\n<pre class=\"lang-ts prettyprint-override\"><code>logout() {\n  sessionStorage.clear();\n  localStorage.clear();\n  const logoutUrl = `https://login.microsoftonline.com/common/oauth2/logout?post_logout_redirect_uri=${encodeURIComponent(window.location.origin)}`;\n  window.location.href = logoutUrl;\n}\n</code></pre>\n<p>Currently the logout is handled in front-end. I want this to happen from the Java side through an API call.</p>\n<p>Is there any package or way around to do this silent logout?</p>\n",
    "tags" : [ "java", "angular", "spring-boot", "microsoft-oauth" ],
    "owner" : {
      "account_id" : 16545186,
      "reputation" : 1154,
      "user_id" : 11954878,
      "user_type" : "registered",
      "profile_image" : "https://lh4.googleusercontent.com/-CNdOrxo7Ih4/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdtLHAVfH8uU3JUTt9rSMxR88SyKw/s256-rj/photo.jpg",
      "display_name" : "avishekdr",
      "link" : "https://stackoverflow.com/users/11954878/avishekdr"
    },
    "is_answered" : false,
    "view_count" : 140,
    "answer_count" : 1,
    "score" : 0,
    "last_activity_date" : 1753269348,
    "creation_date" : 1753196777,
    "link" : "https://stackoverflow.com/questions/79710692/how-to-do-silent-oauth-logout-in-spring-boot",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79711771,
    "question_id" : 79710692,
    "body" : "<h2>OIDC/OAUTH itself can't do what you want it to do</h2>\n<p>What you're currently doing is called an 'Rp-initiated logout', see the spec: <a href=\"https://openid.net/specs/openid-connect-rpinitiated-1_0.html\" rel=\"nofollow noreferrer\">https://openid.net/specs/openid-connect-rpinitiated-1_0.html</a></p>\n<p>This is where the Relying Party (your client) tries to log the user out on the OpenID Provider (OP, Microsoft in this case)</p>\n<p>Such a logout must be done via redirecting the user to the OP's logout endpoint, where the user SHOULD be asked for confirmation on whether he really wants to be logged out. There's no way to do this silently since the user might disagree with being logged out.</p>\n<h2>Specific OPs might have extensions to allow it</h2>\n<p>Some OPs might offer additional ways to terminate sessions not covered by the specification. For example, if you used Keycloak as an OP, it provides a separate REST API that allows terminating a session with a DELETE request. There might also be specific admin panels, UIs, etc. to do this. However, this depends on your specific Identity Provider. I haven't been able to find any such API endpoint for Microsoft.</p>\n<h2>What about Backchannel logouts tho?</h2>\n<p>You might get confused by the mention of 'backchannel logouts' when searching information about this topic. However, a Backchannel logout is when the session is already terminated on the OP through whatever means and the OP then informs the RPs (the clients) to terminate the session via a backchannel, not the other way around.</p>\n",
    "score" : 0,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 33204902,
      "reputation" : 52,
      "user_id" : 25718310,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/e503d5271437e46c18f0d67d4a7fa739?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "user25718310",
      "link" : "https://stackoverflow.com/users/25718310/user25718310"
    },
    "creation_date" : 1753269348,
    "last_activity_date" : 1753269348,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140617009,
    "post_id" : 79710692,
    "body" : "Have you enabled &quot;External logout&quot; and then &quot;RP initiated logout&quot; in Entra? Also, did you configure <code>.logoutSuccessHandler(oidcLogoutSuccessHandler())</code> in the Spring security filter-chain with <code>oauth2Login</code>?",
    "score" : 0,
    "owner" : {
      "account_id" : 308139,
      "reputation" : 13879,
      "user_id" : 619830,
      "user_type" : "registered",
      "accept_rate" : 75,
      "profile_image" : "https://www.gravatar.com/avatar/f4d00b0a82e9307b1d68b29867fee4e5?s=256&d=identicon&r=PG",
      "display_name" : "ch4mp",
      "link" : "https://stackoverflow.com/users/619830/ch4mp"
    },
    "creation_date" : 1753420991,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140611653,
    "post_id" : 79710692,
    "body" : "Im not really sure what it is you want to to, but there are 2 logout mechanisms, either that the end user initiates a logout through for instance a browser. Or that you initiate a logout from the IDP. The first is called client Initiated Logout, and the second is called Back Channel logout. They are both documented and how to customize here in the docs <a href=\"https://docs.spring.io/spring-security/reference/servlet/oauth2/login/logout.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/reference/servlet/oauth2/logi&zwnj;&#8203;n/&hellip;</a>",
    "score" : 0,
    "owner" : {
      "account_id" : 2064278,
      "reputation" : 15107,
      "user_id" : 1840146,
      "user_type" : "registered",
      "accept_rate" : 86,
      "profile_image" : "https://i.sstatic.net/JXdxm.png?s=256",
      "display_name" : "Toerktumlare",
      "link" : "https://stackoverflow.com/users/1840146/toerktumlare"
    },
    "creation_date" : 1753268380,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140611226,
    "post_id" : 79710692,
    "body" : "I would look for the back channel logout endpoint of the IDP and perform the call to this endpoint in your backend.",
    "score" : 0,
    "owner" : {
      "account_id" : 14346646,
      "reputation" : 154,
      "user_id" : 10363360,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/xAw6b.png?s=256",
      "display_name" : "Nicolas Peron",
      "link" : "https://stackoverflow.com/users/10363360/nicolas-peron"
    },
    "creation_date" : 1753258409,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}