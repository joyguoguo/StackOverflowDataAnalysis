{
  "question" : {
    "question_id" : 79743605,
    "title" : "Edge-to-Edge Looks Different on API 35 vs API 31",
    "body" : "<p>I tried implementing edge-to-edge for both API 35 and pre-API 35.</p>\n<p>However, the results look slightly different.</p>\n<p>As shown in the screenshot, edge-to-edge looks great on a device running API 35. But on a device running API 31, the content appears a bit too close to the display cutout.</p>\n<p><a href=\"https://i.sstatic.net/pBgUDoqf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/pBgUDoqf.png\" alt=\"enter image description here\" /></a></p>\n<p>This is my implementation code.</p>\n<pre><code>// Source code in Activity.\n\nprivate void edgeToEdgeIfPossible() {\n    if (android.os.Build.VERSION.SDK_INT &lt;= Build.VERSION_CODES.KITKAT_WATCH) {\n        return;\n    }\n\n    EdgeToEdge.enable(this);\n\n    LinearLayout parentLinearLayout = findViewById(R.id.parent_linear_layout);\n\n    final Rect initialPadding = new Rect(\n            parentLinearLayout.getPaddingLeft(),\n            parentLinearLayout.getPaddingTop(),\n            parentLinearLayout.getPaddingRight(),\n            parentLinearLayout.getPaddingBottom()\n    );\n\n    ViewCompat.setOnApplyWindowInsetsListener(parentLinearLayout, (v, insets) -&gt; {\n        // Get the insets for the system bars (status bar, navigation bar)\n        Insets theInsets = insets.getInsets(\n                WindowInsetsCompat.Type.systemBars() | WindowInsetsCompat.Type.displayCutout()\n        );\n\n        v.setPadding(\n                initialPadding.left + theInsets.left,\n                initialPadding.top + theInsets.top,\n                initialPadding.right + theInsets.right,\n                initialPadding.bottom + theInsets.bottom\n        );\n\n        // Return the insets to allow the system to continue processing them\n        return insets;\n    });\n}\n</code></pre>\n<p>May I know, how I can fix such an issue? Thank you.</p>\n",
    "tags" : [ "java", "android" ],
    "owner" : {
      "account_id" : 27431,
      "reputation" : 42870,
      "user_id" : 72437,
      "user_type" : "registered",
      "accept_rate" : 86,
      "profile_image" : "https://i.sstatic.net/ay0Dg.jpg?s=256",
      "display_name" : "Cheok Yan Cheng",
      "link" : "https://stackoverflow.com/users/72437/cheok-yan-cheng"
    },
    "is_answered" : false,
    "view_count" : 145,
    "answer_count" : 1,
    "score" : 0,
    "last_activity_date" : 1756042737,
    "creation_date" : 1755877799,
    "link" : "https://stackoverflow.com/questions/79743605/edge-to-edge-looks-different-on-api-35-vs-api-31",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79744908,
    "question_id" : 79743605,
    "body" : "<p>On Android 14 / API 35, Google introduced changes to how <strong>WindowInsets</strong> are applied with <code>systemBars()</code> and <code>displayCutout()</code> to improve edge to edge consistency.<br />\nThat’s why your layout looks “correct” on API 35 but slightly off (too close to the cutout) on API 31.</p>\n<p>In older APIs (like 31), combining</p>\n<p><code>WindowInsetsCompat.Type.systemBars() | WindowInsetsCompat.Type.displayCutout() </code></p>\n<p>can sometimes double apply the cutout insets or behave differently because the framework didn’t yet normalize them the way API 35 does.<br />\nEffectively, you’re <strong>adding both the systemBars and the displayCutout padding</strong>, so the view hugs the cutout.</p>\n<p>Instead of always applying both, conditionally handle them depending on the API:</p>\n<pre><code>ViewCompat.setOnApplyWindowInsetsListener(parentLinearLayout, (v, insets) -&gt; {\n    Insets theInsets;\n\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.UPSIDE_DOWN_CAKE) { // API 34+\n        // On API 34/35+ systemBars already accounts for cutouts\n        theInsets = insets.getInsets(WindowInsetsCompat.Type.systemBars());\n    } else {\n        // On older devices, add cutout manually\n        theInsets = insets.getInsets(\n            WindowInsetsCompat.Type.systemBars() | WindowInsetsCompat.Type.displayCutout()\n        );\n    }\n\n    v.setPadding(\n        initialPadding.left + theInsets.left,\n        initialPadding.top + theInsets.top,\n        initialPadding.right + theInsets.right,\n        initialPadding.bottom + theInsets.bottom\n    );\n\n    return insets;\n});\n</code></pre>\n<p>On API 35, <code>systemBars()</code> already includes the cutout insets, so adding <code>displayCutout()</code> again becomes redundant and causes extra spacing. On older versions like API 31, however, <code>systemBars()</code> doesn’t always account for the cutout, so you still need to include <code>displayCutout()</code> to prevent the content from overlapping with the notch or camera area. By handling cutouts separately on older APIs and using only <code>systemBars()</code> on API 34/35+, you ensure consistent edge to edge behavior across devices without the layout appearing too close to the display cutout.</p>\n",
    "score" : 0,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 35638902,
      "reputation" : 11,
      "user_id" : 27321228,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/KnlDZE7G.jpg?s=256",
      "display_name" : "Dileepa Peiris",
      "link" : "https://stackoverflow.com/users/27321228/dileepa-peiris"
    },
    "creation_date" : 1756042737,
    "last_activity_date" : 1756042737,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140685221,
    "post_id" : 79743605,
    "body" : "That feels like an emulator issue. If you look at the status bar in your left-hand emulator, it is too high, with parts being cut off.",
    "score" : 2,
    "owner" : {
      "account_id" : 39846,
      "reputation" : 1011235,
      "user_id" : 115145,
      "user_type" : "registered",
      "accept_rate" : 84,
      "profile_image" : "https://i.sstatic.net/wDnd8.png?s=256",
      "display_name" : "CommonsWare",
      "link" : "https://stackoverflow.com/users/115145/commonsware"
    },
    "creation_date" : 1755878304,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : {
    "79744908" : [ {
      "comment_id" : 140783143,
      "post_id" : 79744908,
      "body" : "I have an application project on Android Studio and I want to modify it. Because the Android application when I installed and run on my Android phone the screen was covered by notch on My cellphone is so how to make the application screen not covered by my cellphone notch. I have a cellphone with a very annoying notch. Nokia 5.1 Plus Android 10.",
      "score" : 0,
      "owner" : {
        "account_id" : 25526496,
        "reputation" : 1,
        "user_id" : 31574613,
        "user_type" : "registered",
        "profile_image" : "https://www.gravatar.com/avatar/0d9674199cbf89323121ad53c68abde5?s=256&d=identicon&r=PG&f=y&so-version=2",
        "display_name" : "Mr. Bun",
        "link" : "https://stackoverflow.com/users/31574613/mr-bun"
      },
      "creation_date" : 1759902433,
      "content_license" : "CC BY-SA 4.0"
    }, {
      "comment_id" : 140772951,
      "post_id" : 79744908,
      "body" : "@Mr.Bun Hi, could you please specify your problem in your scenario?",
      "score" : 0,
      "owner" : {
        "account_id" : 35638902,
        "reputation" : 11,
        "user_id" : 27321228,
        "user_type" : "registered",
        "profile_image" : "https://i.sstatic.net/KnlDZE7G.jpg?s=256",
        "display_name" : "Dileepa Peiris",
        "link" : "https://stackoverflow.com/users/27321228/dileepa-peiris"
      },
      "creation_date" : 1759399694,
      "content_license" : "CC BY-SA 4.0"
    }, {
      "comment_id" : 140764763,
      "post_id" : 79744908,
      "body" : "Please help me have a problem how to make the notch screen not block my game screen very disturbing",
      "score" : 0,
      "owner" : {
        "account_id" : 25526496,
        "reputation" : 1,
        "user_id" : 31574613,
        "user_type" : "registered",
        "profile_image" : "https://www.gravatar.com/avatar/0d9674199cbf89323121ad53c68abde5?s=256&d=identicon&r=PG&f=y&so-version=2",
        "display_name" : "Mr. Bun",
        "link" : "https://stackoverflow.com/users/31574613/mr-bun"
      },
      "creation_date" : 1759060692,
      "content_license" : "CC BY-SA 4.0"
    } ]
  }
}