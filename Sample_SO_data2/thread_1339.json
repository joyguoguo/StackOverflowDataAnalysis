{
  "question" : {
    "question_id" : 79721085,
    "title" : "How to configure auto reconnect of a MQ client in Wildfly resource adapter",
    "body" : "<p>I am using the resource adapter wmq.jakarta.jmsra.rar (version 9.3.3.1) and message driven beans in Wildfly to receive messages from an IBM MQ.\nWhen the MQ-server is disconnected (e.g. network problems), the connection is not reestablished. According to this documatation ( <a href=\"https://www.ibm.com/docs/en/ibm-mq/9.3.x?topic=adapter-configuration-resourceadapter-object-properties\" rel=\"nofollow noreferrer\">https://www.ibm.com/docs/en/ibm-mq/9.3.x?topic=adapter-configuration-resourceadapter-object-properties</a> ) I added reconnectionRetryInterval and reconnectionRetryCount to my standalone.xml</p>\n<pre><code>&lt;subsystem xmlns=&quot;urn:jboss:domain:resource-adapters:6.1&quot;&gt;\n        &lt;resource-adapters&gt;\n            &lt;resource-adapter id=&quot;wmq.jakarta.jmsra.rar&quot;&gt;\n                &lt;archive&gt;\n                    wmq.jakarta.jmsra.rar\n                &lt;/archive&gt;\n                &lt;transaction-support&gt;NoTransaction&lt;/transaction-support&gt;\n                &lt;connection-definitions&gt;\n                    &lt;connection-definition class-name=&quot;com.ibm.mq.jakarta.connector.outbound.ManagedConnectionFactoryImpl&quot; jndi-name=&quot;java:jboss/jms/Isp4dQueueManager&quot; tracking=&quot;false&quot; pool-name=&quot;mqConnectionFactory&quot;&gt;\n                        &lt;config-property name=&quot;hostName&quot;&gt;\n                            somehostname\n                        &lt;/config-property&gt;\n                        &lt;config-property name=&quot;port&quot;&gt;\n                            1234\n                        &lt;/config-property&gt;\n                        &lt;config-property name=&quot;transportType&quot;&gt;\n                            CLIENT\n                        &lt;/config-property&gt;\n                        &lt;config-property name=&quot;channel&quot;&gt;\n                            SomeChannel\n                        &lt;/config-property&gt;\n                        &lt;config-property name=&quot;queueManager&quot;&gt;\n                            SomeQueuemanager\n                        &lt;/config-property&gt;\n                        &lt;config-property name=&quot;username&quot;&gt;\n                            username\n                        &lt;/config-property&gt;\n                        &lt;config-property name=&quot;password&quot;&gt;\n                            password\n                        &lt;/config-property&gt;\n                        &lt;config-property name=&quot;reconnectionRetryCount&quot;&gt;\n                            30\n                        &lt;/config-property&gt;\n                        &lt;config-property name=&quot;reconnectionRetryInterval&quot;&gt;\n                            5000\n                        &lt;/config-property&gt;\n                    &lt;/connection-definition&gt;\n                &lt;/connection-definitions&gt;\n</code></pre>\n<p>As a result the following error appeared during startup</p>\n<pre><code>Caused by: org.jboss.jca.deployers.common.DeployException: IJ020060: Unable to inject: com.ibm.mq.jakarta.connector.outbound.ManagedConnectionFactoryImpl property: reconnectionRetryCount value: 30\n</code></pre>\n<p>So, what is the correct way to configure the reconnection behavior?</p>\n",
    "tags" : [ "java", "websphere", "wildfly", "resource-adapter" ],
    "owner" : {
      "account_id" : 6924380,
      "reputation" : 21,
      "user_id" : 5315870,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/21f22cf06058dc1f519a543f6a4356d4?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Matthias",
      "link" : "https://stackoverflow.com/users/5315870/matthias"
    },
    "is_answered" : true,
    "view_count" : 102,
    "answer_count" : 1,
    "score" : 2,
    "last_activity_date" : 1753968466,
    "creation_date" : 1753954584,
    "link" : "https://stackoverflow.com/questions/79721085/how-to-configure-auto-reconnect-of-a-mq-client-in-wildfly-resource-adapter",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79721347,
    "question_id" : 79721085,
    "body" : "<p>Turns out, that the config parameters have been at the wrong position. The following standalone.xml works</p>\n<pre><code>        &lt;subsystem xmlns=&quot;urn:jboss:domain:resource-adapters:6.1&quot;&gt;\n            &lt;resource-adapters&gt;\n                &lt;resource-adapter id=&quot;wmq.jakarta.jmsra.rar&quot;&gt;\n                    &lt;archive&gt;\n                        wmq.jakarta.jmsra.rar\n                    &lt;/archive&gt;\n                    &lt;transaction-support&gt;NoTransaction&lt;/transaction-support&gt;\n                    &lt;config-property name=&quot;reconnectionRetryCount&quot;&gt;\n                        10\n                    &lt;/config-property&gt;\n                    &lt;config-property name=&quot;reconnectionRetryInterval&quot;&gt;\n                        900000\n                    &lt;/config-property&gt;\n                    &lt;connection-definitions&gt;\n                    ...\n</code></pre>\n",
    "score" : 1,
    "is_accepted" : true,
    "owner" : {
      "account_id" : 6924380,
      "reputation" : 21,
      "user_id" : 5315870,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/21f22cf06058dc1f519a543f6a4356d4?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Matthias",
      "link" : "https://stackoverflow.com/users/5315870/matthias"
    },
    "creation_date" : 1753968466,
    "last_activity_date" : 1753968466,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ ],
  "answer_comments" : { }
}