{
  "question" : {
    "question_id" : 79554409,
    "title" : "My Selenium WebDriver doesn&#180;t get a value",
    "body" : "<p>Well, im currently learning Selenium with Java, using Maven and TestNg as my primary test framework.</p>\n<p>So, everything was great learning Selenium and it was smooth as butter, but then I tried to practice with some more complex projects like modeling with a user class with another website. Im using it with a CommonFlows class to package the flow of the page.</p>\n<p>But then webdriver was unable to get the value to direct to a website. The error message is:</p>\n<pre><code>java.lang.NullPointerException: Cannot invoke &quot;org.openqa.selenium.TakesScreenshot.getScreenshotAs(org.openqa.selenium.OutputType)&quot; because the return value of &quot;utilities.WebDriverProvider.get()&quot; is null\n</code></pre>\n<p>Then I decided to turn my WebDriverProvider class into a Singleton to being able to manage the situation, only to get the same error.</p>\n<p>The weirdest part is that the driver can only get values from the page where I was learning initially, so if I try with another I get the same error, and now im stuck.</p>\n<pre><code>    package utilities;\n    \n    import org.openqa.selenium.WebDriver;\n    \n    public class CommonFlows {\n        private WebDriver getDriver() {\n            return new WebDriverProvider().get();\n        }\n    \n        public void goToSignupPage() {\n            Logs.info(&quot;Navigation to Signup&quot;);\n            getDriver().get(&quot;https://tutorialsninja.com/demo/index.php?route=account/register&quot;);\n        }\n    \n        public void goToLoginPage() {\n            Logs.info(&quot;Navigation to Login&quot;);\n            getDriver().get(&quot;https://www.saucedemo.com/&quot;);\n        }\n    }\n</code></pre>\n<p>Im adding the WebDriverProvider class</p>\n<pre><code>    package utilities;\n\nimport org.openqa.selenium.WebDriver;\n\npublic class WebDriverProvider {\n\n    private static final ThreadLocal&lt;WebDriver&gt; threadLocal = new ThreadLocal&lt;&gt;();\n\n    public void set(WebDriver driver) {\n\n        threadLocal.set(driver);\n    }\n\n    public WebDriver get() {\n\n        return threadLocal.get();\n    }\n}\n</code></pre>\n<p>I just deleted the Singleton because it seems that isnÂ´t related.</p>\n<p>Seems that only the driver gets the value from the goToLoginPage method.</p>\n<p>I will really appreciate your help.</p>\n<p>Thank you!!!</p>\n",
    "tags" : [ "java", "selenium-webdriver" ],
    "owner" : {
      "account_id" : 41182057,
      "reputation" : 1,
      "user_id" : 30162823,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/385f09ca2d64659defdefb7b01bd3322?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "user30162823",
      "link" : "https://stackoverflow.com/users/30162823/user30162823"
    },
    "is_answered" : false,
    "view_count" : 55,
    "answer_count" : 0,
    "score" : 0,
    "last_activity_date" : 1743741800,
    "creation_date" : 1743737545,
    "link" : "https://stackoverflow.com/questions/79554409/my-selenium-webdriver-doesn%c2%b4t-get-a-value",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ ],
  "question_comments" : [ {
    "comment_id" : 140297705,
    "post_id" : 79554409,
    "body" : "When you do <code>return new WebDriverProvider().get();</code>, you&#39;re creating a brand-new object, and the <code>threadLocal</code> member doesn&#39;t contain anything yet.  Somewhere in there, you need to create a <code>WebDriver</code> for it to manage.",
    "score" : 0,
    "owner" : {
      "account_id" : 2119809,
      "reputation" : 55284,
      "user_id" : 1883316,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/9yAAh.jpg?s=256",
      "display_name" : "Tim Roberts",
      "link" : "https://stackoverflow.com/users/1883316/tim-roberts"
    },
    "creation_date" : 1743741913,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140297665,
    "post_id" : 79554409,
    "body" : "I added the WebDriverProvider class, without the singleton.",
    "score" : 0,
    "owner" : {
      "account_id" : 41182057,
      "reputation" : 1,
      "user_id" : 30162823,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/385f09ca2d64659defdefb7b01bd3322?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "user30162823",
      "link" : "https://stackoverflow.com/users/30162823/user30162823"
    },
    "creation_date" : 1743740043,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140297654,
    "post_id" : 79554409,
    "body" : "The problem is in <code>WebDriverProvider().get()</code>. You need to edit your question and add that code. The issue is that when you call that, it&#39;s not returning the driver instance... thus the <code>NullPointerException</code>.",
    "score" : 0,
    "owner" : {
      "account_id" : 2772450,
      "reputation" : 26488,
      "user_id" : 2386774,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/dea7da142cb7e85d5d5a8576e2625431?s=256&d=identicon&r=PG",
      "display_name" : "JeffC",
      "link" : "https://stackoverflow.com/users/2386774/jeffc"
    },
    "creation_date" : 1743739493,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}