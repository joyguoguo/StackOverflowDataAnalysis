{
  "question" : {
    "question_id" : 79600836,
    "title" : "GridDB Java Client Fails to Connect: JC_BAD_CONNECTION due to Notification Timeout",
    "body" : "<p><strong>Background</strong></p>\n<p>I'm trying to connect to a locally running GridDB Docker container using the Java client. Despite setting the proper cluster configuration and credentials, I keep getting a JC_BAD_CONNECTION error indicating a timeout when trying to receive notification updates.</p>\n<p><strong>What I am trying to do?</strong></p>\n<p>I want to insert data into a GridDB container using the Java API. I'm running the official GridDB Docker image locally and using Maven to manage dependencies. My goal is to establish a successful connection to the GridDB cluster and insert a row into a container named SampleContainer.</p>\n<p>Here’s the Java code I’m using (GridDBConnector.java):</p>\n<pre><code>package org.example;\n\nimport com.toshiba.mwcloud.gs.*;\nimport java.util.*;\n\npublic class GridDBConnector {\n    public static void main(String[] args) throws GSException {\n        // Set GridDB connection properties\n        Properties props = new Properties();\n        props.setProperty(&quot;notificationAddress&quot;, &quot;239.0.0.1&quot;);\n        props.setProperty(&quot;notificationPort&quot;, &quot;20000&quot;);\n        props.setProperty(&quot;clusterName&quot;, &quot;dockerGridDB&quot;);\n        props.setProperty(&quot;user&quot;, &quot;admin&quot;);\n        props.setProperty(&quot;password&quot;, &quot;admin&quot;);\n\n        // Connect to the cluster\n        GridStore store = GridStoreFactory.getInstance().getGridStore(props);\n\n        // Define container schema\n        ContainerInfo containerInfo = new ContainerInfo();\n        containerInfo.setName(&quot;SampleContainer&quot;);\n        containerInfo.setType(ContainerType.COLLECTION);\n        containerInfo.setColumnInfoList(Arrays.asList(\n            new ColumnInfo(&quot;id&quot;, GSType.INTEGER),\n            new ColumnInfo(&quot;name&quot;, GSType.STRING)\n        ));\n        containerInfo.setRowKeyAssigned(true);\n\n        // Create container and insert data\n        Collection&lt;Integer, Row&gt; collection = store.putCollection(&quot;SampleContainer&quot;, containerInfo, false);\n        Row row = collection.createRow();\n        row.setInteger(0, 1);\n        row.setString(1, &quot;gridDb&quot;);\n        collection.put(row);\n\n        System.out.println(&quot;Data inserted into GridDB successfully!&quot;);\n    }\n}\n</code></pre>\n<p>And my <strong>pom.xml</strong> includes the GridDB dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.github.griddb&lt;/groupId&gt;\n    &lt;artifactId&gt;gridstore&lt;/artifactId&gt;\n    &lt;version&gt;5.3.0&lt;/version&gt;\n&lt;/dependency&gt;\n\n</code></pre>\n<p>What I’ve Tried:</p>\n<ul>\n<li>Running the Docker <strong>Container</strong></li>\n</ul>\n<pre><code>docker run -d --name griddb-server -p 10001:10001 griddbnet/griddb:arm-5.5.0\n\n</code></pre>\n<ul>\n<li>Modifying Configuration\n<ul>\n<li><p>I tried both enabling and omitting the host and port properties.</p>\n</li>\n<li><p>I tried changing the notification port from 31999 to 20000 (which matches the exposed default).</p>\n</li>\n<li><p>I created a custom Docker bridge network and attached the container to it.</p>\n</li>\n<li><p>For more detail you can seem my <strong>cluster_info</strong></p>\n</li>\n</ul>\n</li>\n</ul>\n<pre><code>❯ docker exec -it griddb-server bash\nbash-5.1$ ls /var/lib/gridstore/conf/\ngridstore.conf  gridstore.pid  gs_cluster.json  gs_node.json  password\nbash-5.1$ cat /var/lib/gridstore/conf/gs_cluster.json\n{\n    &quot;dataStore&quot;:{\n        &quot;partitionNum&quot;:128,\n        &quot;storeBlockSize&quot;:&quot;64KB&quot;\n    },\n    &quot;cluster&quot;:{\n        &quot;clusterName&quot;:&quot;dockerGridDB&quot;,\n        &quot;replicationNum&quot;:2,\n        &quot;notificationAddress&quot;:&quot;239.0.0.1&quot;,\n        &quot;notificationPort&quot;:20000,\n        &quot;notificationInterval&quot;:&quot;5s&quot;,\n        &quot;heartbeatInterval&quot;:&quot;5s&quot;,\n        &quot;loadbalanceCheckInterval&quot;:&quot;180s&quot;\n    },\n    &quot;sync&quot;:{\n        &quot;timeoutInterval&quot;:&quot;30s&quot;\n    },\n    &quot;transaction&quot;:{\n        &quot;notificationAddress&quot;:&quot;239.0.0.1&quot;,\n        &quot;notificationPort&quot;:31999,\n        &quot;notificationInterval&quot;:&quot;5s&quot;,\n        &quot;replicationMode&quot;:0,\n        &quot;replicationTimeoutInterval&quot;:&quot;10s&quot;\n    },\n    &quot;sql&quot;:{\n        &quot;notificationAddress&quot;:&quot;239.0.0.1&quot;,\n        &quot;notificationPort&quot;:41999,\n        &quot;notificationInterval&quot;:&quot;5s&quot;\n    }\n}\n</code></pre>\n<ul>\n<li>Reviewing Logs\nThe following error keeps repeating:</li>\n</ul>\n<pre><code>com.toshiba.mwcloud.gs.common.GSConnectionException: [145028:JC_BAD_CONNECTION] Failed to update by notification (address=/239.0.0.1:20000, reason=Receive timed out)\n\n</code></pre>\n<p><strong>What I Expect / Need Help With:</strong></p>\n<ul>\n<li><p>What configuration or network setup am I missing to enable proper notification communication between the Java client and the GridDB Docker container?</p>\n</li>\n<li><p>Is it required to expose additional ports or use specific network modes for multicast to work in Docker on macOS/Linux?</p>\n</li>\n<li><p>How can I resolve the Receive timed out issue when using notificationAddress with the Java client?</p>\n</li>\n</ul>\n<ul>\n<li>I did not found any specific solution to this problem for <strong>JAVA</strong> , however I have went through different property configuration of others as well. It did not work.</li>\n</ul>\n<p>Any insights into fixing this connection problem would be highly appreciated!</p>\n",
    "tags" : [ "java", "docker", "griddb" ],
    "owner" : {
      "account_id" : 41631440,
      "reputation" : 41,
      "user_id" : 30379789,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/68bbb198db62c55c57d4e9b6f0db0d0a?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "hordlaw",
      "link" : "https://stackoverflow.com/users/30379789/hordlaw"
    },
    "is_answered" : false,
    "view_count" : 30,
    "answer_count" : 0,
    "score" : 1,
    "last_activity_date" : 1746033964,
    "creation_date" : 1746033964,
    "link" : "https://stackoverflow.com/questions/79600836/griddb-java-client-fails-to-connect-jc-bad-connection-due-to-notification-timeo",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ ],
  "question_comments" : [ ],
  "answer_comments" : { }
}