{
  "question" : {
    "question_id" : 79802683,
    "title" : "Keycloak Admin Client with Resteasy",
    "body" : "<p>I am using the latest Version of the <code>Keycloak</code> Admin Client</p>\n<pre><code>&lt;dependency&gt;\n    &lt;!-- provides convenience classes for accessing the keycloak rest api --&gt;\n    &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\n    &lt;artifactId&gt;keycloak-admin-client&lt;/artifactId&gt;\n    &lt;version&gt;26.0.7&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>with Spring Boot 3.5.3. I have a Config to provide a <code>Keycloak</code> Bean.</p>\n<pre><code> @Bean\n  public Keycloak keycloak() {\n    var authConfig = ...;\n\n    final KeycloakBuilder keycloakBuilder =\n        KeycloakBuilder.builder()\n            .serverUrl(authConfig.getIssuerUrl() + &quot;/auth&quot;)\n            .realm(authConfig.getRealm())\n            .grantType(OAuth2Constants.CLIENT_CREDENTIALS)\n            .clientId(authConfig.getClientId())\n            .clientSecret(authConfig.getClientSecret());\n\n      HttpHost defaultProxy = HttpHost.create(authConfig.getProxy().getDefaultProxy());\n\n      ResteasyClientBuilder resteasyBuilder =\n          ((ResteasyClientBuilder) ResteasyClientBuilder.newBuilder())\n              .defaultProxy(\n                  defaultProxy.getHostName(), defaultProxy.getPort(), defaultProxy.getSchemeName());\n\n      ResteasyClient resteasyClient = resteasyBuilder.build();\n      keycloakBuilder.resteasyClient(resteasyClient);\n    }\n\n    return keycloakBuilder.build();\n  }\n</code></pre>\n<p>Now, I have different dependencies that require a JerseyClient and hence <code>ResteasyClientBuilder</code> returns a JerseyClient and the Conversion throws an Exception. I already helped myself with using the ResteasyClientBuilderImpl but I would prefer to avoid using external Impls classes.\nI also can not set a system wide proxy because only part of the network traffic should be routed through this proxy. Is there any way to create a <code>ResteasyClient</code> without using the Impl?</p>\n",
    "tags" : [ "java", "spring-boot", "jersey", "keycloak", "resteasy" ],
    "owner" : {
      "account_id" : 12248901,
      "reputation" : 142,
      "user_id" : 12125473,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/925ae4b9d173bcb3634b6f69baa69aac?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Michael Von Bargen",
      "link" : "https://stackoverflow.com/users/12125473/michael-von-bargen"
    },
    "is_answered" : true,
    "view_count" : 99,
    "answer_count" : 1,
    "score" : 1,
    "last_activity_date" : 1762422947,
    "creation_date" : 1761648602,
    "link" : "https://stackoverflow.com/questions/79802683/keycloak-admin-client-with-resteasy",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79802963,
    "question_id" : 79802683,
    "body" : "<p><a href=\"https://github.com/keycloak/keycloak-client/issues/183\" rel=\"nofollow noreferrer\">https://github.com/keycloak/keycloak-client/issues/183</a> we should wait this fix for correct works</p>\n",
    "score" : 1,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 197773,
      "reputation" : 961,
      "user_id" : 442050,
      "user_type" : "registered",
      "accept_rate" : 58,
      "profile_image" : "https://www.gravatar.com/avatar/813f12faec93e68385e1cecf514d21b4?s=256&d=identicon&r=PG",
      "display_name" : "Akvel",
      "link" : "https://stackoverflow.com/users/442050/akvel"
    },
    "creation_date" : 1761663593,
    "last_activity_date" : 1761663593,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140825274,
    "post_id" : 79802683,
    "body" : "@ch4mp Thanks for the tip. Might have a look into that. But this will have the problem that i can no longer pin a version to the openapi.yml file and just pull it from maven with a new version but must manage it myself",
    "score" : 0,
    "owner" : {
      "account_id" : 12248901,
      "reputation" : 142,
      "user_id" : 12125473,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/925ae4b9d173bcb3634b6f69baa69aac?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Michael Von Bargen",
      "link" : "https://stackoverflow.com/users/12125473/michael-von-bargen"
    },
    "creation_date" : 1761752908,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140823269,
    "post_id" : 79802683,
    "body" : "If that can be of help, using the <code>openapi-generator</code>, I generate no more than <code>@HttpExchange</code> interfaces from Keycloak&#39;s OpenAPI spec, and then the proxy <code>@Service</code> that Spring can generate from these interfaces. This works like a charm for consuming Keycloak&#39;s admin API from a Spring backend.",
    "score" : 0,
    "owner" : {
      "account_id" : 308139,
      "reputation" : 13854,
      "user_id" : 619830,
      "user_type" : "registered",
      "accept_rate" : 75,
      "profile_image" : "https://www.gravatar.com/avatar/f4d00b0a82e9307b1d68b29867fee4e5?s=256&d=identicon&r=PG",
      "display_name" : "ch4mp",
      "link" : "https://stackoverflow.com/users/619830/ch4mp"
    },
    "creation_date" : 1761672723,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140823093,
    "post_id" : 79802683,
    "body" : "There are a lot of dependencies. I think the relevant one is camunda-bpm-spring-boot-starter-rest that has JerseyClient as a Dependency",
    "score" : 0,
    "owner" : {
      "account_id" : 12248901,
      "reputation" : 142,
      "user_id" : 12125473,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/925ae4b9d173bcb3634b6f69baa69aac?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Michael Von Bargen",
      "link" : "https://stackoverflow.com/users/12125473/michael-von-bargen"
    },
    "creation_date" : 1761667112,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140822462,
    "post_id" : 79802683,
    "body" : "It might be a classpath conflict. Could you provide dependencies?",
    "score" : 0,
    "owner" : {
      "account_id" : 17553626,
      "reputation" : 508,
      "user_id" : 12733532,
      "user_type" : "registered",
      "profile_image" : "https://lh3.googleusercontent.com/-EAww28wDCxk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcgKS9dXdmUh-hOQPlZYZygBUfLwQ/s256-rj/photo.jpg",
      "display_name" : "Max",
      "link" : "https://stackoverflow.com/users/12733532/max"
    },
    "creation_date" : 1761652153,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}