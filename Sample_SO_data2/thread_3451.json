{
  "question" : {
    "question_id" : 79550809,
    "title" : "How can I tell Maven Spring Boot to ignore prehistoric MANIFEST.MF&#39;s Class-Path entries?",
    "body" : "<p>My Maven Spring Boot project uses libraries that happen to have &quot;Class-Path:&quot; entries in their MANIFEST.MF. This seems to be a rather <em>prehistoric</em> (back from the 90s?)\nway of managing dependencies; it doesn't manage auto-downloads like maven, it doesn't consider versioning, publishing, or app assembling.\nNowadays Maven manages all this behind the scenes in much better and simpler way for us.</p>\n<p>However, when it comes to running the application using <code>mvn spring-boot:run</code> it shows the following warning:</p>\n<pre><code>WARN o.a.tomcat.util.scan.StandardJarScanner  : Failed to scan [file: /home/service/.m2/repository/g/a/1.0/b.jar] from classloader hierarchy\njava.io.IOException: java.lang.reflect.InvocationTargetException\n        at org.apache.tomcat.util.compat.Jre9Compat.jarFileNewInstance(Jre9Compat.java:209) ~[tomcat-embed-core-9.0.45.jar:9.0.45]\n        at org.apache.tomcat.util.scan.JarFileUrlJar.&lt;init&gt;(JarFileUrlJar.java:65) ~[tomcat-embed-core-9.0.45.jar:9.0.45]\n        â€¦\n        at com.cat.web. SpringWebAppStarter.main(SpringWebAppStarter.java:35) ~[classes/:na]\nCaused by: java.lang.reflect.InvocationTargetException: null\n        at java.base/jdk.internal.reflect.GeneratedConstructorAccessor20.newInstance(Unknown Source) ~[na:na]\n        ... 46 common frames omitted\nCaused by: java.nio.file.NoSuchFileException: /home/service/.m2/repository/g/a/1.0/b.jar\n</code></pre>\n<p>In this case the library <code>g:a.jar</code> (group and name simplified) has a META-INF/MANIFEST.MF file that includes:</p>\n<pre><code>Class-Path: b.jar\n</code></pre>\n<p>That is an optional library that is not really used by my app.</p>\n<p>How can I tell Maven or Spring Boot to <strong>manage the dependencies by themselves only</strong> and to <strong>fully ignore</strong> the <code>Class-Path:</code> entries in the libraries' MANIFESTs?</p>\n",
    "tags" : [ "java", "spring-boot", "maven", "dependency-management", "manifest.mf" ],
    "owner" : {
      "account_id" : 13414743,
      "reputation" : 1083,
      "user_id" : 9679725,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/c53370b5f7e9d0f7a88897ac97c75f5d?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Joe DiNottra",
      "link" : "https://stackoverflow.com/users/9679725/joe-dinottra"
    },
    "is_answered" : false,
    "view_count" : 48,
    "answer_count" : 0,
    "score" : 1,
    "last_activity_date" : 1743618715,
    "creation_date" : 1743601241,
    "link" : "https://stackoverflow.com/questions/79550809/how-can-i-tell-maven-spring-boot-to-ignore-prehistoric-manifest-mfs-class-path",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ ],
  "question_comments" : [ {
    "comment_id" : 140293491,
    "post_id" : 79550809,
    "body" : "I don&#39;t think you can as this is a Java feature and has nothing to do with either Maven nor Spring Boot. Your only option would be to unpack the jar, modify the manifest and repackage it.",
    "score" : 1,
    "owner" : {
      "account_id" : 3192259,
      "reputation" : 126826,
      "user_id" : 2696260,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/qHEzx.png?s=256",
      "display_name" : "M. Deinum",
      "link" : "https://stackoverflow.com/users/2696260/m-deinum"
    },
    "creation_date" : 1743665215,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140292838,
    "post_id" : 79550809,
    "body" : "I&#39;ll create a simplified project and will share.",
    "score" : 0,
    "owner" : {
      "account_id" : 13414743,
      "reputation" : 1083,
      "user_id" : 9679725,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/c53370b5f7e9d0f7a88897ac97c75f5d?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Joe DiNottra",
      "link" : "https://stackoverflow.com/users/9679725/joe-dinottra"
    },
    "creation_date" : 1743645180,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140292446,
    "post_id" : 79550809,
    "body" : "Try configuring the <code>maven-jar-plugin</code> to set it to blank as suggested here: <a href=\"https://stackoverflow.com/a/25098501/20769158\">stackoverflow.com/a/25098501/20769158</a>",
    "score" : 0,
    "owner" : {
      "account_id" : 27243397,
      "reputation" : 1642,
      "user_id" : 20769158,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/df0e133d3f8cb085e349c80207c9f1bf?s=256&d=identicon&r=PG",
      "display_name" : "scrhartley",
      "link" : "https://stackoverflow.com/users/20769158/scrhartley"
    },
    "creation_date" : 1743632412,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140291853,
    "post_id" : 79550809,
    "body" : "forgot to mention. above comment is assuming that the library is actually in the scope of your dependencies. to make sure of it run <code>mvn dependency:tree</code> in your project and see if the g:a dependency is there.",
    "score" : 0,
    "owner" : {
      "account_id" : 209503,
      "reputation" : 23867,
      "user_id" : 460557,
      "user_type" : "registered",
      "accept_rate" : 100,
      "profile_image" : "https://www.gravatar.com/avatar/b4565f97815833390c9c880e9e8522e4?s=256&d=identicon&r=PG",
      "display_name" : "Jorge Campos",
      "link" : "https://stackoverflow.com/users/460557/jorge-campos"
    },
    "creation_date" : 1743621481,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140291834,
    "post_id" : 79550809,
    "body" : "If you are running a project with maven (<code>mvn spring-boot:run</code>), maven is your dependency manager tool whatever you are seeing on the manifest file likely has nothing to do with it. Also share your pom file project file. The error seems to be that the classloader can not find the jar file in the repo. Sometimes this happens if the jar file is not there or is corrupted. Try deleting the whole package of it in your local repo. should be in <code>~&#47;.m2&#47;repository&#47;g</code> delete the &quot;g&quot; folder",
    "score" : 0,
    "owner" : {
      "account_id" : 209503,
      "reputation" : 23867,
      "user_id" : 460557,
      "user_type" : "registered",
      "accept_rate" : 100,
      "profile_image" : "https://www.gravatar.com/avatar/b4565f97815833390c9c880e9e8522e4?s=256&d=identicon&r=PG",
      "display_name" : "Jorge Campos",
      "link" : "https://stackoverflow.com/users/460557/jorge-campos"
    },
    "creation_date" : 1743621042,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}