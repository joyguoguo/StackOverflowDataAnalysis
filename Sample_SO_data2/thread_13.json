{
  "question" : {
    "question_id" : 79846810,
    "title" : "Client and Server Side share same resources",
    "body" : "<p>I’m making a simple chat application in Java using the <code>java.net</code> package. Both the client and server sides, I've separated to different projects.</p>\n<p>However, I’m struggling to keep a clean design. For example, I have a class called <code>Request</code> (which implements <code>Serializable</code>) that contains information such as the type of request (stored in an enum). Because of this, I need both the <code>Request</code> class and the enum of request types, so I end up sharing them between the client and server projects.</p>\n<p>Is it a good approach for the client and server to share the same classes? Or is there a better design that avoids this? How can I better separate concerns in this kind of situations?</p>\n<p>Please give me some guidelines on how to handle this of issue. Thanks!!</p>\n",
    "tags" : [ "java", "server", "client", "dependency-management" ],
    "owner" : {
      "account_id" : 33388552,
      "reputation" : 21,
      "user_id" : 26564077,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/27ad4b2bfc97f8e56a8bb8f9cadc0106?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "PEREZ MONSIVAIS JOSE DE JESUS ",
      "link" : "https://stackoverflow.com/users/26564077/perez-monsivais-jose-de-jesus"
    },
    "is_answered" : true,
    "view_count" : 52,
    "answer_count" : 3,
    "score" : 1,
    "last_activity_date" : 1765786989,
    "creation_date" : 1765670239,
    "link" : "https://stackoverflow.com/questions/79846810/client-and-server-side-share-same-resources",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79846816,
    "question_id" : 79846810,
    "body" : "<p>Yes, sharing classes between client and server is a common and valid approach. The standard solution is to create a third “shared” or “common” module/project that both client and server depend on.</p>\n<p>Your project structure would look like:</p>\n<p>chat-app/</p>\n<p>├── common/          ← shared classes (Request, RequestType enum, etc.)</p>\n<p>├── client/          ← depends on common</p>\n<p>└── server/          ← depends on common</p>\n<p>Why this works well:</p>\n<p>The <code>Request</code> class and its enum genuinely belong to both sides—they define the contract between client and server. Duplicating them would violate DRY and create version drift bugs. A shared module makes this dependency explicit and manageable.</p>\n<p>Guidelines for what goes in the shared module:</p>\n<p>Put in shared: DTOs (Data Transfer Objects), protocol enums, serialization classes, shared constants, and interface definitions.</p>\n<p>Keep separate: business logic, UI code, server-specific processing, persistence layer code.</p>\n<p>Alternative approaches:</p>\n<p>If you want stronger decoupling, you could define the protocol using something external like Protocol Buffers or JSON schemas, then generate classes for each side independently. This is overkill for a simple chat app but common in larger distributed systems where client and server evolve on different release cycles.</p>\n<p>For your use case—a learning project with <code>java.net</code>—the shared module approach is the cleanest design. You’re not over-engineering, you’re correctly identifying shared concerns.</p>\n",
    "score" : 2,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 44942523,
      "reputation" : 1,
      "user_id" : 32016164,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/xJ50C9iI.png?s=256",
      "display_name" : "Malcolm Adams",
      "link" : "https://stackoverflow.com/users/32016164/malcolm-adams"
    },
    "creation_date" : 1765671324,
    "last_activity_date" : 1765671324,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "answer_id" : 79847161,
    "question_id" : 79846810,
    "body" : "<p>If you use Serializable you may also use ObjectInputStream. Be aware that using it makes you program vulnerable to remote code execution unless you exactly know what you are doing.</p>\n<p>My advice is don't use ObjectInputStream at all. Use a serialization format/system that is known to be safe like JSON via GSON or Jackson, or something like GRPC.</p>\n",
    "score" : 1,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 50585,
      "reputation" : 43469,
      "user_id" : 150978,
      "user_type" : "registered",
      "accept_rate" : 78,
      "profile_image" : "https://www.gravatar.com/avatar/feadc214792e2581c3c750140e3eb2c7?s=256&d=identicon&r=PG",
      "display_name" : "Robert",
      "link" : "https://stackoverflow.com/users/150978/robert"
    },
    "creation_date" : 1765732681,
    "last_activity_date" : 1765732681,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "answer_id" : 79847500,
    "question_id" : 79846810,
    "body" : "<blockquote>\n<p>Is it a good approach for the client and server to share the same classes?</p>\n</blockquote>\n<p>No it isn't. We are still recovering from RMI, serialized Objects over JMS and Remote EJBs.</p>\n<p>Define a contract instead of sharing binary classes. Sharing those classes will haunt you especially if both the client and server grow at a different pace and/or have different requirements. Even switching to a different JDK version can (and will) lead to trouble reading serialized objects.</p>\n<p>Sharing objects will only lead to suffering, do the wise thing create a contract and share that. Use things like JSON, GRPC, Protobuf etc. so that you share a contract and each can create its own objects (that would even work across languages/runtimes).</p>\n<p><strong>NOTE</strong> As this is a learning project sharing objects might be the easiest to start but I would suggest moving to sharing a contract instead. Sharing objects is easy but sharing a contract is what is happening in the real world.</p>\n",
    "score" : 0,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 3192259,
      "reputation" : 126826,
      "user_id" : 2696260,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/qHEzx.png?s=256",
      "display_name" : "M. Deinum",
      "link" : "https://stackoverflow.com/users/2696260/m-deinum"
    },
    "creation_date" : 1765786989,
    "last_activity_date" : 1765786989,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ ],
  "answer_comments" : { }
}