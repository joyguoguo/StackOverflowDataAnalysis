{
  "question" : {
    "question_id" : 79810211,
    "title" : "Accessibility permission features not working on android 15",
    "body" : "<p>I am building an app(expo react native ts with custom native code in the android folder) that uses android's accessibility service/feature to read what is on the screen, and it's triggered by events from a certain app. On my android 13 device the service is working perfectly and able to read all accessibility events, while on android 15 it does not, and ir only reads some events. I test with npx expo run:android and works fine with android 13 devices, but not on 15. I even tried putting the release build on google play for internal testing(since android doesn't let sideloaded apps from accessing its accessibility services) and installed it there and still did not work.</p>\n",
    "tags" : [ "java", "android", "react-native", "expo" ],
    "owner" : {
      "account_id" : 27686635,
      "reputation" : 161,
      "user_id" : 21134264,
      "user_type" : "registered",
      "profile_image" : "https://lh3.googleusercontent.com/a/AEdFTp5EFbA6DdY3muqUKBKd6_XxHVrQi30nU7eB_qwgdA=k-s256",
      "display_name" : "Ali Abbara",
      "link" : "https://stackoverflow.com/users/21134264/ali-abbara"
    },
    "is_answered" : false,
    "view_count" : 86,
    "answer_count" : 1,
    "score" : 0,
    "last_activity_date" : 1764693492,
    "creation_date" : 1762353268,
    "link" : "https://stackoverflow.com/questions/79810211/accessibility-permission-features-not-working-on-android-15",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79835987,
    "question_id" : 79810211,
    "body" : "<p>The fix for it was: <code>android:isAccessibilityTool=&quot;true&quot;</code> inside the accessibility xml configuration file.</p>\n",
    "score" : 0,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 27686635,
      "reputation" : 161,
      "user_id" : 21134264,
      "user_type" : "registered",
      "profile_image" : "https://lh3.googleusercontent.com/a/AEdFTp5EFbA6DdY3muqUKBKd6_XxHVrQi30nU7eB_qwgdA=k-s256",
      "display_name" : "Ali Abbara",
      "link" : "https://stackoverflow.com/users/21134264/ali-abbara"
    },
    "creation_date" : 1764686303,
    "last_activity_date" : 1764693492,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140883469,
    "post_id" : 79810211,
    "body" : "Sorry for the delay. Turns out the fix for it was: android:isAccessibilityTool=&quot;true&quot; inside the accessibility xml configuration file.",
    "score" : 0,
    "owner" : {
      "account_id" : 27686635,
      "reputation" : 161,
      "user_id" : 21134264,
      "user_type" : "registered",
      "profile_image" : "https://lh3.googleusercontent.com/a/AEdFTp5EFbA6DdY3muqUKBKd6_XxHVrQi30nU7eB_qwgdA=k-s256",
      "display_name" : "Ali Abbara",
      "link" : "https://stackoverflow.com/users/21134264/ali-abbara"
    },
    "creation_date" : 1764686272,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140844769,
    "post_id" : 79810211,
    "body" : "Run the eas build --platform android profile --production or --development command to get apk.",
    "score" : 0,
    "owner" : {
      "account_id" : 30749265,
      "reputation" : 140,
      "user_id" : 23579867,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/xrNE26iI.png?s=256",
      "display_name" : "knnorou2",
      "link" : "https://stackoverflow.com/users/23579867/knnorou2"
    },
    "creation_date" : 1762634083,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140844768,
    "post_id" : 79810211,
    "body" : "Ok, but you should test APK as well, not just internal testing aab.",
    "score" : 0,
    "owner" : {
      "account_id" : 30749265,
      "reputation" : 140,
      "user_id" : 23579867,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/xrNE26iI.png?s=256",
      "display_name" : "knnorou2",
      "link" : "https://stackoverflow.com/users/23579867/knnorou2"
    },
    "creation_date" : 1762634041,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140844345,
    "post_id" : 79810211,
    "body" : "But still did not work on android 14 and 15. I also set android:packageNames=&quot;...&quot; to what apps I am monitoring, but still no changes    And I always run &quot;eas build --platform android --profile production-aab&quot; when doing the build that I put on google play store internal testing. And regarding the restricted permissions that are in the app settings, I could never find them, not on android 14 nor android 15. By the way thanks a lot for your time.",
    "score" : 0,
    "owner" : {
      "account_id" : 27686635,
      "reputation" : 161,
      "user_id" : 21134264,
      "user_type" : "registered",
      "profile_image" : "https://lh3.googleusercontent.com/a/AEdFTp5EFbA6DdY3muqUKBKd6_XxHVrQi30nU7eB_qwgdA=k-s256",
      "display_name" : "Ali Abbara",
      "link" : "https://stackoverflow.com/users/21134264/ali-abbara"
    },
    "creation_date" : 1762611251,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140844344,
    "post_id" : 79810211,
    "body" : "My tagetSdkVersion inside android/app/build.gradle is: targetSdkVersion rootProject.ext.targetSdkVersion and this is the minSdkVersion:    minSdkVersion rootProject.ext.minSdkVersion. And then I found out that it was not being set to nothing at android/build.gradle. I set them correctly: ext {     minSdkVersion = 24      compileSdkVersion = 35   // Android 15     targetSdkVersion  = 35   // Android 15     ndkVersion         = &quot;26.1.10909125&quot;     buildToolsVersion  = &quot;35.0.0&quot;   }",
    "score" : 0,
    "owner" : {
      "account_id" : 27686635,
      "reputation" : 161,
      "user_id" : 21134264,
      "user_type" : "registered",
      "profile_image" : "https://lh3.googleusercontent.com/a/AEdFTp5EFbA6DdY3muqUKBKd6_XxHVrQi30nU7eB_qwgdA=k-s256",
      "display_name" : "Ali Abbara",
      "link" : "https://stackoverflow.com/users/21134264/ali-abbara"
    },
    "creation_date" : 1762611235,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140840925,
    "post_id" : 79810211,
    "body" : "Also n newer android versions, due to security measures, you may need to go to a restricted permissions or stuff like that in android app settings and enable accessibility",
    "score" : 1,
    "owner" : {
      "account_id" : 30749265,
      "reputation" : 140,
      "user_id" : 23579867,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/xrNE26iI.png?s=256",
      "display_name" : "knnorou2",
      "link" : "https://stackoverflow.com/users/23579867/knnorou2"
    },
    "creation_date" : 1762471350,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140840915,
    "post_id" : 79810211,
    "body" : "tragetSdkVersion is in build.gradle",
    "score" : 1,
    "owner" : {
      "account_id" : 30749265,
      "reputation" : 140,
      "user_id" : 23579867,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/xrNE26iI.png?s=256",
      "display_name" : "knnorou2",
      "link" : "https://stackoverflow.com/users/23579867/knnorou2"
    },
    "creation_date" : 1762470998,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140840910,
    "post_id" : 79810211,
    "body" : "Is your targetSdkVersion set to 35 (not targeting older SDK), and did you run the eas build --platform android --profile development command or something else?",
    "score" : 1,
    "owner" : {
      "account_id" : 30749265,
      "reputation" : 140,
      "user_id" : 23579867,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/xrNE26iI.png?s=256",
      "display_name" : "knnorou2",
      "link" : "https://stackoverflow.com/users/23579867/knnorou2"
    },
    "creation_date" : 1762470623,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140839076,
    "post_id" : 79810211,
    "body" : "I tried with EAS build, --production-aab and put it on my google play store account as internal testing, downloaded it on my android 13 and android 15 devices. 13 workds fine, but on 15 still no. What app.json configs shoul I have?",
    "score" : 0,
    "owner" : {
      "account_id" : 27686635,
      "reputation" : 161,
      "user_id" : 21134264,
      "user_type" : "registered",
      "profile_image" : "https://lh3.googleusercontent.com/a/AEdFTp5EFbA6DdY3muqUKBKd6_XxHVrQi30nU7eB_qwgdA=k-s256",
      "display_name" : "Ali Abbara",
      "link" : "https://stackoverflow.com/users/21134264/ali-abbara"
    },
    "creation_date" : 1762392217,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140839053,
    "post_id" : 79810211,
    "body" : "Have you tried EAS build and app.json configs?",
    "score" : 1,
    "owner" : {
      "account_id" : 30749265,
      "reputation" : 140,
      "user_id" : 23579867,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/xrNE26iI.png?s=256",
      "display_name" : "knnorou2",
      "link" : "https://stackoverflow.com/users/23579867/knnorou2"
    },
    "creation_date" : 1762390009,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}