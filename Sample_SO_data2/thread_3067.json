{
  "question" : {
    "question_id" : 79576508,
    "title" : "Springdoc OpenAPI 3.0.3 Swagger UI fails in Production 401 and ArrayIndexOutOfBoundsException at swagger-initializer.js work fine into dev and int",
    "body" : "<p>I'm using Springdoc OpenAPI 3.0.3 with Spring Boot to expose Swagger UI in my application. It works perfectly fine in development and integration environments, but fails in production with a 401 Unauthorized and the following error:</p>\n<blockquote>\n<p>GET &quot;/swagger-ui/swagger-initializer.js&quot;, parameters={}\nMapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]\nFailed to complete request: java.lang.ArrayIndexOutOfBoundsException: Index 0 out of bounds for length 0</p>\n</blockquote>\n<blockquote>\n<p>logs : GET &quot;/swagger-ui/swagger-initializer.js&quot;, parameters={}\n2025-04-15T06:04:18.051Z DEBUG 1 -o.s.w.s.h.SimpleUrlHandlerMapping        : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]\n2025-04-15T06:04:18.052Z DEBUG 1  o.s.w.s.DispatcherServlet                : Failed to complete request: java.lang.ArrayIndexOutOfBoundsException: Index 0 out of bounds for length 0\n2025-04-15T06:04:18.053Z ERROR 1  o.a.c.c.C.[.[.[.[dispatcherServlet]      : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: <a href=\"https://i.sstatic.net/mSxXkSDs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/mSxXkSDs.png\" alt=\"enter image description here\" /></a></p>\n</blockquote>\n<p><strong>Key Observations:</strong></p>\n<ul>\n<li><p>This happens only in production.</p>\n</li>\n<li><p>Swagger UI loads, but fails on loading swagger-initializer.js with a</p>\n</li>\n</ul>\n<ol start=\"401\">\n<li></li>\n</ol>\n<ul>\n<li>Logs suggest a failure in Springdoc's SwaggerUiConfigParameters.put()\nmethod.</li>\n</ul>\n<p><strong>My Setup:</strong></p>\n<ul>\n<li><p>Spring Boot 3.4.0</p>\n</li>\n<li><p>Springdoc OpenAPI Starter: 2.5.0</p>\n</li>\n<li><p>spring-security is used and OAuth2 is configured.spring-security-oauth2-client:6.4.1</p>\n</li>\n<li><p>Swagger is enabled using:</p>\n</li>\n</ul>\n<blockquote>\n<p>springdoc:\ncache:\ndisabled: true\napi-docs:\nenabled: false\nswagger-ui:\npath: /\nurls:\n- name: Apis\nurl: /project-service-openapi.yaml</p>\n</blockquote>\n<p><a href=\"https://i.sstatic.net/z1Cpf485.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/z1Cpf485.png\" alt=\"enter image description here\" /></a></p>\n",
    "tags" : [ "java", "spring-boot", "openapi", "swagger-ui" ],
    "owner" : {
      "account_id" : 27081716,
      "reputation" : 13,
      "user_id" : 20630792,
      "user_type" : "registered",
      "profile_image" : "https://lh3.googleusercontent.com/a/ALm5wu2deeksK5xw2EENJ36MpdAEVct6_iZ2dudXnhFl=k-s256",
      "display_name" : "Mittal Vaghela",
      "link" : "https://stackoverflow.com/users/20630792/mittal-vaghela"
    },
    "is_answered" : false,
    "view_count" : 80,
    "answer_count" : 0,
    "score" : 0,
    "last_activity_date" : 1744784334,
    "creation_date" : 1744783997,
    "link" : "https://stackoverflow.com/questions/79576508/springdoc-openapi-3-0-3-swagger-ui-fails-in-production-401-and-arrayindexoutofbo",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ ],
  "question_comments" : [ ],
  "answer_comments" : { }
}