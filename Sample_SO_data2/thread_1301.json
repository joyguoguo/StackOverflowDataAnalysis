{
  "question" : {
    "question_id" : 79726043,
    "title" : "Problems at running application with Java21, Geotools and Javafx",
    "body" : "<p>My target is to create an application, which uses <code>Java 21.0.7</code> (OpenJDK), <code>JavaFx 23.0.2</code> and <code>GeoTools 34-SNAPSHOT</code> to show S57 sea charts.</p>\n<p>As a prerequirement I have downloaded <code>javafx-sdk-23.0.2</code> as well and set the environment variable <code>FX-PATH=C:\\Git\\openjfx-23.0.2_windows-x64_bin-sdk\\javafx-sdk-23.0.2\\lib</code>.</p>\n<p>The application contains the <code>pom.xml</code> and two classes:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;GeoToolsTest&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;version.java&gt;21&lt;/version.java&gt;\n        &lt;maven.compiler.source&gt;${version.java}&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;${version.java}&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n\n        &lt;version.javafx&gt;23.0.2&lt;/version.javafx&gt;\n        &lt;version.geotools&gt;34-SNAPSHOT&lt;/version.geotools&gt;\n        &lt;maven.deploy.skip&gt;true&lt;/maven.deploy.skip&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;!-- Import the GeoTools BOM --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.geotools&lt;/groupId&gt;\n                &lt;artifactId&gt;gt-bom&lt;/artifactId&gt;\n                &lt;version&gt;${version.geotools}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;osgeo&lt;/id&gt;\n            &lt;name&gt;OSGeo Release Repository&lt;/name&gt;\n            &lt;url&gt;https://repo.osgeo.org/repository/release/&lt;/url&gt;\n            &lt;snapshots&gt;&lt;enabled&gt;false&lt;/enabled&gt;&lt;/snapshots&gt;\n            &lt;releases&gt;&lt;enabled&gt;true&lt;/enabled&gt;&lt;/releases&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;osgeo-snapshot&lt;/id&gt;\n            &lt;name&gt;OSGeo Snapshot Repository&lt;/name&gt;\n            &lt;url&gt;https://repo.osgeo.org/repository/snapshot/&lt;/url&gt;\n            &lt;snapshots&gt;&lt;enabled&gt;true&lt;/enabled&gt;&lt;/snapshots&gt;\n            &lt;releases&gt;&lt;enabled&gt;false&lt;/enabled&gt;&lt;/releases&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n    &lt;build&gt;\n        &lt;resources&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;src/main/config&lt;/directory&gt;\n                &lt;targetPath&gt;${project.build.directory}&lt;/targetPath&gt;\n                &lt;filtering&gt;true&lt;/filtering&gt;\n            &lt;/resource&gt;\n        &lt;/resources&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.14.0&lt;/version&gt;\n                &lt;configuration&gt;&lt;release&gt;${version.java}&lt;/release&gt;&lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.0.8&lt;/version&gt;\n                &lt;configuration&gt;&lt;mainClass&gt;org.example.Main&lt;/mainClass&gt;&lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;!-- Build an executable JAR --&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.4.2&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                            &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\n                            &lt;mainClass&gt;org.example.Starter&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx&lt;/artifactId&gt;\n            &lt;version&gt;${version.javafx}&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n            &lt;version&gt;${version.javafx}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-swing&lt;/artifactId&gt;\n            &lt;version&gt;${version.javafx}&lt;/version&gt;\n        &lt;/dependency&gt;\n       &lt;dependency&gt;\n            &lt;groupId&gt;org.geotools&lt;/groupId&gt;\n            &lt;artifactId&gt;gt-shapefile&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.geotools&lt;/groupId&gt;\n            &lt;artifactId&gt;gt-swing&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.geotools&lt;/groupId&gt;\n            &lt;artifactId&gt;gt-api&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>The class <code>org.example.Starter</code> (which acts as a wrapper class):</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.example;\npublic class Starter {\n    //Wrapper class\n    public static void main(String[] args) {\n        Main.main(args);\n    }\n}\n</code></pre>\n<p>And the file: <code>org.example.Main</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.example;\n\nimport javafx.application.Application;\nimport javafx.embed.swing.SwingNode;\nimport javafx.scene.Scene;\nimport javafx.scene.layout.BorderPane;\nimport javafx.stage.Stage;\n\nimport org.geotools.api.data.DataStore;\nimport org.geotools.api.data.DataStoreFinder;\nimport org.geotools.map.Layer;\nimport org.geotools.map.MapContent;\nimport org.geotools.swing.JMapPane;\n\nimport java.io.File;\nimport java.util.HashMap;\nimport java.util.Map;\n\npublic class Main extends Application {\n\n    @Override\n    public void start(Stage primaryStage) {\n        primaryStage.setTitle(&quot;S-57 seachart with GeoTools&quot;);\n        SwingNode swingNode = new SwingNode();\n        createAndSetMapPane(swingNode);\n\n        BorderPane root = new BorderPane();\n        root.setCenter(swingNode);\n\n        Scene scene = new Scene(root, 800, 600);\n        primaryStage.setScene(scene);\n        primaryStage.show();\n    }\n\n    private void createAndSetMapPane(SwingNode swingNode) {\n        javafx.application.Platform.runLater(() -&gt; {\n              MapContent mapContent = new MapContent();\n              mapContent.setTitle(&quot;S-57 Sea chart&quot;);\n\n            try {\n                File s57File = new File(&quot;PathToS57Files\\\\file.000&quot;);\n                Map&lt;String, Object&gt; params = new HashMap&lt;&gt;();\n                params.put(&quot;url&quot;, s57File.toURI().toURL());\n\n                DataStore dataStore = DataStoreFinder.getDataStore(params);\n                String typeName = dataStore.getTypeNames()[0];\n\n                Layer layer = new org.geotools.map.FeatureLayer(dataStore.getFeatureSource(typeName), null);\n                mapContent.addLayer(layer);\n\n                JMapPane mapPane = new JMapPane();\n                mapPane.setMapContent(mapContent);\n\n                swingNode.setContent(mapPane);\n\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        });\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n<p>I start my application with the following command:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>java --module-path %FX-PATH% --add-modules javafx.controls,javafx.swing -jar GeoToolsTest-1.0-SNAPSHOT.jar Main\n</code></pre>\n<p>but it ends up with the following exception:</p>\n<pre class=\"lang-none prettyprint-override\"><code>    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError:  org/geotools/api/data/FeatureSource\n        at org.example.Starter.main(Starter.java:7)\nCaused by: java.lang.ClassNotFoundException: org.geotools.api.data.FeatureSource\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526)\n        ... 1 more\n\n</code></pre>\n<p>Could someone explain, what is missing or wrong?</p>\n<p>Some notices:</p>\n<ul>\n<li><p>As far as i can see the class <code>FeatureSource</code> is part of <code>org.geotools.gt-api</code> and this dependency is included.</p>\n</li>\n<li><p>Even if i remove the <code>gt-bom</code>-pattern (which is introduced by version <code>34-SNAPSHOT</code>) and set all <code>geotools</code>-dependencies to the last stable version <code>33.2</code> this exception appears.</p>\n</li>\n</ul>\n",
    "tags" : [ "java", "maven", "javafx", "geotools" ],
    "owner" : {
      "account_id" : 9875097,
      "reputation" : 633,
      "user_id" : 7313173,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/f4518983c7862d9062b2cf911817e8a6?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Alex",
      "link" : "https://stackoverflow.com/users/7313173/alex"
    },
    "is_answered" : true,
    "view_count" : 219,
    "answer_count" : 1,
    "score" : 2,
    "last_activity_date" : 1755200935,
    "creation_date" : 1754393602,
    "link" : "https://stackoverflow.com/questions/79726043/problems-at-running-application-with-java21-geotools-and-javafx",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79729195,
    "question_id" : 79726043,
    "body" : "<h2>Why it breaks</h2>\n<p>Your main issues are:</p>\n<ol>\n<li>The geotools <code>34-SNAPSHOT</code> (seemingly) breaks the manifest of the packaged jar file.</li>\n<li>You don't have the required <code>/lib</code> directory with the needed libraries in it.</li>\n</ol>\n<h2>How to fix it</h2>\n<h4>Replace the geotools snapshot dependency with a stable version</h4>\n<p>I could not tell you exactly why the geotools snapshot dependencies breaks your execution.  My guess is that the snapshot artifact library names have some characters or lengths that are incompatible with the jar class path manifest specification.  Regardless, using the stable version of geotools removed the issue.</p>\n<p>To switch from the geotools snapshot to the stable version:</p>\n<ul>\n<li>Remove the geotools snapshot repository definition.</li>\n<li>Remove the geotools <code>34-SNAPSHOT</code> bom plugin management section.</li>\n<li>Add dependency versions for geotools yourself manually, rather than relying on the snapshot <code>bom</code> which breaks your deployment.</li>\n</ul>\n<h4>Place the required libraries in the <code>/lib</code> directory</h4>\n<p>You have these options for the maven-jar-plugin:</p>\n<pre><code>&lt;addClasspath&gt;true&lt;/addClasspath&gt;\n&lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\n</code></pre>\n<p>This means that all of the jars listed in the <code>META-INF/MANIFEST.MF</code> file in the jar you are executing need to be in the relative <code>lib/</code> directory to the executed jar. The relative lib directory needs to include the transitive jars of Geotools and JavaFX, based on your current configuration.</p>\n<p>You can have Maven copy the required libraries to the project <code>target/lib</code> directory using this configuration.</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.8.1&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;phase&gt;prepare-package&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;copy-dependencies&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;outputDirectory&gt;${project.build.directory}/lib&lt;/outputDirectory&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<h2>Example working code</h2>\n<p>I couldn't get an an actual chart to display as I didn't have the data file referenced in your question <code>&quot;PathToS57Files\\\\file.000&quot;</code>.  However, I think it works otherwise (for me it just displays a blank screen where the chart should be).</p>\n<p>I renamed some of the classes as per the info in the advice section of this answer.  I also commented out bits of code related to missing data.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;geotools-test&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;geotools-test&lt;/name&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n\n        &lt;java.version&gt;21&lt;/java.version&gt;\n\n        &lt;geotools.version&gt;33.2&lt;/geotools.version&gt;\n        &lt;javafx.version&gt;23.0.2&lt;/javafx.version&gt;\n    &lt;/properties&gt;\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;osgeo&lt;/id&gt;\n            &lt;name&gt;OSGeo Release Repository&lt;/name&gt;\n            &lt;url&gt;https://repo.osgeo.org/repository/release/&lt;/url&gt;\n            &lt;snapshots&gt;&lt;enabled&gt;false&lt;/enabled&gt;&lt;/snapshots&gt;\n            &lt;releases&gt;&lt;enabled&gt;true&lt;/enabled&gt;&lt;/releases&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.14.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;release&gt;${java.version}&lt;/release&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;prepare-package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;copy-dependencies&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;outputDirectory&gt;${project.build.directory}/lib&lt;/outputDirectory&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;!-- Build an executable JAR --&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.4.2&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                            &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\n                            &lt;mainClass&gt;org.example.SeaChartLauncher&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n            &lt;version&gt;${javafx.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-swing&lt;/artifactId&gt;\n            &lt;version&gt;${javafx.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.geotools&lt;/groupId&gt;\n            &lt;artifactId&gt;gt-shapefile&lt;/artifactId&gt;\n            &lt;version&gt;${geotools.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.geotools&lt;/groupId&gt;\n            &lt;artifactId&gt;gt-swing&lt;/artifactId&gt;\n            &lt;version&gt;${geotools.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.geotools&lt;/groupId&gt;\n            &lt;artifactId&gt;gt-api&lt;/artifactId&gt;\n            &lt;version&gt;${geotools.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<pre><code>package org.example;\n\npublic class SeaChartLauncher {\n    public static void main(String[] args) {\n        SeaChartApp.main(args);\n    }\n}\n</code></pre>\n<pre><code>package org.example;\n\nimport javafx.application.Application;\nimport javafx.embed.swing.SwingNode;\nimport javafx.scene.Scene;\nimport javafx.scene.layout.BorderPane;\nimport javafx.stage.Stage;\n\nimport org.geotools.api.data.DataStore;\nimport org.geotools.api.data.DataStoreFinder;\nimport org.geotools.map.Layer;\nimport org.geotools.map.MapContent;\nimport org.geotools.swing.JMapPane;\n\nimport java.io.File;\nimport java.util.HashMap;\nimport java.util.Map;\n\npublic class SeaChartApp extends Application {\n\n    @Override\n    public void start(Stage primaryStage) {\n        primaryStage.setTitle(&quot;S-57 seachart with GeoTools&quot;);\n        SwingNode swingNode = new SwingNode();\n        createAndSetMapPane(swingNode);\n\n        BorderPane root = new BorderPane();\n        root.setCenter(swingNode);\n\n        Scene scene = new Scene(root, 800, 600);\n        primaryStage.setScene(scene);\n        primaryStage.show();\n    }\n\n    private void createAndSetMapPane(SwingNode swingNode) {\n        javafx.application.Platform.runLater(() -&gt; {\n              MapContent mapContent = new MapContent();\n              mapContent.setTitle(&quot;S-57 Sea chart&quot;);\n\n            try {\n//                File s57File = new File(&quot;PathToS57Files\\\\file.000&quot;);\n//                Map&lt;String, Object&gt; params = new HashMap&lt;&gt;();\n//                params.put(&quot;url&quot;, s57File.toURI().toURL());\n//\n//                DataStore dataStore = DataStoreFinder.getDataStore(params);\n//                String typeName = dataStore.getTypeNames()[0];\n//\n//                Layer layer = new org.geotools.map.FeatureLayer(dataStore.getFeatureSource(typeName), null);\n//                mapContent.addLayer(layer);\n\n                JMapPane mapPane = new JMapPane();\n                mapPane.setMapContent(mapContent);\n\n                swingNode.setContent(mapPane);\n\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        });\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n<h4>Build command</h4>\n<pre><code>mvn clean package\n</code></pre>\n<h4>Execution command</h4>\n<pre><code>java -jar ./target/geotools-test-1.0-SNAPSHOT.jar\n</code></pre>\n<h2>Files created</h2>\n<p>I was using a Mac (Intel) PC for the build and execution, so that is the version of the JavaFX libraries in the lib directory.  I used JavaFX 23.0.2 and OpenJDK 21.0.8, on OS X (Intel) 15.5.</p>\n<h4>app jar file</h4>\n<p>This jar file references files in the relative <code>lib/</code> directory in its manifest (shown below).</p>\n<pre><code>$ ls target/geotools-test-1.0-SNAPSHOT.jar \ntarget/geotools-test-1.0-SNAPSHOT.jar\n</code></pre>\n<h4>lib directory contents</h4>\n<pre><code>$ ls target/lib\naircompressor-0.27.jar\napiguardian-api-1.1.2.jar\nbigint-0.7.1.jar\nchecker-qual-3.43.0.jar\ncommons-io-2.19.0.jar\ncommons-lang3-3.17.0.jar\ncommons-pool-1.5.4.jar\ncommons-text-1.13.0.jar\ndisruptor-1.2.15.jar\nejml-core-0.41.jar\nejml-ddense-0.41.jar\nerror_prone_annotations-2.36.0.jar\nfailureaccess-1.0.2.jar\nFastInfoset-1.2.15.jar\nGeographicLib-Java-1.49.jar\ngt-api-33.2.jar\ngt-coverage-33.2.jar\ngt-cql-33.2.jar\ngt-http-33.2.jar\ngt-main-33.2.jar\ngt-metadata-33.2.jar\ngt-referencing-33.2.jar\ngt-render-33.2.jar\ngt-shapefile-33.2.jar\ngt-swing-33.2.jar\nguava-33.4.0-jre.jar\nimageio-ext-geocore-1.4.15.jar\nimageio-ext-streams-1.4.15.jar\nimageio-ext-tiff-1.4.15.jar\nimageio-ext-utilities-1.4.15.jar\nindriya-2.2.jar\nistack-commons-runtime-3.0.7.jar\nj2objc-annotations-3.0.0.jar\njackson-core-2.19.0.jar\njai_codec-1.1.3.jar\njai_core-1.1.3.jar\njai_imageio-1.1.jar\njakarta.annotation-api-1.3.4.jar\njakarta.inject-api-2.0.1.jar\njavafx-base-23.0.2-mac.jar\njavafx-base-23.0.2.jar\njavafx-controls-23.0.2-mac.jar\njavafx-controls-23.0.2.jar\njavafx-graphics-23.0.2-mac.jar\njavafx-graphics-23.0.2.jar\njavafx-swing-23.0.2-mac.jar\njavafx-swing-23.0.2.jar\njavax.activation-api-1.2.0.jar\njaxb-api-2.4.0-b180830.0359.jar\njaxb-runtime-2.4.0-b180830.0438.jar\njgridshift-core-1.3.jar\njsr305-3.0.2.jar\njt-affine-1.1.31.jar\njt-algebra-1.1.31.jar\njt-bandcombine-1.1.31.jar\njt-bandmerge-1.1.31.jar\njt-bandselect-1.1.31.jar\njt-binarize-1.1.31.jar\njt-border-1.1.31.jar\njt-buffer-1.1.31.jar\njt-classifier-1.1.31.jar\njt-colorconvert-1.1.31.jar\njt-colorindexer-1.1.31.jar\njt-crop-1.1.31.jar\njt-errordiffusion-1.1.31.jar\njt-format-1.1.31.jar\njt-imagefunction-1.1.31.jar\njt-iterators-1.1.31.jar\njt-lookup-1.1.31.jar\njt-mosaic-1.1.31.jar\njt-nullop-1.1.31.jar\njt-orderdither-1.1.31.jar\njt-piecewise-1.1.31.jar\njt-rescale-1.1.31.jar\njt-rlookup-1.1.31.jar\njt-scale-1.1.31.jar\njt-scale2-1.1.31.jar\njt-shadedrelief-1.1.31.jar\njt-stats-1.1.31.jar\njt-translate-1.1.31.jar\njt-utilities-1.1.31.jar\njt-utils-1.6.0.jar\njt-vectorbin-1.1.31.jar\njt-warp-1.1.31.jar\njt-zonal-1.1.31.jar\njt-zonalstats-1.6.0.jar\njts-core-1.20.0.jar\nlistenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar\nmiglayout-3.7-swing.jar\nnet.opengis.ows-33.2.jar\norg.eclipse.emf.common-2.15.0.jar\norg.eclipse.emf.ecore-2.15.0.jar\norg.eclipse.emf.ecore.xmi-2.15.0.jar\norg.w3.xlink-33.2.jar\nre2j-1.8.jar\nsi-quantity-2.1.jar\nsi-units-2.1.jar\nslf4j-api-1.7.13.jar\nstax-ex-1.8.jar\nsystems-common-2.1.jar\ntxw2-2.4.0-b180830.0438.jar\nunit-api-2.2.jar\nuom-lib-common-2.2.jar\n</code></pre>\n<h4>Generated manifest file</h4>\n<p>Content of <code>META-INF/MANIFEST.MF</code> in the <code>target/geotools-test-1.0-SNAPSHOT.jar</code> file:</p>\n<pre><code>Manifest-Version: 1.0\nCreated-By: Maven JAR Plugin 3.4.2\nBuild-Jdk-Spec: 21\nClass-Path: lib/javafx-controls-23.0.2.jar lib/javafx-controls-23.0.2-ma\n c.jar lib/javafx-graphics-23.0.2.jar lib/javafx-graphics-23.0.2-mac.jar\n  lib/javafx-base-23.0.2.jar lib/javafx-base-23.0.2-mac.jar lib/javafx-s\n wing-23.0.2.jar lib/javafx-swing-23.0.2-mac.jar lib/gt-shapefile-33.2.j\n ar lib/gt-main-33.2.jar lib/gt-http-33.2.jar lib/commons-text-1.13.0.ja\n r lib/commons-lang3-3.17.0.jar lib/jackson-core-2.19.0.jar lib/re2j-1.8\n .jar lib/ejml-ddense-0.41.jar lib/ejml-core-0.41.jar lib/commons-io-2.1\n 9.0.jar lib/jai_core-1.1.3.jar lib/gt-swing-33.2.jar lib/gt-referencing\n -33.2.jar lib/gt-metadata-33.2.jar lib/net.opengis.ows-33.2.jar lib/org\n .w3.xlink-33.2.jar lib/org.eclipse.emf.common-2.15.0.jar lib/org.eclips\n e.emf.ecore-2.15.0.jar lib/org.eclipse.emf.ecore.xmi-2.15.0.jar lib/jgr\n idshift-core-1.3.jar lib/GeographicLib-Java-1.49.jar lib/gt-render-33.2\n .jar lib/gt-coverage-33.2.jar lib/jai_imageio-1.1.jar lib/imageio-ext-t\n iff-1.4.15.jar lib/imageio-ext-utilities-1.4.15.jar lib/imageio-ext-geo\n core-1.4.15.jar lib/imageio-ext-streams-1.4.15.jar lib/jaxb-api-2.4.0-b\n 180830.0359.jar lib/jaxb-runtime-2.4.0-b180830.0438.jar lib/txw2-2.4.0-\n b180830.0438.jar lib/istack-commons-runtime-3.0.7.jar lib/stax-ex-1.8.j\n ar lib/FastInfoset-1.2.15.jar lib/javax.activation-api-1.2.0.jar lib/ai\n rcompressor-0.27.jar lib/jai_codec-1.1.3.jar lib/jt-zonalstats-1.6.0.ja\n r lib/jt-utils-1.6.0.jar lib/jt-affine-1.1.31.jar lib/jt-algebra-1.1.31\n .jar lib/jt-bandmerge-1.1.31.jar lib/jt-bandselect-1.1.31.jar lib/jt-ba\n ndcombine-1.1.31.jar lib/jt-border-1.1.31.jar lib/jt-buffer-1.1.31.jar \n lib/jt-crop-1.1.31.jar lib/jt-iterators-1.1.31.jar lib/jt-lookup-1.1.31\n .jar lib/jt-mosaic-1.1.31.jar lib/jt-nullop-1.1.31.jar lib/jt-rescale-1\n .1.31.jar lib/jt-scale-1.1.31.jar lib/jt-scale2-1.1.31.jar lib/bigint-0\n .7.1.jar lib/jt-stats-1.1.31.jar lib/guava-33.4.0-jre.jar lib/failureac\n cess-1.0.2.jar lib/listenablefuture-9999.0-empty-to-avoid-conflict-with\n -guava.jar lib/jsr305-3.0.2.jar lib/checker-qual-3.43.0.jar lib/error_p\n rone_annotations-2.36.0.jar lib/j2objc-annotations-3.0.0.jar lib/jt-tra\n nslate-1.1.31.jar lib/jt-utilities-1.1.31.jar lib/jt-warp-1.1.31.jar li\n b/jt-zonal-1.1.31.jar lib/jt-binarize-1.1.31.jar lib/jt-format-1.1.31.j\n ar lib/jt-colorconvert-1.1.31.jar lib/jt-errordiffusion-1.1.31.jar lib/\n jt-orderdither-1.1.31.jar lib/jt-colorindexer-1.1.31.jar lib/jt-imagefu\n nction-1.1.31.jar lib/jt-piecewise-1.1.31.jar lib/jt-classifier-1.1.31.\n jar lib/jt-rlookup-1.1.31.jar lib/jt-vectorbin-1.1.31.jar lib/jt-shaded\n relief-1.1.31.jar lib/gt-cql-33.2.jar lib/disruptor-1.2.15.jar lib/slf4\n j-api-1.7.13.jar lib/miglayout-3.7-swing.jar lib/gt-api-33.2.jar lib/co\n mmons-pool-1.5.4.jar lib/systems-common-2.1.jar lib/si-quantity-2.1.jar\n  lib/si-units-2.1.jar lib/jakarta.annotation-api-1.3.4.jar lib/indriya-\n 2.2.jar lib/uom-lib-common-2.2.jar lib/jakarta.inject-api-2.0.1.jar lib\n /apiguardian-api-1.1.2.jar lib/unit-api-2.2.jar lib/jts-core-1.20.0.jar\nMain-Class: org.example.SeaChartLauncher\n</code></pre>\n<h2>Additional Info and Advice</h2>\n<h4>You don't need the JavaFX SDK</h4>\n<p>You are sourcing your JavaFX runtime from Maven, so you don't need the JavaFX SDK.  I'd advise just deleting it to prevent any confusion.</p>\n<h4>Don't name a class <code>Main</code></h4>\n<p>There is a <code>Main</code> class in the JDK itself, so my IDE was always trying to import that rather than use your <code>Main</code> class.</p>\n<h4>Name the class that starts your JavaFX app <code>YourAppNameLauncher</code> rather than <code>Starter</code></h4>\n<p>This is a minor thing, but by default people seem to name these annoying additional classes that are used to subvert the JavaFX module system as <code>Launcher</code> rather than <code>Starter</code>.</p>\n<h4>Running JavaFX from the classpath is unsupported</h4>\n<p>Rather than using a <code>Launcher</code> to load JavaFX from the classpath, delete it completely and update your build and distribution system to ensure JavaFX is loaded from a module (for example by using a Java runtime that includes JavaFX like those provided by Azul or Liberica).  Full info on how to get your app to execute in a supported configuration is out of scope for this answer.</p>\n<h4>Don't use library snapshots</h4>\n<p>Library snapshots like <code>&lt;version.geotools&gt;34-SNAPSHOT&lt;/version.geotools&gt;</code> are inherently unstable and can break your build at any time.</p>\n<h4>Don't have a dependency on the JavaFX pom</h4>\n<p>You don't need a direct dependency on the <a href=\"https://repo1.maven.org/maven2/org/openjfx/javafx/24.0.2/javafx-24.0.2.pom\" rel=\"nofollow noreferrer\"><code>javafx pom</code></a> artifact.</p>\n<p>You can (and should) remove:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n    &lt;artifactId&gt;javafx&lt;/artifactId&gt;\n    &lt;version&gt;${version.javafx}&lt;/version&gt;\n    &lt;type&gt;pom&lt;/type&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I think the JavaFX pom is some kind of trickery in the JavaFX Maven usage.  It helps select the correct classified libraries that are built with platform specific code for a given architecture (e.g. win <code>x86_64</code> or Mac <code>aarch64</code>). That all happens automatically when you add a dependency on javafx artifact like <code>javafx-controls</code> without an additional dependency on the javafx pom.</p>\n<h4>Consider using <code>jpackage</code></h4>\n<p>If you need an installer and don't to rely on the user ensuring a correct JDK is installed, you could package your app using package.  It is quite tricky and a bit of work though.</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/77792847/how-to-make-a-windows-macos-linux-installer-for-javafx-spring-boot-application/77794387#77794387\">How to make a Windows/MacOS/Linux installer for JavaFX &amp; Spring Boot application</a></li>\n<li><a href=\"https://docs.oracle.com/en/java/javase/21/jpackage/packaging-overview.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/21/jpackage/packaging-overview.html</a></li>\n</ul>\n<h4>Consider creating an assembly</h4>\n<p>If you don't use <code>jpackage</code> to package your application, you could instead use the <a href=\"https://maven.apache.org/plugins/maven-assembly-plugin/\" rel=\"nofollow noreferrer\"><code>maven-assembly-plugin</code></a> to create a distributable (e.g. a zip file that your users would download, unzip to use).  The zip file would include your jar file, and the library files in the relative /lib directory, as well as any other files you may want to provide (e.g. an editable config file).  It could also include a shell script to run the app and a JRE that is local to your app so you don't rely on an environmental JRE.  Information on creating an assembly is out of scope for this answer.</p>\n<h4>Shutdown your application cleanly</h4>\n<p>When the application runs, it does not shut down when you close the JavaFX window.  Probably there is something additional you will need to do to get a non-daemon geotools thread to shutdown (probably from the JavaFX application <a href=\"https://openjfx.io/javadoc/21/javafx.graphics/javafx/application/Application.html#stop()\" rel=\"nofollow noreferrer\"><code>stop()</code></a> method).</p>\n<h2>Related</h2>\n<p>Shading an uber-jar to create a single executable jar for your JavaFX application.  This answer includes information on how to make your application work on different architectures than your build machine uses (e.g. creating cross-platform builds and distributable).</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/52653836/maven-shade-javafx-runtime-components-are-missing\">Maven Shade JavaFX runtime components are missing</a></li>\n</ul>\n<p>Alternate packaging information.</p>\n<ul>\n<li><a href=\"https://openjfx.io/openjfx-docs/\" rel=\"nofollow noreferrer\">JavaFX Getting Started</a> packaging info in the runtime images section.</li>\n<li><a href=\"https://stackoverflow.com/tags/javafx/info\">StackOverflow JavaFX wiki</a> section on Packaging.</li>\n</ul>\n<p>The jar file specification describes how the classpath attribute works in a jar manifest.</p>\n<ul>\n<li><a href=\"https://docs.oracle.com/en/java/javase/21/docs/specs/jar/jar.html#class-path-attribute\" rel=\"nofollow noreferrer\">The jar file format specification</a></li>\n</ul>\n<p>Unsupported JavaFX configurations.</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/67854139/javafx-warning-unsupported-javafx-configuration-classes-were-loaded-from-unna\">JavaFX WARNING: Unsupported JavaFX configuration: classes were loaded from &#39;unnamed module @...&#39;</a></li>\n</ul>\n",
    "score" : 3,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 1180113,
      "reputation" : 160487,
      "user_id" : 1155209,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/5192e7cbcf2f72a847d6fb0d1552f049?s=256&d=identicon&r=PG",
      "display_name" : "jewelsea",
      "link" : "https://stackoverflow.com/users/1155209/jewelsea"
    },
    "creation_date" : 1754607551,
    "last_activity_date" : 1755200935,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140647166,
    "post_id" : 79726043,
    "body" : "<code>--add-modules javafx.controls,javafx.swing</code> ← You didn’t add a module containing the geotools api classes, so it makes sense that the program cannot find them at runtime.",
    "score" : 0,
    "owner" : {
      "account_id" : 2053598,
      "reputation" : 44991,
      "user_id" : 1831987,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/38b1c37530189ec4471a43a618e33f67?s=256&d=identicon&r=PG",
      "display_name" : "VGR",
      "link" : "https://stackoverflow.com/users/1831987/vgr"
    },
    "creation_date" : 1754505900,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140644729,
    "post_id" : 79726043,
    "body" : "Don&#39;t you need to include the geotools jars on the class path?",
    "score" : 0,
    "owner" : {
      "account_id" : 195980,
      "reputation" : 11066,
      "user_id" : 439194,
      "user_type" : "registered",
      "accept_rate" : 100,
      "profile_image" : "https://i.sstatic.net/EQu58.gif?s=256",
      "display_name" : "Ian Turton",
      "link" : "https://stackoverflow.com/users/439194/ian-turton"
    },
    "creation_date" : 1754429739,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : {
    "79729195" : [ {
      "comment_id" : 140650957,
      "post_id" : 79729195,
      "body" : "I really appreciate this detailed answer. I will try your changes the next days.",
      "score" : 0,
      "owner" : {
        "account_id" : 9875097,
        "reputation" : 633,
        "user_id" : 7313173,
        "user_type" : "registered",
        "profile_image" : "https://www.gravatar.com/avatar/f4518983c7862d9062b2cf911817e8a6?s=256&d=identicon&r=PG&f=y&so-version=2",
        "display_name" : "Alex",
        "link" : "https://stackoverflow.com/users/7313173/alex"
      },
      "creation_date" : 1754634277,
      "content_license" : "CC BY-SA 4.0"
    } ]
  }
}