{
  "question" : {
    "question_id" : 79828003,
    "title" : "Unable to change the VLCJ audio delay",
    "body" : "<p>I would like to implement audio delay controls, which are usually tied to the <kbd>J</kbd> and <kbd>K</kbd> keys in VLC.</p>\n<p>Here is a sample program that starts playing a video, then 5 seconds in it adjusts the audio delay. The adjustment does not happen. I have tried both VLCJ 4.8.4 and the latest 4.11.0. It does not work in either version.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static class DebugAudioDelay extends JFrame\n{\n    public DebugAudioDelay()\n    {\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setPreferredSize(new Dimension(600, 500));\n        EmbeddedMediaPlayerComponent mediaPlayerComponent = new EmbeddedMediaPlayerComponent();\n        EmbeddedMediaPlayer mediaPlayer = mediaPlayerComponent.mediaPlayer();\n        add(mediaPlayerComponent);\n        pack();\n        setVisible(true);\n        mediaPlayer.media().play(&quot;SomeVideoFile.mp4&quot;);\n\n        Timer wait5 = new Timer();\n        wait5.schedule(new TimerTask()\n        {\n            public void run()\n            {\n                wait5.cancel();\n                mediaPlayer.audio().setDelay(3000);\n                System.out.println(&quot;Audio shifted by 3 seconds&quot;);\n            }\n        }, 5000, 1);\n    }\n}\n</code></pre>\n",
    "tags" : [ "java", "vlcj" ],
    "owner" : {
      "account_id" : 44773126,
      "reputation" : 11,
      "user_id" : 31928603,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/TMakXnjJ.png?s=256",
      "display_name" : "strubin",
      "link" : "https://stackoverflow.com/users/31928603/strubin"
    },
    "is_answered" : true,
    "view_count" : 66,
    "closed_date" : 1764221776,
    "answer_count" : 1,
    "score" : 1,
    "last_activity_date" : 1763988519,
    "creation_date" : 1763917897,
    "link" : "https://stackoverflow.com/questions/79828003/unable-to-change-the-vlcj-audio-delay",
    "closed_reason" : "Not suitable for this site"
  },
  "answers" : [ {
    "answer_id" : 79828648,
    "question_id" : 79828003,
    "body" : "<p>With LibVLC and therefore vlcj also, the audio delay is actually specified in <em>micro</em>seconds, not <em>milli</em>seconds.</p>\n<p>The Javadoc for vlcj states this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Set the audio delay.\n * &lt;p&gt;\n * The audio delay is set for the current item only and will be reset to zero each time the\n * media changes.\n *\n * @param delay desired audio delay, in microseconds\n */\n</code></pre>\n<p>So you need to multiply your delay by another 1000 to convert from your millisecond value to microseconds.</p>\n<pre class=\"lang-java prettyprint-override\"><code>mediaPlayer.audio().setDelay(3000 * 1000);\n</code></pre>\n<p>Note that there may be a short period with only silence until the audio desync effect is heard.</p>\n",
    "score" : 3,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 3101468,
      "reputation" : 4216,
      "user_id" : 2625478,
      "user_type" : "registered",
      "accept_rate" : 82,
      "profile_image" : "https://www.gravatar.com/avatar/7c86bb876853606e164dc72c4ee0ab63?s=256&d=identicon&r=PG",
      "display_name" : "caprica",
      "link" : "https://stackoverflow.com/users/2625478/caprica"
    },
    "creation_date" : 1763988224,
    "last_activity_date" : 1763988224,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140876148,
    "post_id" : 79828003,
    "body" : "To the close-voters, you&#39;re saying I should not have answered this question?",
    "score" : 0,
    "owner" : {
      "account_id" : 3101468,
      "reputation" : 4216,
      "user_id" : 2625478,
      "user_type" : "registered",
      "accept_rate" : 82,
      "profile_image" : "https://www.gravatar.com/avatar/7c86bb876853606e164dc72c4ee0ab63?s=256&d=identicon&r=PG",
      "display_name" : "caprica",
      "link" : "https://stackoverflow.com/users/2625478/caprica"
    },
    "creation_date" : 1764248336,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140870149,
    "post_id" : 79828003,
    "body" : "The timer comment is generally correct of course, but in this case it doesn&#39;t matter.",
    "score" : 1,
    "owner" : {
      "account_id" : 3101468,
      "reputation" : 4216,
      "user_id" : 2625478,
      "user_type" : "registered",
      "accept_rate" : 82,
      "profile_image" : "https://www.gravatar.com/avatar/7c86bb876853606e164dc72c4ee0ab63?s=256&d=identicon&r=PG",
      "display_name" : "caprica",
      "link" : "https://stackoverflow.com/users/2625478/caprica"
    },
    "creation_date" : 1763988353,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140869301,
    "post_id" : 79828003,
    "body" : "If you&#39;re using Swing, you should probably be using a <code>javax.swing.Timer</code> or you&#39;ll likely be in the wrong thread",
    "score" : 1,
    "owner" : {
      "account_id" : 22124137,
      "reputation" : 4244,
      "user_id" : 16376827,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/1ImPw.png?s=256",
      "display_name" : "g00se",
      "link" : "https://stackoverflow.com/users/16376827/g00se"
    },
    "creation_date" : 1763935125,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : {
    "79828648" : [ {
      "comment_id" : 140874162,
      "post_id" : 79828648,
      "body" : "I recommend using <code>TimeUnit.MILLISECONDS.toMicros(...)</code> or <code>TimeUnit.SECONDS.toMicros(...)</code> for clarity and explicitness.",
      "score" : 1,
      "owner" : {
        "account_id" : 213468,
        "reputation" : 110280,
        "user_id" : 466862,
        "user_type" : "registered",
        "profile_image" : "https://www.gravatar.com/avatar/d873f397779db38cd510d9ee5416fd43?s=256&d=identicon&r=PG",
        "display_name" : "Mark Rotteveel",
        "link" : "https://stackoverflow.com/users/466862/mark-rotteveel"
      },
      "creation_date" : 1764160468,
      "content_license" : "CC BY-SA 4.0"
    }, {
      "comment_id" : 140871139,
      "post_id" : 79828648,
      "body" : "Excellent. That worked. Thanks!",
      "score" : 0,
      "owner" : {
        "account_id" : 44773126,
        "reputation" : 11,
        "user_id" : 31928603,
        "user_type" : "registered",
        "profile_image" : "https://i.sstatic.net/TMakXnjJ.png?s=256",
        "display_name" : "strubin",
        "link" : "https://stackoverflow.com/users/31928603/strubin"
      },
      "creation_date" : 1764022361,
      "content_license" : "CC BY-SA 4.0"
    } ]
  }
}