{
  "question" : {
    "question_id" : 79821058,
    "title" : "Leetcode 68 : memory limit exceeded",
    "body" : "<p>I'm using Java to solve Leetcode 68: Text Justification problem (<a href=\"https://leetcode.com/problems/text-justification/description/\" rel=\"nofollow noreferrer\">https://leetcode.com/problems/text-justification/description/</a>)</p>\n<p>Given 3 test cases are passing well but for the next text case,\nwords = [&quot;ask&quot;,&quot;not&quot;,&quot;what&quot;,&quot;your&quot;,&quot;country&quot;,&quot;can&quot;,&quot;do&quot;,&quot;for&quot;,&quot;you&quot;,&quot;ask&quot;,&quot;what&quot;,&quot;you&quot;,&quot;can&quot;,&quot;do&quot;,&quot;for&quot;,&quot;your&quot;,&quot;country&quot;]\nmaxWidth =16</p>\n<p>I'm getting the Memory Limit Exceeded error. Can someone please help me debug this issue without changing the structure of my code:</p>\n<pre><code>class Dsa{\n    int availspaces;\n    List&lt;String&gt; words;\n    int minSpacesReq;\n\n    public Dsa(int maxWidth){\n        this.availspaces = maxWidth;\n        this.words = new ArrayList&lt;&gt;();\n        this.minSpacesReq = 0;\n    }\n\n    @Override\n    public String toString(){\n        return &quot;words: &quot;+ this.words + &quot;, availspaces: &quot;+ availspaces + &quot;, min spaces: &quot; + minSpacesReq;\n    }\n}\n\nclass Solution {\n    public List&lt;String&gt; fullJustify(String[] words, int maxWidth) {\n        List&lt;Dsa&gt; mappings = new ArrayList&lt;&gt;();\n        // each line -&gt; list of words fit in a line, available space\n        \n        int currentLine = 0;\n        Dsa currentMapping = null;\n\n        for(String currentWord: words){\n            \n            if(currentLine !=0 &amp;&amp; (currentMapping.availspaces - currentMapping.minSpacesReq &gt;= currentWord.length())){\n            // if(currentLine !=0 &amp;&amp; (currentMapping.availspaces - 1 &gt;= currentWord.length())){\n               currentMapping.words.add(currentWord);\n               currentMapping.availspaces -= currentWord.length();\n               currentMapping.minSpacesReq = currentMapping.words.size();\n            }else{\n                // System.out.println(&quot;word:&quot;+ currentWord);\n                currentMapping = new Dsa(maxWidth);\n                currentMapping.words.add(currentWord);\n                currentMapping.availspaces = maxWidth-currentWord.length();\n                currentMapping.minSpacesReq = 1;\n                \n                mappings.add(currentMapping);                \n                currentLine++;\n            }\n\n        }\n\n        /*for(Dsa mapping: mappings){\n            System.out.println(mapping.toString());\n        }*/\n\n        List&lt;String&gt; result = new ArrayList&lt;&gt;();\n        \n        for(Dsa mapping: mappings){\n            StringBuilder sb = new StringBuilder();\n            int minSpaces = mapping.words.size()-1;\n            int availableSpaces = mapping.availspaces;\n            boolean isLastLine = false;\n\n            /*if(currentLine-- == 1 || currentLine == 0){\n                isLastLine = true;\n            }*/\n            if(mappings.indexOf(mapping) == mappings.size() - 1){\n                isLastLine = true;\n            }\n\n            String lastWord = mapping.words.get(minSpaces);\n            int wordcount = mapping.words.size();\n            int currentWordCount = 0;\n\n            if(minSpaces != 0){\n\n                int mod = availableSpaces%minSpaces;\n                int quotient = availableSpaces/minSpaces;\n\n                if(isLastLine){\n                      for(String word: mapping.words){\n                        sb.append(word);\n                        availableSpaces--;\n                        if(availableSpaces &gt;0){\n                            sb.append(&quot; &quot;);\n                        }\n                      }  \n                      while(availableSpaces != 0){\n                        sb.append(&quot; &quot;);\n                        availableSpaces--;\n                      }\n                }\n                else{\n                    if(mod == 0){\n                        //quotient number of spaces after each word until availspaces expire\n                        for(String word: mapping.words){\n                            sb.append(word);\n                            int quot = quotient;\n                            currentWordCount++;\n                            if(currentWordCount != wordcount){\n                                while(quot &gt; 0){\n                                sb.append(&quot; &quot;);\n                                quot--;\n                                }\n                            }\n                        }\n                    }else{\n                        for(String word: mapping.words){\n                            int spacestoadd = quotient ;\n                            if(mod != 0){\n                                spacestoadd += 1;\n                                mod--;\n                            }\n                            sb.append(word);\n                            currentWordCount++;\n                            if(currentWordCount != wordcount){\n                                while(spacestoadd &gt;0){\n                                    sb.append(&quot; &quot;);\n                                    spacestoadd--;\n                                }\n                            }\n                        }\n                    }\n                }    \n            }else{\n                sb.append(mapping.words.get(0));\n                while(availableSpaces &gt;0 ){\n                    sb.append(&quot; &quot;);\n                    availableSpaces--;\n                }\n            }\n\n            result.add(sb.toString());\n        }\n        return result;\n    }\n}\n</code></pre>\n",
    "tags" : [ "java", "out-of-memory" ],
    "owner" : {
      "account_id" : 15023502,
      "reputation" : 51,
      "user_id" : 10844213,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/20648e61e912bee2173c2490163ce659?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "satya",
      "link" : "https://stackoverflow.com/users/10844213/satya"
    },
    "is_answered" : true,
    "view_count" : 94,
    "closed_date" : 1763913161,
    "answer_count" : 1,
    "score" : -5,
    "last_activity_date" : 1763235684,
    "creation_date" : 1763233892,
    "link" : "https://stackoverflow.com/questions/79821058/leetcode-68-memory-limit-exceeded",
    "closed_reason" : "Not suitable for this site"
  },
  "answers" : [ {
    "answer_id" : 79821080,
    "question_id" : 79821058,
    "body" : "<p>I found the error. It is in the case  of left-justifying the last line. My available spaces are getting to negative, and I'm getting stuck there until memory exhausts.</p>\n<p>updated portion of the code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>                if(isLastLine){\n                    for(String word: mapping.words){\n                        sb.append(word);\n                        currentWordCount++;\n                        if(currentWordCount &lt; wordcount){\n                            sb.append(&quot; &quot;);\n                        }\n                      }\n                      int remaining = availableSpaces - minSpaces;  \n                      while(remaining &gt; 0){\n                        sb.append(&quot; &quot;);\n                        remaining -= 1;\n                      }\n                }\n</code></pre>\n",
    "score" : 3,
    "is_accepted" : true,
    "owner" : {
      "account_id" : 15023502,
      "reputation" : 51,
      "user_id" : 10844213,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/20648e61e912bee2173c2490163ce659?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "satya",
      "link" : "https://stackoverflow.com/users/10844213/satya"
    },
    "creation_date" : 1763235684,
    "last_activity_date" : 1763235684,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140858619,
    "post_id" : 79821058,
    "body" : "Understood, thank you!",
    "score" : 0,
    "owner" : {
      "account_id" : 15023502,
      "reputation" : 51,
      "user_id" : 10844213,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/20648e61e912bee2173c2490163ce659?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "satya",
      "link" : "https://stackoverflow.com/users/10844213/satya"
    },
    "creation_date" : 1763395302,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140856188,
    "post_id" : 79821058,
    "body" : "In the future, make your questions self-contained.  Don&#39;t just provide a link;  copy the relevant parts of that link into your question.  That way, if the linked page changes or goes away in the future, your question will still have value to readers.",
    "score" : 2,
    "owner" : {
      "account_id" : 2053598,
      "reputation" : 44936,
      "user_id" : 1831987,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/38b1c37530189ec4471a43a618e33f67?s=256&d=identicon&r=PG",
      "display_name" : "VGR",
      "link" : "https://stackoverflow.com/users/1831987/vgr"
    },
    "creation_date" : 1763248474,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}