{
  "question" : {
    "question_id" : 79628562,
    "title" : "After migrating to Struts 7.0.0, `&lt;s:set&gt;` won’t pick up my POJO property—what am I missing?",
    "body" : "<p>I’ve just upgraded our project from:</p>\n<ul>\n<li><strong>Struts:</strong> 2.5.32 → 7.0.0</li>\n<li><strong>Spring:</strong> 5.x → 6.x</li>\n<li><strong>Java:</strong> 8 → 17</li>\n</ul>\n<p>Since the migration, the <code>&lt;s:set&gt;</code> tag no longer reads values from my POJO, even though it used to work perfectly before. In JSP I have:</p>\n<pre class=\"lang-jsp prettyprint-override\"><code>&lt;%@ taglib prefix=&quot;s&quot; uri=&quot;/struts-tags&quot; %&gt;\n&lt;%@ taglib prefix=&quot;c&quot; uri=&quot;jakarta.tags.core&quot; %&gt;\n</code></pre>\n<p>My model object is called <code>healthCareProviderDetails</code> and has a string getter <code>getCompanyNameVerified()</code>. If I drop into EL, I can see it just fine:</p>\n<pre class=\"lang-jsp prettyprint-override\"><code>${healthCareProviderDetails.companyNameVerified}  &lt;!-- prints Y/N as expected --&gt;\n</code></pre>\n<p>—but this Struts code stops working:</p>\n<pre class=\"lang-jsp prettyprint-override\"><code>&lt;!-- NOT WORKING --&gt;\n&lt;s:set var=&quot;nameFlagValue&quot; value=&quot;healthCareProviderDetails.companyNameVerified&quot; /&gt;\n&lt;s:property value=&quot;%{nameFlagValue}&quot; /&gt;\n</code></pre>\n<p>I even tried the variation ChatGPT suggested, but no luck:</p>\n<pre class=\"lang-jsp prettyprint-override\"><code>&lt;!-- STILL NOT WORKING --&gt;\n&lt;s:set var=&quot;nameFlagValue&quot; \n       value=&quot;%{#healthCareProviderDetails.companyNameVerified}&quot; /&gt;\n</code></pre>\n<p>As a hack, I can mix JSTL with Struts tags and it works:</p>\n<pre class=\"lang-jsp prettyprint-override\"><code>&lt;!-- WORKS, but is tedious to repeat everywhere --&gt;\n&lt;c:set var=&quot;tempNameFlagValue&quot; scope=&quot;request&quot;\n       value=&quot;${healthCareProviderDetails.companyNameVerified}&quot; /&gt;\n&lt;s:set var=&quot;nameFlagValue&quot; value=&quot;%{#request.tempNameFlagValue}&quot; /&gt;\n&lt;s:property value=&quot;%{nameFlagValue}&quot; /&gt;\n</code></pre>\n<p>However, we have dozens of pages, so I'd rather not litter the JSPs with this workaround. Is there a missing configuration in Struts 7.0.0 or a simpler way to make <code>&lt;s:set&gt;</code> read my POJO property directly?</p>\n",
    "tags" : [ "java", "jsp", "struts2", "struts", "struts-tags" ],
    "owner" : {
      "account_id" : 8994180,
      "reputation" : 72,
      "user_id" : 6705180,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/Uv3cw.jpg?s=256",
      "display_name" : "Pravin kumar",
      "link" : "https://stackoverflow.com/users/6705180/pravin-kumar"
    },
    "is_answered" : true,
    "view_count" : 440,
    "answer_count" : 1,
    "score" : 0,
    "last_activity_date" : 1747735516,
    "creation_date" : 1747650928,
    "link" : "https://stackoverflow.com/questions/79628562/after-migrating-to-struts-7-0-0-sset-won-t-pick-up-my-pojo-property-what-a",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79629796,
    "question_id" : 79628562,
    "body" : "<p>Got the answer from ChatGPT</p>\n<h2>Fixing It: Configure Struts OGNL Allowlist</h2>\n<p>To restore the ability for OGNL to read your POJO property, you have a couple of options:</p>\n<h3><strong>Option 1: Add Your Classes/Packages to the Allowlist (Recommended)</strong></h3>\n<p>The more secure solution is to <strong>explicitly allow your application’s model package or class</strong> so that Struts OGNL will permit access. You can do this by setting Struts constants in your configuration (e.g. in <code>struts.xml</code> within the <code>&lt;struts&gt;</code> tag):</p>\n<ul>\n<li><p><strong>Allow by Package:</strong> If you have many model classes, allow an entire package. For example, if <code>HealthCareProviderDetails</code> is in package <code>com.myapp.model</code>, add:</p>\n<pre><code>&lt;constant name=&quot;struts.allowlist.packageNames&quot; value=&quot;com.myapp.model&quot; /&gt;\n\n</code></pre>\n</li>\n<li><p><strong>Allow by Class:</strong> To allow a specific class, use:</p>\n<pre><code>&lt;constant name=&quot;struts.allowlist.classes&quot; value=&quot;com.myapp.model.HealthCareProviderDetails&quot; /&gt;\n\n</code></pre>\n<p>(Also comma-separated if multiple.) This precisely allows that class.</p>\n</li>\n</ul>\n<h3><strong>Option 2: Disable the OGNL Allowlist (Quick Fix)</strong></h3>\n<p>If you need a quick interim solution (or are in development), you can turn off the strict allowlist mode entirely by setting:</p>\n<pre><code>&lt;constant name=&quot;struts.allowlist.enable&quot; value=&quot;false&quot; /&gt;\n</code></pre>\n<p>in your <code>struts.xml</code>. This reverts to the older behavior where only the blocklist is enforced. After doing this, your <code>&lt;s:set&gt;</code> will immediately start “seeing” your POJO property again without further changes.</p>\n<h2></h2>\n",
    "score" : 1,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 8994180,
      "reputation" : 72,
      "user_id" : 6705180,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/Uv3cw.jpg?s=256",
      "display_name" : "Pravin kumar",
      "link" : "https://stackoverflow.com/users/6705180/pravin-kumar"
    },
    "creation_date" : 1747716826,
    "last_activity_date" : 1747716826,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ ],
  "answer_comments" : { }
}