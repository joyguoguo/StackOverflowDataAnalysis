{
  "question" : {
    "question_id" : 79798029,
    "title" : "How to control test class execution order in JUnit 5 suites?",
    "body" : "<p>I'm organizing my tests using JUnit 5's <code>@Suite</code> and <code>@SelectClasses</code>, but need to control the execution sequence of the test classes. According to the documentation, <code>@SelectClasses</code> doesn't guarantee execution order, but I have a specific sequence requirement for my test pipeline.</p>\n<p><strong>Here's my current suite setup:</strong></p>\n<pre><code>import org.junit.platform.suite.api.SelectClasses;\nimport org.junit.platform.suite.api.Suite;\n\n@Suite\n@SelectClasses({\n    Test1.class,        // Should run FIRST\n    Suite1.class,       // Should run after Test1 but before Test2\n    Suite2.class,        // Should run after Test1 but before Test2\n    Suite3.class,        // Should run after Test1 but before Test2\n    Test2.class         // Should run LAST\n})\npublic class SuiteA {  }\n</code></pre>\n<p><strong>The subordinate suites look like:</strong></p>\n<pre><code>@Suite\n@SelectClasses({TestXxx.class, SuiteXxx.class})\npublic class Suite1 {   }\n</code></pre>\n<p><strong>My test dependencies require that:</strong></p>\n<p><em>Test1</em> executes first (initial setup and validation)</p>\n<p><em>Suite1</em>, <em>Suite2</em>, <em>Suite3</em> execute in between (main test batches)</p>\n<p><em>Test2</em> executes last (cleanup and final verification)</p>\n<p><strong>What I've tried/researched:</strong></p>\n<p>I know about <code>@TestMethodOrder</code> for ordering methods within a class, but I need class-level ordering across the suite</p>\n<p>I've looked at <code>@Suite</code> documentation but didn't find explicit ordering controls</p>\n<p>I considered separate suites, but need this specific sequence in a single execution</p>\n<p><strong>Question:</strong></p>\n<p>What is the standard JUnit 5 approach to enforcing test class execution order within a suite? If declarative ordering isn't supported, what are the recommended patterns or workarounds to achieve this test sequence?\nI'm using JUnit 5.8+/Jupiter with the junit-platform-suite engine.</p>\n<p>Please provide a concrete solution - I already know <code>@SelectClasses</code> doesn't order tests. I need a working implementation.</p>\n",
    "tags" : [ "java", "unit-testing", "junit", "junit4", "junit5" ],
    "owner" : {
      "account_id" : 44418925,
      "reputation" : 30,
      "user_id" : 31742845,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/dcff6d1c4bd4270944a5a8264556bb8f?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Abhiram Reddy Milkuri",
      "link" : "https://stackoverflow.com/users/31742845/abhiram-reddy-milkuri"
    },
    "is_answered" : true,
    "view_count" : 124,
    "answer_count" : 1,
    "score" : 2,
    "last_activity_date" : 1761322789,
    "creation_date" : 1761238737,
    "link" : "https://stackoverflow.com/questions/79798029/how-to-control-test-class-execution-order-in-junit-5-suites",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79798114,
    "question_id" : 79798029,
    "body" : "<p>JUnit Jupiter added <a href=\"https://docs.junit.org/current/api/org.junit.jupiter.api/org/junit/jupiter/api/ClassOrderer.html\" rel=\"nofollow noreferrer\"><code>ClassOrderer</code></a> in version 5.8. It became stable API in version 5.10. Also see <a href=\"https://docs.junit.org/current/user-guide/#writing-tests-test-execution-order-classes\" rel=\"nofollow noreferrer\">ยง2.11.2. Class Order</a> of the user guide:</p>\n<blockquote>\n<p>Although test classes typically should not rely on the order in which they are executed, there are times when it is desirable to enforce a specific test class execution order. You may wish to execute test classes in a random order to ensure there are no accidental dependencies between test classes, or you may wish to order test classes to optimize build time as outlined in the following scenarios.</p>\n<ul>\n<li><p>Run previously failing tests and faster tests first: &quot;fail fast&quot; mode</p>\n</li>\n<li><p>With parallel execution enabled, schedule longer tests first: &quot;shortest test plan execution duration&quot; mode</p>\n</li>\n<li><p>Various other use cases</p>\n</li>\n</ul>\n<p>To configure test class execution order globally for the entire test suite, use the <code>junit.jupiter.testclass.order.default</code> <a href=\"https://docs.junit.org/current/user-guide/#running-tests-config-params\" rel=\"nofollow noreferrer\">configuration parameter</a> to specify the fully qualified class name of the <a href=\"https://docs.junit.org/current/api/org.junit.jupiter.api/org/junit/jupiter/api/ClassOrderer.html\" rel=\"nofollow noreferrer\"><code>ClassOrderer</code></a> you would like to use. The supplied class must implement the <code>ClassOrderer</code> interface.</p>\n<p>You can implement your own custom <code>ClassOrderer</code> or use one of the following built-in <code>ClassOrderer</code> implementations.</p>\n<ul>\n<li><p><a href=\"https://docs.junit.org/current/api/org.junit.jupiter.api/org/junit/jupiter/api/ClassOrderer.ClassName.html\" rel=\"nofollow noreferrer\"><code>ClassOrderer.ClassName</code></a>: sorts test classes <em>alphanumerically</em> based on their fully qualified class names</p>\n</li>\n<li><p><a href=\"https://docs.junit.org/current/api/org.junit.jupiter.api/org/junit/jupiter/api/ClassOrderer.DisplayName.html\" rel=\"nofollow noreferrer\"><code>ClassOrderer.DisplayName</code></a>: sorts test classes <em>alphanumerically</em> based on their display names (see <a href=\"https://docs.junit.org/current/user-guide/#writing-tests-display-name-generator-precedence-rules\" rel=\"nofollow noreferrer\">display name generation precedence rules</a>)</p>\n</li>\n<li><p><a href=\"https://docs.junit.org/current/api/org.junit.jupiter.api/org/junit/jupiter/api/ClassOrderer.OrderAnnotation.html\" rel=\"nofollow noreferrer\"><code>ClassOrderer.OrderAnnotation</code></a>: sorts test classes numerically based on values specified via the <a href=\"https://docs.junit.org/current/api/org.junit.jupiter.api/org/junit/jupiter/api/Order.html\" rel=\"nofollow noreferrer\"><code>@Order</code></a> annotation</p>\n</li>\n<li><p><a href=\"https://docs.junit.org/current/api/org.junit.jupiter.api/org/junit/jupiter/api/ClassOrderer.Random.html\" rel=\"nofollow noreferrer\"><code>ClassOrderer.Random</code></a>: orders test classes <em>pseudo-randomly</em> and supports configuration of a custom seed</p>\n</li>\n</ul>\n<p>For example, for the <code>@Order</code> annotation to be honored on <em>test classes</em>, you should configure the <a href=\"https://docs.junit.org/current/api/org.junit.jupiter.api/org/junit/jupiter/api/ClassOrderer.OrderAnnotation.html\" rel=\"nofollow noreferrer\"><code>ClassOrderer.OrderAnnotation</code></a> class orderer using the configuration parameter with the corresponding fully qualified class name (e.g., in <code>src/test/resources/junit-platform.properties</code>):</p>\n<pre class=\"lang-none prettyprint-override\"><code>junit.jupiter.testclass.order.default = \\\n    org.junit.jupiter.api.ClassOrderer$OrderAnnotation\n</code></pre>\n<p>The configured <code>ClassOrderer</code> will be applied to all top-level test classes (including <code>static</code> nested test classes) and <code>@Nested</code> test classes.</p>\n<blockquote>\n<p>Top-level test classes will be ordered relative to each other; whereas, <code>@Nested</code> test classes will be ordered relative to other <code>@Nested</code> test classes sharing the same <em>enclosing class</em>.</p>\n</blockquote>\n<p>To configure test class execution order <em>locally</em> for <code>@Nested</code> test classes, declare the <a href=\"https://docs.junit.org/current/api/org.junit.jupiter.api/org/junit/jupiter/api/TestClassOrder.html\" rel=\"nofollow noreferrer\"><code>@TestClassOrder</code></a> annotation on the enclosing class for the <code>@Nested</code> test classes you want to order, and supply a class reference to the <code>ClassOrderer</code> implementation you would like to use directly in the <code>@TestClassOrder</code> annotation. The configured <code>ClassOrderer</code> will be applied recursively to <code>@Nested</code> test classes and their <code>@Nested</code> test classes. If you want to avoid that a <code>@Nested</code> test class uses the same <code>ClassOrderer</code> as its enclosing class, you can specify <a href=\"https://docs.junit.org/current/api/org.junit.jupiter.api/org/junit/jupiter/api/ClassOrderer.Default.html\" rel=\"nofollow noreferrer\"><code>ClassOrderer.Default</code></a> together with <code>@TestClassOrder</code>. Note that a local <code>@TestClassOrder</code> declaration always overrides an inherited <code>@TestClassOrder</code> declaration or a <code>ClassOrderer</code> configured globally via the <code>junit.jupiter.testclass.order.default</code> configuration parameter.</p>\n<p><em>[...]</em></p>\n</blockquote>\n<hr />\n<p>With suites, another way to set a configuration parameter is via the <a href=\"https://docs.junit.org/current/api/org.junit.platform.suite.api/org/junit/platform/suite/api/ConfigurationParameter.html\" rel=\"nofollow noreferrer\"><code>@ConfigurationParameter</code></a> annotation and/or <a href=\"https://docs.junit.org/current/api/org.junit.platform.suite.api/org/junit/platform/suite/api/ConfigurationParametersResource.html\" rel=\"nofollow noreferrer\"><code>@ConfigurationParametersResource</code></a> annotation. Either would let you define the &quot;global&quot; class orderer for the suite.</p>\n<p>But note there is currently no way to control the order <em>suites</em> execute relative to each other. The <code>ClassOrderer</code> mechanism currently only has an effect in the Jupiter engine, not the Suite engine.</p>\n<p>Also, <a href=\"https://github.com/junit-team/junit-framework/discussions/5085#discussioncomment-14771938\" rel=\"nofollow noreferrer\">as noted</a> in the discussion you opened on GitHub, you can't interleave the execution of non-suite tests with suites. They are executed by different engines. You may want to consider using <code>@BeforeSuite</code> and <code>@AfterSuite</code> instead. Or you may have to rethink your test organization.</p>\n",
    "score" : 1,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 8532578,
      "reputation" : 49904,
      "user_id" : 6395627,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/af0f9bfe593f36642a032cd7ea611e7d?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Slaw",
      "link" : "https://stackoverflow.com/users/6395627/slaw"
    },
    "creation_date" : 1761246168,
    "last_activity_date" : 1761322789,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140813621,
    "post_id" : 79798029,
    "body" : "AFAIK JUnit has always advised against method (or class) order dependency. As such, they made very little effort to support this. You might want to look at <a href=\"https://testng.org/annotations.html\" rel=\"nofollow noreferrer\">TestNG</a>.",
    "score" : 0,
    "owner" : {
      "account_id" : 3758602,
      "reputation" : 10378,
      "user_id" : 3124333,
      "user_type" : "registered",
      "accept_rate" : 100,
      "profile_image" : "https://www.gravatar.com/avatar/51c25e0ab30c1059996d914d47ce5b26?s=256&d=identicon&r=PG",
      "display_name" : "SiKing",
      "link" : "https://stackoverflow.com/users/3124333/siking"
    },
    "creation_date" : 1761243211,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140813538,
    "post_id" : 79798029,
    "body" : "You are using inline code format which makes the code difficult to read and understand. Instead please use <a href=\"https://stackoverflow.com/editing-help#code\">code block</a> format for code, errors and logs.",
    "score" : 1,
    "owner" : {
      "account_id" : 372682,
      "reputation" : 26512,
      "user_id" : 721855,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/vZiox.png?s=256",
      "display_name" : "aled",
      "link" : "https://stackoverflow.com/users/721855/aled"
    },
    "creation_date" : 1761239793,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}