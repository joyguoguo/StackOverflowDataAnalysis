{
  "question" : {
    "question_id" : 79571180,
    "title" : "Dynamic TableView creating with JavaFX",
    "body" : "<p>I'm new. Let's say I want to create a TableView dynamically based on <code>someString</code> with a query like this:</p>\n<pre><code>TableView&lt;???&gt; table = new TableView&lt;&gt;();\nResultSet rs = statement.executeQuery(&quot;SELECT * FROM %s&quot;.formatted(someString));\n</code></pre>\n<p>So I will have various tables with various object types and therefore properties and columns</p>\n<pre><code>ResultSetMetaData meta = rs.getMetaData();\n\nfor (int i = 0; i &lt; meta.getColumnCount(); i++) {\n    TableColumn&lt;???, String&gt; column = new TableColumn&lt;&gt;(meta.getColumnLabel(i + 1));\n    table.getColumns().add(column);\n    column.setCellValueFactory(data -&gt; data.getValue().???dynamicPropertyBasedOn[i]);\n}\n\nwhile (rs.next()) {........}\n</code></pre>\n<p>How do I <code>setCellValueFactory()</code> not knowing the object type and exact number of columns beforehand?</p>\n<p>I have models for my database tables, for basic example</p>\n<p><code>Student.java</code>:</p>\n<pre><code>public class Student {\n    private final StringProperty lastName;\n    private final StringProperty firstName;\n    private final IntegerProperty age;\n    // ...........\n}\n</code></pre>\n<p><code>Schedule.java</code>:</p>\n<pre><code>public class Schedule {\n    private final ObjectProperty&lt;LocalDate&gt; date;\n    private final BooleanProperty completed;\n    // ...........\n}\n</code></pre>\n<p>I need to create TableViews of various objects with one function. Is it possible somehow?</p>\n",
    "tags" : [ "java", "javafx", "model-view-controller", "tableview" ],
    "owner" : {
      "account_id" : 34448875,
      "reputation" : 43,
      "user_id" : 26575770,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/fd3e556076f1cf2f574faa49a1f45843?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Envy",
      "link" : "https://stackoverflow.com/users/26575770/envy"
    },
    "is_answered" : true,
    "view_count" : 117,
    "answer_count" : 1,
    "score" : 4,
    "last_activity_date" : 1755272100,
    "creation_date" : 1744515412,
    "link" : "https://stackoverflow.com/questions/79571180/dynamic-tableview-creating-with-javafx",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79572148,
    "question_id" : 79571180,
    "body" : "<p>If you're creating a GUI with the purpose of displaying specific, known data types then I recommend you create the tables in the usual way. That means create a model class for the data that exposes JavaFX properties and write the code that configures the table view to work with that model class. At most, you could create a framework that generates a table view based on the model class. How complex the framework is depends on your exact needs. In general though, such a framework would likely rely on reflection and custom annotations (for configuration).</p>\n<p>However, if you're creating a GUI that is supposed to work with an arbitrary database that isn't known at build time, then relying on <code>ResultSetMetaData</code> is a good approach. But in this case you won't have specialized model classes. Instead, you'd use a single general model class, if not simply just an array or list of objects. At the most basic level, it could look something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public TableView&lt;?&gt; toTableView(ResultSet queryResult) throws SQLException {\n  var table = new TableView&lt;Object[]&gt;();\n\n  var metadata = queryResult.getMetaData();\n  int columnCount = metadata.getColumnCount();\n  for (int i = 1; i &lt;= columnCount; i++) {\n    final int idx = i;\n    var column = new TableColumn&lt;Object[], Object&gt;(metadata.getColumnLabel(idx));\n    column.setCellValueFactory(data -&gt; new SimpleObjectProperty&lt;&gt;(data.getValue()[idx - 1]));\n    table.getColumns().add(column);\n  }\n\n  var items = table.getItems();\n  while (queryResult.next()) {\n    var row = new Object[columnCount];\n    for (int i = 1; i &lt;= columnCount; i++) {\n      row[i - 1] = queryResult.getObject(i);\n    }\n    items.add(row);\n  }\n\n  return table;\n}\n</code></pre>\n<p>That will display every column value using its <code>Object::toString</code> method. If you want to get more detailed, then you need to make use of methods like <code>getColumnType</code>, <code>getScale</code>, <code>getPrecision</code>, and <code>isCurrency</code> from <code>ResultSetMetaData</code>. You would set the cell factories (to customize the display) based on the results of those methods.</p>\n",
    "score" : 4,
    "is_accepted" : true,
    "owner" : {
      "account_id" : 8532578,
      "reputation" : 49904,
      "user_id" : 6395627,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/af0f9bfe593f36642a032cd7ea611e7d?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Slaw",
      "link" : "https://stackoverflow.com/users/6395627/slaw"
    },
    "creation_date" : 1744585393,
    "last_activity_date" : 1744585393,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140333246,
    "post_id" : 79571180,
    "body" : "<a href=\"https://stackoverflow.com/a/66828313/2423906\">stackoverflow.com/a/66828313/2423906</a>",
    "score" : 0,
    "owner" : {
      "account_id" : 2819940,
      "reputation" : 14002,
      "user_id" : 2423906,
      "user_type" : "registered",
      "accept_rate" : 100,
      "profile_image" : "https://i.sstatic.net/rkpYv.jpg?s=256",
      "display_name" : "SedJ601",
      "link" : "https://stackoverflow.com/users/2423906/sedj601"
    },
    "creation_date" : 1744640808,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140330746,
    "post_id" : 79571180,
    "body" : "Yes, you probably would need to have code for creating a million different TableViews in that case.  If one did try to automate the construction of TableViews based on database columns, one might be able to do it, but they would look pretty bad, and they certainly would not approach the quality expected of a professional application for end users.  It is always worth the effort to make the separate TableViews.",
    "score" : 1,
    "owner" : {
      "account_id" : 2053598,
      "reputation" : 44991,
      "user_id" : 1831987,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/38b1c37530189ec4471a43a618e33f67?s=256&d=identicon&r=PG",
      "display_name" : "VGR",
      "link" : "https://stackoverflow.com/users/1831987/vgr"
    },
    "creation_date" : 1744573346,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140330612,
    "post_id" : 79571180,
    "body" : "For now I think what I&#39;m trying to do is impossible. Either I get any tables as <code>TableView&lt;String&gt;</code> and then create new Objects based on data I&#39;ve got, or simply create models for every table and related <code>TableView&lt;Model&gt;</code> for every single one of them manually.",
    "score" : 0,
    "owner" : {
      "account_id" : 34448875,
      "reputation" : 43,
      "user_id" : 26575770,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/fd3e556076f1cf2f574faa49a1f45843?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Envy",
      "link" : "https://stackoverflow.com/users/26575770/envy"
    },
    "creation_date" : 1744568686,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140330560,
    "post_id" : 79571180,
    "body" : "That&#39;s what Im trying to do. To create multiple TableViews with given Classes from SQL query. Specified tables were there just for a basic example.  What if I have a million tables in database, do I really have to create <code>TableView&lt;Something&gt;</code> for every Object in db with all of their properties manually?",
    "score" : 0,
    "owner" : {
      "account_id" : 34448875,
      "reputation" : 43,
      "user_id" : 26575770,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/fd3e556076f1cf2f574faa49a1f45843?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Envy",
      "link" : "https://stackoverflow.com/users/26575770/envy"
    },
    "creation_date" : 1744567369,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140330195,
    "post_id" : 79571180,
    "body" : "I agree with Slaw.  Why do you want a single TableView to handle multiple data types?  Why not create a <code>TableView&lt;Student&gt;</code>, a <code>TableView&lt;Schedule&gt;</code>, and so on?",
    "score" : 0,
    "owner" : {
      "account_id" : 2053598,
      "reputation" : 44991,
      "user_id" : 1831987,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/38b1c37530189ec4471a43a618e33f67?s=256&d=identicon&r=PG",
      "display_name" : "VGR",
      "link" : "https://stackoverflow.com/users/1831987/vgr"
    },
    "creation_date" : 1744556375,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140329250,
    "post_id" : 79571180,
    "body" : "Your model classes expose JavaFX properties, so they seem designed to be used with something like a <code>TableView</code>. Given that, why do you need to create the table columns dynamically based on the query? Or are you trying to generate a <code>TableView</code> from any arbitrary SQL query? In which case, why have the specialized model classes?",
    "score" : 1,
    "owner" : {
      "account_id" : 8532578,
      "reputation" : 49904,
      "user_id" : 6395627,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/af0f9bfe593f36642a032cd7ea611e7d?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Slaw",
      "link" : "https://stackoverflow.com/users/6395627/slaw"
    },
    "creation_date" : 1744523125,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}