{
  "question" : {
    "question_id" : 79599028,
    "title" : "Java 21 Maven building jar file Can not run jar - Error: Could not find or load main class",
    "body" : "<p>I'm new to the Java Maven env so I likely have something configured wrong just don't know what it is.  It builds a .jar file but when I try to run it I get:</p>\n<pre><code>    Error: Could not find or load main class SimpleProj.jar\nCaused by: java.lang.ClassNotFoundException: SimpleProj.jar\n</code></pre>\n<p>the jar has a MANIFEST.MF file with this in it</p>\n<pre><code>Manifest-Version: 1.0\nCreated-By: Maven JAR Plugin 3.4.1\nBuild-Jdk-Spec: 21\nMain-Class: main.java.AppMain\n</code></pre>\n<p>This is what the project looks like:\n<a href=\"https://i.sstatic.net/JpcTHUv2.png\" rel=\"nofollow noreferrer\">Project Layout</a></p>\n<p>This is my POM file - I recently added the maven-jar-plugin section as attempt to solve this but did nothing.</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0\n                             http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;SimpleProjMain&lt;/groupId&gt;\n    &lt;artifactId&gt;simple-java21-maven&lt;/artifactId&gt;\n    &lt;version&gt;2.0.0&lt;/version&gt;\n    &lt;name&gt;SimpleProj&lt;/name&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    \n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;21&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;21&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;build&gt;\n        &lt;finalName&gt;SimpleProj&lt;/finalName&gt;\n        &lt;sourceDirectory&gt;src/main/java&lt;/sourceDirectory&gt;\n        &lt;plugins&gt;\n            &lt;!-- Compiler Plugin --&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.11.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;release&gt;21&lt;/release&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n                        &lt;!-- Make this jar executable --&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                            &lt;mainClass&gt;main.java.AppMain&lt;/mainClass&gt;\n                            &lt;classpathPrefix&gt;dependency-jars/&lt;/classpathPrefix&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>The jar seems to have the class in it  <a href=\"https://i.sstatic.net/7onCPKTe.png\" rel=\"nofollow noreferrer\">jar file</a></p>\n<p>My configuration settings <a href=\"https://i.sstatic.net/MBljn1Jp.png\" rel=\"nofollow noreferrer\">Config</a></p>\n<p>I suspect that is my pom definition that not right but I'm at a loss for what is is - too new to this I guess.</p>\n",
    "tags" : [ "java", "eclipse", "maven" ],
    "owner" : {
      "account_id" : 27736413,
      "reputation" : 11,
      "user_id" : 21173908,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/45f1066ad634fc76d39b8632e435c2c2?s=256&d=identicon&r=PG",
      "display_name" : "jbinbama",
      "link" : "https://stackoverflow.com/users/21173908/jbinbama"
    },
    "is_answered" : false,
    "view_count" : 181,
    "answer_count" : 1,
    "score" : 0,
    "last_activity_date" : 1745953772,
    "creation_date" : 1745952337,
    "link" : "https://stackoverflow.com/questions/79599028/java-21-maven-building-jar-file-can-not-run-jar-error-could-not-find-or-load",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79599070,
    "question_id" : 79599028,
    "body" : "<p>In Maven convention <code>src/main/java</code> is the root folder for your Java sources and not any part of a package. Any packages that you create should be created under it. Your AppMain.java is in the root package, which is a bad practice. You should create appropriate directories under that for your packages, then move the file to the newly created package and change the package declaration inside the source file to match it, without include the root folder.</p>\n<p>For example if you create <code>src/main/java/my/package</code>, move AppMain.java into it then change the package declaration to <code>package my.package;</code>.</p>\n",
    "score" : 0,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 372682,
      "reputation" : 26512,
      "user_id" : 721855,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/vZiox.png?s=256",
      "display_name" : "aled",
      "link" : "https://stackoverflow.com/users/721855/aled"
    },
    "creation_date" : 1745953772,
    "last_activity_date" : 1745953772,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140381614,
    "post_id" : 79599028,
    "body" : "How do you try to run your application? The error message suggest that you are trying <code>java SimpleProj.jar</code>, but you have to use <code>java -jar SimpleProj.jar</code>.",
    "score" : 3,
    "owner" : {
      "account_id" : 108033,
      "reputation" : 20089,
      "user_id" : 286934,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/f16a184d26b72795ff243464d715cffe?s=256&d=identicon&r=PG",
      "display_name" : "Progman",
      "link" : "https://stackoverflow.com/users/286934/progman"
    },
    "creation_date" : 1745955559,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140381465,
    "post_id" : 79599028,
    "body" : "If your class really has <code>package main.java;</code>, then <code>main.java.AppMain</code> is correct, but using java inside your package name is bad practice and could cause future issues. It&#39;s better to refactor to package main, or use your projectâ€™s own naming (like <code>com.simpleproj.main</code>).",
    "score" : 1,
    "owner" : {
      "account_id" : 7645025,
      "reputation" : 440,
      "user_id" : 5795975,
      "user_type" : "registered",
      "profile_image" : "https://lh6.googleusercontent.com/-6KwPUS4RnyA/AAAAAAAAAAI/AAAAAAAAC8w/auZqreI45x0/s256-rj/photo.jpg",
      "display_name" : "Vijay",
      "link" : "https://stackoverflow.com/users/5795975/vijay"
    },
    "creation_date" : 1745953057,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}