{
  "question" : {
    "question_id" : 79689899,
    "title" : "JAR file can not access to a given directory",
    "body" : "<p>I made a Java application that loads image files from a directory called &quot;images&quot;.</p>\n<p>If I compile and build in this way it works:</p>\n<pre class=\"lang-none prettyprint-override\"><code>javac Swing.java\njava Swing\n</code></pre>\n<p>Conversely, if I compile and build to create a JAR file in this way, it cannot find the images in the directory &quot;images&quot;.</p>\n<pre class=\"lang-none prettyprint-override\"><code>javac Swing.java\njar cfe Build.jar Swing .\njava -jar Build.jar\n</code></pre>\n<p>I think it is a path problem in the Java instructions.</p>\n<p>This is my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.swing.*;\nimport java.net.URL;\n\nclass Swing extends JFrame {    \n    \n    private JLabel label = new JLabel();\n    //private String imageFilename = new String();\n    private JLabel image = new JLabel();\n    \n    static String[] myStrings = {&quot;String1&quot;, &quot;String2&quot;, &quot;String3&quot;};\n    \n    static String[] myImages = {&quot;images\\\\image-1.jpg&quot;, &quot;images\\\\image-2.jpg&quot;, &quot;images\\\\image-3.jpg&quot;};\n    \n    Swing()\n    {\n        super(&quot;Swing Test Application&quot;); \n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setSize(1000, 700); //300\n        setLayout(null);\n        setLocationRelativeTo(null);\n            \n        label.setBounds(10, 0, 220, 100); \n        add(label);\n        \n        image.setBounds(10, 200, 420, 420);\n        add(image);\n        \n        setVisible(true);       \n    }\n    \n    void SetText(String strLabel, String imageFilename)\n    {\n        label.setText(strLabel);\n        URL imageURL = getClass().getResource(imageFilename);\n        if (imageURL != null) {\n            ImageIcon imageIcon = new ImageIcon(imageURL);\n            image.setIcon(imageIcon);\n        } else {\n            System.err.println(&quot;Image &quot; + imageFilename + &quot; not found.&quot;);\n        }\n    }\n        \n    public static void main(String arg[]) \n    { \n        Swing swing = new Swing();  \n        int i = 0;\n        \n        while (true) \n        {\n            swing.SetText(myStrings[i], myImages[i]);   \n            i++;\n            \n            if (i == 3)\n                i = 0;              \n            \n            try {\n                Thread.sleep(5000); \n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n        \n        \n    }\n}\n</code></pre>\n<p>With JAR file, I get the message: &quot;Image not found.&quot;</p>\n<p>In conclusion, if I create a JAR file, I cannot access the &quot;images&quot; directory which is located in the same place of the source code file Swing.java. If I compile with <code>javac Swing.java</code> plus <code>java Swing</code>, I can access the above directory.</p>\n<p>In the code to load the files I use this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private JLabel image = new JLabel();\n//...\nURL imageURL = getClass().getResource(imageFilename);\nImageIcon imageIcon = new ImageIcon(imageURL);\nimage.setIcon(imageIcon);\n</code></pre>\n",
    "tags" : [ "java", "build", "path", "jar", "compilation" ],
    "owner" : {
      "account_id" : 37606784,
      "reputation" : 11,
      "user_id" : 30405569,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/4d45857a13dadffeabf98c272d9ac693?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Fabio Ferro",
      "link" : "https://stackoverflow.com/users/30405569/fabio-ferro"
    },
    "is_answered" : false,
    "view_count" : 143,
    "answer_count" : 1,
    "score" : 0,
    "last_activity_date" : 1751999348,
    "creation_date" : 1751618570,
    "link" : "https://stackoverflow.com/questions/79689899/jar-file-can-not-access-to-a-given-directory",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79694680,
    "question_id" : 79689899,
    "body" : "<p>Your issue is that you are not including the images directory in your package.</p>\n<p>Try packaging with this command:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>jar cfe Build.jar Swing Swing.class images/\n</code></pre>\n",
    "score" : 0,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 1601399,
      "reputation" : 638,
      "user_id" : 1482356,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/d6160b6e40d230fa92c6da8072b2f7e5?s=256&d=identicon&r=PG",
      "display_name" : "Peter Adrian",
      "link" : "https://stackoverflow.com/users/1482356/peter-adrian"
    },
    "creation_date" : 1751999348,
    "last_activity_date" : 1751999348,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140564704,
    "post_id" : 79689899,
    "body" : "The string argument passed to getResource is <i>not</i> a filename;  it is a relative URL.  Therefore, as Sweeper said, backslashes will not work.  You must use forward slashes (<code>&#47;</code>), on all systems, because that is how URLs work, on all systems.",
    "score" : 5,
    "owner" : {
      "account_id" : 2053598,
      "reputation" : 44991,
      "user_id" : 1831987,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/38b1c37530189ec4471a43a618e33f67?s=256&d=identicon&r=PG",
      "display_name" : "VGR",
      "link" : "https://stackoverflow.com/users/1831987/vgr"
    },
    "creation_date" : 1751625630,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140564668,
    "post_id" : 79689899,
    "body" : "Alternatively, you need to load the images as <b>files</b> from the filesystem, not as <b>resources</b> (but then you may have problems that you need to ensure that files are always in the same location relative to the JAR).",
    "score" : 0,
    "owner" : {
      "account_id" : 213468,
      "reputation" : 110280,
      "user_id" : 466862,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/d873f397779db38cd510d9ee5416fd43?s=256&d=identicon&r=PG",
      "display_name" : "Mark Rotteveel",
      "link" : "https://stackoverflow.com/users/466862/mark-rotteveel"
    },
    "creation_date" : 1751624690,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140564657,
    "post_id" : 79689899,
    "body" : "Resources are not necessarily on the filesystem, they are objects on the classpath, so you need to ensure they are include in your JAR, because when you run <code>java -jar Build.jar</code> <b>only</b> the files in the JAR and in locations (directories or JARs) in the <code>Class-Path</code> entry of its manifest are on the classpath.",
    "score" : 1,
    "owner" : {
      "account_id" : 213468,
      "reputation" : 110280,
      "user_id" : 466862,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/d873f397779db38cd510d9ee5416fd43?s=256&d=identicon&r=PG",
      "display_name" : "Mark Rotteveel",
      "link" : "https://stackoverflow.com/users/466862/mark-rotteveel"
    },
    "creation_date" : 1751624496,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140564509,
    "post_id" : 79689899,
    "body" : "Perhaps change the backslashes in the paths to forward slashes. Backslashes don&#39;t work on my macOS machine. I&#39;m not sure if they are supposed to work on Windows, and I don&#39;t have a Windows machine to check.",
    "score" : 2,
    "owner" : {
      "account_id" : 6651855,
      "reputation" : 292280,
      "user_id" : 5133585,
      "user_type" : "registered",
      "accept_rate" : 96,
      "profile_image" : "https://i.sstatic.net/dfqcw.png?s=256",
      "display_name" : "Sweeper",
      "link" : "https://stackoverflow.com/users/5133585/sweeper"
    },
    "creation_date" : 1751620698,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140564469,
    "post_id" : 79689899,
    "body" : "Assuming the current directory (<code>.</code>) contains the &quot;images&quot; directory, and you are using something like <code>getClass().getResource(&quot;images&#47;my_image.png&quot;)</code>, then the series of commands you showed works for me. I cannot reproduce.",
    "score" : 0,
    "owner" : {
      "account_id" : 6651855,
      "reputation" : 292280,
      "user_id" : 5133585,
      "user_type" : "registered",
      "accept_rate" : 96,
      "profile_image" : "https://i.sstatic.net/dfqcw.png?s=256",
      "display_name" : "Sweeper",
      "link" : "https://stackoverflow.com/users/5133585/sweeper"
    },
    "creation_date" : 1751619491,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140564430,
    "post_id" : 79689899,
    "body" : "Please show how you are accessing the images in your code.",
    "score" : 0,
    "owner" : {
      "account_id" : 6651855,
      "reputation" : 292280,
      "user_id" : 5133585,
      "user_type" : "registered",
      "accept_rate" : 96,
      "profile_image" : "https://i.sstatic.net/dfqcw.png?s=256",
      "display_name" : "Sweeper",
      "link" : "https://stackoverflow.com/users/5133585/sweeper"
    },
    "creation_date" : 1751618745,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140564427,
    "post_id" : 79689899,
    "body" : "Please, provide a minimal reproducible example of your code, what do you expect, and what is the actual behavior. See <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>",
    "score" : 0,
    "owner" : {
      "account_id" : 40864244,
      "reputation" : 632,
      "user_id" : 30001713,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/f59ea01a76709335047f0cee269d788e?s=256&d=identicon&r=PG",
      "display_name" : "biggujo",
      "link" : "https://stackoverflow.com/users/30001713/biggujo"
    },
    "creation_date" : 1751618670,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}