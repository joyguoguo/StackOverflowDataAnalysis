{
  "question" : {
    "question_id" : 79768184,
    "title" : "gradlew quarkusUpdate hangs indefinitely at 0% EXECUTING when updating from 3.8.6 to any version",
    "body" : "<p>`I'm trying to update my Quarkus project from version 3.8.6 to 3.15.6.2 using the built-in quarkusUpdate command for Gradle.</p>\n<p>When I run the command:\nPowerShell\n<code>.\\gradlew quarkusUpdate</code>\nThe process starts, correctly identifies the target version, and generates an OpenRewrite recipe. However, it then hangs indefinitely at the execution step, showing 0% EXECUTING without any progress or further output. I've let it run for over 40 minutes with no change.\nHere is the complete console output:</p>\n<blockquote>\n<p>Task :quarkusUpdate\nquarkusUpdate is experimental, its options and output might change in future versions\nLooking for the newly published extensions in registry.quarkus.io\nDetected project Java version: 17\nDetected project Java version: 17\nInstructions to update this project from '3.8.6' to '3.X':\nThe configured Quarkus registries did not provide any compatibility information for the following extensions in the context of the currently recommended Quarkus platforms:\nio.quarkus:quarkus-smallrye-reactive-messaging-kafka:3.8.6\nio.quarkus:quarkus-oidc-token-propagation:3.8.6\nRecommended Quarkus platform BOM updates:\nUpdate: io.quarkus.platform:quarkus-bom:pom:3.8.6 -&gt; 3.X\nExtensions from io.quarkus.platform:quarkus-bom:\nResolved io.quarkus:quarkus-updates-recipes:1.5.2 with 6 recipe(s) to update from 3.8.6 to 3.X (initially made for OpenRewrite GRADLE plugin version: 7.12.1)\nOpenRewrite recipe generated: C:\\Users\\XXXXXX~1\\AppData\\Local\\Temp\\quarkus-project-recipe-11608578851276256669.yaml</p>\n</blockquote>\n<hr />\n<p>Executing:\nC:\\Users\\XXXXXXXXXXX\\Desktop\\workspace\\xxx-xxxxxx\\gradlew.bat --console plain --stacktrace --init-script C:\\Users\\XXXXXX~1\\AppData\\Local\\Temp\\openrewrite-init7851919350625363222gradle rewriteRun</p>\n<p>Starting a Gradle Daemon, 1 busy Daemon could not be reused, use --status for details\n&lt;-------------&gt; 0% EXECUTING [40m 15s]</p>\n<blockquote>\n<p>:quarkusUpdate</p>\n</blockquote>\n<p>Environment:\nQuarkus Version (from): 3.8.6\nQuarkus Version (to): any\nJava Version: 17\nBuild Tool: Gradle 8.6\nOperating System: Windows 11</p>\n<p>This is my build.gradle:</p>\n<pre><code>plugins {\n    id 'java'\n    id 'io.quarkus'\n}\n\nrepositories {\n    mavenCentral()\n    mavenLocal()\n    maven {\n        url &quot;https://packages.confluent.io/maven/&quot;\n    }\n}\n\ndependencies {\n\n    //Lombok\n    compileOnly &quot;org.projectlombok:lombok:${lombokVersion}&quot;\n    annotationProcessor &quot;org.projectlombok:lombok:${lombokVersion}&quot;\n\n    //JPA modelgen\n    annotationProcessor(&quot;org.hibernate:hibernate-jpamodelgen:${jpaModelgenVersion}&quot;)\n\n    //Quarkus BOM`your text`\n    implementation enforcedPlatform(&quot;${quarkusPlatformGroupId}:${quarkusPlatformArtifactId}:${quarkusPlatformVersion}&quot;)\n\n    //Quarkus config\n    implementation 'io.quarkus:quarkus-config-yaml'\n\n    //RestEasy\n    implementation 'io.quarkus:quarkus-resteasy-jsonb'\n    implementation 'io.quarkus:quarkus-resteasy-multipart'\n    implementation 'io.quarkus:quarkus-rest-client-jsonb'\n    implementation 'io.quarkus:quarkus-oidc-token-propagation'\n\n\n    //JPA and HIBERNATE\n    implementation 'io.quarkus:quarkus-hibernate-orm-panache'\n    implementation 'io.quarkus:quarkus-jdbc-postgresql'\n    implementation 'io.quarkus:quarkus-hibernate-validator'\n    implementation 'io.quarkus:quarkus-hibernate-envers'\n\n    //SmallRye microprofile\n    implementation 'io.quarkus:quarkus-smallrye-fault-tolerance'\n    implementation 'io.quarkus:quarkus-smallrye-health'\n    //implementation 'io.quarkus:quarkus-smallrye-opentracing'\n    implementation 'io.quarkus:quarkus-smallrye-reactive-messaging-kafka'\n    implementation 'io.quarkus:quarkus-smallrye-metrics'\n\n    //SmallRye reactive messaging\n    implementation 'io.quarkus:quarkus-smallrye-reactive-messaging'\n    implementation 'io.quarkus:quarkus-resteasy-mutiny'\n\n    //OpenApi\n    implementation 'io.quarkus:quarkus-smallrye-openapi'\n\n    //Common Langs\n    implementation &quot;org.apache.commons:commons-lang3:${apacheCommonLangsVersion}&quot;\n\n    //Logging GELF\n    implementation 'io.quarkus:quarkus-logging-gelf'\n\n    //Flyway specific dependencies\n    implementation 'io.quarkus:quarkus-flyway'\n\n    //ModelMapper\n    implementation &quot;org.modelmapper:modelmapper:${modelMapperVersion}&quot;\n\n    //caching\n    implementation 'io.quarkus:quarkus-cache'\n\n    //Security\n    implementation 'io.quarkus:quarkus-oidc'\n    implementation 'io.quarkus:quarkus-keycloak-authorization'\n\n    //Testing\n    testImplementation 'io.quarkus:quarkus-junit5'\n    testImplementation 'io.rest-assured:rest-assured'\n/*    testImplementation &quot;org.assertj:assertj-core:${assertjCoreVersion}&quot;\n    testImplementation &quot;org.testcontainers:junit-jupiter:${testContainerVersion}&quot;\n    testImplementation &quot;org.testcontainers:postgresql:${testContainerVersion}&quot;*/\n\n}\n\ngroup 'XX.XXX'\nversion '2.0.0-SNAPSHOT'\n\njava {\n    sourceCompatibility = JavaVersion.VERSION_17\n    targetCompatibility = JavaVersion.VERSION_17\n}\n\ntest {\n    systemProperty &quot;java.util.logging.manager&quot;, &quot;org.jboss.logmanager.LogManager&quot;\n}\n\ncompileJava {\n    options.encoding = 'UTF-8'\n    options.compilerArgs &lt;&lt; '-parameters'\n}\n\ncompileTestJava {\n    options.encoding = 'UTF-8'\n}\n</code></pre>\n<p>What I've tried:</p>\n<p>Waiting for a very long time (over 40 minutes).</p>\n<p>Running .\\gradlew --stop to kill any existing daemons before running the update command again.</p>\n<p>The command is already invoked with --stacktrace, but no stack trace is ever printed because the process doesn't fail, it just hangs.</p>\n<p>Has anyone encountered a similar issue? What could be the cause of this hang? Is it a potential bug in the quarkusUpdate tool, an issue with OpenRewrite on Windows, or a problem related to the unverified extensions?</p>\n<p>Any suggestions on how to debug or resolve this would be greatly appreciated.</p>\n",
    "tags" : [ "java", "gradle", "quarkus", "updates", "openrewrite" ],
    "owner" : {
      "account_id" : 43985641,
      "reputation" : 1,
      "user_id" : 31516413,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/0863d1282f6389dfac3a128d8a83699b?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Antonio Castaldo",
      "link" : "https://stackoverflow.com/users/31516413/antonio-castaldo"
    },
    "is_answered" : true,
    "view_count" : 60,
    "answer_count" : 1,
    "score" : 0,
    "last_activity_date" : 1758218464,
    "creation_date" : 1758184999,
    "link" : "https://stackoverflow.com/questions/79768184/gradlew-quarkusupdate-hangs-indefinitely-at-0-executing-when-updating-from-3-8",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79768789,
    "question_id" : 79768184,
    "body" : "<p>Instead of relying on the built-in <code>quarkusUpdate</code>, you can use openRewrite directly by adding to plugin</p>\n<pre class=\"lang-none prettyprint-override\"><code>plugins {\n    id 'org.openrewrite.rewrite' version '6.13.0'\n}\n</code></pre>\n<p>configure OpenRewrite</p>\n<pre><code>rewrite {\n    activeRecipe(&quot;org.openrewrite.quarkus.Quarkus3Upgrade&quot;)\n}\n\ndependencies {\n    rewrite(&quot;org.openrewrite.recipe:rewrite-quarkus:2.6.0&quot;)\n}\n</code></pre>\n<p>and run openRewrite</p>\n<pre><code>./gradlew rewriteDryRun\n./gradlew rewriteRun\n</code></pre>\n",
    "score" : 1,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 6097406,
      "reputation" : 316,
      "user_id" : 4757784,
      "user_type" : "registered",
      "profile_image" : "https://lh6.googleusercontent.com/-5jsrL-7bG8I/AAAAAAAAAAI/AAAAAAAAABM/JMj0SpS1J1o/s256-rj/photo.jpg",
      "display_name" : "Emre Zorlu",
      "link" : "https://stackoverflow.com/users/4757784/emre-zorlu"
    },
    "creation_date" : 1758218464,
    "last_activity_date" : 1758218464,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ ],
  "answer_comments" : {
    "79768789" : [ {
      "comment_id" : 140751368,
      "post_id" : 79768789,
      "body" : "Thank you so much, for the future users I also find out that you can copy the recipe generated by the command quarkusUpdate into the project, then copy the init-file generated at the end of the command and then launching:   - cmd /c .\\gradlew.bat -I build-tools\\init.gradle --no-daemon --stacktrace --info rewriteDryRun  - cmd /c .\\gradlew.bat -I build-tools\\init.gradle --no-daemon --stacktrace --info rewriteRun",
      "score" : 0,
      "owner" : {
        "account_id" : 43985641,
        "reputation" : 1,
        "user_id" : 31516413,
        "user_type" : "registered",
        "profile_image" : "https://www.gravatar.com/avatar/0863d1282f6389dfac3a128d8a83699b?s=256&d=identicon&r=PG&f=y&so-version=2",
        "display_name" : "Antonio Castaldo",
        "link" : "https://stackoverflow.com/users/31516413/antonio-castaldo"
      },
      "creation_date" : 1758525612,
      "content_license" : "CC BY-SA 4.0"
    } ]
  }
}