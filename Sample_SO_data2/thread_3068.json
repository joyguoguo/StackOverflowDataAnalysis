{
  "question" : {
    "question_id" : 79576413,
    "title" : "How to generate java classes along with IMPL and Runtime packages with XSD?",
    "body" : "<p>I have been exploring ways to generate the Java Classes along with impl and runtime packages and equivalent classes using XJC but I have not got any success.</p>\n<pre><code>xjc -d output_directory -p com.example.generated input.xsd\n</code></pre>\n<p>Using the above command I am only able to generate the Java Classes and not the impl and runtime packages. I am pretty new to this and not able to understand the proper way to generate impl and runtime packages.</p>\n<p>I am using java 1.8.</p>\n<p>Any lead on this would help.</p>\n",
    "tags" : [ "java", "xsd", "jaxb" ],
    "owner" : {
      "account_id" : 6887930,
      "reputation" : 311,
      "user_id" : 10311582,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/36fe90bbaea707a171658c80950198a4?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "TheAkashKamble",
      "link" : "https://stackoverflow.com/users/10311582/theakashkamble"
    },
    "is_answered" : false,
    "view_count" : 58,
    "answer_count" : 1,
    "score" : 0,
    "last_activity_date" : 1744838513,
    "creation_date" : 1744779175,
    "link" : "https://stackoverflow.com/questions/79576413/how-to-generate-java-classes-along-with-impl-and-runtime-packages-with-xsd",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79578134,
    "question_id" : 79576413,
    "body" : "<p>The XJC tool of the JAXB framework generates Java classes that represent the contents of XML data. To <em>implement</em> an application with <em>runtime packages</em> requires additional programming. For example, consider this simple XML schema from <a href=\"https://www.w3schools.com/xml/schema_example.asp\" rel=\"nofollow noreferrer\">W3Schools</a>:</p>\n<p><strong>shiporder.xsd</strong></p>\n<pre><code>&lt;xs:schema elementFormDefault=&quot;qualified&quot;\n    xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;\n    targetNamespace=&quot;urn:example.org:so&quot;\n    xmlns:tns=&quot;urn:example.org:so&quot;\n&gt;\n\n    &lt;xs:element name=&quot;shiporder&quot;&gt;\n        &lt;xs:complexType&gt;\n            &lt;xs:sequence&gt;\n                &lt;xs:element name=&quot;orderperson&quot; type=&quot;xs:string&quot;/&gt;\n                &lt;xs:element name=&quot;shipto&quot;&gt;\n                    &lt;xs:complexType&gt;\n                        &lt;xs:sequence&gt;\n                            &lt;xs:element name=&quot;name&quot; type=&quot;xs:string&quot;/&gt;\n                            &lt;xs:element name=&quot;address&quot; type=&quot;xs:string&quot;/&gt;\n                            &lt;xs:element name=&quot;city&quot; type=&quot;xs:string&quot;/&gt;\n                            &lt;xs:element name=&quot;country&quot; type=&quot;xs:string&quot;/&gt;\n                        &lt;/xs:sequence&gt;\n                    &lt;/xs:complexType&gt;\n                &lt;/xs:element&gt;\n                &lt;xs:element name=&quot;item&quot; maxOccurs=&quot;unbounded&quot;&gt;\n                    &lt;xs:complexType&gt;\n                        &lt;xs:sequence&gt;\n                            &lt;xs:element name=&quot;title&quot; type=&quot;xs:string&quot;/&gt;\n                            &lt;xs:element name=&quot;note&quot; type=&quot;xs:string&quot; minOccurs=&quot;0&quot;/&gt;\n                            &lt;xs:element name=&quot;quantity&quot; type=&quot;xs:positiveInteger&quot;/&gt;\n                            &lt;xs:element name=&quot;price&quot; type=&quot;xs:decimal&quot;/&gt;\n                        &lt;/xs:sequence&gt;\n                    &lt;/xs:complexType&gt;\n                &lt;/xs:element&gt;\n            &lt;/xs:sequence&gt;\n            &lt;xs:attribute name=&quot;orderid&quot; type=&quot;xs:string&quot; use=&quot;required&quot;/&gt;\n        &lt;/xs:complexType&gt;\n    &lt;/xs:element&gt;\n\n&lt;/xs:schema&gt;\n</code></pre>\n<p>You can use the XJC tool to generate JAXB classes to represent XML data (see also <a href=\"https://www.w3schools.com/xml/schema_example.asp\" rel=\"nofollow noreferrer\">W3Schools</a> for data sample) like this:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>$ mkdir target;\n$ xjc -d target shiporder.xsd \n\nparsing a schema...\ncompiling a schema...\norg/example/so/Shiporder.java\n\norg/example/so/ObjectFactory.java\norg/example/so/package-info.java\n</code></pre>\n<blockquote>\n<p>By default, XJC generated <code>Shiporder.java</code> as a set of nested classes to reflect how the XSD is structured. This is fine and we can build an application for that but let's add a JAXB <em>bindings</em> file to generate top-level classes and more Java friendly names.</p>\n</blockquote>\n<p><strong>shiporder.xjb</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\n&lt;jaxb:bindings jaxb:version=&quot;3.0&quot;\n    xmlns:jaxb=&quot;https://jakarta.ee/xml/ns/jaxb&quot;\n    xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;\n&gt;\n\n    &lt;jaxb:globalBindings localScoping=&quot;toplevel&quot; &gt;\n        &lt;jaxb:serializable uid=&quot;20250401&quot; /&gt;\n    &lt;/jaxb:globalBindings&gt;\n\n    &lt;jaxb:bindings schemaLocation=&quot;shiporder.xsd&quot; node=&quot;/xs:schema&quot;&gt;\n        &lt;jaxb:bindings node=&quot;xs:element[@name='shiporder']&quot;&gt;\n            &lt;jaxb:class name=&quot;ShipOrder&quot;/&gt;\n            &lt;jaxb:bindings node=&quot;xs:complexType&quot;&gt;\n                &lt;jaxb:bindings node=&quot;xs:sequence&quot;&gt;\n                    &lt;jaxb:bindings node=&quot;xs:element[@name='orderperson']&quot;&gt;\n                        &lt;jaxb:property name=&quot;OrderPerson&quot;/&gt;\n                    &lt;/jaxb:bindings&gt;\n                    &lt;jaxb:bindings node=&quot;xs:element[@name='shipto']/xs:complexType&quot;&gt;\n                        &lt;jaxb:class name=&quot;ShipTo&quot;/&gt;\n                    &lt;/jaxb:bindings&gt;\n                &lt;/jaxb:bindings&gt;\n                &lt;jaxb:bindings node=&quot;xs:attribute[@name='orderid']&quot;&gt;\n                    &lt;jaxb:property name=&quot;OrderId&quot;/&gt;\n                &lt;/jaxb:bindings&gt;\n            &lt;/jaxb:bindings&gt;\n        &lt;/jaxb:bindings&gt;\n    &lt;/jaxb:bindings&gt;\n\n&lt;/jaxb:bindings&gt;\n</code></pre>\n<p>Now, when we run the XJC tool, we see an enhanced set of JAXB classes.</p>\n<pre><code>$ mkdir target;\n$ xjc -d target -b shiporder.xjb shiporder.xsd \n\nparsing a schema...\ncompiling a schema...\norg/example/so/Item.java\norg/example/so/ShipOrder.java\norg/example/so/ShipTo.java\n\norg/example/so/ObjectFactory.java\norg/example/so/package-info.java\n</code></pre>\n<blockquote>\n<p>Note: XJC also generated an <code>ObjectFactory.java</code> and a <code>package-info.java</code>. The <code>ObjectFactory</code> class provides helper methods and the <code>package-info</code> class provides the XML namespace info as well as other package level settings. If the XSD defines an XML namespace (i.e. <code>urn:example.org:so</code>) then the XJC tool will derive the package name (i.e. <code>org.example.so</code>) from it. Or you can specify the target package using the <code>-p</code> option.</p>\n</blockquote>\n<p><strong>Implementation</strong></p>\n<p>To implement an application to unmarshal and/or marshal the XML data into JAXB objects, consider this project layout:</p>\n<p><strong>sample-so</strong></p>\n<pre><code>src\n├── main\n│   ├── java\n│   │   └── org\n│   │       └── example\n│   │           └── so\n│   │               └── Main.java\n│   └── resources\n│       ├── shiporder.xjb\n│       └── shiporder.xsd\n└── test\n    ├── java\n    │   └── org\n    │       └── example\n    │           └── so\n    │               ├── CopyableTest.java\n    │               ├── EqualsTest.java\n    │               ├── ShipOrderTest.java\n    │               └── ToStringTest.java\n    ├── resources\n    │   ├── jvmsystem.arguments\n    │   ├── jvmsystem.properties\n    │   └── simplelogger.properties\n    └── samples\n        └── so01.xml\n</code></pre>\n<p>This Java project layout includes a new manually coded class named <code>Main.java</code> that can be run as an application from the command line. This application instantiates the JAXB context (think engine) using this statement: <code>JAXBContext.newInstance(ObjectFactory.class)</code>. From the context, you can create an unmarshaller [<code>getJaxbContext().createUnmarshaller()</code>] to read the XML data and create Java objects to access the data.</p>\n<p><strong>org.example.so.Main</strong></p>\n<pre><code>package org.example.so;\n\nimport java.io.File;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\nimport jakarta.xml.bind.JAXBContext;\nimport jakarta.xml.bind.JAXBException;\nimport jakarta.xml.bind.Unmarshaller;\n\n/**\n * Example of unmarshalling a ShipOrder\n */\npublic class Main\n{\n    public static final String SAMPLE_SO_FILE = &quot;src/test/samples/so01.xml&quot;;\n\n    private static Logger logger = LoggerFactory.getLogger(Main.class);\n    public static Logger getLogger() { return logger; }\n\n    private JAXBContext jaxbContext;\n    public JAXBContext getJaxbContext() throws JAXBException\n    {\n        if ( jaxbContext == null )\n            setJaxbContext(JAXBContext.newInstance(ObjectFactory.class));\n        return jaxbContext;\n    }\n    public void setJaxbContext(JAXBContext jaxbContext)\n    {\n        this.jaxbContext = jaxbContext;\n    }\n\n    private Unmarshaller unmarshaller = null;\n    protected Unmarshaller getUnmarshaller() throws JAXBException\n    {\n        if ( unmarshaller == null )\n            setUnmarshaller(getJaxbContext().createUnmarshaller());\n        return unmarshaller;\n    }\n    protected void setUnmarshaller(Unmarshaller unmarshaller)\n    {\n        this.unmarshaller = unmarshaller;\n    }\n\n    // Represents the unmarshalled ShipOrder.\n    private ShipOrder so = null;\n    public ShipOrder getShipOrder() { return so; }\n    public void setShipOrder(ShipOrder so) { this.so = so; }\n\n    /**\n     * Command Line Invocation.\n     * @param args CLI argument(s)\n     */\n    public static void main(String[] args) throws Exception\n    {\n        String path = args.length &gt; 0 ? args[0] : SAMPLE_SO_FILE;\n        Main main = new Main();\n        main.execute(path);\n    }\n\n    private void execute(String path) throws JAXBException\n    {\n        File xmlFile = new File(path);\n        setShipOrder((ShipOrder) getUnmarshaller().unmarshal(xmlFile));\n        println(&quot;ShipOrder: &quot; + getShipOrder().getOrderId() + &quot;\\n\\n&quot; + getShipOrder() + &quot;\\n&quot;);\n    }\n\n    /**\n     * Print a text string.\n     * @param text The text to be printed.\n     */\n    public static void println(String text)\n    {\n        getLogger().info(text);\n    }\n}\n</code></pre>\n<p><strong>Runtime</strong></p>\n<p>You can download this stand alone Maven project <a href=\"https://github.com/patrodyne/hisrc-basicjaxb/releases/download/2.2.1/hisrc-basicjaxb-sample-so-2.2.1-mvn-src.zip\" rel=\"nofollow noreferrer\">hisrc-basicjaxb-sample-so-2.2.1-mvn-src.zip</a>, unzip it to a local folder and test/run it with these commands:</p>\n<pre><code>mvn -Ptest clean test\nmvn -Pexec compile exec:java\n</code></pre>\n<p>Maven reads the <code>pom.xml</code> to resolve all runtime dependencies from the <a href=\"https://central.sonatype.com/search?q=org.patrodyne.jvnet+hisrc-basicjaxb&amp;sort=name\" rel=\"nofollow noreferrer\">Maven Central Repository</a>. This sample is compatible with Java 11 and Maven 3.9.0.</p>\n<blockquote>\n<p><em>Disclaimer:</em> I am the maintainer for the HiSrc projects.</p>\n</blockquote>\n\n",
    "score" : 0,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 3909931,
      "reputation" : 561,
      "user_id" : 3235583,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/721504354b2550253c68f256f2028fa0?s=256&d=identicon&r=PG",
      "display_name" : "Rick O&#39;Sullivan",
      "link" : "https://stackoverflow.com/users/3235583/rick-osullivan"
    },
    "creation_date" : 1744838513,
    "last_activity_date" : 1744838513,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140345030,
    "post_id" : 79576413,
    "body" : "What do you mean with impl and runtime? XJC will just generate classes based on what you have in your xsd. Those classes are the implementations. So not sure what you expect more to happen.",
    "score" : 0,
    "owner" : {
      "account_id" : 3192259,
      "reputation" : 126826,
      "user_id" : 2696260,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/qHEzx.png?s=256",
      "display_name" : "M. Deinum",
      "link" : "https://stackoverflow.com/users/2696260/m-deinum"
    },
    "creation_date" : 1744902014,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140341824,
    "post_id" : 79576413,
    "body" : "xjc generates concrete implementation classes, but they may not use an Impl suffix by default. The generated classes are fully usable implementations based on your XSD, just without &quot;Impl&quot; in their names.",
    "score" : 0,
    "owner" : {
      "account_id" : 7645025,
      "reputation" : 440,
      "user_id" : 5795975,
      "user_type" : "registered",
      "profile_image" : "https://lh6.googleusercontent.com/-6KwPUS4RnyA/AAAAAAAAAAI/AAAAAAAAC8w/auZqreI45x0/s256-rj/photo.jpg",
      "display_name" : "Vijay",
      "link" : "https://stackoverflow.com/users/5795975/vijay"
    },
    "creation_date" : 1744825527,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140341661,
    "post_id" : 79576413,
    "body" : "I believe xjc can be used to create Impl and runtime packages as well. Correct me if I am wrong.",
    "score" : 0,
    "owner" : {
      "account_id" : 6887930,
      "reputation" : 311,
      "user_id" : 10311582,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/36fe90bbaea707a171658c80950198a4?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "TheAkashKamble",
      "link" : "https://stackoverflow.com/users/10311582/theakashkamble"
    },
    "creation_date" : 1744822272,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140339674,
    "post_id" : 79576413,
    "body" : "What do you think is missing? The java classes are the implementation...",
    "score" : 0,
    "owner" : {
      "account_id" : 3192259,
      "reputation" : 126826,
      "user_id" : 2696260,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/qHEzx.png?s=256",
      "display_name" : "M. Deinum",
      "link" : "https://stackoverflow.com/users/2696260/m-deinum"
    },
    "creation_date" : 1744788507,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}