{
  "question" : {
    "question_id" : 79699506,
    "title" : "Prevent Tomcat from reporting 404 instead of a stack trace",
    "body" : "<p>Apparently, by default Tomcat will report certain errors in a servlet only on the first attempt. After that it will disable the WAR and return 404 on all subsequent attempts to access it.</p>\n<p>I’m on Tomcat 10, and I have observed this on a bunch of occasions. As far as I can tell, all of these were conditions which would prevent the servlet from even starting (outdated servlet API version, class format too new for the server and so on).</p>\n<p>That makes it a pain to debug. Is there a way to prevent Tomcat from disabling servlets on error, and return a 500 with a stack trace every time?</p>\n",
    "tags" : [ "java", "tomcat" ],
    "owner" : {
      "account_id" : 2636263,
      "reputation" : 6299,
      "user_id" : 2703209,
      "user_type" : "registered",
      "accept_rate" : 89,
      "profile_image" : "https://www.gravatar.com/avatar/01cc31c9b124d090aeb3e06f94bb8ed8?s=256&d=identicon&r=PG",
      "display_name" : "user149408",
      "link" : "https://stackoverflow.com/users/2703209/user149408"
    },
    "is_answered" : true,
    "view_count" : 74,
    "closed_date" : 1752509397,
    "answer_count" : 1,
    "score" : 2,
    "last_activity_date" : 1752387909,
    "creation_date" : 1752347156,
    "link" : "https://stackoverflow.com/questions/79699506/prevent-tomcat-from-reporting-404-instead-of-a-stack-trace",
    "closed_reason" : "Needs details or clarity"
  },
  "answers" : [ {
    "answer_id" : 79699762,
    "question_id" : 79699506,
    "body" : "<p>When Tomcat deploys a webapp but fails, this will be written to the logfile but the application is not deployed. If after that a client tries to access the application obviously that ends in a 404 result.Now the question is whether you are using lazy loading, which means some servlets or the whole application get deployed only when the first request comes in.</p>\n<p>Any way, you need to resolve these fatal issues as neither Tomat nor the webapp will be able to work without help. Check the logfile to find out the reason.</p>\n<p>One simple reason could be that the webapp requires some other resource that has not been deployed as e.g. a DB connection pool.</p>\n<p>And to come back to your question: I am not aware there is an option to turn this off. But you can either change your web.xml or use annotations to pre-load your servlets, which would give you the error messages not upon first requet but right at application deployment.</p>\n<p>Also read:</p>\n<ul>\n<li><p><a href=\"https://stackoverflow.com/questions/19289397/when-exactly-a-web-container-initialize-a-servlet\">When exactly a web container initialize a servlet?</a></p>\n</li>\n<li><p><a href=\"https://stackoverflow.com/questions/30705605/execute-servlet-on-startup-of-the-application\">Execute servlet on startup of the application</a></p>\n</li>\n</ul>\n",
    "score" : 2,
    "is_accepted" : true,
    "owner" : {
      "account_id" : 5289146,
      "reputation" : 9940,
      "user_id" : 4222206,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/416696430ab23f397a5dbeda73e72896?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "queeg",
      "link" : "https://stackoverflow.com/users/4222206/queeg"
    },
    "creation_date" : 1752386623,
    "last_activity_date" : 1752386941,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140585205,
    "post_id" : 79699506,
    "body" : "Take a look at <a href=\"https://tomcat.apache.org/tomcat-10.0-doc/config/systemprops.html\" rel=\"nofollow noreferrer\">SUPPRESSION_TIME system prop</a>. Also <a href=\"https://stackoverflow.com/questions/49190811/tomcat-further-occurrences-of-http-header-parsing-errors-will-be-logged-at-deb\">this</a>",
    "score" : 0,
    "owner" : {
      "account_id" : 3377022,
      "reputation" : 14393,
      "user_id" : 2834978,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/ff9af10001f37bc0de566ca2caf2f558?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "LMC",
      "link" : "https://stackoverflow.com/users/2834978/lmc"
    },
    "creation_date" : 1752352249,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140585199,
    "post_id" : 79699506,
    "body" : "&quot;certain errors&quot;? any log to show?",
    "score" : 0,
    "owner" : {
      "account_id" : 3377022,
      "reputation" : 14393,
      "user_id" : 2834978,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/ff9af10001f37bc0de566ca2caf2f558?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "LMC",
      "link" : "https://stackoverflow.com/users/2834978/lmc"
    },
    "creation_date" : 1752351805,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : {
    "79699762" : [ {
      "comment_id" : 140586415,
      "post_id" : 79699762,
      "body" : "@user149408 Post those details as edits to your Question, not Comments.",
      "score" : 0,
      "owner" : {
        "account_id" : 322981,
        "reputation" : 347089,
        "user_id" : 642706,
        "user_type" : "registered",
        "accept_rate" : 58,
        "profile_image" : "https://i.sstatic.net/ZWEI3.jpg?s=256",
        "display_name" : "Basil Bourque",
        "link" : "https://stackoverflow.com/users/642706/basil-bourque"
      },
      "creation_date" : 1752425969,
      "content_license" : "CC BY-SA 4.0"
    }, {
      "comment_id" : 140585975,
      "post_id" : 79699762,
      "body" : "Logs are interesting: I have a Tomcat server and a dev instance (Eclipse plugin). The servlet works on the server, but not in Eclipse. As for logs, the local Tomcat has only <code>localhost_access_log.DATE.txt. Others are missing, although the Eclipse console has the equivalent of </code>catalina.out<code>. On the server, </code>catalina.out` clearly indicates that the servlet was loaded (or attempted, it shows that even for failed ones), whereas in Eclipse I have no indication of that. Local <code>logging.properties</code> looks more verbose then on the server. Apparently, the local Tomcat isn’t even trying to load the WAR.",
      "score" : 0,
      "owner" : {
        "account_id" : 2636263,
        "reputation" : 6299,
        "user_id" : 2703209,
        "user_type" : "registered",
        "accept_rate" : 89,
        "profile_image" : "https://www.gravatar.com/avatar/01cc31c9b124d090aeb3e06f94bb8ed8?s=256&d=identicon&r=PG",
        "display_name" : "user149408",
        "link" : "https://stackoverflow.com/users/2703209/user149408"
      },
      "creation_date" : 1752407412,
      "content_license" : "CC BY-SA 4.0"
    } ]
  }
}