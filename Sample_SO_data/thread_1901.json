{
  "question" : {
    "question_id" : 79665470,
    "title" : "Minecraft Fabric Client can&#39;t load a world because &quot;The screen cannot be null&quot;",
    "body" : "<p>I'm trying to make a story based mod using fabric 1.21.5 with the newest API version. I have a fake singleplayer button that is rendered over the normal one, and when it is pressed it executes a Screen called &quot;BlackScreen&quot; and it's just temporary until I make a normal cutscene. However, after 100 ticks, I want it to load a world.</p>\n<p>The code for BlackScreen.java is provided below, but really the only part that matters is the tick(); because that is where the world tried to load.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n    @Override\n    public void tick() {\n        ticks++;\n\n        if (!loadingStarted &amp;&amp; ticks &gt;= 100) {\n            loadingStarted = true;\n            System.out.println(&quot;[RealityTerminated] Loading world 'MyWorld' from BlackScreen...&quot;);\n\n            MinecraftClient.getInstance().createIntegratedServerLoader().start(&quot;RealityTerminated&quot;, () -&gt; {\n                System.out.println(&quot;[RealityTerminated] World 'MyWorld' load triggered from BlackScreen.&quot;);\n                worldLoaded = true;\n                MinecraftClient.getInstance().setScreen(new TitleScreen());\n            });\n        }\n    }\n\n\n</code></pre>\n<p>When the game is run and the fake singleplayer button is pressed, it works just fine starting the temporary placeholder cutscene and then starts to load the world after 100 ticks. It reaches 100% and then crashes, giving me the error &quot;Screen cannot be null&quot;</p>\n<p>Here are the logs for the error portion:</p>\n<pre><code>[15:25:09] [Render thread/INFO]: Loaded 1373 recipes\n[15:25:09] [Render thread/INFO]: Loaded 1484 advancements\n[15:25:09] [Render thread/INFO]: Applied 0 biome modifications to 0 of 65 new biomes in 944.5 Î¼s\n[15:25:09] [Server thread/INFO]: Starting integrated minecraft server version 1.21.5\n[15:25:09] [Server thread/INFO]: Generating keypair\n[15:25:10] [Server thread/INFO]: Preparing start region for dimension minecraft:overworld\n[15:25:10] [Render thread/INFO]: Preparing spawn area: 0%\n[15:25:10] [Render thread/INFO]: Preparing spawn area: 0%\n[15:25:10] [Render thread/INFO]: Time elapsed: 662 ms\n[15:25:10] [Server thread/INFO]: Changing view distance to 32, from 10\n[15:25:10] [Server thread/INFO]: Changing simulation distance to 32, from 0\n[15:25:11] [Render thread/ERROR]: Reported exception thrown!\nnet.minecraft.class_148: Ticking screen\n    at knot/net.minecraft.class_310.method_1574(class_310.java:1863) ~[client-intermediary.jar:?]\n    at knot/net.minecraft.class_310.method_1523(class_310.java:1314) ~[client-intermediary.jar:?]\n    at knot/net.minecraft.class_310.method_1514(class_310.java:936) [client-intermediary.jar:?]\n    at knot/net.minecraft.client.main.Main.main(Main.java:265) [client-intermediary.jar:?]\n    at net.fabricmc.loader.impl.game.minecraft.MinecraftGameProvider.launch(MinecraftGameProvider.java:480) [fabric-loader-0.16.14.jar:?]\n    at net.fabricmc.loader.impl.launch.knot.Knot.launch(Knot.java:74) [fabric-loader-0.16.14.jar:?]\n    at net.fabricmc.loader.impl.launch.knot.KnotClient.main(KnotClient.java:23) [fabric-loader-0.16.14.jar:?]\n    Caused by: java.lang.NullPointerException: Screen cannot be null\n    at java.base/java.util.Objects.requireNonNull(Objects.java:259) ~[?:?]\n    at knot/net.fabricmc.fabric.api.client.screen.v1.ScreenEvents.afterTick(ScreenEvents.java:157) ~[fabric-screen-api-v1-2.0.46+86c3a9f149-ee3a4c1c53d3bb27.jar:?]\n    at knot/net.minecraft.class_310.handler$znm000$fabric-screen-api-v1$afterScreenTick(class_310.java:5598) ~[client-intermediary.jar:?]\n    at knot/net.minecraft.class_310.method_1574(class_310.java:1859) ~[client-intermediary.jar:?]\n    ... 6 more\n[15:25:12] [Server thread/INFO]: Stopping server\n[15:25:12] [Server thread/INFO]: Saving players\n[15:25:12] [Server thread/INFO]: Saving worlds\n[15:25:12] [Server thread/INFO]: Saving chunks for level 'ServerLevel[RealityTerminated]'/minecraft:overworld\n[15:25:12] [Server thread/INFO]: Saving chunks for level 'ServerLevel[RealityTerminated]'/minecraft:the_nether\n[15:25:12] [Server thread/INFO]: Saving chunks for level 'ServerLevel[RealityTerminated]'/minecraft:the_end\n[15:25:12] [Server thread/INFO]: ThreadedAnvilChunkStorage (RealityTerminated): All chunks are saved\n[15:25:12] [Server thread/INFO]: ThreadedAnvilChunkStorage (DIM-1): All chunks are saved\n[15:25:12] [Server thread/INFO]: ThreadedAnvilChunkStorage (DIM1): All chunks are saved\n[15:25:12] [Server thread/INFO]: ThreadedAnvilChunkStorage: All dimensions are saved\n</code></pre>\n<p>I also have the crash report:</p>\n<pre><code>Time: 2025-06-13 15:25:12\nDescription: Ticking screen\n\njava.lang.NullPointerException: Screen cannot be null\n    at java.base/java.util.Objects.requireNonNull(Objects.java:259)\n    at knot//net.fabricmc.fabric.api.client.screen.v1.ScreenEvents.afterTick(ScreenEvents.java:157)\n    at knot//net.minecraft.class_310.handler$znm000$fabric-screen-api-v1$afterScreenTick(class_310.java:5598)\n    at knot//net.minecraft.class_310.method_1574(class_310.java:1859)\n    at knot//net.minecraft.class_310.method_1523(class_310.java:1314)\n    at knot//net.minecraft.class_310.method_1514(class_310.java:936)\n    at knot//net.minecraft.client.main.Main.main(Main.java:265)\n    at net.fabricmc.loader.impl.game.minecraft.MinecraftGameProvider.launch(MinecraftGameProvider.java:480)\n    at net.fabricmc.loader.impl.launch.knot.Knot.launch(Knot.java:74)\n    at net.fabricmc.loader.impl.launch.knot.KnotClient.main(KnotClient.java:23)\n\n\nA detailed walkthrough of the error, its code path and all known details is as follows:\n\n\n Head \nThread: Render thread\nStacktrace:\n    at java.base/java.util.Objects.requireNonNull(Objects.java:259)\n    at knot//net.fabricmc.fabric.api.client.screen.v1.ScreenEvents.afterTick(ScreenEvents.java:157)\n    at knot//net.minecraft.class_310.handler$znm000$fabric-screen-api-v1$afterScreenTick(class_310.java:5598)\n\n-- Affected screen --\nDetails:\n    Screen name: net.minecraft.class_3928\nStacktrace:\n    at knot//net.minecraft.class_310.method_1574(class_310.java:1859)\n    at knot//net.minecraft.class_310.method_1523(class_310.java:1314)\n    at knot//net.minecraft.class_310.method_1514(class_310.java:936)\n    at knot//net.minecraft.client.main.Main.main(Main.java:265)\n    at net.fabricmc.loader.impl.game.minecraft.MinecraftGameProvider.launch(MinecraftGameProvider.java:480)\n    at net.fabricmc.loader.impl.launch.knot.Knot.launch(Knot.java:74)\n    at net.fabricmc.loader.impl.launch.knot.KnotClient.main(KnotClient.java:23)\n</code></pre>\n<p>I have tried many things like making a while loop to constantly set the screen to something, either it being a custom &quot;DummyScreen&quot; or setting it to &quot;TitleScreen&quot;. I have also tried making my own ticking method to run the world loader on, but it still returns &quot;Screen cannot be null&quot;. The world only gets as far as getting to 100% like I said, but then &quot;saves the world&quot; and crashes completely. All it needs to do is load the world, in any way shape or form, it just needs to work.</p>\n<p>Does anyone know how to fix this? I've tried setting the screen to many different things, but it won't work no matter what. Thanks :D</p>\n",
    "tags" : [ "java", "minecraft", "minecraft-fabric" ],
    "owner" : {
      "account_id" : 42528939,
      "reputation" : 19,
      "user_id" : 30797673,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/4aEEqjDL.png?s=256",
      "display_name" : "Aedan",
      "link" : "https://stackoverflow.com/users/30797673/aedan"
    },
    "is_answered" : false,
    "view_count" : 186,
    "answer_count" : 0,
    "score" : 1,
    "last_activity_date" : 1751010547,
    "creation_date" : 1749858097,
    "link" : "https://stackoverflow.com/questions/79665470/minecraft-fabric-client-cant-load-a-world-because-the-screen-cannot-be-null",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ ],
  "question_comments" : [ {
    "comment_id" : 140547683,
    "post_id" : 79665470,
    "body" : "Just a guess, try doing the <code>#setScreen</code> call before you do the <code>.createIntegratedServerLoader().start(...)</code>.",
    "score" : 0,
    "owner" : {
      "account_id" : 1992310,
      "reputation" : 11519,
      "user_id" : 1786065,
      "user_type" : "registered",
      "accept_rate" : 91,
      "profile_image" : "https://i.sstatic.net/udTpS.png?s=256",
      "display_name" : "Rogue",
      "link" : "https://stackoverflow.com/users/1786065/rogue"
    },
    "creation_date" : 1751036485,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}