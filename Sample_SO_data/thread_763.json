{
  "question" : {
    "question_id" : 79774624,
    "title" : "Why the content of webView shake when I change the height of the parent of the webview?",
    "body" : "<p>I am developing an Android project by java. First, I change the webView's parent view height to half of the screen. Then when user click a button, the webView's parent view  will become full screen by animation. When the animation begin, the webview's bottom content will shake up an down(namely the view will first move up then move down).The code is shown as follow.\nxml sample:</p>\n<pre><code>&lt;LinearLayout\n    android:id=&quot;@+id/ll_dialog&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;200dp&quot;\n    android:layout_gravity=&quot;bottom&quot;\n    android:orientation=&quot;vertical&quot;&gt;\n    &lt;WebView\n        android:id=&quot;@+id/web_view&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;/&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>animation code:</p>\n<pre><code>//when user click,it will call this function\npublic void changeDialogHeight(int mode, double height) {\n        //mDialogView is the parent view of webView\n        ViewGroup.LayoutParams layoutParams = mDialogView.getLayoutParams();\n        int currentHeight = layoutParams.height;\n        int targetHeight = 0;\n        int screenHeight = Utils.getScreenHeight(BaseApplication.get());\n        switch (mode) {\n            case 0:\n                targetHeight = screenHeight;\n                break;\n            case 1:\n                targetHeight = screenHeight / 2;\n                break;\n            case 2:\n                if(height &gt; Utils.getScreenHeight(mContext) || height &lt; 50){\n                    height = Utils.getScreenHeight(mContext) / 2;\n                }\n                targetHeight = (int)height;\n                break;\n        }\n        \n        ValueAnimator valueAnimator = ValueAnimator.ofInt(currentHeight, targetHeight);\n        \n        valueAnimator.setDuration(400);\n        \n        valueAnimator.setInterpolator(new LinearInterpolator());\n\n        valueAnimator.addUpdateListener(new ValueAnimator.AnimatorUpdateListener() {\n            @Override\n            public void onAnimationUpdate(ValueAnimator animation) {\n                runOnUiThread(new Runnable() {\n                    @Override\n                    public void run() {\n                        int animatedValue = (int) animation.getAnimatedValue();\n                        \n                        layoutParams.height = animatedValue;\n                        mDialogView.setLayoutParams(layoutParams);\n                    }\n                });\n            }\n        });\n        valueAnimator.start();\n    }\n</code></pre>\n<p>How can I change my code to make then animation smoothlyï¼Ÿ</p>\n",
    "tags" : [ "java", "android", "animation", "android-webview", "android-animation" ],
    "owner" : {
      "account_id" : 44033100,
      "reputation" : 3,
      "user_id" : 31540102,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/dae4e427640b0d2cbb3ac6e4c1482bf7?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "user31540102",
      "link" : "https://stackoverflow.com/users/31540102/user31540102"
    },
    "is_answered" : false,
    "view_count" : 52,
    "answer_count" : 0,
    "score" : 0,
    "last_activity_date" : 1758902977,
    "creation_date" : 1758792036,
    "link" : "https://stackoverflow.com/questions/79774624/why-the-content-of-webview-shake-when-i-change-the-height-of-the-parent-of-the-w",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ ],
  "question_comments" : [ {
    "comment_id" : 140768375,
    "post_id" : 79774624,
    "body" : "You can try using MotionLayout.",
    "score" : 0,
    "owner" : {
      "account_id" : 39749933,
      "reputation" : 29,
      "user_id" : 29432256,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/7af46aaa177936434b7f349c2e382b65?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Atrideistria l",
      "link" : "https://stackoverflow.com/users/29432256/atrideistria-l"
    },
    "creation_date" : 1759224023,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}