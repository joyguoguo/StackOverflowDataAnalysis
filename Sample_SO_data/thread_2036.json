{
  "question" : {
    "question_id" : 79653546,
    "title" : "Get discount amount on items which are not in the cart",
    "body" : "<p>We are using SAP Commerce 2205 supporting a flow when user is on checkout page and proposed with similar products, but they could include some features.</p>\n<p>Currently, the ask is to show discounted price for that products, shown on checkout, that are not in the cart - in case user applied a promocode which is also applicable for those items.</p>\n<p>We are trying to implement it by cloning original cart -&gt; adding another entry -&gt; finally reapply that coupon and recalculate cart - but this approach seems to be quite costly and takes a lot of time for the requests.</p>\n<p>Is there any other way that could work in such case? Is it possible to achieve such requirement without such costly operations?</p>\n",
    "tags" : [ "java", "sap-commerce-cloud", "hybris-data-hub" ],
    "owner" : {
      "account_id" : 41661703,
      "reputation" : 1,
      "user_id" : 30393025,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/7aafd546a6eb7d1a18d8180c9f391a7e?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Andrii Dudash",
      "link" : "https://stackoverflow.com/users/30393025/andrii-dudash"
    },
    "is_answered" : false,
    "view_count" : 51,
    "answer_count" : 1,
    "score" : 0,
    "last_activity_date" : 1749117691,
    "creation_date" : 1749073865,
    "link" : "https://stackoverflow.com/questions/79653546/get-discount-amount-on-items-which-are-not-in-the-cart",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79654216,
    "question_id" : 79653546,
    "body" : "<h4><strong>Use <code>RuleEngineCalculationService</code> or <code>PromotionEngineService</code> to Calculate Discounts Individually</strong></h4>\n<p>For each proposed product, create a <strong>temporary <code>AbstractOrderEntryModel</code></strong> and evaluate applicable promotions using rule engine or <code>CommercePriceService</code>.</p>\n<ul>\n<li><p>Use <code>CommerceCartCalculationStrategy.calculate()</code> or <code>PromotionEngineService</code>.</p>\n</li>\n<li><p>Only use the <strong>relevant price rules and coupon logic</strong> for that entry.</p>\n</li>\n<li><p>You can wrap this in a service that handles a set of proposed products at once.</p>\n</li>\n</ul>\n",
    "score" : 0,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 28700800,
      "reputation" : 9,
      "user_id" : 21978012,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/USfGU.jpg?s=256",
      "display_name" : "vimukthi jayasanka",
      "link" : "https://stackoverflow.com/users/21978012/vimukthi-jayasanka"
    },
    "creation_date" : 1749117691,
    "last_activity_date" : 1749117691,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ ],
  "answer_comments" : { }
}