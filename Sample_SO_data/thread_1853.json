{
  "question" : {
    "question_id" : 79670251,
    "title" : "CPU running hot on JFrame resizing",
    "body" : "<p>Can you ever make frame resizing at least somewhat reasonable in terms of the CPU usage?</p>\n<p>Here's a bare-bones demo. It's just a <code>JFrame</code> with a <code>JPanel</code> inside it, that's it. Aggressively resize it (press the resize handle and yank the mouse in all directions) and monitor the CPU usage. You may notice strange things.</p>\n<p>On my Windows 10 machine (which is not top-tier but should manage such a trivial task easily), the CPU usage may be easily in the 50s. It's way over the top, in my opinion. I realize it's repainting, but I don't see any excuse for such astronomical figures. If I don't resize, it's in single digits.</p>\n<p>Is there anything at all I can do to improve it at least to some degree?</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.swing.BorderFactory;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.SwingUtilities;\nimport javax.swing.WindowConstants;\nimport java.awt.Color;\nimport java.awt.Dimension;\n\npublic class ResizingExample {\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(ResizingExample::launch);\n    }\n\n    private static void launch() {\n        JFrame frame = new JFrame(&quot;ScrollPane Example&quot;);\n        frame.setContentPane(createPanel());\n        frame.setLocationRelativeTo(null);\n        frame.pack();\n        frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n        frame.setVisible(true);\n    }\n\n    private static JPanel createPanel() {\n        JPanel panel = new JPanel();\n        panel.setBorder(BorderFactory.createLineBorder(Color.RED, 3));\n        panel.setPreferredSize(new Dimension(250, 150));\n        return panel;\n    }\n}\n</code></pre>\n<p><a href=\"https://i.sstatic.net/6OJSmyBM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/6OJSmyBM.png\" alt=\"CPU is hot\" /></a></p>\n<p>In case you're wondering, the processor is AMD Ryzen 3 1200 Quad-Core Processor.</p>\n<p>Java 8.</p>\n",
    "tags" : [ "java", "swing", "cpu-usage" ],
    "owner" : {
      "account_id" : 10187542,
      "reputation" : 2683,
      "user_id" : 20692967,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/NZSXm.jpg?s=256",
      "display_name" : "Sergey Zolotarev",
      "link" : "https://stackoverflow.com/users/20692967/sergey-zolotarev"
    },
    "is_answered" : false,
    "view_count" : 114,
    "answer_count" : 0,
    "score" : 3,
    "last_activity_date" : 1750246031,
    "creation_date" : 1750234123,
    "link" : "https://stackoverflow.com/questions/79670251/cpu-running-hot-on-jframe-resizing",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ ],
  "question_comments" : [ {
    "comment_id" : 140537693,
    "post_id" : 79670251,
    "body" : "I can reproduce this with <i>any</i> window, regardless of its content; it doesn’t have to be Java frame at all. Swing’s validation seems to add to the CPU consumption, but the base line for resizing a window is quite high already.",
    "score" : 1,
    "owner" : {
      "account_id" : 3211603,
      "reputation" : 300981,
      "user_id" : 2711488,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/t2hoD.jpg?s=256",
      "display_name" : "Holger",
      "link" : "https://stackoverflow.com/users/2711488/holger"
    },
    "creation_date" : 1750758532,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140529320,
    "post_id" : 79670251,
    "body" : "FYI, for complex layouts, there is also <a href=\"https://docs.oracle.com/en/java/javase/24/docs/api/java.desktop/java/awt/Toolkit.html#setDynamicLayout(boolean)\" rel=\"nofollow noreferrer\"><code>setDynamicLayout(false)</code></a> which comes to mind and may give performance improvement, although the result is not as pretty as with dynamic layout enabled of course, and some platforms may ignore the method call to begin with. Testing it for your layout didn&#39;t show any improvement, but testing it for a more complex one did.",
    "score" : 0,
    "owner" : {
      "account_id" : 9059972,
      "reputation" : 3471,
      "user_id" : 6746785,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/3zi2O.png?s=256",
      "display_name" : "gthanop",
      "link" : "https://stackoverflow.com/users/6746785/gthanop"
    },
    "creation_date" : 1750419091,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140524757,
    "post_id" : 79670251,
    "body" : "Profiling with <code>jconsole</code>, which may already be installed, I see nothing unusual.",
    "score" : 0,
    "owner" : {
      "account_id" : 81822,
      "reputation" : 206045,
      "user_id" : 230513,
      "user_type" : "registered",
      "accept_rate" : 100,
      "profile_image" : "https://www.gravatar.com/avatar/632732029bf05854c17d0dea6c82dcb4?s=256&d=identicon&r=PG",
      "display_name" : "trashgod",
      "link" : "https://stackoverflow.com/users/230513/trashgod"
    },
    "creation_date" : 1750271753,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140524742,
    "post_id" : 79670251,
    "body" : "P.S. Do you have some other sorts of &quot;stress test&quot; for your system?  Do you have heat issues when running and extended test designed to use all CPU cores?  Let us know which test you use so some folks might be able to reproduce this.  P. P. S. Clean the vents on your CPU heat exhaust fans.",
    "score" : 0,
    "owner" : {
      "account_id" : 2709823,
      "reputation" : 11069,
      "user_id" : 2338547,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/QT3fG.png?s=256",
      "display_name" : "markspace",
      "link" : "https://stackoverflow.com/users/2338547/markspace"
    },
    "creation_date" : 1750271528,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140524705,
    "post_id" : 79670251,
    "body" : "I can somewhat reproduce this.  Launching from inside NetBeans 25, I can grab the corner of the window and force the CPU usage up to around 22% max, though it&#39;s normally closer to 8%-12%.  I don&#39;t see any heat issues though.  Might be more of a system issue or the JDK interacting with something on your system.",
    "score" : 1,
    "owner" : {
      "account_id" : 2709823,
      "reputation" : 11069,
      "user_id" : 2338547,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/QT3fG.png?s=256",
      "display_name" : "markspace",
      "link" : "https://stackoverflow.com/users/2338547/markspace"
    },
    "creation_date" : 1750270865,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140523723,
    "post_id" : 79670251,
    "body" : "Tested using Java 8 and 21, launching from console. Both Oracle JDKs. Nothing wrong here.",
    "score" : 0,
    "owner" : {
      "account_id" : 214928,
      "reputation" : 9484,
      "user_id" : 469201,
      "user_type" : "registered",
      "accept_rate" : 67,
      "profile_image" : "https://www.gravatar.com/avatar/42bf17348e28505f5e6834106d9deee4?s=256&d=identicon&r=PG",
      "display_name" : "davidbuzatto",
      "link" : "https://stackoverflow.com/users/469201/davidbuzatto"
    },
    "creation_date" : 1750251680,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140523544,
    "post_id" : 79670251,
    "body" : "Hello Sergu&#233;i, I think you should test your program, launching it from the console, maybe what you are seeing is the consumption of <i>Intellij</i>.",
    "score" : 1,
    "owner" : {
      "account_id" : 10843443,
      "reputation" : 916,
      "user_id" : 20882864,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/CCQCy.jpg?s=256",
      "display_name" : "Marce Puente",
      "link" : "https://stackoverflow.com/users/20882864/marce-puente"
    },
    "creation_date" : 1750248371,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140523429,
    "post_id" : 79670251,
    "body" : "Try with the latest LTS (JDK 21 at this time) to see if there is any improvement.",
    "score" : 0,
    "owner" : {
      "account_id" : 372682,
      "reputation" : 26512,
      "user_id" : 721855,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/vZiox.png?s=256",
      "display_name" : "aled",
      "link" : "https://stackoverflow.com/users/721855/aled"
    },
    "creation_date" : 1750246242,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140523408,
    "post_id" : 79670251,
    "body" : "@aled it&#39;s Java 8",
    "score" : 0,
    "owner" : {
      "account_id" : 10187542,
      "reputation" : 2683,
      "user_id" : 20692967,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/NZSXm.jpg?s=256",
      "display_name" : "Sergey Zolotarev",
      "link" : "https://stackoverflow.com/users/20692967/sergey-zolotarev"
    },
    "creation_date" : 1750246050,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140523405,
    "post_id" : 79670251,
    "body" : "Version of the JDK? Swing is not the most modern toolkit. I wonder what the result would be with JavaFX.",
    "score" : 0,
    "owner" : {
      "account_id" : 372682,
      "reputation" : 26512,
      "user_id" : 721855,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/vZiox.png?s=256",
      "display_name" : "aled",
      "link" : "https://stackoverflow.com/users/721855/aled"
    },
    "creation_date" : 1750245997,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140522956,
    "post_id" : 79670251,
    "body" : "As any performance issues this one require profiling. You actually have 32% CPU utilization which is explained by 25% is full utilization of single core (SWING is single treaded) + some GC activity.",
    "score" : 0,
    "owner" : {
      "account_id" : 4497436,
      "reputation" : 20786,
      "user_id" : 3656904,
      "user_type" : "registered",
      "accept_rate" : 67,
      "profile_image" : "https://www.gravatar.com/avatar/8bdbd1f89f8907e8e8b15ab88c084c65?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "talex",
      "link" : "https://stackoverflow.com/users/3656904/talex"
    },
    "creation_date" : 1750236632,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140522910,
    "post_id" : 79670251,
    "body" : "@RobbyCornelissen if I resize a regular Explorer window, it&#39;s bad but not <i>that</i> bad. The figure is about in the 30-40 range. If I resize the Task manager window itself, it&#39;s about 30",
    "score" : 0,
    "owner" : {
      "account_id" : 10187542,
      "reputation" : 2683,
      "user_id" : 20692967,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/NZSXm.jpg?s=256",
      "display_name" : "Sergey Zolotarev",
      "link" : "https://stackoverflow.com/users/20692967/sergey-zolotarev"
    },
    "creation_date" : 1750235724,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140522834,
    "post_id" : 79670251,
    "body" : "Do you get different results when resizing other (non-swing) application windows?",
    "score" : 0,
    "owner" : {
      "account_id" : 4362282,
      "reputation" : 98626,
      "user_id" : 3558960,
      "user_type" : "registered",
      "accept_rate" : 60,
      "profile_image" : "https://www.gravatar.com/avatar/a98b52149d419c2aad558befe51c8cc5?s=256&d=identicon&r=PG",
      "display_name" : "Robby Cornelissen",
      "link" : "https://stackoverflow.com/users/3558960/robby-cornelissen"
    },
    "creation_date" : 1750234397,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}