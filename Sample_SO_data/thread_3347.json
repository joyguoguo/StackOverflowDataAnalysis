{
  "question" : {
    "question_id" : 79554788,
    "title" : "How do I implement an automatic error logger that handles both uncaught and caught (caught in try catch block) exceptions?",
    "body" : "<p>I was wondering if it is possible to implement an automatic error logger with specific functionality that logs errors into a PostGres Table. Basically, in my application i have both handled and unhandled errors. Catching unhandled errors is easy as it can be caught easily. However, the handled errors that are caught in try-catch blocs are the tricky ones. The reason why i have these try-catch blocs are because sometimes despite an error occuring, the error is not severe enough to warrant a disruption to code flow. I do not want to add any additional code in these catch blocs as there are too many of these catch blocs to implement such a method and add it in.</p>\n<p>I have tried various methods. My application is using Springboot. I tried AspectJ.\nI tried @Around, but the problem with that is that I can't get it to reach the catch block here.</p>\n<pre><code>    @Around(&quot;execution(* com.service.dqm.*.*(..))&quot;)\n    public Object logExceptions(ProceedingJoinPoint joinPoint) throws Throwable {\n        try {\n            System.out.println(&quot;The method is being tested&quot;);\n            return joinPoint.proceed(joinPoint.getArgs());\n\n        } catch (Throwable e) {\n            System.out.println(&quot;I am going bonkers&quot;);\n            throws e;\n        }\n    }\n    \n</code></pre>\n<p>I also tried Before(), but it also doesnt work because handler() is one of the pointcut expressions not supported in spring.</p>\n<pre><code>    @Before(&quot;handler(*) &amp;&amp; args(e)&quot;) \n    public void logError(JoinPoint joinPoint, Exception ex) {\n        System.out.println(&quot;Exception caught: &quot; + ex);\n    }\n</code></pre>\n<p>I also tried @AfterThrowing, but realised it requires me to throw an exception in the original method.</p>\n<pre><code>    @AfterThrowing(value = &quot;execution(* com.keysight.mta.service.dqm..*(..))&quot;, throwing = &quot;e&quot;)\n    public void log(JoinPoint thisJoinPoint, Throwable e) {\n        System.out.println(thisJoinPoint + &quot; -&gt; &quot; + e);\n    }\n</code></pre>\n<p>Lastly, I tried implementing a global exception handler, but realised that it does not catch handled exceptions already.</p>\n<p>Please help if you have a solution. Thanks.</p>\n",
    "tags" : [ "java", "spring-boot", "exception", "aop", "aspect" ],
    "owner" : {
      "account_id" : 41158466,
      "reputation" : 11,
      "user_id" : 30150104,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/24da95661ed4270f6619da26e34c1cf1?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Sushi Gucci",
      "link" : "https://stackoverflow.com/users/30150104/sushi-gucci"
    },
    "is_answered" : false,
    "view_count" : 68,
    "answer_count" : 0,
    "score" : 1,
    "last_activity_date" : 1743754494,
    "creation_date" : 1743753852,
    "link" : "https://stackoverflow.com/questions/79554788/how-do-i-implement-an-automatic-error-logger-that-handles-both-uncaught-and-caug",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ ],
  "question_comments" : [ {
    "comment_id" : 140308106,
    "post_id" : 79554788,
    "body" : "A professional developer should use professional tools. You could simply buy a licence. But to answer your question: If you delegate your build to Maven or Gradle in your run configuration, you should be able to compile and run AspectJ applications. If you use load-time weaving (LTW) via Java agent as suggested by the Spring manual, you can do completely without AspectJ-specific tooling, albeit without comfort features like syntax help etc. in the editor.",
    "score" : 0,
    "owner" : {
      "account_id" : 1087271,
      "reputation" : 68569,
      "user_id" : 1082681,
      "user_type" : "registered",
      "accept_rate" : 90,
      "profile_image" : "https://i.sstatic.net/lDK9h.png?s=256",
      "display_name" : "kriegaex",
      "link" : "https://stackoverflow.com/users/1082681/kriegaex"
    },
    "creation_date" : 1744034426,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140306530,
    "post_id" : 79554788,
    "body" : "Hi @kriegaex, following your suggestion to use native AspectJ, I have been trying to configure it. However, i was met with an issue. The first being that I am using IntelliJ IDE Community Edition, and that the aspectj plugin is only compatible with IntelliJ Ultimate Edition. From my knowledge, without the plugin, I am unable to access the aspectj compiler and other key functionalities. Is there a way to work around this without upgrading to ultimate edition?",
    "score" : 0,
    "owner" : {
      "account_id" : 41158466,
      "reputation" : 11,
      "user_id" : 30150104,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/24da95661ed4270f6619da26e34c1cf1?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Sushi Gucci",
      "link" : "https://stackoverflow.com/users/30150104/sushi-gucci"
    },
    "creation_date" : 1744007179,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140301744,
    "post_id" : 79554788,
    "body" : "<code>handler()</code> is the correct approach, if you want to hook into exception handler blocks a.k.a. catch blocks. Spring AOP as an &quot;AOP lite&quot; solution does not support it, as you have noticed. What stops you from using native AspectJ? It works well with Spring and the Spring manual describes how to activate and use it. You need more power - use a more powerful tool.",
    "score" : 0,
    "owner" : {
      "account_id" : 1087271,
      "reputation" : 68569,
      "user_id" : 1082681,
      "user_type" : "registered",
      "accept_rate" : 90,
      "profile_image" : "https://i.sstatic.net/lDK9h.png?s=256",
      "display_name" : "kriegaex",
      "link" : "https://stackoverflow.com/users/1082681/kriegaex"
    },
    "creation_date" : 1743831074,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}