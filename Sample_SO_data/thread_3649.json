{
  "question" : {
    "question_id" : 79534594,
    "title" : "Generic class as a method argument",
    "body" : "<p>Given:</p>\n<pre><code>class Vehicle { }\nclass Car extends Vehicle { }\nclass Sedan extends Car { }\n\nclass Garage&lt;V&gt; {\n    private V v;\n    public V get() { return this.v; }\n    public void put(V v) { this.v = v; }\n}\n\npublic class Main {\n\n    private Object object = new Object();\n    private Vehicle vehicle = new Vehicle();\n    private Car car = new Car();\n    private Sedan sedan = new Sedan();\n\n    public void doD(Garage&lt;? extends Car&gt; g) {\n        g.put(object);             // (1)\n        g.put(vehicle);            // (2)\n        g.put(car);                // (3)\n        g.put(sedan);              // (4)\n        object  = g.get();        // (5)\n        vehicle = g.get();        // (6)\n        car     = g.get();        // (7)\n        sedan   = g.get();        // (8)\n    }\n}\n</code></pre>\n<p>How come  lines (3) - (4) do not compile?\nWhile this would compile successfully:</p>\n<pre><code>Garage&lt;? extends Car&gt; garage = new Garage&lt;Car&gt;();\nGarage&lt;? extends Car&gt; garage2 = new Garage&lt;Sedan&gt;();\n</code></pre>\n<p>Are generic wildcards treated differently when passed as part of a generic class?</p>\n<p>Doesn't <code>Garage&lt;? extends Car&gt; g</code> mean &quot;an instance of a Garage class with a generic parameter type of 'Anything that extends Car class'&quot;?</p>\n",
    "tags" : [ "java", "generics" ],
    "owner" : {
      "account_id" : 14995593,
      "reputation" : 13,
      "user_id" : 14010287,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/d0bd805e43dcc463817cd9bbe54a06c8?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Mirat",
      "link" : "https://stackoverflow.com/users/14010287/mirat"
    },
    "is_answered" : false,
    "view_count" : 55,
    "closed_date" : 1742929889,
    "answer_count" : 0,
    "score" : 0,
    "last_activity_date" : 1742928177,
    "creation_date" : 1742928177,
    "link" : "https://stackoverflow.com/questions/79534594/generic-class-as-a-method-argument",
    "closed_reason" : "Duplicate"
  },
  "answers" : [ ],
  "question_comments" : [ {
    "comment_id" : 140262655,
    "post_id" : 79534594,
    "body" : "Suppose you had another class <code>Coupe extends Car</code>.  Then the declaration of <code>g</code> means that it <i>could</i> be a <code>Garage&lt;Coupe&gt;</code>.  You shouldn&#39;t be allowed to add <code>car</code> or <code>sedan</code> to such a thing - and that&#39;s what the compiler is protecting you from doing.",
    "score" : 0,
    "owner" : {
      "account_id" : 1085259,
      "reputation" : 80183,
      "user_id" : 1081110,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/Fp4Pm.jpg?s=256",
      "display_name" : "Dawood ibn Kareem",
      "link" : "https://stackoverflow.com/users/1081110/dawood-ibn-kareem"
    },
    "creation_date" : 1742932789,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140262565,
    "post_id" : 79534594,
    "body" : "Guys, thanks a lot. I think I got it",
    "score" : 0,
    "owner" : {
      "account_id" : 14995593,
      "reputation" : 13,
      "user_id" : 14010287,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/d0bd805e43dcc463817cd9bbe54a06c8?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Mirat",
      "link" : "https://stackoverflow.com/users/14010287/mirat"
    },
    "creation_date" : 1742930776,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140262534,
    "post_id" : 79534594,
    "body" : "The line <code>Garage&lt;? extends Car&gt; g.put(car);</code> doesn&#39;t work because <code>g</code> might be a of type <code>Sedan</code>, so the operation isn&#39;t safe.  I&#39;m pretty sure dani-vta&#39;s link will describe that in some detail.",
    "score" : 0,
    "owner" : {
      "account_id" : 2709823,
      "reputation" : 11069,
      "user_id" : 2338547,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/QT3fG.png?s=256",
      "display_name" : "markspace",
      "link" : "https://stackoverflow.com/users/2338547/markspace"
    },
    "creation_date" : 1742930210,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140262521,
    "post_id" : 79534594,
    "body" : "Also generics (in Java) are invariant, not covariant.  That means that <code>&lt;? extends AType&gt;</code> does not allow all subclasses of <code>AType</code> to be used.  This sort of declaration, if not designed carefully and purposefully, is almost always an error.  What you probably want is something like <code>&lt;Vehicle&gt;</code> or <code>&lt;?&gt;</code> but that might still require that we understand your design more.",
    "score" : 0,
    "owner" : {
      "account_id" : 2709823,
      "reputation" : 11069,
      "user_id" : 2338547,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/QT3fG.png?s=256",
      "display_name" : "markspace",
      "link" : "https://stackoverflow.com/users/2338547/markspace"
    },
    "creation_date" : 1742929978,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140262516,
    "post_id" : 79534594,
    "body" : "This article from the Oracle Tutorials actually shows why you&#39;re not allowed to add an object to a collection of <code>&lt;? extends Something&gt;</code> <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/wildcardGuidelines.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/generics/&hellip;</a>",
    "score" : 1,
    "owner" : {
      "account_id" : 5569841,
      "reputation" : 8664,
      "user_id" : 4415625,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/0ea1713807527aa1cf52e40579e35ec4?s=256&d=identicon&r=PG",
      "display_name" : "dani-vta",
      "link" : "https://stackoverflow.com/users/4415625/dani-vta"
    },
    "creation_date" : 1742929948,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140262456,
    "post_id" : 79534594,
    "body" : "Not &quot;Anything&quot; but &quot;Something specific&quot;. And it cannot differentiate between garage or garage2 being passed or a <code>Garage&lt;AnotherType&gt;</code>, therefore it cannot allow a sedan or car (or anything else) to be put into it. I would expect (8) to also not work.",
    "score" : 2,
    "owner" : {
      "account_id" : 2843847,
      "reputation" : 57516,
      "user_id" : 2442804,
      "user_type" : "registered",
      "accept_rate" : 80,
      "profile_image" : "https://i.sstatic.net/51a3aQOH.jpg?s=256",
      "display_name" : "luk2302",
      "link" : "https://stackoverflow.com/users/2442804/luk2302"
    },
    "creation_date" : 1742928840,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}