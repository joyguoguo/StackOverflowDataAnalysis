{
  "question" : {
    "question_id" : 79815576,
    "title" : "So the nestedscrollview is scrolling before even the CollapsingToolbarLayout starts moving or collapsing",
    "body" : "<p>So where i write Textview or imageview are real items so when i scroll the nested scroll will start scrolling specially all my 3 recycles are there i tried many ways did not really solve my problem so those recycle views are populated with music other one album and last one songs again . So My goal is that i want to first scroll and collapse the appBarlayout then the nested scroll will scroll items inside after appbar collapses</p>\n<p>so i dont have any idea how i would be able to archieve this.</p>\n<pre><code>&lt;androidx.coordinatorlayout.widget.CoordinatorLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:id=&quot;@+id/parent_rent&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:background=&quot;@color/bg_dark&quot;&gt;\n\n    &lt;!-- AppBar with Collapsing Header --&gt;\n    &lt;com.google.android.material.appbar.AppBarLayout\n        android:id=&quot;@+id/appbar&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;400dp&quot;\n        android:theme=&quot;@style/ThemeOverlay.AppCompat.Dark.ActionBar&quot;&gt;\n\n        &lt;com.google.android.material.appbar.CollapsingToolbarLayout\n            android:id=&quot;@+id/collapsing_toolbar&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:fitsSystemWindows=&quot;true&quot;\n            app:contentScrim=&quot;#000000&quot;\n            app:expandedTitleMarginStart=&quot;16dp&quot;\n            app:expandedTitleMarginEnd=&quot;16dp&quot;\n            app:layout_scrollFlags=&quot;scroll|exitUntilCollapsed|snap&quot;&gt;\n\n            &lt;ImageView\n            android:id=&quot;@+id/artist_image&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:contentDescription=&quot;@string/todo&quot;\n            android:src=&quot;@drawable/placeholder_artist&quot;\n            android:scaleType=&quot;centerCrop&quot;\n            android:fitsSystemWindows=&quot;true&quot;\n            app:layout_collapseMode=&quot;parallax&quot;\n            app:layout_collapseParallaxMultiplier=&quot;0.7&quot; /&gt;\n\n        &lt;!-- Bottom Scrim for Title Readability --&gt;\n        &lt;LinearLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_gravity=&quot;bottom&quot;\n            android:padding=&quot;20dp&quot;&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/artist_name_details&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:textColor=&quot;@color/white&quot;\n                android:textSize=&quot;26sp&quot;\n                android:fontFamily=&quot;@font/sf_pro_display_bold&quot;\n                android:text=&quot;Ariana Grande&quot;/&gt;\n\n        &lt;/LinearLayout&gt;\n\n        &lt;/com.google.android.material.appbar.CollapsingToolbarLayout&gt;\n    &lt;/com.google.android.material.appbar.AppBarLayout&gt;\n\n    &lt;!-- Scrollable Content --&gt;\n    &lt;androidx.core.widget.NestedScrollView\n        android:id=&quot;@+id/nestedScroll&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:layout_behavior=&quot;@string/appbar_scrolling_view_behavior&quot;&gt;\n\n        &lt;LinearLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:orientation=&quot;vertical&quot;\n            android:paddingTop=&quot;20dp&quot;&gt;\n\n            &lt;!-- Songs Section --&gt;\n            &lt;LinearLayout\n                android:id=&quot;@+id/songs_artist_container&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:orientation=&quot;vertical&quot;&gt;\n\n                &lt;TextView\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:text=&quot;Songs&quot;\n                    android:textSize=&quot;22sp&quot;\n                    android:textColor=&quot;@color/white&quot;\n                    android:gravity=&quot;center&quot;\n                    android:fontFamily=&quot;@font/sf_pro_display_bold&quot;\n                    android:layout_marginStart=&quot;20dp&quot;\n                app:drawableEndCompat=&quot;@drawable/ic_chevron_right&quot;\n                app:drawableTint=&quot;@color/candy_red&quot; /&gt;\n\n            &lt;androidx.recyclerview.widget.RecyclerView\n                android:id=&quot;@+id/songs_artist_list&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:orientation=&quot;horizontal&quot;/&gt;\n\n            &lt;/LinearLayout&gt;\n\n            &lt;!-- Albums Section --&gt;\n            &lt;LinearLayout\n                android:id=&quot;@+id/albums_artist_container&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:orientation=&quot;vertical&quot;\n                android:layout_marginTop=&quot;20dp&quot;&gt;\n\n                &lt;TextView\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:text=&quot;Albums&quot;\n                android:textSize=&quot;22sp&quot;\n                android:textColor=&quot;@color/white&quot;\n                android:gravity=&quot;center&quot;\n                android:fontFamily=&quot;@font/sf_pro_display_bold&quot;\n                android:layout_marginStart=&quot;20dp&quot;\n                app:drawableEndCompat=&quot;@drawable/ic_chevron_right&quot;\n                app:drawableTint=&quot;@color/candy_red&quot; /&gt;\n\n            &lt;androidx.recyclerview.widget.RecyclerView\n                android:id=&quot;@+id/artist_albums_list&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;/&gt;\n\n            &lt;/LinearLayout&gt;\n\n            &lt;!-- Features Section --&gt;\n            &lt;LinearLayout\n                android:id=&quot;@+id/features_artist_container&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:orientation=&quot;vertical&quot;\n                android:layout_marginTop=&quot;20dp&quot;&gt;\n\n                &lt;TextView\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:text=&quot;Features&quot;\n                android:textSize=&quot;22sp&quot;\n                android:textColor=&quot;@color/white&quot;\n                android:gravity=&quot;center&quot;\n                android:fontFamily=&quot;@font/sf_pro_display_bold&quot;\n                android:layout_marginStart=&quot;20dp&quot;\n                app:drawableEndCompat=&quot;@drawable/ic_chevron_right&quot;\n                app:drawableTint=&quot;@color/candy_red&quot; /&gt;\n\n            &lt;androidx.recyclerview.widget.RecyclerView\n                android:id=&quot;@+id/features_artist_list&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;/&gt;\n\n            &lt;/LinearLayout&gt;\n\n            &lt;!-- About Section --&gt;\n            &lt;LinearLayout\n                android:id=&quot;@+id/about_artist_container&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:orientation=&quot;vertical&quot;&gt;\n                &lt;!-- TODO --&gt;\n            &lt;/LinearLayout&gt;\n\n        &lt;/LinearLayout&gt;\n\n    &lt;/androidx.core.widget.NestedScrollView&gt;\n\n    &lt;!-- Floating Action Button --&gt;\n    &lt;com.google.android.material.floatingactionbutton.FloatingActionButton\n        android:id=&quot;@+id/play_random&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:contentDescription=&quot;@string/todo&quot;\n        android:src=&quot;@drawable/play_icon&quot;\n        app:tint=&quot;@color/white&quot;\n        app:layout_anchor=&quot;@+id/appbar&quot;\n        app:layout_anchorGravity=&quot;bottom|right|end&quot;\n        android:layout_margin=&quot;20dp&quot;\n        app:backgroundTint=&quot;@color/candy_red&quot;\n        app:fabSize=&quot;normal&quot; /&gt;\n\n    &lt;!-- Top Navigation Bar --&gt;\n    &lt;LinearLayout\n        android:id=&quot;@+id/navBarContainer&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:orientation=&quot;vertical&quot; /&gt;\n\n&lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\n</code></pre>\n",
    "tags" : [ "java", "android", "xml", "android-layout", "android-collapsingtoolbarlayout" ],
    "owner" : {
      "account_id" : 29396292,
      "reputation" : 9,
      "user_id" : 22523564,
      "user_type" : "registered",
      "profile_image" : "https://lh3.googleusercontent.com/a/ACg8ocIN57JSAmo8oe2poEM1923L08p8yp7ICTqsEtYBI8SSbw=k-s256",
      "display_name" : "wayne chirwa",
      "link" : "https://stackoverflow.com/users/22523564/wayne-chirwa"
    },
    "is_answered" : true,
    "view_count" : 65,
    "answer_count" : 1,
    "score" : -1,
    "last_activity_date" : 1762863054,
    "creation_date" : 1762777058,
    "link" : "https://stackoverflow.com/questions/79815576/so-the-nestedscrollview-is-scrolling-before-even-the-collapsingtoolbarlayout-sta",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79816619,
    "question_id" : 79815576,
    "body" : "<p>Here, I made a quick example that works:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.coordinatorlayout.widget.CoordinatorLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;!-- Collapsing AppBar --&gt;\n    &lt;com.google.android.material.appbar.AppBarLayout\n        android:id=&quot;@+id/appBarLayout&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;250dp&quot;\n        android:theme=&quot;@style/ThemeOverlay.MaterialComponents.Dark.ActionBar&quot;&gt;\n\n        &lt;com.google.android.material.appbar.CollapsingToolbarLayout\n            android:id=&quot;@+id/collapsingToolbar&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            app:contentScrim=&quot;?attr/colorPrimary&quot;\n            app:layout_scrollFlags=&quot;scroll|exitUntilCollapsed&quot;&gt;\n\n            &lt;ImageView\n                android:id=&quot;@+id/headerImage&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;match_parent&quot;\n                android:scaleType=&quot;centerCrop&quot;\n                android:src=&quot;@drawable/aaa&quot;\n                app:layout_collapseMode=&quot;parallax&quot; /&gt;\n\n            &lt;androidx.appcompat.widget.Toolbar\n                android:id=&quot;@+id/toolbar&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;?attr/actionBarSize&quot;\n                app:layout_collapseMode=&quot;pin&quot; /&gt;\n        &lt;/com.google.android.material.appbar.CollapsingToolbarLayout&gt;\n    &lt;/com.google.android.material.appbar.AppBarLayout&gt;\n\n    &lt;androidx.core.widget.NestedScrollView\n        android:id=&quot;@+id/nestedScrollView&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:fillViewport=&quot;true&quot;\n        android:overScrollMode=&quot;never&quot;\n        app:layout_behavior=&quot;@string/appbar_scrolling_view_behavior&quot;&gt;\n        \n        &lt;LinearLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:orientation=&quot;vertical&quot;\n            android:padding=&quot;8dp&quot;&gt;\n\n            &lt;TextView\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:padding=&quot;8dp&quot;\n                android:text=&quot;List 1&quot;\n                android:textSize=&quot;20sp&quot;\n                android:textStyle=&quot;bold&quot; /&gt;\n\n            &lt;androidx.recyclerview.widget.RecyclerView\n                android:id=&quot;@+id/recyclerView1&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:nestedScrollingEnabled=&quot;false&quot; /&gt;\n\n            &lt;TextView\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:padding=&quot;8dp&quot;\n                android:text=&quot;List 2&quot;\n                android:textSize=&quot;20sp&quot;\n                android:textStyle=&quot;bold&quot; /&gt;\n\n            &lt;androidx.recyclerview.widget.RecyclerView\n                android:id=&quot;@+id/recyclerView2&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:nestedScrollingEnabled=&quot;false&quot; /&gt; &lt;!--            You are missing this--&gt;\n\n            &lt;TextView\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:padding=&quot;8dp&quot;\n                android:text=&quot;List 3&quot;\n                android:textSize=&quot;20sp&quot;\n                android:textStyle=&quot;bold&quot; /&gt;\n\n            &lt;androidx.recyclerview.widget.RecyclerView\n                android:id=&quot;@+id/recyclerView3&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:nestedScrollingEnabled=&quot;false&quot; /&gt;&lt;!--            You are missing this--&gt;\n\n        &lt;/LinearLayout&gt;\n    &lt;/androidx.core.widget.NestedScrollView&gt;\n\n&lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\n</code></pre>\n<p>In activity :</p>\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    private lateinit var recyclerView1: RecyclerView\n    private lateinit var recyclerView2: RecyclerView\n    private lateinit var recyclerView3: RecyclerView\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        enableEdgeToEdge()\n        setContentView(R.layout.activity_main)\n\n        val toolbar: Toolbar = findViewById(R.id.toolbar)\n        val collapsingToolbar: CollapsingToolbarLayout = findViewById(R.id.collapsingToolbar)\n        setSupportActionBar(toolbar)\n        collapsingToolbar.title = &quot;Nested Scroll with Collapsing Toolbar&quot;\n\n        setupRecyclerView(findViewById(R.id.recyclerView1), (1..10).map { &quot;List 1 - Item $it&quot; })\n        setupRecyclerView(findViewById(R.id.recyclerView2), (1..15).map { &quot;List 2 - Item $it&quot; })\n        setupRecyclerView(findViewById(R.id.recyclerView3), (1..20).map { &quot;List 3 - Item $it&quot; })\n    }\n\n\n    private fun setupRecyclerView(rv: RecyclerView, data: List&lt;String&gt;) {\n        rv.layoutManager = LinearLayoutManager(this)\n        rv.adapter = SimpleAdapter(data)\n        rv.isNestedScrollingEnabled = false // Important: delegate scroll to NestedScrollView\n    }\n}\n</code></pre>\n<p>The part you are missing is:</p>\n<pre><code>android:nestedScrollingEnabled=&quot;false&quot;\n</code></pre>\n<p>on your RecyclerView xml.</p>\n",
    "score" : 0,
    "is_accepted" : true,
    "owner" : {
      "account_id" : 44346534,
      "reputation" : 176,
      "user_id" : 31706372,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/c17ef303e9ed8982a8aba03b7474bbda?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "NirajDota",
      "link" : "https://stackoverflow.com/users/31706372/nirajdota"
    },
    "creation_date" : 1762863054,
    "last_activity_date" : 1762863054,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140852183,
    "post_id" : 79815576,
    "body" : "ah whaaaat nooo wayyyy that solved and easy . thanks man i very appreciate it",
    "score" : 1,
    "owner" : {
      "account_id" : 29396292,
      "reputation" : 9,
      "user_id" : 22523564,
      "user_type" : "registered",
      "profile_image" : "https://lh3.googleusercontent.com/a/ACg8ocIN57JSAmo8oe2poEM1923L08p8yp7ICTqsEtYBI8SSbw=k-s256",
      "display_name" : "wayne chirwa",
      "link" : "https://stackoverflow.com/users/22523564/wayne-chirwa"
    },
    "creation_date" : 1763030419,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140848299,
    "post_id" : 79815576,
    "body" : "i edited i added all the elements that where missing i would love you help",
    "score" : 0,
    "owner" : {
      "account_id" : 29396292,
      "reputation" : 9,
      "user_id" : 22523564,
      "user_type" : "registered",
      "profile_image" : "https://lh3.googleusercontent.com/a/ACg8ocIN57JSAmo8oe2poEM1923L08p8yp7ICTqsEtYBI8SSbw=k-s256",
      "display_name" : "wayne chirwa",
      "link" : "https://stackoverflow.com/users/22523564/wayne-chirwa"
    },
    "creation_date" : 1762856355,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140847883,
    "post_id" : 79815576,
    "body" : "I hope you edit your question then, that&#39;s a fairly common issue and I think I know the solution. Also I&#39;d like to know what parameters you have put in the RecyclerView part. Your code mostly seems correct.",
    "score" : 0,
    "owner" : {
      "account_id" : 44346534,
      "reputation" : 176,
      "user_id" : 31706372,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/c17ef303e9ed8982a8aba03b7474bbda?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "NirajDota",
      "link" : "https://stackoverflow.com/users/31706372/nirajdota"
    },
    "creation_date" : 1762838495,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140847520,
    "post_id" : 79815576,
    "body" : "so the problem is that when u try to scroll instead of the appbar layout to collapse like what is should do . the nestedscroll will start scrolling without the appbar collapsing because as i scrill up apbar is supposed to collapse first then items inside the nested scroll will start to scroll but in this case the nested will scroll first making it not collapse",
    "score" : 0,
    "owner" : {
      "account_id" : 29396292,
      "reputation" : 9,
      "user_id" : 22523564,
      "user_type" : "registered",
      "profile_image" : "https://lh3.googleusercontent.com/a/ACg8ocIN57JSAmo8oe2poEM1923L08p8yp7ICTqsEtYBI8SSbw=k-s256",
      "display_name" : "wayne chirwa",
      "link" : "https://stackoverflow.com/users/22523564/wayne-chirwa"
    },
    "creation_date" : 1762807260,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140846832,
    "post_id" : 79815576,
    "body" : "I am not sure what you&#39;re trying to achieve here. All I know is you have 3 recycler views with collapsing app bar in the same single layout xml. Can you clarify what you&#39;re trying to achieve and what exactly is happening? If items are repeating that&#39;s a logic issue not a layout issue necessarily.",
    "score" : 0,
    "owner" : {
      "account_id" : 44346534,
      "reputation" : 176,
      "user_id" : 31706372,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/c17ef303e9ed8982a8aba03b7474bbda?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "NirajDota",
      "link" : "https://stackoverflow.com/users/31706372/nirajdota"
    },
    "creation_date" : 1762783007,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}