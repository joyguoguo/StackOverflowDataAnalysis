{
  "question" : {
    "question_id" : 79825034,
    "title" : "Jenkins Docker Node error 400 Bad Request",
    "body" : "<p>My jenkins container start command:</p>\n<pre><code>docker run --name jenkins --restart=on-failure --detach \\\n--network jenkins --env DOCKER_HOST=tcp://docker:2376 \\\n--env DOCKER_CERT_PATH=/certs/client --env DOCKER_TLS_VERIFY=1 \\\n--publish 8080:8080 --publish 50000:50000 \\\n--volume jenkins-data:/var/jenkins_home \\\n--volume jenkins-docker-certs:/certs/client:ro \\\njenkins/jenkins:lts\n</code></pre>\n<p>My sockat container start command:</p>\n<pre><code>docker run -d --restart=always -p 127.0.0.1:2376:2375 --network jenkins -v  /var/run/docker.sock:/var/run/docker.sock alpine/socat tcp-listen:2375,fork,reuseaddr unix-connect:/var/run/docker.sock\n</code></pre>\n<p>Node error:</p>\n<pre><code>Connecting to docker container c0a2bc61cf0236aa365d49437c8e7c2a40a61b4ff149dd5ea9eb6ec62bc86108, running command java -jar /home/jenkins/remoting-3327. v868139a_d00e0.jar -noReconnect -noKeepAlive -agentLog /home/jenkins/agent.log\nHTTP/1.1 400 Bad Request\nERROR: Unexpected error in launching an agent. This is probably a bug in Jenkins\nAlso:   java.lang.Throwable: launched here\n        at hudson.slaves.SlaveComputer._connect(SlaveComputer.java:287)\n        at hudson.model.Computer.connect(Computer.java:442)\n        at PluginClassLoader for docker-plugin//com.nirima.jenkins.plugins.docker.strategy.DockerOnceRetentionStrategy.start(DockerOnceRetentionStrategy.java:145)\n        at PluginClassLoader for docker-plugin//com.nirima.jenkins.plugins.docker.strategy.DockerOnceRetentionStrategy.start(DockerOnceRetentionStrategy.java:49)\n        at hudson.model.AbstractCIBase.createNewComputerForNode(AbstractCIBase.java:193)\n        at hudson.model.AbstractCIBase.updateNewComputer(AbstractCIBase.java:222)\n        at jenkins.model.Jenkins.updateNewComputer(Jenkins.java:1596)\n        at jenkins.model.Nodes.addNode(Nodes.java:157)\n        at jenkins.model.Jenkins.addNode(Jenkins.java:2193)\n        at PluginClassLoader for docker-plugin//io.jenkins.docker.DockerTransientNode.robustlyAddToJenkins(DockerTransientNode.java:448)\n        at PluginClassLoader for docker-plugin//com.nirima.jenkins.plugins.docker.DockerCloud$1.run(DockerCloud.java:421)\n        at jenkins.util.ContextResettingExecutorService$1.run(ContextResettingExecutorService.java:28)\n        at jenkins.security.ImpersonatingExecutorService$1.run(ImpersonatingExecutorService.java:68)\n        at jenkins.util.ErrorLoggingExecutorService.lambda$wrap$0(ErrorLoggingExecutorService.java:51)\n        at java.base/java.util.concurrent.Executors$RunnableAdapter.call (Unknown Source)\njava.io.IOException: Unexpected HTTP response status line HTTP/1.1 400 Bad Request\n    at PluginClassLoader for docker-plugin//io.jenkins.docker.connector.DockerComputerAttachConnector$DockerAttachLauncher.launch(DockerComputerAttachConnector.java:333)\n    at hudson.slaves.DelegatingComputerLauncher.launch(DelegatingComputerLauncher.java:64)\n    at PluginClassLoader for docker-plugin//io.jenkins.docker.connector.DockerDelegatingComputerLauncher.launch(DockerDelegatingComputerLauncher.java:46)\n    at hudson.slaves.SlaveComputer.lambda$_connect$0(SlaveComputer.java:298)\n    at jenkins.util.ContextResettingExecutorService$2.call(ContextResettingExecutorService.java:46)\n    at jenkins.security.ImpersonatingExecutorService$2.call(ImpersonatingExecutorService.java:80)\n    at java.base/java.util.concurrent.FutureTask.run(Unknown Source)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker (Unknown Source)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n    at java.base/java.lang.Thread.run(Unknown Source)\n</code></pre>\n<p>Docker Cloud details:\n<a href=\"https://i.sstatic.net/5YmDjqHO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/5YmDjqHO.png\" alt=\"enter image description here\" /></a></p>\n<p>Docker Agent Template:</p>\n<p><a href=\"https://i.sstatic.net/kEXekWgb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/kEXekWgb.png\" alt=\"enter image description here\" /></a></p>\n<p>I've tried everything, but the node keeps crashing with this error:(</p>\n",
    "tags" : [ "java", "docker", "jenkins" ],
    "owner" : {
      "account_id" : 41246480,
      "reputation" : 19,
      "user_id" : 30195210,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/VL6mXKth.jpg?s=256",
      "display_name" : "SleepyCat",
      "link" : "https://stackoverflow.com/users/30195210/sleepycat"
    },
    "is_answered" : false,
    "view_count" : 66,
    "closed_date" : 1764058425,
    "answer_count" : 0,
    "score" : -1,
    "last_activity_date" : 1763604482,
    "creation_date" : 1763604482,
    "link" : "https://stackoverflow.com/questions/79825034/jenkins-docker-node-error-400-bad-request",
    "closed_reason" : "Not suitable for this site"
  },
  "answers" : [ ],
  "question_comments" : [ ],
  "answer_comments" : { }
}