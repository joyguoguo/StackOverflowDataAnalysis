{
  "question" : {
    "question_id" : 79613878,
    "title" : "Use custom OpenAPI generator within Docker",
    "body" : "<p>Following OpenAPI documentation and some random guides through the Internet I have managed to develop my own custom API files generator.\nI have tested it locally and works as expected, so far.</p>\n<p>My problem is that I want to run the OpenAPI generator with my custom generator plugin from Docker, but haven't found any guide or documentation about it.</p>\n<p>I'd like the command to look like:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>    docker run --rm \\\n      -v ${PWD}:/local \\\n      openapitools/openapi-generator-cli generate \\\n      -i /local/index.yaml \\\n      -g ?? \\\n      -o /local/out/go\n</code></pre>\n<p>Or if it is not possible, to create a <code>Dockerfile</code> with all required steps.</p>\n<p>Does anyone have any suggestion?</p>\n<h2>Solution</h2>\n<p>I have created a <code>Dockerfile</code>  to  build an image with the minimum information to set a java OpenAPI execution:</p>\n<pre class=\"lang-none prettyprint-override\"><code>FROM openjdk:11-jre-slim\n\nUSER root\n\nRUN apt-get update &amp;&amp; apt-get install -y wget\n\nARG ARG_OPENAPI_GENERATOR_VERSION={{version}}\nENV OPENAPI_GENERATOR_VERSION=${ARG_OPENAPI_GENERATOR_VERSION}\n\nWORKDIR /app\n\nRUN wget https://repo1.maven.org/maven2/org/openapitools/openapi-generator-cli/${ARG_OPENAPI_GENERATOR_VERSION}/openapi-generator-cli-${ARG_OPENAPI_GENERATOR_VERSION}.jar -O openapi-generator-cli.jar\n\nCOPY {{path_to_your_custom_generator}}.jar ./\n\nENTRYPOINT [&quot;java&quot;, &quot;-cp&quot;, &quot;{{your_custom_generator}}.jar:openapi-generator-cli.jar&quot;, &quot;org.openapitools.codegen.OpenAPIGenerator&quot;]\n</code></pre>\n<p>Then you can compile your Docker image as follows:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>docker build --build-arg ARG_OPENAPI_GENERATOR_VERSION={{open-api-version}} -t {{image_tag}} -f {{path_to_dockerfile}} .\n</code></pre>\n<p>And eventually run it:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>docker run -v {{source_dir}}:/local --rm {{image_tag}} \\\n    generate \\\n    -g {{custom_generator_name}} \\\n    -i /local/{{path_to_api_bundle.yaml}} \\\n    -o /local/{{path_to_destination_output}}\n</code></pre>\n",
    "tags" : [ "java", "docker", "openapi", "openapi-generator" ],
    "owner" : {
      "account_id" : 16631501,
      "reputation" : 49,
      "user_id" : 12019255,
      "user_type" : "registered",
      "profile_image" : "https://lh5.googleusercontent.com/-eaECM-QzT5U/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcqkAD26pfV3RMwZc0Q0vn2Vrf8LA/s256-rj/photo.jpg",
      "display_name" : "Arturo Mart&#237;nez D&#237;az",
      "link" : "https://stackoverflow.com/users/12019255/arturo-mart%c3%adnez-d%c3%adaz"
    },
    "is_answered" : false,
    "view_count" : 143,
    "answer_count" : 0,
    "score" : 1,
    "last_activity_date" : 1746869658,
    "creation_date" : 1746784482,
    "link" : "https://stackoverflow.com/questions/79613878/use-custom-openapi-generator-within-docker",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ ],
  "question_comments" : [ {
    "comment_id" : 140410653,
    "post_id" : 79613878,
    "body" : "<code>-v ***&#47;.bin&#47;***-generator-plugin-1.0.0.jar:&#47;custom_plugin</code> and the <code>pom.xml</code> contains <code>&lt;artifactId&gt;****-generator-plugin&lt;&#47;artifactId&gt;&lt;name&gt;****-gen&zwnj;&#8203;erator-plugin&lt;&#47;name&gt;</code>",
    "score" : 0,
    "owner" : {
      "account_id" : 16631501,
      "reputation" : 49,
      "user_id" : 12019255,
      "user_type" : "registered",
      "profile_image" : "https://lh5.googleusercontent.com/-eaECM-QzT5U/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcqkAD26pfV3RMwZc0Q0vn2Vrf8LA/s256-rj/photo.jpg",
      "display_name" : "Arturo Mart&#237;nez D&#237;az",
      "link" : "https://stackoverflow.com/users/12019255/arturo-mart%c3%adnez-d%c3%adaz"
    },
    "creation_date" : 1746788305,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140410557,
    "post_id" : 79613878,
    "body" : "Have you added correct path to your plugin, which you had created.?",
    "score" : 0,
    "owner" : {
      "account_id" : 7666017,
      "reputation" : 8130,
      "user_id" : 5809720,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/zNAXD.jpg?s=256",
      "display_name" : "Sagar Gangwal",
      "link" : "https://stackoverflow.com/users/5809720/sagar-gangwal"
    },
    "creation_date" : 1746786237,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140410516,
    "post_id" : 79613878,
    "body" : "This is the output I have: <code>Can&#39;t load config class with name &#39;&#47;custom_plugin&#47;****-plugin-1.0.0.jar&#39;</code>",
    "score" : 0,
    "owner" : {
      "account_id" : 16631501,
      "reputation" : 49,
      "user_id" : 12019255,
      "user_type" : "registered",
      "profile_image" : "https://lh5.googleusercontent.com/-eaECM-QzT5U/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcqkAD26pfV3RMwZc0Q0vn2Vrf8LA/s256-rj/photo.jpg",
      "display_name" : "Arturo Mart&#237;nez D&#237;az",
      "link" : "https://stackoverflow.com/users/12019255/arturo-mart%c3%adnez-d%c3%adaz"
    },
    "creation_date" : 1746785552,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140410484,
    "post_id" : 79613878,
    "body" : "Are you facing any error?? <code>docker run --rm \\   -v ${PWD}:&#47;local \\   -v &#47;path&#47;to&#47;your&#47;custom&#47;plugin:&#47;custom_plugin \\   openapitools&#47;openapi-generator-cli generate \\   -i &#47;local&#47;index.yaml \\   -g &#47;custom_plugin&#47;your-generator \\   -o &#47;local&#47;out&#47;go </code>  Could you try this command by replacing your paths.",
    "score" : 0,
    "owner" : {
      "account_id" : 7666017,
      "reputation" : 8130,
      "user_id" : 5809720,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/zNAXD.jpg?s=256",
      "display_name" : "Sagar Gangwal",
      "link" : "https://stackoverflow.com/users/5809720/sagar-gangwal"
    },
    "creation_date" : 1746784934,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}