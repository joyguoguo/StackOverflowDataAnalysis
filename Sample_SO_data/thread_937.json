{
  "question" : {
    "question_id" : 79753296,
    "title" : "play-pac4j: keep track of active sessions",
    "body" : "<p>What's the difference between PlayCacheSessionStore and PlayCookieSessionStore. I mean I understand that one stores data with play cache and the other stores data in cookie but I'm not sure to understand the consequences of choosing one or another.</p>\n<p>From what I understand, PlayCacheSessionStore does manage idle timeout but PlayCookieSessionStore does not. Is there a reason why it is like this ?</p>\n<p>Also while using using PlayCacheSessionStore in dev mode, users are logged out at every recompilation. I guess this happens because the cache is reset. Is there a way to avoid this ?</p>\n<p>And last question : I'd like to be able to list the sessions that are currently &quot;active&quot;.\nIs it possible to get such a list from PlayCacheSessionStore ?\nI guess this is not possible to get it from PlayCookieSessionStore because session data are not stored on the server (the whole point of cookies), right ?</p>\n<p>What I eventually want to do is keep track of who is connected, when, from where, ... I understand this cannot be done directly with any existing SessionStore implementation and I have to persist the appropriate data somewhere (cache, cookie, database, ...)</p>\n<p>What is the best way to do this, is there already a mechanism to do this ? (if that matters I'm using a local database to store users data (DbProfileService))</p>\n",
    "tags" : [ "java", "playframework", "pac4j" ],
    "owner" : {
      "account_id" : 2988433,
      "reputation" : 151,
      "user_id" : 2536608,
      "user_type" : "registered",
      "accept_rate" : 100,
      "profile_image" : "https://www.gravatar.com/avatar/48955c79baa8030e4a0d3525dd8795d4?s=256&d=identicon&r=PG",
      "display_name" : "MiA",
      "link" : "https://stackoverflow.com/users/2536608/mia"
    },
    "is_answered" : true,
    "view_count" : 64,
    "answer_count" : 1,
    "score" : 0,
    "last_activity_date" : 1756807579,
    "creation_date" : 1756805066,
    "link" : "https://stackoverflow.com/questions/79753296/play-pac4j-keep-track-of-active-sessions",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79753339,
    "question_id" : 79753296,
    "body" : "<p><strong>Difference between PlayCacheSessionStore and PlayCookieSessionStore</strong></p>\n<p>PlayCookieSessionStore: Stores session data in the cookie (client-side).</p>\n<ul>\n<li>No idle timeout (server can’t track inactivity).</li>\n<li>Stateless, simple, but limited size (~4KB)</li>\n<li>Possible security risks: Sensitive data must be signed/encrypted.</li>\n<li>Easy to scale (nothing stored server-side).</li>\n</ul>\n<p>PlayCacheSessionStore: Stores session data in server cache.</p>\n<ul>\n<li>Supports idle timeout and forced logout.</li>\n<li>Requires cache backend, data lost on app restart if cache is in-memory.</li>\n</ul>\n<p><strong>Why idle timeout only with PlayCacheSessionStore?</strong></p>\n<p>Because cache sessions are server-side and can track last access time; cookies are client-side and stateless.</p>\n<p><strong>Dev mode logout on recompilation?</strong></p>\n<ul>\n<li>Yes, in-memory cache resets on restart.</li>\n<li>Fix: Use persistent cache like Redis in dev.</li>\n</ul>\n<p><strong>Can you list active sessions from PlayCacheSessionStore?</strong></p>\n<ul>\n<li>No, Play’s cache API doesn’t support listing keys.</li>\n<li>If you want active sessions, you must track them separately (e.g., in a database).</li>\n</ul>\n<p><strong>How to track who is connected, when, where?</strong></p>\n<p>You need to save session metadata (user ID, IP, login time) yourself in your DB at login and update on each request.</p>\n",
    "score" : 1,
    "is_accepted" : true,
    "owner" : {
      "account_id" : 1096470,
      "reputation" : 29415,
      "user_id" : 1089967,
      "user_type" : "registered",
      "accept_rate" : 59,
      "profile_image" : "https://www.gravatar.com/avatar/1f256b904ff621d678598d8fa49f86c5?s=256&d=identicon&r=PG",
      "display_name" : "lance-java",
      "link" : "https://stackoverflow.com/users/1089967/lance-java"
    },
    "creation_date" : 1756807579,
    "last_activity_date" : 1756807579,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ ],
  "answer_comments" : {
    "79753339" : [ {
      "comment_id" : 140710858,
      "post_id" : 79753339,
      "body" : "Indeed, the core difference is mainly the fact that you can&#39;t have too bigs profile in cookies while you can with the cache.",
      "score" : 0,
      "owner" : {
        "account_id" : 1608505,
        "reputation" : 2789,
        "user_id" : 1488073,
        "user_type" : "registered",
        "profile_image" : "https://www.gravatar.com/avatar/9208138598e1306721f44b2668ac7c77?s=256&d=identicon&r=PG",
        "display_name" : "jleleu",
        "link" : "https://stackoverflow.com/users/1488073/jleleu"
      },
      "creation_date" : 1756878713,
      "content_license" : "CC BY-SA 4.0"
    } ]
  }
}