{
  "question" : {
    "question_id" : 79842362,
    "title" : "Gradle Fails to Find Tuya SDK 6.11.1 (com.thingclips.smart) - Repository Issue?",
    "body" : "<p>Its been <strong>3 months</strong> now that I am encountering a persistent Gradle build failure while attempting to integrate the Tuya SmartLife App SDK for Android. The main dependency is failing to resolve. Im on <strong>React Native (Expo)</strong> I use a <strong>Native Bridge</strong> to execute the native Android <strong>Tuya SDK</strong> functions configured in the <code>android/</code> folder.<br />\n<strong>You'll find my code below:</strong></p>\n<p><strong>Error:</strong></p>\n<pre class=\"lang-none prettyprint-override\"><code>Could not determine the dependencies of task ':app:mergeReleaseNativeLibs'.\n&gt; Could not resolve all dependencies for configuration ':app:releaseRuntimeClasspath'.\n   &gt; Could not resolve all dependencies for configuration ':app:releaseRuntimeClasspath'.\n      &gt; Could not find com.thingclips.smart:thingsmart:6.11.0.\n        Searched in the following locations:\n          - https://dl.google.com/dl/android/maven2/com/thingclips/smart/thingsmart/6.11.0/thingsmart-6.11.0.pom\n          - https://repo.maven.apache.org/maven2/com/thingclips/smart/thingsmart/6.11.0/thingsmart-6.11.0.pom\n          - https://www.jitpack.io/com/thingclips/smart/thingsmart/6.11.0/thingsmart-6.11.0.pom\n          - https://maven-other.tuya.com/repository/maven-releases/com/thingclips/smart/thingsmart/6.11.0/thingsmart-6.11.0.pom\n          - https://central.sonatype.com/repository/maven-snapshots/com/thingclips/smart/thingsmart/6.11.0/thingsmart-6.11.0.pom\n        Required by:\n            project :app\n\nPossible solution:\n - Declare repository providing the artifact, see the documentation at https://docs.gradle.org/current/userguide/declaring_repositories.html\n\n</code></pre>\n<p>android/build.gradle:</p>\n<pre><code>buildscript {\n  repositories {\n    google()\n    mavenCentral()\n    maven { url 'https://www.jitpack.io' }\n    maven { url 'https://maven-other.tuya.com/repository/maven-releases/' }\n  }\n  dependencies {\n    classpath('com.android.tools.build:gradle')\n    classpath('com.facebook.react:react-native-gradle-plugin')\n    classpath('org.jetbrains.kotlin:kotlin-gradle-plugin')\n  }\n}\n\nallprojects {\n  repositories {\n    google()\n    mavenCentral()\n    maven { url 'https://www.jitpack.io' }\n    maven { url 'https://maven-other.tuya.com/repository/maven-releases/' }\n  }\n}\n\napply plugin: &quot;expo-root-project&quot;\napply plugin: &quot;com.facebook.react.rootproject&quot;\n</code></pre>\n<p>android/settings.gradle:</p>\n<pre><code>pluginManagement {\n  repositories {\n    google()\n    mavenCentral()\n    gradlePluginPortal()\n    maven { url 'https://maven-other.tuya.com/repository/maven-releases/' }\n  }\n  \n  def reactNativeGradlePlugin = new File(\n    providers.exec {\n      workingDir(rootDir)\n      commandLine(&quot;node&quot;, &quot;--print&quot;, &quot;require.resolve('@react-native/gradle-plugin/package.json', { paths: [require.resolve('react-native/package.json')] })&quot;)\n    }.standardOutput.asText.get().trim()\n  ).getParentFile().absolutePath\n  includeBuild(reactNativeGradlePlugin)\n  \n  def expoPluginsPath = new File(\n    providers.exec {\n      workingDir(rootDir)\n      commandLine(&quot;node&quot;, &quot;--print&quot;, &quot;require.resolve('expo-modules-autolinking/package.json', { paths: [require.resolve('expo/package.json')] })&quot;)\n    }.standardOutput.asText.get().trim(),\n    &quot;../android/expo-gradle-plugin&quot;\n  ).absolutePath\n  includeBuild(expoPluginsPath)\n}\n\nplugins {\n  id(&quot;com.facebook.react.settings&quot;)\n  id(&quot;expo-autolinking-settings&quot;)\n}\n\ndependencyResolutionManagement {\n  repositoriesMode.set(RepositoriesMode.PREFER_PROJECT)\n  repositories {\n    google()\n    mavenCentral()\n    maven { url 'https://www.jitpack.io' }\n    maven { url 'https://maven-other.tuya.com/repository/maven-releases/' }\n  }\n}\n\nextensions.configure(com.facebook.react.ReactSettingsExtension) { ex -&gt;\n  if (System.getenv('EXPO_USE_COMMUNITY_AUTOLINKING') == '1') {\n    ex.autolinkLibrariesFromCommand()\n  } else {\n    ex.autolinkLibrariesFromCommand(expoAutolinking.rnConfigCommand)\n  }\n}\nexpoAutolinking.useExpoModules()\n\nrootProject.name = 'PowUp'\n\nexpoAutolinking.useExpoVersionCatalog()\n\ninclude ':app'\nincludeBuild(expoAutolinking.reactNativeGradlePlugin)\n</code></pre>\n<p>android/app/build.gradle:</p>\n<pre><code>apply plugin: &quot;com.android.application&quot;\napply plugin: &quot;org.jetbrains.kotlin.android&quot;\napply plugin: &quot;com.facebook.react&quot;\n\ndef projectRoot = rootDir.getAbsoluteFile().getParentFile().getAbsolutePath()\n\nreact {\n    entryFile = file([&quot;node&quot;, &quot;-e&quot;, &quot;require('expo/scripts/resolveAppEntry')&quot;, projectRoot, &quot;android&quot;, &quot;absolute&quot;].execute(null, rootDir).text.trim())\n    reactNativeDir = new File([&quot;node&quot;, &quot;--print&quot;, &quot;require.resolve('react-native/package.json')&quot;].execute(null, rootDir).text.trim()).getParentFile().getAbsoluteFile()\n    hermesCommand = new File([&quot;node&quot;, &quot;--print&quot;, &quot;require.resolve('react-native/package.json')&quot;].execute(null, rootDir).text.trim()).getParentFile().getAbsolutePath() + &quot;/sdks/hermesc/%OS-BIN%/hermesc&quot;\n    codegenDir = new File([&quot;node&quot;, &quot;--print&quot;, &quot;require.resolve('@react-native/codegen/package.json', { paths: [require.resolve('react-native/package.json')] })&quot;].execute(null, rootDir).text.trim()).getParentFile().getAbsoluteFile()\n\n    enableBundleCompression = (findProperty('android.enableBundleCompression') ?: false).toBoolean()\n    cliFile = new File([&quot;node&quot;, &quot;--print&quot;, &quot;require.resolve('@expo/cli', { paths: [require.resolve('expo/package.json')] })&quot;].execute(null, rootDir).text.trim())\n    bundleCommand = &quot;export:embed&quot;\n\n    autolinkLibrariesWithApp()\n}\n\ndef enableMinifyInReleaseBuilds = (findProperty('android.enableMinifyInReleaseBuilds') ?: false).toBoolean()\n\ndef jscFlavor = 'io.github.react-native-community:jsc-android:2026004.+'\n\nandroid {\n    ndkVersion rootProject.ext.ndkVersion\n\n    buildToolsVersion rootProject.ext.buildToolsVersion\n    compileSdk rootProject.ext.compileSdkVersion\n\n    namespace 'com.arlux.powup'\n    defaultConfig {\n        applicationId 'com.arlux.powup'\n        minSdkVersion rootProject.ext.minSdkVersion\n        targetSdkVersion rootProject.ext.targetSdkVersion\n        versionCode 1\n        versionName &quot;1.0.0&quot;\n\n        buildConfigField &quot;String&quot;, &quot;REACT_NATIVE_RELEASE_LEVEL&quot;, &quot;\\&quot;${findProperty('reactNativeReleaseLevel') ?: 'stable'}\\&quot;&quot;\n        \n        def localProperties = new Properties()\n        def localPropertiesFile = rootProject.file('local.properties')\n        if (localPropertiesFile.exists()) {\n            localPropertiesFile.withInputStream { localProperties.load(it) }\n        }\n        \n        def tuyaAppKey = localProperties.getProperty('TUYA_ANDROID_APP_KEY') \n            ?: findProperty('EXPO_PUBLIC_TUYA_ANDROID_APP_KEY') \n            ?: findProperty('TUYA_ANDROID_APP_KEY')\n            ?: System.getenv('EXPO_PUBLIC_TUYA_ANDROID_APP_KEY')\n        \n        def tuyaAppSecret = localProperties.getProperty('TUYA_ANDROID_APP_SECRET')\n            ?: findProperty('EXPO_PUBLIC_TUYA_ANDROID_APP_SECRET')\n            ?: findProperty('TUYA_ANDROID_APP_SECRET')\n            ?: System.getenv('EXPO_PUBLIC_TUYA_ANDROID_APP_SECRET')\n        \n        if (!tuyaAppKey || !tuyaAppSecret) {\n            throw new GradleException(&quot;Variables Tuya manquantes!\\n&quot; +\n                &quot;Ajoutez-les dans android/local.properties:\\n&quot; +\n                &quot;TUYA_ANDROID_APP_KEY=votre_app_key\\n&quot; +\n                &quot;TUYA_ANDROID_APP_SECRET=votre_app_secret&quot;)\n        }\n        \n        buildConfigField &quot;String&quot;, &quot;TUYA_APP_KEY&quot;, &quot;\\&quot;${tuyaAppKey}\\&quot;&quot;\n        buildConfigField &quot;String&quot;, &quot;TUYA_APP_SECRET&quot;, &quot;\\&quot;${tuyaAppSecret}\\&quot;&quot;\n        \n        manifestPlaceholders = [\n            TUYA_APP_KEY: tuyaAppKey,\n            TUYA_APP_SECRET: tuyaAppSecret\n        ]\n        \n        ndk {\n            abiFilters &quot;armeabi-v7a&quot;, &quot;arm64-v8a&quot;\n        }\n    }\n    signingConfigs {\n        debug {\n            storeFile file('debug.keystore')\n            storePassword 'android'\n            keyAlias 'androiddebugkey'\n            keyPassword 'android'\n        }\n    }\n    buildTypes {\n        debug {\n            signingConfig signingConfigs.debug\n        }\n        release {\n            signingConfig signingConfigs.debug\n            def enableShrinkResources = findProperty('android.enableShrinkResourcesInReleaseBuilds') ?: 'false'\n            shrinkResources enableShrinkResources.toBoolean()\n            minifyEnabled enableMinifyInReleaseBuilds\n            proguardFiles getDefaultProguardFile(&quot;proguard-android.txt&quot;), &quot;proguard-rules.pro&quot;\n            def enablePngCrunchInRelease = findProperty('android.enablePngCrunchInReleaseBuilds') ?: 'true'\n            crunchPngs enablePngCrunchInRelease.toBoolean()\n        }\n    }\n    packagingOptions {\n        pickFirst 'lib/*/libc++_shared.so'\n        jniLibs {\n            def enableLegacyPackaging = findProperty('expo.useLegacyPackaging') ?: 'false'\n            useLegacyPackaging enableLegacyPackaging.toBoolean()\n        }\n    }\n    androidResources {\n        ignoreAssetsPattern '!.svn:!.git:!.ds_store:!*.scc:!CVS:!thumbs.db:!picasa.ini:!*~'\n    }\n}\n\nconfigurations.all {\n    exclude group: &quot;com.thingclips.smart&quot;, module: 'thingsmart-modularCampAnno'\n}\n\n[&quot;pickFirsts&quot;, &quot;excludes&quot;, &quot;merges&quot;, &quot;doNotStrip&quot;].each { prop -&gt;\n    def options = (findProperty(&quot;android.packagingOptions.$prop&quot;) ?: &quot;&quot;).split(&quot;,&quot;);\n    for (i in 0..&lt;options.size()) options[i] = options[i].trim();\n    options -= &quot;&quot;\n\n    if (options.length &gt; 0) {\n        println &quot;android.packagingOptions.$prop += $options ($options.length)&quot;\n        options.each {\n            android.packagingOptions[prop] += it\n        }\n    }\n}\n\ndependencies {\n    implementation(&quot;com.facebook.react:react-android&quot;)\n\n    def isGifEnabled = (findProperty('expo.gif.enabled') ?: &quot;&quot;) == &quot;true&quot;;\n    def isWebpEnabled = (findProperty('expo.webp.enabled') ?: &quot;&quot;) == &quot;true&quot;;\n    def isWebpAnimatedEnabled = (findProperty('expo.webp.animated') ?: &quot;&quot;) == &quot;true&quot;;\n\n    if (isGifEnabled) {\n        implementation(&quot;com.facebook.fresco:animated-gif:${expoLibs.versions.fresco.get()}&quot;)\n    }\n\n    if (isWebpEnabled) {\n        implementation(&quot;com.facebook.fresco:webpsupport:${expoLibs.versions.fresco.get()}&quot;)\n        if (isWebpAnimatedEnabled) {\n            implementation(&quot;com.facebook.fresco:animated-webp:${expoLibs.versions.fresco.get()}&quot;)\n        }\n    }\n\n    if (hermesEnabled.toBoolean()) {\n        implementation(&quot;com.facebook.react:hermes-android&quot;)\n    } else {\n        implementation jscFlavor\n    }\n\n    implementation files('libs/security-algorithm/security-algorithm-1.0.0-beta.aar')\n    implementation 'com.alibaba:fastjson:1.1.67.android'\n    implementation 'com.squareup.okhttp3:okhttp-urlconnection:3.14.9'\n    implementation 'com.thingclips.smart:thingsmart:6.11.0'\n}\n</code></pre>\n",
    "tags" : [ "java", "android", "maven", "gradle", "tuya" ],
    "owner" : {
      "account_id" : 31577373,
      "reputation" : 1,
      "user_id" : 24397795,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/791affbedcd8ddc04f02d678178c1818?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Ahmed El Atri",
      "link" : "https://stackoverflow.com/users/24397795/ahmed-el-atri"
    },
    "is_answered" : false,
    "view_count" : 21,
    "answer_count" : 0,
    "score" : 0,
    "last_activity_date" : 1765314762,
    "creation_date" : 1765314762,
    "link" : "https://stackoverflow.com/questions/79842362/gradle-fails-to-find-tuya-sdk-6-11-1-com-thingclips-smart-repository-issue",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ ],
  "question_comments" : [ {
    "comment_id" : 140895135,
    "post_id" : 79842362,
    "body" : "Have you tried other repositories such as: repositories {     maven { url &quot;<a href=\"https://maven-other.tuya.com/repository/maven-releases/\" rel=\"nofollow noreferrer\">maven-other.tuya.com/repository/maven-releases</a>&quot; }     maven { url &quot;<a href=\"https://maven-other.tuya.com/repository/maven-commercial-releases/\" rel=\"nofollow noreferrer\">maven-other.tuya.com/repository/maven-commercial-releases</a>&quot; }     google()     mavenCentral()     maven { url &#39;<a href=\"https://www.jitpack.io\" rel=\"nofollow noreferrer\">jitpack.io</a>&#39; } }",
    "score" : 0,
    "owner" : {
      "account_id" : 25583936,
      "reputation" : 1394,
      "user_id" : 19361968,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/1d19c6d51232c67af617cf944af5a30c?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Murat K.",
      "link" : "https://stackoverflow.com/users/19361968/murat-k"
    },
    "creation_date" : 1765315415,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140895121,
    "post_id" : 79842362,
    "body" : "<a href=\"https://developer.tuya.com/en/docs/app-development/preparation?id=Ka8j28bt6i7eo#title-2-Configure%20build.gradle\" rel=\"nofollow noreferrer\">Their documentation</a> shows two custom Maven repositories. You seem to have only added one.",
    "score" : 0,
    "owner" : {
      "account_id" : 39846,
      "reputation" : 1011215,
      "user_id" : 115145,
      "user_type" : "registered",
      "accept_rate" : 84,
      "profile_image" : "https://i.sstatic.net/wDnd8.png?s=256",
      "display_name" : "CommonsWare",
      "link" : "https://stackoverflow.com/users/115145/commonsware"
    },
    "creation_date" : 1765314985,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}