{
  "question" : {
    "question_id" : 79667162,
    "title" : "EJB remote Entity Bean",
    "body" : "<p>I would like to use EJB remoting to access the remote interface of a Session Bean and retrieve an Entity Bean (or a POJO).</p>\n<p>The Entity Bean implements an interface and I would except the bean to be serialized to a Proxy Bean that implements the same interface. This way, the client would not need the implementation class code.</p>\n<p>So the question is: Why is the data being transferred by Session Bean not being proxied or what do I have to do to make that work? I am using OpenEJB on TomEE.</p>\n",
    "tags" : [ "java", "ejb" ],
    "owner" : {
      "account_id" : 2119373,
      "reputation" : 81,
      "user_id" : 1882971,
      "user_type" : "registered",
      "accept_rate" : 0,
      "profile_image" : "https://www.gravatar.com/avatar/ce3a437ad3ffc0f308b189c36d310af8?s=256&d=identicon&r=PG",
      "display_name" : "hidehawk",
      "link" : "https://stackoverflow.com/users/1882971/hidehawk"
    },
    "is_answered" : false,
    "view_count" : 43,
    "answer_count" : 1,
    "score" : 0,
    "last_activity_date" : 1750059734,
    "creation_date" : 1750057103,
    "link" : "https://stackoverflow.com/questions/79667162/ejb-remote-entity-bean",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79667206,
    "question_id" : 79667162,
    "body" : "<p>If you return a POJO the full object will be serialized serverside then deserialized clientside regardless of which interfaces the POJO implements. This means that the Entity Beans (POJOs) will need to be on the classpath of both client and server.</p>\n<p><strong>Why Is It Not Proxied?</strong></p>\n<p>Entity Beans or POJOs returned from EJBs are not automatically proxied unless they are themselves remote interfaces of another EJB. Here’s why:</p>\n<ol>\n<li><p>EJB remote interfaces are special: EJB containers (like OpenEJB/TomEE) create a dynamic remote proxy for beans that expose remote interfaces.</p>\n</li>\n<li><p>Serialization is the default for any object that is not a remote EJB reference — i.e., your POJO or entity class.</p>\n</li>\n<li><p>The Java RMI/IIOP spec (which underlies EJB remoting) does not automatically proxy POJOs based on interfaces unless the object is an EJB reference.</p>\n</li>\n</ol>\n<p><strong>If you want to receive a proxy</strong>, then the object must be:</p>\n<ol>\n<li><p>A remote interface of an EJB</p>\n</li>\n<li><p>A reference to an actual remote bean instance</p>\n</li>\n</ol>\n<p>Eg:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Remote\npublic interface MyEntityRemote {\n    String getName();\n}\n\n@Stateless\npublic class MyEntityBean implements MyEntityRemote {\n    public String getName() { return &quot;Proxy example&quot;; }\n}\n</code></pre>\n<p>Return this from another EJB:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Stateless\npublic class MyServiceBean implements MyServiceRemote {\n    @EJB\n    private MyEntityRemote entity;\n\n    public MyEntityRemote getEntity() {\n        return entity; // returns proxy\n    }\n}\n</code></pre>\n",
    "score" : 0,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 1096470,
      "reputation" : 29414,
      "user_id" : 1089967,
      "user_type" : "registered",
      "accept_rate" : 59,
      "profile_image" : "https://www.gravatar.com/avatar/1f256b904ff621d678598d8fa49f86c5?s=256&d=identicon&r=PG",
      "display_name" : "lance-java",
      "link" : "https://stackoverflow.com/users/1089967/lance-java"
    },
    "creation_date" : 1750059427,
    "last_activity_date" : 1750059734,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ ],
  "answer_comments" : { }
}