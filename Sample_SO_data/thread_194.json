{
  "question" : {
    "question_id" : 79827783,
    "title" : "Does it safe to modify the oldValue of remappingFunction in java.util.Map#merge?",
    "body" : "<p>I want to implement something like this:</p>\n<pre><code>Map&lt;String, List&lt;String&gt;&gt; m = new HashMap&lt;&gt;();\nfor (... in ...) {\n    String key = ...;\n    String val = ...;\n    m.merge(key, Lists.newArrayList(val), (oldValue, newValue) -&gt; {\n       if (oldValue.size() == 1) {\n            oldValue.addAll(newValue);\n       } else {\n            // log error\n       }\n       return oldValue;\n    });\n}\n</code></pre>\n<p>so does it safe to modify the oldValue here ?  I don't want to get trouble when someday the jvm is updated.</p>\n",
    "tags" : [ "java", "hashmap" ],
    "owner" : {
      "account_id" : 4695771,
      "reputation" : 61,
      "user_id" : 3800680,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/21a2f58a44e0cc0f18cf5301da338bc7?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "los",
      "link" : "https://stackoverflow.com/users/3800680/los"
    },
    "is_answered" : true,
    "view_count" : 84,
    "answer_count" : 3,
    "score" : 0,
    "last_activity_date" : 1763998177,
    "creation_date" : 1763889186,
    "link" : "https://stackoverflow.com/questions/79827783/does-it-safe-to-modify-the-oldvalue-of-remappingfunction-in-java-util-mapmerge",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ ],
  "question_comments" : [ ],
  "answer_comments" : { }
}