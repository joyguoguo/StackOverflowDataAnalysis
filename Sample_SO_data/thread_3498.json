{
  "question" : {
    "question_id" : 79545799,
    "title" : "IText .setLeading(nn) giving unexpected Page Layout",
    "body" : "<p>I'm trying to understand how to layout a Page in iText.</p>\n<p>I'm using iText 9.1.0 with JDK 21 under Windows 10 Pro.</p>\n<p>The code &amp; a Screenshot follow.</p>\n<p>The Subject is separated from the address as expected.<br>\nBut why is the 1st Detail Line so far below the Subject?</p>\n<p>Here's the code:</p>\n<pre><code>import java.io.*;\nimport java.nio.file.*;\nimport java.util.stream.Stream;\n\nimport com.itextpdf.kernel.pdf.*;\nimport com.itextpdf.layout.Document;\nimport com.itextpdf.layout.element.*;\nimport com.itextpdf.layout.properties.TabAlignment;\n\npublic class Layout {\n\n    private static final TabStop TAB_400_R = new TabStop(400, TabAlignment.RIGHT);\n\n    public static void main(final String[] args) throws IOException {\n\n        final     var wp        = new WriterProperties();\n        ;             wp.setPdfVersion(PdfVersion.PDF_2_0);\n\n        final     var pdfOst   = new ByteArrayOutputStream();\n        try(          pdfOst;\n            final var pdfWtr   = new PdfWriter  (pdfOst, wp);\n\n            final var pdfDoc   = new PdfDocument(pdfWtr);\n            final var doc      = new Document   (pdfDoc) )\n        {\n            generate (pdfDoc, doc);\n        }\n        Files.write(Path.of(&quot;my.pdf&quot;), pdfOst.toByteArray(), StandardOpenOption.CREATE);\n    }\n\n    private static void generate(final PdfDocument pdfDoc, final Document doc) {\n\n        doc.setMargins(142, 59, 44, 55);\n\n        Stream.of(\n                &quot;Full Name&quot;,\n                &quot;77, Croydon Avenue&quot;,\n                &quot;Redhill&quot;,\n                &quot;Surrey&quot;,\n                &quot;RH11 8AB&quot;).forEach(tx -&gt; doc.add(new Paragraph(tx).addTabStops(TAB_400_R).add(new Tab()).add(tx)));\n\n        doc.add(new Paragraph(&quot;S U B J E C T   .setFixedLeading(188)&quot;).setFixedLeading(188).setUnderline(0.75f, -1.5f));\n\n        Stream.of(\n                &quot;Detail 1, .setFixedLeading(6). Why is this line so far below the Subject?&quot;,\n                &quot;Detail 2, .setFixedLeading(6). &quot;,\n                &quot;Detail 3, .setFixedLeading(6). &quot;).forEach(tx -&gt; doc.add(new Paragraph(tx).setFixedLeading(6)));\n    }\n}\n</code></pre>\n<p>Here's the result:<br>\n<a href=\"https://i.sstatic.net/Qsy6pbyn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/Qsy6pbyn.png\" alt=\"screenshot of the resulting PDF (extract)\" /></a></p>\n",
    "tags" : [ "java", "itext", "itext7" ],
    "owner" : {
      "account_id" : 8405686,
      "reputation" : 961,
      "user_id" : 6309242,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/2c7cd82cb8a632436980a18b9dbc5822?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Dave The Dane",
      "link" : "https://stackoverflow.com/users/6309242/dave-the-dane"
    },
    "is_answered" : false,
    "view_count" : 91,
    "answer_count" : 0,
    "score" : 0,
    "last_activity_date" : 1743420379,
    "creation_date" : 1743409643,
    "link" : "https://stackoverflow.com/questions/79545799/itext-setleadingnn-giving-unexpected-page-layout",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ ],
  "question_comments" : [ {
    "comment_id" : 140289690,
    "post_id" : 79545799,
    "body" : "@Eugen the <code>setMarginTop(...)</code>, This is not working for this case, if you want to try it, I tried it before writing my first comments above and nothing.",
    "score" : 0,
    "owner" : {
      "account_id" : 9808985,
      "reputation" : 194,
      "user_id" : 7267818,
      "user_type" : "registered",
      "accept_rate" : 57,
      "profile_image" : "https://i.sstatic.net/xDbzS.jpg?s=256",
      "display_name" : "0x52",
      "link" : "https://stackoverflow.com/users/7267818/0x52"
    },
    "creation_date" : 1743586492,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140289195,
    "post_id" : 79545799,
    "body" : "@0x52 <code>setMarginBottom(-70)</code>!! Hadn&#39;t thought of that!! I can work around the problem by preceding SUBJECT with dummy paragraphs containing just an <code>NBSP</code> (Non-Breaking Space) &amp; reducing the leading. But I was sort of hoping someone from iText would notice this &amp; take it on board as a Bug.",
    "score" : 0,
    "owner" : {
      "account_id" : 8405686,
      "reputation" : 961,
      "user_id" : 6309242,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/2c7cd82cb8a632436980a18b9dbc5822?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Dave The Dane",
      "link" : "https://stackoverflow.com/users/6309242/dave-the-dane"
    },
    "creation_date" : 1743579459,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140289140,
    "post_id" : 79545799,
    "body" : "@Eugen They do say <i>&quot;All things are relative&quot;</i>. Depending on ones perspective, you would either expect leading to be relative to the previous paragraph or the following paragraph but <b>not</b> both. Intuitively, most would expect it to be relative to the <i>previous</i> paragraph. Accordingly, between the last ADDRESS paragraph &amp; the SUBJECT paragraph, I would expect a leading of 188. Similarly, between the SUBJECT paragraph &amp; the first DETAIL paragraph, I would expect a leading of 6.",
    "score" : 0,
    "owner" : {
      "account_id" : 8405686,
      "reputation" : 961,
      "user_id" : 6309242,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/2c7cd82cb8a632436980a18b9dbc5822?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Dave The Dane",
      "link" : "https://stackoverflow.com/users/6309242/dave-the-dane"
    },
    "creation_date" : 1743578473,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140289133,
    "post_id" : 79545799,
    "body" : "@Eugen leading definitely <b>does not</b> set the line height. Leading (pronounced <i>&quot;ledding&quot;</i>) refers to the lead (or aluminium) padding typographers would place between lines back in the dark ages.",
    "score" : 0,
    "owner" : {
      "account_id" : 8405686,
      "reputation" : 961,
      "user_id" : 6309242,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/2c7cd82cb8a632436980a18b9dbc5822?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Dave The Dane",
      "link" : "https://stackoverflow.com/users/6309242/dave-the-dane"
    },
    "creation_date" : 1743578376,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140288657,
    "post_id" : 79545799,
    "body" : "So, what do you expect this leading property to do? If you need your &quot;subject&quot; to be separated from the address, you can just use <code>setMarginTop</code>. Leading property basically sets the line height",
    "score" : 0,
    "owner" : {
      "account_id" : 17323136,
      "reputation" : 313,
      "user_id" : 12548037,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/36e9df17440f8c1ea9e3b44b58aa070b?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Eugen",
      "link" : "https://stackoverflow.com/users/12548037/eugen"
    },
    "creation_date" : 1743566762,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140286601,
    "post_id" : 79545799,
    "body" : "At the moment, adjusting with a negative value in this way adjusts the height of the detail, but, maybe there is something better... <code>.setFixedLeading(188).setMarginBottom(-70)</code>",
    "score" : 0,
    "owner" : {
      "account_id" : 9808985,
      "reputation" : 194,
      "user_id" : 7267818,
      "user_type" : "registered",
      "accept_rate" : 57,
      "profile_image" : "https://i.sstatic.net/xDbzS.jpg?s=256",
      "display_name" : "0x52",
      "link" : "https://stackoverflow.com/users/7267818/0x52"
    },
    "creation_date" : 1743507112,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140286396,
    "post_id" : 79545799,
    "body" : "<code>@Dave The Dane</code> So, now you want to be able to raise or lower the detail ? and leave the subject in the same position, right ?",
    "score" : 0,
    "owner" : {
      "account_id" : 9808985,
      "reputation" : 194,
      "user_id" : 7267818,
      "user_type" : "registered",
      "accept_rate" : 57,
      "profile_image" : "https://i.sstatic.net/xDbzS.jpg?s=256",
      "display_name" : "0x52",
      "link" : "https://stackoverflow.com/users/7267818/0x52"
    },
    "creation_date" : 1743504170,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}