{
  "question" : {
    "question_id" : 79631156,
    "title" : "Invalid use of argument matchers in junit jupiter 5 test",
    "body" : "<pre><code>    @Test\n       void updateKey_ShouldCallHqRestClient_WhenKeyIdIsNull() {\n           // Arrange\n           PlanKey planKeyWithNullId = createPlanKeyWithNullId();\n    \n           // Act\nLn 247     doNothing().when(hqRestClient).updateKey(isNull(), planKeyWithNullId);\n           planKeyServiceImpl.updateKey(null);\n    \n           // Assert\n           verify(hqRestClient, times(1)).updateKey(isNull(), eq(planKeyWithNullId));\n       }\n    \n       private PlanKey createPlanKeyWithNullId() {\n           PlanKey planKey = new PlanKey();\n           planKey.setIdkey(null);\n           return planKey;\n       }\n</code></pre>\n<p>The above test throws this exception, and I'm unsure what needs to be done to resolve it.</p>\n<blockquote>\n<p>org.mockito.exceptions.misusing.InvalidUseOfMatchersException:\nInvalid use of argument matchers! 2 matchers expected, 1 recorded:\n-&gt; at com.homedepot.kimsbff.service.impl.PlanKeyServiceImplTest.updateKey_ShouldCallHqRestClient_WhenKeyIdIsNull(PlanKeyServiceImplTest.java:247)</p>\n</blockquote>\n<p>PlanKeyServiceImpl.java method</p>\n<pre><code>public void updateKey (Long keyId){\n        PlanKey planKey = new PlanKey();\n        planKey.setIdkey(keyId);\n        hqRestClient.updateKey(keyId, planKey);\n    }\n</code></pre>\n<p>This is the feign client.</p>\n<pre><code>@FeignClient(value = &quot;kimsHq&quot;, url = &quot;${myassortment-kims-hq-url}&quot;, configuration = KimsHqFeignConfig.class, qualifiers = &quot;KimsHqNonStreaming&quot;)\npublic interface HqRestClient {\n   void updateKey(@PathVariable(&quot;id&quot;) Long id, @RequestBody PlanKey planKey);\n}\n</code></pre>\n",
    "tags" : [ "java", "mockito", "junit-jupiter" ],
    "owner" : {
      "account_id" : 12348065,
      "reputation" : 147,
      "user_id" : 10524769,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/2e39c9a3f8ec39d2e23fdbd85ced7980?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "gcpdev",
      "link" : "https://stackoverflow.com/users/10524769/gcpdev"
    },
    "is_answered" : false,
    "view_count" : 37,
    "closed_date" : 1747812490,
    "answer_count" : 0,
    "score" : 0,
    "last_activity_date" : 1747774536,
    "creation_date" : 1747774536,
    "link" : "https://stackoverflow.com/questions/79631156/invalid-use-of-argument-matchers-in-junit-jupiter-5-test",
    "closed_reason" : "Duplicate"
  },
  "answers" : [ ],
  "question_comments" : [ {
    "comment_id" : 140447149,
    "post_id" : 79631156,
    "body" : "This code fixed the issue for me         <code>doNothing().when(hqRestClient).updateKey(isNull(), isA(PlanKey.class));        planKeyServiceImpl.updateKey(null);         &#47;&#47; Assert        verify(hqRestClient, times(1)).updateKey(isNull(), isA(PlanKey.class));</code>",
    "score" : 0,
    "owner" : {
      "account_id" : 12348065,
      "reputation" : 147,
      "user_id" : 10524769,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/2e39c9a3f8ec39d2e23fdbd85ced7980?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "gcpdev",
      "link" : "https://stackoverflow.com/users/10524769/gcpdev"
    },
    "creation_date" : 1747855661,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140444162,
    "post_id" : 79631156,
    "body" : "You can&#39;t mix matcher arguments with non-matcher arguments. Use an <code>eq</code> matcher like you do in your assert call. (which should be unnecessary with strict stubbing, as it requires all stubs to be executed at least once). That and <code>hqRestClient</code> must be a Mock/Spy object.",
    "score" : 2,
    "owner" : {
      "account_id" : 39208,
      "reputation" : 269387,
      "user_id" : 112968,
      "user_type" : "registered",
      "accept_rate" : 68,
      "profile_image" : "https://i.sstatic.net/zHTaT.png?s=256",
      "display_name" : "knittl",
      "link" : "https://stackoverflow.com/users/112968/knittl"
    },
    "creation_date" : 1747775059,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}