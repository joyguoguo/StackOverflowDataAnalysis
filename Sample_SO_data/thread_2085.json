{
  "question" : {
    "question_id" : 79648506,
    "title" : "JScrollPane auto scroll to bottom using JEditorPane but remains to top using JTextField",
    "body" : "<p>I have a simple <code>JFrame</code> with a <code>JPanel</code> inside a <code>JScrollPane</code>. The <code>JPanel</code> is used to show a vertical list of either <code>JTextField</code> or <code>JEditorPane</code> components:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Test {\n  void showFrame() {\n    JFrame frame = new JFrame(&quot;Test&quot;);\n    JPanel mainPanel = new JPanel();\n    mainPanel.setLayout(new BoxLayout(mainPanel, BoxLayout.Y_AXIS));\n    JScrollPane scroll = new JScrollPane(mainPanel);\n    frame.add(scroll);\n\n    for (int i = 0; i &lt; 20; i++) {\n      JTextField test = new JTextField(&quot;Test #&quot; + i);\n      // JEditorPane test = new JEditorPane(&quot;text/plain&quot;, &quot;Test #&quot; + i);\n      mainPanel.add(test);\n    }\n\n    frame.setSize(300, 150);\n    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    frame.setLocationRelativeTo(null);\n    frame.setVisible(true);\n  }\n\n  public static void main(String args[]) {\n    Test test = new Test();\n    SwingUtilities.invokeLater(new Runnable() {\n      @Override\n      public void run() {\n        test.showFrame();\n      }\n    });\n  }\n}\n</code></pre>\n<p>I cannot understand why the scroll area is positioned at the top when using <code>JTextField</code>:</p>\n<p><a href=\"https://i.sstatic.net/e86zeonv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/e86zeonv.png\" alt=\"JFrame result when using JTextField\" /></a></p>\n<p>While the scroll area is positioned at the bottom when using <code>JEditorPane</code>:</p>\n<p><a href=\"https://i.sstatic.net/EDiDOrdZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/EDiDOrdZ.png\" alt=\"JFrame result when using JEditorPane\" /></a></p>\n<p>I know this is a newbie question, but I have not found any possible solution online, and I cannot understand why there is this different behavior using two different components.</p>\n",
    "tags" : [ "java", "jtextfield", "jscrollpane", "jtextpane" ],
    "owner" : {
      "account_id" : 12633293,
      "reputation" : 21,
      "user_id" : 9183790,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/c801670ef7b8133dc6382f3b2bcd45a8?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "BobColombo",
      "link" : "https://stackoverflow.com/users/9183790/bobcolombo"
    },
    "is_answered" : true,
    "view_count" : 61,
    "answer_count" : 1,
    "score" : 2,
    "last_activity_date" : 1748867382,
    "creation_date" : 1748857982,
    "link" : "https://stackoverflow.com/questions/79648506/jscrollpane-auto-scroll-to-bottom-using-jeditorpane-but-remains-to-top-using-jte",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79648716,
    "question_id" : 79648506,
    "body" : "<p>The first enabled component gets the input focus, text cursor, tab index, order. When you have one JScrollPane around many JTextFields the top one gets the focus and is kept visible.</p>\n<p>When you add one multiline JEditorPane/JTextPane the last line will get the focus, be visible.</p>\n<p>Both are intuitive behaviours.</p>\n<p>You might experiment with read-only JTextFields, or <code>requestFocus()</code>,</p>\n",
    "score" : 1,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 960307,
      "reputation" : 110397,
      "user_id" : 984823,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/Z2KYN.jpg?s=256",
      "display_name" : "Joop Eggen",
      "link" : "https://stackoverflow.com/users/984823/joop-eggen"
    },
    "creation_date" : 1748867382,
    "last_activity_date" : 1748867382,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140480987,
    "post_id" : 79648506,
    "body" : "@ BobColombo, are you also running it under <i>Windows</i>?",
    "score" : 0,
    "owner" : {
      "account_id" : 10843443,
      "reputation" : 916,
      "user_id" : 20882864,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/CCQCy.jpg?s=256",
      "display_name" : "Marce Puente",
      "link" : "https://stackoverflow.com/users/20882864/marce-puente"
    },
    "creation_date" : 1748884229,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140480965,
    "post_id" : 79648506,
    "body" : "@MarcePuente see my <a href=\"https://stackoverflow.com/questions/79648506/jscrollpane-auto-scroll-to-bottom-using-jeditorpane-but-remains-to-top-using-jte/79648716#comment140480789_79648716\">comment</a> to the <a href=\"https://stackoverflow.com/questions/79648506/jscrollpane-auto-scroll-to-bottom-using-jeditorpane-but-remains-to-top-using-jte/79648716#79648716\">answer</a> by Joop Eggen.",
    "score" : 0,
    "owner" : {
      "account_id" : 2485939,
      "reputation" : 20969,
      "user_id" : 2164365,
      "user_type" : "registered",
      "accept_rate" : 40,
      "profile_image" : "https://i.sstatic.net/RKSgV.png?s=256",
      "display_name" : "Abra",
      "link" : "https://stackoverflow.com/users/2164365/abra"
    },
    "creation_date" : 1748883676,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140480919,
    "post_id" : 79648506,
    "body" : "@Abra I am using <i>Kubuntu 24.04*</i>, <b>NetBeans 24</b> and <b>JDK 12</b>, and in both implementations I find the cursor in the first item.",
    "score" : 0,
    "owner" : {
      "account_id" : 10843443,
      "reputation" : 916,
      "user_id" : 20882864,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/CCQCy.jpg?s=256",
      "display_name" : "Marce Puente",
      "link" : "https://stackoverflow.com/users/20882864/marce-puente"
    },
    "creation_date" : 1748882658,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140480810,
    "post_id" : 79648506,
    "body" : "@VGR both <code>JTextField</code> and <code>JEditorPane</code> extend <code>JTextComponent</code> which implements <code>Scrollable</code> interface so doesn&#39;t that mean that both components are meant to be the view of a <code>JScrollPane</code>?",
    "score" : 0,
    "owner" : {
      "account_id" : 2485939,
      "reputation" : 20969,
      "user_id" : 2164365,
      "user_type" : "registered",
      "accept_rate" : 40,
      "profile_image" : "https://i.sstatic.net/RKSgV.png?s=256",
      "display_name" : "Abra",
      "link" : "https://stackoverflow.com/users/2164365/abra"
    },
    "creation_date" : 1748879980,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140480794,
    "post_id" : 79648506,
    "body" : "@MarcePuente it does for me, JDK 24 on Windows 10.",
    "score" : 0,
    "owner" : {
      "account_id" : 2485939,
      "reputation" : 20969,
      "user_id" : 2164365,
      "user_type" : "registered",
      "accept_rate" : 40,
      "profile_image" : "https://i.sstatic.net/RKSgV.png?s=256",
      "display_name" : "Abra",
      "link" : "https://stackoverflow.com/users/2164365/abra"
    },
    "creation_date" : 1748879727,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140479122,
    "post_id" : 79648506,
    "body" : "Hello BobColombo, the code you show does not reproduce the problem you mention, the two implementations work the same.",
    "score" : 0,
    "owner" : {
      "account_id" : 10843443,
      "reputation" : 916,
      "user_id" : 20882864,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/CCQCy.jpg?s=256",
      "display_name" : "Marce Puente",
      "link" : "https://stackoverflow.com/users/20882864/marce-puente"
    },
    "creation_date" : 1748865709,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140478975,
    "post_id" : 79648506,
    "body" : "Interesting.  I have never seen a JScrollPane automatically scroll to the bottom before, for any component.  That said, JEditorPane is meant to be the view of a JScrollPane (that is, a direct child of a JScrollPane’s viewport), so I’m not entirely surprised that adding JEditorPanes directly to a JPanel results in unusual behavior.",
    "score" : 0,
    "owner" : {
      "account_id" : 2053598,
      "reputation" : 44936,
      "user_id" : 1831987,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/38b1c37530189ec4471a43a618e33f67?s=256&d=identicon&r=PG",
      "display_name" : "VGR",
      "link" : "https://stackoverflow.com/users/1831987/vgr"
    },
    "creation_date" : 1748862667,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : {
    "79648716" : [ {
      "comment_id" : 140481117,
      "post_id" : 79648716,
      "body" : "Thanks all for the useful comments. I did not mention it, but I&#39;m running on Windows with Java 8 (I&#39;m stuck with Java 8 for various reasons not related to the question). The hint about the focus should be right. Pressing the down arrow key indeed position the scroll area on the first line. Setting the the JTextPane to non editable does not help. I have solved the issue by adding: <code>SwingUtilities.invokeLater(new Runnable() { @Override public void run() { scroll.getVerticalScrollBar().setValue(0); scroll.getHorizontalScrollBar().setValue(0); } }); </code> at the end of <code>showFrame()</code>.",
      "score" : 0,
      "owner" : {
        "account_id" : 12633293,
        "reputation" : 21,
        "user_id" : 9183790,
        "user_type" : "registered",
        "profile_image" : "https://www.gravatar.com/avatar/c801670ef7b8133dc6382f3b2bcd45a8?s=256&d=identicon&r=PG&f=y&so-version=2",
        "display_name" : "BobColombo",
        "link" : "https://stackoverflow.com/users/9183790/bobcolombo"
      },
      "creation_date" : 1748887028,
      "content_license" : "CC BY-SA 4.0"
    }, {
      "comment_id" : 140480988,
      "post_id" : 79648716,
      "body" : "@Joop Eggen, Are you also running it under <i>Windows</i>?",
      "score" : 0,
      "owner" : {
        "account_id" : 10843443,
        "reputation" : 916,
        "user_id" : 20882864,
        "user_type" : "registered",
        "profile_image" : "https://i.sstatic.net/CCQCy.jpg?s=256",
        "display_name" : "Marce Puente",
        "link" : "https://stackoverflow.com/users/20882864/marce-puente"
      },
      "creation_date" : 1748884235,
      "content_license" : "CC BY-SA 4.0"
    }, {
      "comment_id" : 140480789,
      "post_id" : 79648716,
      "body" : "Look closely at the code. The OP is adding 20 <code>JEditorPane</code>s. When I ran the code in the question, the cursor was in the first <code>JEditorPane</code> that was added but the last one was the one that was visible, Then, when hitting the arrow key on the keyboard, the <code>JScrolPane</code> scrolled to the first <code>JEditorPane</code>.",
      "score" : 2,
      "owner" : {
        "account_id" : 2485939,
        "reputation" : 20969,
        "user_id" : 2164365,
        "user_type" : "registered",
        "accept_rate" : 40,
        "profile_image" : "https://i.sstatic.net/RKSgV.png?s=256",
        "display_name" : "Abra",
        "link" : "https://stackoverflow.com/users/2164365/abra"
      },
      "creation_date" : 1748879645,
      "content_license" : "CC BY-SA 4.0"
    } ]
  }
}