{
  "question" : {
    "question_id" : 79553840,
    "title" : "Why isn&#39;t my website working? I load the servlet, and it loads incorrectly in Eclipse",
    "body" : "<p>Basically, I have a simple servlet. Let me explain.</p>\n<p>I have Eclipse 2025-03.</p>\n<p>I have Tomcat 11.</p>\n<p>The project is a web project, but it's updated with Maven.</p>\n<p>I run the servlet and it opens this website: http://localhost:8100/Web_De_Productos_Dos/servlet/com.pildorasinformaticas.productos.ServletPruebas. Before, when it was working fine, I would run the servlet and it would open this website: http://localhost:8100/Web_De_Productos_Dos/ServletPruebas</p>\n<p>What's more, if I manually set the second website, it opens fine, loads fine, and everything works fine... but running it from Eclipse opens the first website and it doesn't work, giving me a 404 error. This is my servlet:</p>\n<pre><code>package com.pildorasinformaticas.productos;\n    \n    import java.io.IOException;\n    import java.io.PrintWriter;\n    import java.sql.Connection;\n    import java.sql.ResultSet;\n    import java.sql.Statement;\n    \n    import jakarta.servlet.ServletException;\n    import jakarta.servlet.annotation.WebServlet;\n    import jakarta.servlet.http.HttpServlet;\n    import jakarta.servlet.http.HttpServletRequest;\n    import jakarta.servlet.http.HttpServletResponse;\n    import javax.sql.*;\n    \n    import jakarta.annotation.Resource;\n    \n    \n    \n    /**\n     * Servlet implementation class ServletPruebas\n     */\n    @WebServlet(&quot;/ServletPruebas&quot;)\n    public class ServletPruebas extends HttpServlet {\n        private static final long serialVersionUID = 1L;\n        \n        //definir o establecer el dataSource\n        \n        @Resource(name=&quot;jdbc/Productos&quot;)\n        private DataSource miPool;\n        /**\n         * @see HttpServlet#HttpServlet()\n         */\n        public ServletPruebas() {\n            super();\n            // TODO Auto-generated constructor stub\n        }\n    \n        /**\n         * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)\n         */\n        protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n            // TODO Auto-generated method stub\n            //response.getWriter().append(&quot;Served at: &quot;).append(request.getContextPath());\n            \n            // crear el objeto printWriter\n            \n            PrintWriter salida = response.getWriter();\n            \n            response.setContentType(&quot;text/plain&quot;);\n            \n            //crear conexion con bbdd\n            \n            Connection miConexion = null;\n            \n            Statement miStatement = null;\n            \n            ResultSet miResultSet = null;\n            \n            try {\n                miConexion = miPool.getConnection();\n                \n                String mySql = &quot;SELECT * FROM PRODUCTOS&quot;;\n                miStatement = miConexion.createStatement();\n                miResultSet = miStatement.executeQuery(mySql); \n                \n                while(miResultSet.next()) {\n                    String nombre_articulo = miResultSet.getString(3);\n                    salida.println(nombre_articulo);\n                }\n                \n            }catch(Exception e) {\n                \n                e.printStackTrace();\n            }\n            \n        }\n    \n        /**\n         * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)\n         */\n        protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n            // TODO Auto-generated method stub\n            doGet(request, response);\n        }\n    \n    }\n</code></pre>\n<p>this is my pom.xml:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n      &lt;groupId&gt;Web_De_Productos_Dos&lt;/groupId&gt;\n      &lt;artifactId&gt;Web_De_Productos_Dos&lt;/artifactId&gt;\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n      &lt;packaging&gt;war&lt;/packaging&gt;\n      \n      &lt;dependencies&gt;\n      \n      &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;version&gt;8.0.29&lt;/version&gt; &lt;!-- Verifica la última versión disponible --&gt;\n    &lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.servlet.jsp-api&lt;/artifactId&gt;\n        &lt;version&gt;2.3.3&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n        &lt;version&gt;1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\n        &lt;version&gt;5.0.0&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;jakarta.servlet.jsp.jstl&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.servlet.jsp.jstl-api&lt;/artifactId&gt;\n        &lt;version&gt;2.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish.web&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.servlet.jsp.jstl&lt;/artifactId&gt;\n        &lt;version&gt;2.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n      &lt;build&gt;\n        &lt;plugins&gt;\n          &lt;plugin&gt;\n            &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.2.3&lt;/version&gt;\n          &lt;/plugin&gt;\n          &lt;plugin&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.13.0&lt;/version&gt;\n            &lt;configuration&gt;\n              &lt;release&gt;24&lt;/release&gt;\n            &lt;/configuration&gt;\n          &lt;/plugin&gt;\n        &lt;/plugins&gt;\n      &lt;/build&gt;\n    &lt;/project&gt;\n</code></pre>\n<p>this is my context.xml set on META-INF:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n    &lt;Context&gt;\n        &lt;!-- Aquí puedes configurar recursos si es necesario --&gt;\n        &lt;Resource name=&quot;jdbc/Productos&quot; auth=&quot;Container&quot; type=&quot;javax.sql.DataSource&quot; maxTotal=&quot;15&quot; maxIdle=&quot;3&quot; maxWaitMillis=&quot;5000&quot; username=&quot;root&quot; password=&quot;&quot; driverClassName=&quot;com.mysql.cj.jdbc.Driver&quot; url=&quot;jdbc:mysql://localhost:3306/curso_sql&quot;&gt;\n        \n        &lt;/Resource&gt;\n        \n    &lt;/Context&gt;\n</code></pre>\n<p>this is my web.xml set on WEB-INF:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n    &lt;web-app id=&quot;WebApp_ID&quot; version=&quot;2.4&quot; xmlns=&quot;http://java.sun.com/xml/ns/j2ee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd&quot;&gt;\n        &lt;display-name&gt;Web_De_Productos_Dos&lt;/display-name&gt;\n        &lt;welcome-file-list&gt;\n            &lt;welcome-file&gt;index.html&lt;/welcome-file&gt;\n            &lt;welcome-file&gt;index.htm&lt;/welcome-file&gt;\n            &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;\n            &lt;welcome-file&gt;default.html&lt;/welcome-file&gt;\n            &lt;welcome-file&gt;default.htm&lt;/welcome-file&gt;\n            &lt;welcome-file&gt;default.jsp&lt;/welcome-file&gt;\n        &lt;/welcome-file-list&gt;\n        \n        &lt;resource-ref&gt;\n            &lt;description&gt;Base de datos MySQL&lt;/description&gt;\n            &lt;res-ref-name&gt;jdbc/Productos&lt;/res-ref-name&gt;\n            &lt;res-type&gt;javax.sql.DataSource&lt;/res-type&gt;\n            &lt;res-auth&gt;Container&lt;/res-auth&gt;\n        &lt;/resource-ref&gt;\n    &lt;/web-app&gt;\n</code></pre>\n<p>If you need more information, let me know and I'll upload it, but I think that's all...\nNow I'll tell you, it all started when I was running the servlet and the website wouldn't even open, when 2 minutes ago everything was working fine, without modifying anything. So what did I do? Since the website wouldn't open, I went to project properties, searched for project facets, and changed the web dynamic version to version 4.0 while I was on 2.4, and I changed Java 21 while I was on Java 24.\nFrom that moment on, this started happening to me... then I reverted it, left everything as it was, but it still fails... Since that change, everything has been ruined.</p>\n<p>I tried changing the versions of the facets and that broke my code seemsly.\nLike I said my servlet was working fine till that change...</p>\n",
    "tags" : [ "java", "eclipse", "tomcat" ],
    "owner" : {
      "account_id" : 13635040,
      "reputation" : 1,
      "user_id" : 9856771,
      "user_type" : "registered",
      "profile_image" : "https://lh5.googleusercontent.com/-3o0QLDwT52M/AAAAAAAAAAI/AAAAAAAAAsM/ci5QHuYleBw/s256-rj/photo.jpg",
      "display_name" : "Tefa",
      "link" : "https://stackoverflow.com/users/9856771/tefa"
    },
    "is_answered" : false,
    "view_count" : 46,
    "answer_count" : 0,
    "score" : 0,
    "last_activity_date" : 1743715120,
    "creation_date" : 1743708806,
    "link" : "https://stackoverflow.com/questions/79553840/why-isnt-my-website-working-i-load-the-servlet-and-it-loads-incorrectly-in-ec",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ ],
  "question_comments" : [ {
    "comment_id" : 140297019,
    "post_id" : 79553840,
    "body" : "What&#39;s the layout of your src/main/webapp folder? Is there a module-info.java file in there?",
    "score" : 0,
    "owner" : {
      "account_id" : 13796,
      "reputation" : 20126,
      "user_id" : 27905,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/b01aba24c3bf2bc78c64fc0ea7f47d18?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "nitind",
      "link" : "https://stackoverflow.com/users/27905/nitind"
    },
    "creation_date" : 1743717999,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140297005,
    "post_id" : 79553840,
    "body" : "&quot;running it from Eclipse&quot; meaning a server setup with a tomcat runtime? Look at tomcat console in eclipse for a line like <code>Tomcat started on port 8080 (http) with context path &#39;&#47;something&#39;</code>. That&#39;s the context root the app is at and it&#39;s probably different than <code>&#47;Web_De_Productos_Dos</code>.",
    "score" : 0,
    "owner" : {
      "account_id" : 3377022,
      "reputation" : 14393,
      "user_id" : 2834978,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/ff9af10001f37bc0de566ca2caf2f558?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "LMC",
      "link" : "https://stackoverflow.com/users/2834978/lmc"
    },
    "creation_date" : 1743717643,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}