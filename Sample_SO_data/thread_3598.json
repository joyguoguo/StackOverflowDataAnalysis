{
  "question" : {
    "question_id" : 79537517,
    "title" : "Spring Boot 3.3 @Validated @ConfigurationProperties fails with AopConfigException",
    "body" : "<p>Using Spring Boot 3.3, I am trying to do this</p>\n<pre><code>import org.springframework.boot.context.properties.ConfigurationProperties;\nimport org.springframework.validation.annotation.Validated;\n\n@Validated\n@ConfigurationProperties(&quot;blah&quot;)\npublic record Blah(int foo) {\n}\n</code></pre>\n<p>However, this fails with:</p>\n<pre><code>Caused by: org.springframework.aop.framework.AopConfigException: Could not generate CGLIB subclass of class com.example.Blah: Common causes of this problem include using a final class or a non-visible class\n</code></pre>\n<p>It works without <code>@Validated</code>. Is this combination not possible with records?</p>\n",
    "tags" : [ "java", "spring" ],
    "owner" : {
      "account_id" : 4723763,
      "reputation" : 4661,
      "user_id" : 3821009,
      "user_type" : "registered",
      "accept_rate" : 50,
      "profile_image" : "https://www.gravatar.com/avatar/312d214572e18b00dbdff63c00fdc998?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "levant pied",
      "link" : "https://stackoverflow.com/users/3821009/levant-pied"
    },
    "is_answered" : false,
    "view_count" : 66,
    "answer_count" : 0,
    "score" : 0,
    "last_activity_date" : 1743032711,
    "creation_date" : 1743032711,
    "link" : "https://stackoverflow.com/questions/79537517/spring-boot-3-3-validated-configurationproperties-fails-with-aopconfigexceptio",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ ],
  "question_comments" : [ {
    "comment_id" : 140279574,
    "post_id" : 79537517,
    "body" : "the <code>@Validated</code> put in the wrong place bro!",
    "score" : 0,
    "owner" : {
      "account_id" : 14070869,
      "reputation" : 71,
      "user_id" : 10164385,
      "user_type" : "registered",
      "profile_image" : "https://lh4.googleusercontent.com/-oYZtrY41AVs/AAAAAAAAAAI/AAAAAAAAAK0/VUeX9uQN9ik/s256-rj/photo.jpg",
      "display_name" : "Ngo Tuoc",
      "link" : "https://stackoverflow.com/users/10164385/ngo-tuoc"
    },
    "creation_date" : 1743349451,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140270796,
    "post_id" : 79537517,
    "body" : "I&#39;m using Spring Boot 3.4.2 and it works. Try upgrading. Otherwise, you are stuck with using a class instead of a record.",
    "score" : 0,
    "owner" : {
      "account_id" : 1601399,
      "reputation" : 638,
      "user_id" : 1482356,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/d6160b6e40d230fa92c6da8072b2f7e5?s=256&d=identicon&r=PG",
      "display_name" : "Peter Adrian",
      "link" : "https://stackoverflow.com/users/1482356/peter-adrian"
    },
    "creation_date" : 1743096148,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140269309,
    "post_id" : 79537517,
    "body" : "@AndreyB.Panfilov thanks, so this is not possible with records?",
    "score" : 0,
    "owner" : {
      "account_id" : 4723763,
      "reputation" : 4661,
      "user_id" : 3821009,
      "user_type" : "registered",
      "accept_rate" : 50,
      "profile_image" : "https://www.gravatar.com/avatar/312d214572e18b00dbdff63c00fdc998?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "levant pied",
      "link" : "https://stackoverflow.com/users/3821009/levant-pied"
    },
    "creation_date" : 1743077263,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140267520,
    "post_id" : 79537517,
    "body" : "indeed, it is not clearly stated in <code>@Validated</code> javadoc that <code>spring</code> creates AOP proxies, however thorough reading gives such idea: &quot;acting as a pointcut for the corresponding validation interceptor&quot;.",
    "score" : 0,
    "owner" : {
      "account_id" : 4181375,
      "reputation" : 6263,
      "user_id" : 3426309,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/v58O6.jpg?s=256",
      "display_name" : "Andrey B. Panfilov",
      "link" : "https://stackoverflow.com/users/3426309/andrey-b-panfilov"
    },
    "creation_date" : 1743040183,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}