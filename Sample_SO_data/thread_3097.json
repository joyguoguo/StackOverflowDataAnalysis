{
  "question" : {
    "question_id" : 79572375,
    "title" : "How to send server sent event",
    "body" : "<p>Implement server-sent events to display download progress for multiple asynchronous downloads in a web application.</p>\n<p>Technology stacks:</p>\n<p>backend - JAVA spring boot</p>\n<p>UI- angular 17</p>\n<hr />\n<p>Consider I have a download feature already in my web application. Now I want to show the progress bar to that download feature.</p>\n<p>I am giving two options as CSV download and Excel download.</p>\n<p>Here are setps to download a file.</p>\n<ol>\n<li><p>Query to the Snowflake</p>\n</li>\n<li><p>Getting results set, apply business logic and create a list of DTO</p>\n</li>\n<li><p>Then write that DTO into file and create a byte[] ( which then send back to client using OuputStream)</p>\n</li>\n<li><p>Client get the file.</p>\n</li>\n</ol>\n<p>Now i want to send progress number to the client on each steps using sse. To get the realtime file processing.</p>\n<p>Here are some design I've tried to implement.</p>\n<ol>\n<li>Consider storing percentage into mysql db and on each 2 sec of intervals i query to thr table snd get the percentage.</li>\n<li>Using SseEmitter I have moved my existing download logic into ExecutorService thread, but neeed to create Atomic Reference because in lamda expression.</li>\n</ol>\n<p>I've tried to implement sse, but not getting how to track the download thread to show the process. For that i used SseEmitter to send the progress. But the problem i am facing is &quot;How do i track the download thread?&quot;</p>\n<p>If client Hits multiple downloads i want to show the progress of each download and also consider it should be asynchronous, i.e It client change tab or logout download should not stop.</p>\n",
    "tags" : [ "java", "spring-boot", "download", "server-sent-events" ],
    "owner" : {
      "account_id" : 16743459,
      "reputation" : 11,
      "user_id" : 12893190,
      "user_type" : "registered",
      "profile_image" : "https://lh3.googleusercontent.com/a-/AAuE7mC5qEBOG8vZRMwJSiUkrf_7PkFwsavFKvfzZ5Ie=k-s256",
      "display_name" : "Destello",
      "link" : "https://stackoverflow.com/users/12893190/destello"
    },
    "is_answered" : false,
    "view_count" : 75,
    "answer_count" : 0,
    "score" : 0,
    "last_activity_date" : 1744608209,
    "creation_date" : 1744606941,
    "link" : "https://stackoverflow.com/questions/79572375/how-to-send-server-sent-event",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ ],
  "question_comments" : [ ],
  "answer_comments" : { }
}