{
  "question" : {
    "question_id" : 79728247,
    "title" : "Error parsing HTTP request header Note: further occurrences of HTTP request parsing errors will be logged at DEBUG level",
    "body" : "<p>Using Spring Boot 3.5.4, I am facing the below issue. My request contains Arabic characters in query param, for example: <code>2/أ</code>. Everything works fine when there is no Arabic character, like this: <code>2/2</code>.\nI tried to intercept the request before reaching controller but failed. Before reaching interceptor I got the below error.</p>\n<pre class=\"lang-none prettyprint-override\"><code>2025-08-07T07:48:19.599Z  INFO 1 --- [mock-data] [nio-8080-exec-2] o.apache.coyote.http11.Http11Processor   : Error parsing HTTP request header\n Note: further occurrences of HTTP request parsing errors will be logged at DEBUG level.\n\njava.lang.IllegalArgumentException: Invalid character found in the request target [/api/v1/abc/xyz/mock?idNo=2/0xd80xa3 ]. The valid characters are defined in RFC 7230 and RFC 3986\n    at org.apache.coyote.http11.Http11InputBuffer.parseRequestLine(Http11InputBuffer.java:478) ~[tomcat-embed-core-10.1.43.jar!/:na]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:271) ~[tomcat-embed-core-10.1.43.jar!/:na]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.43.jar!/:na]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.43.jar!/:na]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769) ~[tomcat-embed-core-10.1.43.jar!/:na]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.43.jar!/:na]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189) ~[tomcat-embed-core-10.1.43.jar!/:na]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658) ~[tomcat-embed-core-10.1.43.jar!/:na]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.43.jar!/:na]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n2025-08-07T10:48:19.603290857+03:00\n</code></pre>\n",
    "tags" : [ "java", "spring-boot", "tomcat" ],
    "owner" : {
      "account_id" : 14285405,
      "reputation" : 157,
      "user_id" : 10318865,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/tH502.jpg?s=256",
      "display_name" : "Muhammad Haseeb",
      "link" : "https://stackoverflow.com/users/10318865/muhammad-haseeb"
    },
    "is_answered" : true,
    "view_count" : 123,
    "answer_count" : 2,
    "score" : -4,
    "last_activity_date" : 1755601403,
    "creation_date" : 1754553630,
    "link" : "https://stackoverflow.com/questions/79728247/error-parsing-http-request-header-note-further-occurrences-of-http-request-pars",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79728598,
    "question_id" : 79728247,
    "body" : "<p>I think you must URL-encode the query parameters before sending the request to the server.</p>\n<ul>\n<li><p>For example, the Arabic character &quot;أ&quot; (U+0623) should be percent-encoded as <code>%D8%A3</code>.</p>\n</li>\n<li><p>So instead of <code>idNo=2/أ</code>, send <code>idNo=2/%D8%A3</code>.</p>\n</li>\n</ul>\n",
    "score" : 0,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 28400997,
      "reputation" : 1,
      "user_id" : 21725829,
      "user_type" : "registered",
      "profile_image" : "https://lh3.googleusercontent.com/a/AGNmyxZswatA6oRH427MxfZJkmT9_bWmDt5LSothNCsVNQ=k-s256",
      "display_name" : "Kimiv23",
      "link" : "https://stackoverflow.com/users/21725829/kimiv23"
    },
    "creation_date" : 1754571342,
    "last_activity_date" : 1754571342,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "answer_id" : 79739810,
    "question_id" : 79728247,
    "body" : "<p>Thank you everyone for your responses. After further investigation, I discovered that there was a proxy in front of the application that was altering the query parameters. Once I identified the presence of the proxy, I tested the service both way, with and without proxy.</p>\n<ol>\n<li><p>Without the proxy, everything worked as expected.</p>\n</li>\n<li><p>But with the proxy, the request failed.</p>\n</li>\n</ol>\n<p>Upon failure above logs appeared in the application logs. We have since adjusted the proxy configuration to ensure it no longer modifies the requests.</p>\n",
    "score" : 0,
    "is_accepted" : true,
    "owner" : {
      "account_id" : 14285405,
      "reputation" : 157,
      "user_id" : 10318865,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/tH502.jpg?s=256",
      "display_name" : "Muhammad Haseeb",
      "link" : "https://stackoverflow.com/users/10318865/muhammad-haseeb"
    },
    "creation_date" : 1755601403,
    "last_activity_date" : 1755601403,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140648782,
    "post_id" : 79728247,
    "body" : "Add a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> to the question.",
    "score" : 0,
    "owner" : {
      "account_id" : 372682,
      "reputation" : 26512,
      "user_id" : 721855,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/vZiox.png?s=256",
      "display_name" : "aled",
      "link" : "https://stackoverflow.com/users/721855/aled"
    },
    "creation_date" : 1754565781,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140648492,
    "post_id" : 79728247,
    "body" : "show how you encoded your query params and what is the new encoded URL that you are calling",
    "score" : 1,
    "owner" : {
      "account_id" : 16657879,
      "reputation" : 4340,
      "user_id" : 12038714,
      "user_type" : "registered",
      "profile_image" : "https://lh3.googleusercontent.com/a-/AAuE7mAgRe8u2G_kzJJ-KZ2yZwAD1E4kxs9eRlqnY45BUw=k-s256",
      "display_name" : "asgarov1",
      "link" : "https://stackoverflow.com/users/12038714/asgarov1"
    },
    "creation_date" : 1754557488,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140648432,
    "post_id" : 79728247,
    "body" : "same error appear even if i send the encoded query params.",
    "score" : 0,
    "owner" : {
      "account_id" : 14285405,
      "reputation" : 157,
      "user_id" : 10318865,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/tH502.jpg?s=256",
      "display_name" : "Muhammad Haseeb",
      "link" : "https://stackoverflow.com/users/10318865/muhammad-haseeb"
    },
    "creation_date" : 1754556296,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140648405,
    "post_id" : 79728247,
    "body" : "Your client needs to <i>encode</i> the query parameter - <code>idNo=2%2F%D8%A3</code>.",
    "score" : 1,
    "owner" : {
      "account_id" : 3597514,
      "reputation" : 123345,
      "user_id" : 3001761,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/feZwC.jpg?s=256",
      "display_name" : "jonrsharpe",
      "link" : "https://stackoverflow.com/users/3001761/jonrsharpe"
    },
    "creation_date" : 1754555777,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}