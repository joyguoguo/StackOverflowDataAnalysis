{
  "question" : {
    "question_id" : 79663387,
    "title" : "Fail to create auto increment of a id field",
    "body" : "<p>I have the entity Role and user.\nIn my entity Role I'm trying to create a db an auto increment id but I have an error:\nI always deley the table in <code>my sql db</code>\nMy code is this in the Role:</p>\n<pre><code> public class Role {\n\n      @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n</code></pre>\n<p>when I do insert I obtain:</p>\n<pre><code>: Field 'id' doesn't have a default value\n</code></pre>\n<p>Anyone can help me to understand why?</p>\n",
    "tags" : [ "java", "spring", "spring-boot", "spring-data-jpa" ],
    "owner" : {
      "account_id" : 39782401,
      "reputation" : 9,
      "user_id" : 29448676,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/14696557a4809eb07e25787a796bf37f?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Doflamingo",
      "link" : "https://stackoverflow.com/users/29448676/doflamingo"
    },
    "is_answered" : true,
    "view_count" : 58,
    "closed_date" : 1749760554,
    "answer_count" : 2,
    "score" : 0,
    "last_activity_date" : 1749738251,
    "creation_date" : 1749725282,
    "link" : "https://stackoverflow.com/questions/79663387/fail-to-create-auto-increment-of-a-id-field",
    "closed_reason" : "Needs details or clarity"
  },
  "answers" : [ {
    "answer_id" : 79663617,
    "question_id" : 79663387,
    "body" : "<p>The reason of your problem is you don't use @Entity class annotation for your class.</p>\n<p>True code is :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class Role {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n}\n</code></pre>\n",
    "score" : 2,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 37494532,
      "reputation" : 41,
      "user_id" : 28274645,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/93c9066568fdbf80ddef3f5e27042d08?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Ali İhsan TAŞDELEN",
      "link" : "https://stackoverflow.com/users/28274645/ali-%c4%b0hsan-ta%c5%9edelen"
    },
    "creation_date" : 1749735081,
    "last_activity_date" : 1749735081,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "answer_id" : 79663694,
    "question_id" : 79663387,
    "body" : "<p>You're getting the error because your id column in MySQL isn't set as AUTO_INCREMENT.\nEven though you use @GeneratedValue, the DB itself must be configured to auto-increment.\nlet Hibernate recreate the table with:</p>\n<p><code>spring.jpa.hibernate.ddl-auto=update</code></p>\n<p>or you can alter table to make it support auto-increment :</p>\n<p><code>ALTER TABLE role MODIFY id BIGINT AUTO_INCREMENT;</code></p>\n",
    "score" : 1,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 12972904,
      "reputation" : 890,
      "user_id" : 9377995,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/Hl13jffO.png?s=256",
      "display_name" : "gdoura mohamed",
      "link" : "https://stackoverflow.com/users/9377995/gdoura-mohamed"
    },
    "creation_date" : 1749738251,
    "last_activity_date" : 1749738251,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140508410,
    "post_id" : 79663387,
    "body" : "Hi! Pls give more details like how you create table in mysql, how looks the whole entity, as well as controller, service, repository",
    "score" : 2,
    "owner" : {
      "account_id" : 18586978,
      "reputation" : 3850,
      "user_id" : 15000097,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/yFl4M.jpg?s=256",
      "display_name" : "Georgii Lvov",
      "link" : "https://stackoverflow.com/users/15000097/georgii-lvov"
    },
    "creation_date" : 1749728375,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}