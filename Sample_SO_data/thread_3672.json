{
  "question" : {
    "question_id" : 79532642,
    "title" : "Validate Country Code Extension in a Phone Number in Java",
    "body" : "<p><strong>I need to validate <em>only the country code extension</em> in a phone number using Java</strong>. The validation should ensure that:</p>\n<ul>\n<li><p>The country code starts with a valid + (e.g., +1, +94, +44).</p>\n<p>The format is correct, rejecting cases like missing +, multiple +\nsigns, or extra digits in the country code.</p>\n</li>\n</ul>\n<p>The validation should be performed using a reliable library to ensure accuracy.</p>\n<p>I found a solution using Google's <strong>libphonenumber</strong> library to validate only the country code extension with the getRegionCodeForCountryCode method. However, some country code extensions cannot be identified, such as +876 (Jamaica's country code).</p>\n<p>Is there a better or simpler way to validate country code extensions in a phone number in Java?</p>\n<p>Example test cases:</p>\n<blockquote>\n<p>+94 -&gt; valid</p>\n<p>+876 - &gt; valid</p>\n</blockquote>\n",
    "tags" : [ "java", "libphonenumber" ],
    "owner" : {
      "account_id" : 6984801,
      "reputation" : 105,
      "user_id" : 5356211,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/ocjiV.jpg?s=256",
      "display_name" : "chathura",
      "link" : "https://stackoverflow.com/users/5356211/chathura"
    },
    "is_answered" : false,
    "view_count" : 197,
    "answer_count" : 1,
    "score" : 0,
    "last_activity_date" : 1743798226,
    "creation_date" : 1742873406,
    "link" : "https://stackoverflow.com/questions/79532642/validate-country-code-extension-in-a-phone-number-in-java",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79532709,
    "question_id" : 79532642,
    "body" : "<p>You can use the library's PhoneNumberUtil class which I found online -<a href=\"https://javadoc.io/doc/com.googlecode.libphonenumber/libphonenumber/8.4.1/com/google/i18n/phonenumbers/PhoneNumberUtil.html\" rel=\"nofollow noreferrer\">https://javadoc.io/doc/com.googlecode.libphonenumber/libphonenumber/8.4.1/com/google/i18n/phonenumbers/PhoneNumberUtil.html</a>.</p>\n<p>You can parse the phone number to find the country code, then check if it exists in the list of existing country codes given by the library.</p>\n<p>Here is the code :-</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.google.i18n.phonenumbers.NumberParseException;\nimport com.google.i18n.phonenumbers.PhoneNumberUtil;\nimport com.google.i18n.phonenumbers.Phonenumber;\nimport java.util.Set;\n\npublic class ValidateCountryCode {\n    public static boolean isValidCode(String phoneNumber) {\n        PhoneNumberUtil phoneNumberUtil = PhoneNumberUtil.getInstance();\n        // Optional\n        if (!phoneNumber.startsWith(&quot;+&quot;)) {\n            return false;\n        }\n\n        try {\n            // Parse number not assuming default location\n            Phonenumber.PhoneNumber number = phoneNumberUtil.parse(phoneNumber, null);\n            int countryCode = number.getCountryCode();\n\n            // Get set of all country codes\n            Set&lt;Integer&gt; countryCodes = phoneNumberUtil.getSupportedCallingCodes();\n\n            return countryCodes.contains(countryCode);\n        } catch (NumberParseException e) {\n            return false;\n        }\n    }\n\n    public static void main(String[] args) {\n        System.out.println(isValidCode(&quot;+94&quot;));   // true (Sri Lanka)\n        System.out.println(isValidCode(&quot;+876&quot;));  // true (Jamaica)\n        System.out.println(isValidCode(&quot;+999&quot;));  // false (Invalid)\n        System.out.println(isValidCode(&quot;876&quot;));   // false (Missing +)\n        System.out.println(isValidCode(&quot;++94&quot;));  // false (Multiple +)\n    }\n}\n</code></pre>\n",
    "score" : -2,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 29554650,
      "reputation" : 1,
      "user_id" : 22650531,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/dPoTl.jpg?s=256",
      "display_name" : "Ayush Sagar",
      "link" : "https://stackoverflow.com/users/22650531/ayush-sagar"
    },
    "creation_date" : 1742877688,
    "last_activity_date" : 1743798226,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140259192,
    "post_id" : 79532642,
    "body" : "Right.  Jamaica is part of the North American numbering plan, which uses +1.  876 is the area code, like 212 for New York and 213 for Los Angeles.",
    "score" : 4,
    "owner" : {
      "account_id" : 2119809,
      "reputation" : 55284,
      "user_id" : 1883316,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/9yAAh.jpg?s=256",
      "display_name" : "Tim Roberts",
      "link" : "https://stackoverflow.com/users/1883316/tim-roberts"
    },
    "creation_date" : 1742874098,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140259190,
    "post_id" : 79532642,
    "body" : "876 seems to be the area code, not country code.",
    "score" : 1,
    "owner" : {
      "account_id" : 21724606,
      "reputation" : 1431,
      "user_id" : 16034206,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/MRBdT.jpg?s=256",
      "display_name" : "pebble unit",
      "link" : "https://stackoverflow.com/users/16034206/pebble-unit"
    },
    "creation_date" : 1742874040,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140259187,
    "post_id" : 79532642,
    "body" : "jamaica&#39;s telephone country code seems to be 1876 not 876 though. Can you show sample code with output that shows that the country code cannot be identified?",
    "score" : 2,
    "owner" : {
      "account_id" : 21724606,
      "reputation" : 1431,
      "user_id" : 16034206,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/MRBdT.jpg?s=256",
      "display_name" : "pebble unit",
      "link" : "https://stackoverflow.com/users/16034206/pebble-unit"
    },
    "creation_date" : 1742873865,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : {
    "79532709" : [ {
      "comment_id" : 140264373,
      "post_id" : 79532709,
      "body" : "Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/79532709/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>.",
      "score" : 0,
      "owner" : {
        "account_id" : -1,
        "reputation" : 1,
        "user_id" : -1,
        "user_type" : "moderator",
        "profile_image" : "https://www.gravatar.com/avatar/a007be5a61f6aa8f3e85ae2fc18dd66e?s=256&d=identicon&r=PG",
        "display_name" : "Community",
        "link" : "https://stackoverflow.com/users/-1/community"
      },
      "creation_date" : 1742978539,
      "content_license" : "CC BY-SA 4.0"
    }, {
      "comment_id" : 140260273,
      "post_id" : 79532709,
      "body" : "Oh sorry, my oversight @M.Deinum.",
      "score" : 0,
      "owner" : {
        "account_id" : 29554650,
        "reputation" : 1,
        "user_id" : 22650531,
        "user_type" : "registered",
        "profile_image" : "https://i.sstatic.net/dPoTl.jpg?s=256",
        "display_name" : "Ayush Sagar",
        "link" : "https://stackoverflow.com/users/22650531/ayush-sagar"
      },
      "creation_date" : 1742898257,
      "content_license" : "CC BY-SA 4.0"
    }, {
      "comment_id" : 140259545,
      "post_id" : 79532709,
      "body" : "This class is part of the <code>libphonenumber</code> library. So suggesting not to use it and next suggesting to use a class from the same library doesn&#39;t make sense.",
      "score" : 2,
      "owner" : {
        "account_id" : 3192259,
        "reputation" : 126800,
        "user_id" : 2696260,
        "user_type" : "registered",
        "profile_image" : "https://i.sstatic.net/qHEzx.png?s=256",
        "display_name" : "M. Deinum",
        "link" : "https://stackoverflow.com/users/2696260/m-deinum"
      },
      "creation_date" : 1742886592,
      "content_license" : "CC BY-SA 4.0"
    } ]
  }
}