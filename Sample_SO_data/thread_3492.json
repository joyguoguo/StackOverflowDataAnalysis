{
  "question" : {
    "question_id" : 79546017,
    "title" : "How to get data stored in VBO",
    "body" : "<p>I need to get back a <code>float[]</code> of vertices which is stored in attrList in vbo in vao.<br />\nI do:</p>\n<pre><code>float[] b = new float[vertexCount];\nglBindVertexArray(vaoId);\nlong pointer;\nglEnableVertexAttribArray(0);\npointer = glGetVertexAttribPointer(0,  GL_VERTEX_ATTRIB_ARRAY_POINTER);\nglBindBuffer(GL_ARRAY_BUFFER, (int) pointer);\nglGetBufferSubData(GL_ARRAY_BUFFER, 0, b);\n</code></pre>\n<p>All data in vaos and vbos is stored correctly, I can draw things perfectly.<br />\nThe <strong>problem</strong> here is that variable <strong>pointer</strong> returns 0.<br />\nWhat am I doing wrong?</p>\n",
    "tags" : [ "java", "opengl", "lwjgl" ],
    "owner" : {
      "account_id" : 41099101,
      "reputation" : 21,
      "user_id" : 30118703,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/c078a9784157e0d64202ead6c459e8a7?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Maaa aango",
      "link" : "https://stackoverflow.com/users/30118703/maaa-aango"
    },
    "is_answered" : true,
    "view_count" : 114,
    "answer_count" : 1,
    "score" : 1,
    "last_activity_date" : 1743422834,
    "creation_date" : 1743417597,
    "link" : "https://stackoverflow.com/questions/79546017/how-to-get-data-stored-in-vbo",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79546183,
    "question_id" : 79546017,
    "body" : "<p>No, your code is nonsense.</p>\n<p>From the documentation of <code>glGetVertexAttribPointer</code>:</p>\n<blockquote>\n<p>The pointer returned is a <strong>byte offset into the data store of the buffer object</strong> that was bound to the GL_ARRAY_BUFFER target (see glBindBuffer) when the desired pointer was previously specified.</p>\n</blockquote>\n<p>You should thus pass <code>pointer</code> as the <code>offset</code> parameter of your <code>glGetBufferSubData</code> call. Your code treats it as the name of the VBO that was bound (because you call <code>glBindBuffer</code>); if you want to retrieve that you can ask using <code>glGetVertexAttrib(0, GL_VERTEX_ATTRIB_ARRAY_BUFFER_BINDING)</code>. Same goes for the stride, divisor, etc.</p>\n<p>But all of this smells like a giant XY problem: you should know the values that were used at setup time, no?</p>\n",
    "score" : 1,
    "is_accepted" : true,
    "owner" : {
      "account_id" : 1684984,
      "reputation" : 32155,
      "user_id" : 1548468,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/0745dce203d52699e63a575b3103ad70?s=256&d=identicon&r=PG",
      "display_name" : "Botje",
      "link" : "https://stackoverflow.com/users/1548468/botje"
    },
    "creation_date" : 1743422834,
    "last_activity_date" : 1743422834,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140282224,
    "post_id" : 79546017,
    "body" : "@aled I am asking whether my approach(sequence of actions) correct or not, so all java or c/c++ related answers would be helpful.",
    "score" : 0,
    "owner" : {
      "account_id" : 41099101,
      "reputation" : 21,
      "user_id" : 30118703,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/c078a9784157e0d64202ead6c459e8a7?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Maaa aango",
      "link" : "https://stackoverflow.com/users/30118703/maaa-aango"
    },
    "creation_date" : 1743421855,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140282141,
    "post_id" : 79546017,
    "body" : "What is the question? How to port the code to C++ or how to resolve the issue in Java? Don&#39;t ask two question in one, it is off topic and can get your question to be <a href=\"https://stackoverflow.com/help/closed-questions\">closed</a>.",
    "score" : 0,
    "owner" : {
      "account_id" : 372682,
      "reputation" : 26512,
      "user_id" : 721855,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/vZiox.png?s=256",
      "display_name" : "aled",
      "link" : "https://stackoverflow.com/users/721855/aled"
    },
    "creation_date" : 1743420659,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140282033,
    "post_id" : 79546017,
    "body" : "I&#39;d just keep the buffer <code>b[]</code> around - but assuming you don&#39;t want to do that, look at: <a href=\"https://registry.khronos.org/OpenGL-Refpages/gl4/html/glMapBuffer.xhtml\" rel=\"nofollow noreferrer\"><code>glMapBuffer</code></a> with: <code>GL_ARRAY_BUFFER, GL_READ_ONLY</code>",
    "score" : 0,
    "owner" : {
      "account_id" : 539108,
      "reputation" : 22522,
      "user_id" : 906839,
      "user_type" : "registered",
      "accept_rate" : 91,
      "profile_image" : "https://www.gravatar.com/avatar/5bce6d276ec5c9b7b97804d0add55084?s=256&d=identicon&r=PG",
      "display_name" : "Brett Hale",
      "link" : "https://stackoverflow.com/users/906839/brett-hale"
    },
    "creation_date" : 1743418876,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : {
    "79546183" : [ {
      "comment_id" : 140282528,
      "post_id" : 79546183,
      "body" : "Unless you&#39;re <i>very</i> resource constrained or loading lots of huge models, I would say don&#39;t bother.",
      "score" : 0,
      "owner" : {
        "account_id" : 1684984,
        "reputation" : 32155,
        "user_id" : 1548468,
        "user_type" : "registered",
        "profile_image" : "https://www.gravatar.com/avatar/0745dce203d52699e63a575b3103ad70?s=256&d=identicon&r=PG",
        "display_name" : "Botje",
        "link" : "https://stackoverflow.com/users/1548468/botje"
      },
      "creation_date" : 1743426279,
      "content_license" : "CC BY-SA 4.0"
    }, {
      "comment_id" : 140282519,
      "post_id" : 79546183,
      "body" : "Thanks for clarification! And yes, I potentially can use data from the setup, just thought it would mean I have to store it an extra time for this purpose.",
      "score" : 0,
      "owner" : {
        "account_id" : 41099101,
        "reputation" : 21,
        "user_id" : 30118703,
        "user_type" : "registered",
        "profile_image" : "https://www.gravatar.com/avatar/c078a9784157e0d64202ead6c459e8a7?s=256&d=identicon&r=PG&f=y&so-version=2",
        "display_name" : "Maaa aango",
        "link" : "https://stackoverflow.com/users/30118703/maaa-aango"
      },
      "creation_date" : 1743426151,
      "content_license" : "CC BY-SA 4.0"
    } ]
  }
}