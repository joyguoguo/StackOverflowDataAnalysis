{
  "question" : {
    "question_id" : 79721312,
    "title" : "Micronaut Data method is missing compilation time query information. Ensure that the Micronaut Data annotation processors are declared in your build",
    "body" : "<p>I'm having similar issue to this <a href=\"https://stackoverflow.com/questions/64650057/unexpected-error-occurred-micronaut-data-method-is-missing-compilation-time-que\">Unexpected error occurred: Micronaut Data method is missing compilation time query information</a> .. but the fix didn't work for me. I have 2 micronaut apps, Contact and User services, which i recently wanted to migrate from micronaut 3.9 to 4.9.1. I'm not having any issues running the User service, but the Contact service does throw:</p>\n<p><strong>Error received when calling an http endpoint which calls MongoDBContactRepository::saveAll()</strong></p>\n<pre><code>Internal Server Error: Micronaut Data method is missing compilation time query information. Ensure that the Micronaut Data annotation processors are declared in your build and try again with a clean re-build.\n</code></pre>\n<p>The poms.xml are almost similar, not sure why it works for one but not the other, here are the pom.xml for each:</p>\n<p><strong>User service's pom.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.market.online&lt;/groupId&gt;\n    &lt;artifactId&gt;user-microservice&lt;/artifactId&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n    &lt;packaging&gt;${packaging}&lt;/packaging&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;io.micronaut.platform&lt;/groupId&gt;\n        &lt;artifactId&gt;micronaut-parent&lt;/artifactId&gt;\n        &lt;version&gt;4.9.1&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;packaging&gt;jar&lt;/packaging&gt;\n        &lt;jdk.version&gt;17&lt;/jdk.version&gt;\n        &lt;release.version&gt;17&lt;/release.version&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n        &lt;micronaut.runtime&gt;netty&lt;/micronaut.runtime&gt;\n        &lt;micronaut.aot.enabled&gt;false&lt;/micronaut.aot.enabled&gt;\n        &lt;micronaut.aot.packageName&gt;com.market.online.aot.generated&lt;/micronaut.aot.packageName&gt;\n        &lt;micronaut.test.resources.enabled&gt;true&lt;/micronaut.test.resources.enabled&gt;\n        &lt;exec.mainClass&gt;com.market.online.Application&lt;/exec.mainClass&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.micronaut.security&lt;/groupId&gt;\n            &lt;artifactId&gt;micronaut-security-oauth2&lt;/artifactId&gt;\n            &lt;version&gt;${micronaut.security.version}&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.micronaut.security&lt;/groupId&gt;\n            &lt;artifactId&gt;micronaut-security-annotations&lt;/artifactId&gt;\n            &lt;version&gt;${micronaut.security.version}&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.market.online&lt;/groupId&gt;\n            &lt;artifactId&gt;market-online-commons-library-m4&lt;/artifactId&gt;\n            &lt;version&gt;1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;io.micronaut.maven&lt;/groupId&gt;\n                &lt;artifactId&gt;micronaut-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;aotDependencies&gt;\n                        &lt;dependency&gt;\n                            &lt;groupId&gt;io.micronaut.security&lt;/groupId&gt;\n                            &lt;artifactId&gt;micronaut-security-aot&lt;/artifactId&gt;\n                            &lt;version&gt;${micronaut.security.version}&lt;/version&gt;\n                        &lt;/dependency&gt;\n                    &lt;/aotDependencies&gt;\n                    &lt;configFile&gt;aot-${packaging}.properties&lt;/configFile&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;annotationProcessorPaths combine.self=&quot;override&quot;&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                            &lt;version&gt;${lombok.version}&lt;/version&gt;\n                        &lt;/path&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\n                            &lt;artifactId&gt;micronaut-inject-java&lt;/artifactId&gt;\n                            &lt;version&gt;${micronaut.core.version}&lt;/version&gt;\n                        &lt;/path&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;io.micronaut.data&lt;/groupId&gt;\n                            &lt;artifactId&gt;micronaut-data-processor&lt;/artifactId&gt;\n                            &lt;version&gt;${micronaut.data.version}&lt;/version&gt;\n                            &lt;exclusions&gt;\n                                &lt;exclusion&gt;\n                                    &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\n                                    &lt;artifactId&gt;micronaut-inject&lt;/artifactId&gt;\n                                &lt;/exclusion&gt;\n                            &lt;/exclusions&gt;\n                        &lt;/path&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;io.micronaut.data&lt;/groupId&gt;\n                            &lt;artifactId&gt;micronaut-data-document-processor&lt;/artifactId&gt;\n                            &lt;version&gt;${micronaut.data.version}&lt;/version&gt;\n                            &lt;exclusions&gt;\n                                &lt;exclusion&gt;\n                                    &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\n                                    &lt;artifactId&gt;micronaut-inject&lt;/artifactId&gt;\n                                &lt;/exclusion&gt;\n                            &lt;/exclusions&gt;\n                        &lt;/path&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\n                            &lt;artifactId&gt;micronaut-graal&lt;/artifactId&gt;\n                            &lt;version&gt;${micronaut.core.version}&lt;/version&gt;\n                        &lt;/path&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\n                            &lt;artifactId&gt;micronaut-http-validation&lt;/artifactId&gt;\n                            &lt;version&gt;${micronaut.core.version}&lt;/version&gt;\n                        &lt;/path&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;io.micronaut.security&lt;/groupId&gt;\n                            &lt;artifactId&gt;micronaut-security-annotations&lt;/artifactId&gt;\n                            &lt;version&gt;${micronaut.security.version}&lt;/version&gt;\n                            &lt;exclusions&gt;\n                                &lt;exclusion&gt;\n                                    &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\n                                    &lt;artifactId&gt;micronaut-inject&lt;/artifactId&gt;\n                                &lt;/exclusion&gt;\n                            &lt;/exclusions&gt;\n                        &lt;/path&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;io.micronaut.openapi&lt;/groupId&gt;\n                            &lt;artifactId&gt;micronaut-openapi&lt;/artifactId&gt;\n                            &lt;version&gt;${micronaut.openapi.version}&lt;/version&gt;\n                            &lt;exclusions&gt;\n                                &lt;exclusion&gt;\n                                    &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\n                                    &lt;artifactId&gt;micronaut-inject&lt;/artifactId&gt;\n                                &lt;/exclusion&gt;\n                            &lt;/exclusions&gt;\n                        &lt;/path&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;io.micronaut.validation&lt;/groupId&gt;\n                            &lt;artifactId&gt;micronaut-validation-processor&lt;/artifactId&gt;\n                            &lt;version&gt;${micronaut.validation.version}&lt;/version&gt;\n                            &lt;exclusions&gt;\n                                &lt;exclusion&gt;\n                                    &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\n                                    &lt;artifactId&gt;micronaut-inject&lt;/artifactId&gt;\n                                &lt;/exclusion&gt;\n                            &lt;/exclusions&gt;\n                        &lt;/path&gt;\n                    &lt;/annotationProcessorPaths&gt;\n                    &lt;compilerArgs&gt;\n                        &lt;arg&gt;-Amicronaut.processing.group=com.market.online&lt;/arg&gt;\n                        &lt;arg&gt;-Amicronaut.processing.module=user-microservice&lt;/arg&gt;\n                    &lt;/compilerArgs&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p><strong>Contact service's pom.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.market.online&lt;/groupId&gt;\n    &lt;artifactId&gt;contact-microservice&lt;/artifactId&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n    &lt;packaging&gt;${packaging}&lt;/packaging&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;io.micronaut.platform&lt;/groupId&gt;\n        &lt;artifactId&gt;micronaut-parent&lt;/artifactId&gt;\n        &lt;version&gt;4.9.1&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;packaging&gt;jar&lt;/packaging&gt;\n        &lt;jdk.version&gt;17&lt;/jdk.version&gt;\n        &lt;release.version&gt;17&lt;/release.version&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n        &lt;micronaut.runtime&gt;netty&lt;/micronaut.runtime&gt;\n        &lt;micronaut.aot.enabled&gt;false&lt;/micronaut.aot.enabled&gt;\n        &lt;micronaut.aot.packageName&gt;com.market.online.aot.generated&lt;/micronaut.aot.packageName&gt;\n        &lt;micronaut.test.resources.enabled&gt;true&lt;/micronaut.test.resources.enabled&gt;\n        &lt;exec.mainClass&gt;com.market.online.Application&lt;/exec.mainClass&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.market.online&lt;/groupId&gt;\n            &lt;artifactId&gt;market-online-commons-library-m4&lt;/artifactId&gt;\n            &lt;version&gt;1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;io.micronaut.maven&lt;/groupId&gt;\n                &lt;artifactId&gt;micronaut-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;aotDependencies&gt;\n                        &lt;dependency&gt;\n                            &lt;groupId&gt;io.micronaut.security&lt;/groupId&gt;\n                            &lt;artifactId&gt;micronaut-security-aot&lt;/artifactId&gt;\n                            &lt;version&gt;${micronaut.security.version}&lt;/version&gt;\n                        &lt;/dependency&gt;\n                    &lt;/aotDependencies&gt;\n                    &lt;configFile&gt;aot-${packaging}.properties&lt;/configFile&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;annotationProcessorPaths combine.self=&quot;override&quot;&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                            &lt;version&gt;${lombok.version}&lt;/version&gt;\n                        &lt;/path&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\n                            &lt;artifactId&gt;micronaut-inject-java&lt;/artifactId&gt;\n                            &lt;version&gt;${micronaut.core.version}&lt;/version&gt;\n                        &lt;/path&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;io.micronaut.data&lt;/groupId&gt;\n                            &lt;artifactId&gt;micronaut-data-processor&lt;/artifactId&gt;\n                            &lt;version&gt;${micronaut.data.version}&lt;/version&gt;\n                            &lt;exclusions&gt;\n                                &lt;exclusion&gt;\n                                    &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\n                                    &lt;artifactId&gt;micronaut-inject&lt;/artifactId&gt;\n                                &lt;/exclusion&gt;\n                            &lt;/exclusions&gt;\n                        &lt;/path&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;io.micronaut.data&lt;/groupId&gt;\n                            &lt;artifactId&gt;micronaut-data-document-processor&lt;/artifactId&gt;\n                            &lt;version&gt;${micronaut.data.version}&lt;/version&gt;\n                            &lt;exclusions&gt;\n                                &lt;exclusion&gt;\n                                    &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\n                                    &lt;artifactId&gt;micronaut-inject&lt;/artifactId&gt;\n                                &lt;/exclusion&gt;\n                            &lt;/exclusions&gt;\n                        &lt;/path&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\n                            &lt;artifactId&gt;micronaut-graal&lt;/artifactId&gt;\n                            &lt;version&gt;${micronaut.core.version}&lt;/version&gt;\n                        &lt;/path&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\n                            &lt;artifactId&gt;micronaut-http-validation&lt;/artifactId&gt;\n                            &lt;version&gt;${micronaut.core.version}&lt;/version&gt;\n                        &lt;/path&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;io.micronaut.security&lt;/groupId&gt;\n                            &lt;artifactId&gt;micronaut-security-annotations&lt;/artifactId&gt;\n                            &lt;version&gt;${micronaut.security.version}&lt;/version&gt;\n                            &lt;exclusions&gt;\n                                &lt;exclusion&gt;\n                                    &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\n                                    &lt;artifactId&gt;micronaut-inject&lt;/artifactId&gt;\n                                &lt;/exclusion&gt;\n                            &lt;/exclusions&gt;\n                        &lt;/path&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;io.micronaut.openapi&lt;/groupId&gt;\n                            &lt;artifactId&gt;micronaut-openapi&lt;/artifactId&gt;\n                            &lt;version&gt;${micronaut.openapi.version}&lt;/version&gt;\n                            &lt;exclusions&gt;\n                                &lt;exclusion&gt;\n                                    &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\n                                    &lt;artifactId&gt;micronaut-inject&lt;/artifactId&gt;\n                                &lt;/exclusion&gt;\n                            &lt;/exclusions&gt;\n                        &lt;/path&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;io.micronaut.validation&lt;/groupId&gt;\n                            &lt;artifactId&gt;micronaut-validation-processor&lt;/artifactId&gt;\n                            &lt;version&gt;${micronaut.validation.version}&lt;/version&gt;\n                            &lt;exclusions&gt;\n                                &lt;exclusion&gt;\n                                    &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\n                                    &lt;artifactId&gt;micronaut-inject&lt;/artifactId&gt;\n                                &lt;/exclusion&gt;\n                            &lt;/exclusions&gt;\n                        &lt;/path&gt;\n                    &lt;/annotationProcessorPaths&gt;\n                    &lt;compilerArgs&gt;\n                        &lt;arg&gt;-Amicronaut.processing.group=com.market.online&lt;/arg&gt;\n                        &lt;arg&gt;-Amicronaut.processing.module=contact-microservice&lt;/arg&gt;\n                    &lt;/compilerArgs&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>They both use a custom library <code>market-online-commons-library-m4</code> which holds all dependancies, here's its pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.market.online&lt;/groupId&gt;\n    &lt;artifactId&gt;market-online-commons-library-m4&lt;/artifactId&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n\n        &lt;!-- Framework --&gt;\n        &lt;micronaut.http.server.netty.version&gt;4.9.7&lt;/micronaut.http.server.netty.version&gt;\n        &lt;micronaut.inject.java.version&gt;4.9.7&lt;/micronaut.inject.java.version&gt;\n\n        &lt;micronaut.data.model.version&gt;4.13.2&lt;/micronaut.data.model.version&gt;\n        &lt;micronaut.data.processor.version&gt;4.13.2&lt;/micronaut.data.processor.version&gt;\n        &lt;micronaut.data.document.processor.version&gt;4.13.2&lt;/micronaut.data.document.processor.version&gt;\n        &lt;micronaut.jackson.databind.version&gt;4.9.7&lt;/micronaut.jackson.databind.version&gt;\n        &lt;micronaut.mongo.reactive.version&gt;5.7.0&lt;/micronaut.mongo.reactive.version&gt;\n\n        &lt;micronaut.http.client.version&gt;4.9.7&lt;/micronaut.http.client.version&gt;\n        &lt;micronaut.reactor.http.client.version&gt;3.8.0&lt;/micronaut.reactor.http.client.version&gt;\n        &lt;micronaut.retry.version&gt;4.9.7&lt;/micronaut.retry.version&gt;\n        &lt;micronaut.redis.lettuce.version&gt;6.8.0&lt;/micronaut.redis.lettuce.version&gt;\n        &lt;micronaut.elasticsearch.version&gt;5.0.1&lt;/micronaut.elasticsearch.version&gt;\n        &lt;micronaut.rabbitmq.version&gt;4.8.0&lt;/micronaut.rabbitmq.version&gt;\n\n        &lt;micronaut.validation.version&gt;4.10.0&lt;/micronaut.validation.version&gt;\n\n        &lt;micronaut.security.version&gt;4.13.0&lt;/micronaut.security.version&gt;\n        &lt;micronaut.management.version&gt;4.9.7&lt;/micronaut.management.version&gt;\n\n        &lt;micronaut.openapi.annotations.version&gt;6.17.3&lt;/micronaut.openapi.annotations.version&gt;\n\n        &lt;micronaut.test.resources.client&gt;2.9.0&lt;/micronaut.test.resources.client&gt;\n        &lt;micronaut.test.rest.assured.version&gt;4.8.1&lt;/micronaut.test.rest.assured.version&gt;\n        &lt;micronaut.test.junit5.version&gt;4.8.1&lt;/micronaut.test.junit5.version&gt;\n        &lt;junit.jupiter.api.version&gt;5.12.2&lt;/junit.jupiter.api.version&gt;\n        &lt;junit.jupiter.engine.version&gt;5.12.2&lt;/junit.jupiter.engine.version&gt;\n        &lt;junit.platform.suite.engine.version&gt;1.12.2&lt;/junit.platform.suite.engine.version&gt;\n\n        &lt;!-- Libraries--&gt;\n        &lt;reactor.version&gt;3.8.0&lt;/reactor.version&gt;\n        &lt;mongodb.driver.reactivestreams&gt;4.11.5&lt;/mongodb.driver.reactivestreams&gt;\n        &lt;apache.http.async.client.version&gt;4.1.5&lt;/apache.http.async.client.version&gt;\n        &lt;jakarta.validation.api.version&gt;3.1.1&lt;/jakarta.validation.api.version&gt;\n        &lt;jakarta.annotation.api.version&gt;2.1.1&lt;/jakarta.annotation.api.version&gt;\n        &lt;lombok.version&gt;1.18.26&lt;/lombok.version&gt;\n        &lt;javax.validation.api.version&gt;2.0.1.Final&lt;/javax.validation.api.version&gt;\n        &lt;logback.classic.version&gt;1.5.18&lt;/logback.classic.version&gt;\n        &lt;assertj.core.version&gt;3.23.1&lt;/assertj.core.version&gt;\n        &lt;snakeyaml.version&gt;2.4&lt;/snakeyaml.version&gt;\n        &lt;context.propagation.version&gt;1.1.3&lt;/context.propagation.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;!-- Core --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\n            &lt;artifactId&gt;micronaut-http-server-netty&lt;/artifactId&gt;\n            &lt;version&gt;${micronaut.http.server.netty.version}&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.micronaut.reactor&lt;/groupId&gt;\n            &lt;artifactId&gt;micronaut-reactor&lt;/artifactId&gt;\n            &lt;version&gt;${reactor.version}&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Data --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\n            &lt;artifactId&gt;micronaut-jackson-databind&lt;/artifactId&gt;\n            &lt;version&gt;${micronaut.jackson.databind.version}&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.micronaut.data&lt;/groupId&gt;\n            &lt;artifactId&gt;micronaut-data-mongodb&lt;/artifactId&gt;\n            &lt;version&gt;${micronaut.data.model.version}&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.micronaut.mongodb&lt;/groupId&gt;\n            &lt;artifactId&gt;micronaut-mongo-reactive&lt;/artifactId&gt;\n            &lt;version&gt;${micronaut.mongo.reactive.version}&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.micronaut.data&lt;/groupId&gt;\n            &lt;artifactId&gt;micronaut-data-model&lt;/artifactId&gt;\n            &lt;version&gt;${micronaut.data.model.version}&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\n            &lt;artifactId&gt;mongodb-driver-reactivestreams&lt;/artifactId&gt;\n            &lt;version&gt;${mongodb.driver.reactivestreams}&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Cache --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.micronaut.redis&lt;/groupId&gt;\n            &lt;artifactId&gt;micronaut-redis-lettuce&lt;/artifactId&gt;\n            &lt;version&gt;${micronaut.redis.lettuce.version}&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Indexing --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.micronaut.elasticsearch&lt;/groupId&gt;\n            &lt;artifactId&gt;micronaut-elasticsearch&lt;/artifactId&gt;\n            &lt;version&gt;${micronaut.elasticsearch.version}&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Queue --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.micronaut.rabbitmq&lt;/groupId&gt;\n            &lt;artifactId&gt;micronaut-rabbitmq&lt;/artifactId&gt;\n            &lt;version&gt;${micronaut.rabbitmq.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Http --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\n            &lt;artifactId&gt;micronaut-http-client&lt;/artifactId&gt;\n            &lt;version&gt;${micronaut.http.client.version}&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.micronaut.reactor&lt;/groupId&gt;\n            &lt;artifactId&gt;micronaut-reactor-http-client&lt;/artifactId&gt;\n            &lt;version&gt;${micronaut.reactor.http.client.version}&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\n            &lt;artifactId&gt;micronaut-retry&lt;/artifactId&gt;\n            &lt;version&gt;${micronaut.retry.version}&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n            &lt;artifactId&gt;httpasyncclient&lt;/artifactId&gt;\n            &lt;version&gt;${apache.http.async.client.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Security --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.micronaut.security&lt;/groupId&gt;\n            &lt;artifactId&gt;micronaut-security&lt;/artifactId&gt;\n            &lt;version&gt;${micronaut.security.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.micronaut.security&lt;/groupId&gt;\n            &lt;artifactId&gt;micronaut-security-jwt&lt;/artifactId&gt;\n            &lt;version&gt;${micronaut.security.version}&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Validation --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.micronaut.validation&lt;/groupId&gt;\n            &lt;artifactId&gt;micronaut-validation&lt;/artifactId&gt;\n            &lt;version&gt;${micronaut.validation.version}&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.validation&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.validation-api&lt;/artifactId&gt;\n            &lt;version&gt;${jakarta.validation.api.version}&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.annotation&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.annotation-api&lt;/artifactId&gt;\n            &lt;version&gt;${jakarta.annotation.api.version}&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n            &lt;version&gt;${javax.validation.api.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Logging --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n            &lt;version&gt;${logback.classic.version}&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Documentation --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.micronaut.openapi&lt;/groupId&gt;\n            &lt;artifactId&gt;micronaut-openapi-annotations&lt;/artifactId&gt;\n            &lt;version&gt;${micronaut.openapi.annotations.version}&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.yaml&lt;/groupId&gt;\n            &lt;artifactId&gt;snakeyaml&lt;/artifactId&gt;\n            &lt;version&gt;${snakeyaml.version}&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Management --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\n            &lt;artifactId&gt;micronaut-management&lt;/artifactId&gt;\n            &lt;version&gt;${micronaut.management.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\n            &lt;artifactId&gt;context-propagation&lt;/artifactId&gt;\n            &lt;version&gt;${context.propagation.version}&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Utils --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;${lombok.version}&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Testing --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.micronaut.testresources&lt;/groupId&gt;\n            &lt;artifactId&gt;micronaut-test-resources-client&lt;/artifactId&gt;\n            &lt;version&gt;${micronaut.test.resources.client}&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.micronaut.test&lt;/groupId&gt;\n            &lt;artifactId&gt;micronaut-test-rest-assured&lt;/artifactId&gt;\n            &lt;version&gt;${micronaut.test.rest.assured.version}&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.micronaut.test&lt;/groupId&gt;\n            &lt;artifactId&gt;micronaut-test-junit5&lt;/artifactId&gt;\n            &lt;version&gt;${micronaut.test.junit5.version}&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;version&gt;${junit.jupiter.api.version}&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;${junit.jupiter.engine.version}&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-platform-suite-engine&lt;/artifactId&gt;\n            &lt;version&gt;${junit.platform.suite.engine.version}&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.assertj&lt;/groupId&gt;\n            &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\n            &lt;version&gt;${assertj.core.version}&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.14.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;annotationProcessorPaths combine.self=&quot;override&quot;&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                            &lt;version&gt;${lombok.version}&lt;/version&gt;\n                        &lt;/path&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\n                            &lt;artifactId&gt;micronaut-inject-java&lt;/artifactId&gt;\n                            &lt;version&gt;${micronaut.inject.java.version}&lt;/version&gt;\n                        &lt;/path&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;io.micronaut.data&lt;/groupId&gt;\n                            &lt;artifactId&gt;micronaut-data-processor&lt;/artifactId&gt;\n                            &lt;version&gt;${micronaut.data.processor.version}&lt;/version&gt;\n                        &lt;/path&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;io.micronaut.data&lt;/groupId&gt;\n                            &lt;artifactId&gt;micronaut-data-document-processor&lt;/artifactId&gt;\n                            &lt;version&gt;${micronaut.data.document.processor.version}&lt;/version&gt;\n                        &lt;/path&gt;\n                    &lt;/annotationProcessorPaths&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>I don't think the error comes from the custom library, because i did a copy paste of all its dependancies and used them directly on the Contact service's pom.xml and the issue was still there. Plus, the user service is working like a charm.</p>\n<p>What's weird, is that, if i edit the MongoDBContactRepository file in anyway, for example adding a space, and re-running the app, it works without the error, but if i do a <code>mvn clean compile</code> .. the issue happens again which blocks my compilation pipeline.</p>\n<p>I think there must be an issue with the annotation processing somewhere, but I don't know how to fix it.</p>\n",
    "tags" : [ "java", "maven", "annotation-processing", "micronaut-data", "micronaut-mongodb" ],
    "owner" : {
      "account_id" : 8707851,
      "reputation" : 807,
      "user_id" : 6515166,
      "user_type" : "registered",
      "accept_rate" : 85,
      "profile_image" : "https://i.sstatic.net/yxxFp.jpg?s=256",
      "display_name" : "Mssm",
      "link" : "https://stackoverflow.com/users/6515166/mssm"
    },
    "is_answered" : true,
    "view_count" : 117,
    "answer_count" : 1,
    "score" : 0,
    "last_activity_date" : 1754468023,
    "creation_date" : 1753966498,
    "link" : "https://stackoverflow.com/questions/79721312/micronaut-data-method-is-missing-compilation-time-query-information-ensure-that",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79725836,
    "question_id" : 79721312,
    "body" : "<p>I finally found the issue, i had some functions on my persistable entity, which were causing issues, i moved them to another class as static methods and kept the persistable entity holding the properties only, and this seemed to allow the annotation processor to treat the class.</p>\n<p>I'm still curious to understand why the annotation processor was not generating metadata during compile time when the class had other methods in it though.</p>\n<p><strong>Old class code</strong>:</p>\n<pre><code>@Setter\n@Getter\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\n@Introspected\n@MappedEntity(&quot;contacts&quot;)\npublic class Contact implements IdentifiableEntity, SearchableEntity {\n\n    @Id\n    @GeneratedValue\n    @BsonProperty(&quot;_id&quot;)\n    private String id;\n\n    @NotNull\n    private String name;\n    private String address;\n    private String phoneNumber;\n    private String email;\n\n    private LocalDateTime createdAt;\n\n    public Contact cloneAndSetName(String name) {\n        return cloneBuilder()\n                .name(name)\n                .build();\n    }\n\n    public ContactBuilder cloneBuilder() {\n        return Contact.builder()\n                .id(getId())\n                .name(getName())\n                .email(getEmail())\n                .address(getAddress())\n                .phoneNumber(getPhoneNumber())\n    }\n}\n</code></pre>\n<p><strong>New class code:</strong></p>\n<pre><code>@Setter\n@Getter\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\n@Introspected\n@MappedEntity(&quot;contacts&quot;)\npublic class Contact implements IdentifiableEntity, SearchableEntity {\n\n    @Id\n    @GeneratedValue\n    @BsonProperty(&quot;_id&quot;)\n    private String id;\n\n    @NotNull\n    private String name;\n    private String address;\n    private String phoneNumber;\n    private String email;\n\n    private LocalDateTime createdAt;\n\n    // Moved these functions to another class (Helper class)\n}\n</code></pre>\n",
    "score" : 0,
    "is_accepted" : true,
    "owner" : {
      "account_id" : 8707851,
      "reputation" : 807,
      "user_id" : 6515166,
      "user_type" : "registered",
      "accept_rate" : 85,
      "profile_image" : "https://i.sstatic.net/yxxFp.jpg?s=256",
      "display_name" : "Mssm",
      "link" : "https://stackoverflow.com/users/6515166/mssm"
    },
    "creation_date" : 1754383617,
    "last_activity_date" : 1754468023,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140634079,
    "post_id" : 79721312,
    "body" : "Just in case you didn&#39;t please check their upgrade guide: <a href=\"https://micronaut.io/2023/05/09/upgrade-to-micronaut-framework-4-0-0/\" rel=\"nofollow noreferrer\">micronaut.io/2023/05/09/upgrade-to-micronaut-framework-4-0-0</a>",
    "score" : 0,
    "owner" : {
      "account_id" : 209503,
      "reputation" : 23867,
      "user_id" : 460557,
      "user_type" : "registered",
      "accept_rate" : 100,
      "profile_image" : "https://www.gravatar.com/avatar/b4565f97815833390c9c880e9e8522e4?s=256&d=identicon&r=PG",
      "display_name" : "Jorge Campos",
      "link" : "https://stackoverflow.com/users/460557/jorge-campos"
    },
    "creation_date" : 1753999086,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140632727,
    "post_id" : 79721312,
    "body" : "I&#39;m using Intellij Idea as my main IDE as well. I intentionally removed the repository part in each pom.xml from the post because i had no more space. But this is how it looks like on each xml  &lt;repositories&gt;         &lt;repository&gt;             &lt;id&gt;central&lt;/id&gt;             &lt;url&gt;<a href=\"https://repo.maven.apache.org/maven2&lt;/url\" rel=\"nofollow noreferrer\">repo.maven.apache.org/maven2&lt;/url</a>&gt;             &lt;releases&gt;                 &lt;enabled&gt;true&lt;/enabled&gt;             &lt;/releases&gt;         &lt;/repository&gt;     &lt;/repositories&gt;",
    "score" : 0,
    "owner" : {
      "account_id" : 8707851,
      "reputation" : 807,
      "user_id" : 6515166,
      "user_type" : "registered",
      "accept_rate" : 85,
      "profile_image" : "https://i.sstatic.net/yxxFp.jpg?s=256",
      "display_name" : "Mssm",
      "link" : "https://stackoverflow.com/users/6515166/mssm"
    },
    "creation_date" : 1753966571,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}