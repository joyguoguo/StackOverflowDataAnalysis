{
  "question" : {
    "question_id" : 79571951,
    "title" : "Is there a way to return what a Kafka Consumer got?",
    "body" : "<p>I am developing a microservice application with Kafka as the message provider. In the user-service, I have a controller that calls a function which sends a request to the payment-service. My consumers and producers are configured correctly, but I would like to know if there's a way to return the response from the payment-service back to the user-service controller. Is this possible, and how would I achieve it?</p>\n<p>This is my service in the <strong>User-Service</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public List&lt;Donation&gt; getUserDonationHistory(String userId) {\n        // 1. Make a request to the payment-service from which to get the donation-history\n        producerService.requestUserDonationHistory(userId);\n        return null;\n    }\n\n</code></pre>\n<p>The KafkaProducerService</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void requestUserDonationHistory(String userId) {\n        log.info(&quot;Requesting the donation-history for the user with the ID: {}&quot;, userId);\n        kafkaTemplate.send(&quot;request-donation-history&quot;, userId);\n    }\n</code></pre>\n<p>The KafkaListeners in the <strong>Payment-Service</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@KafkaListener(topics = &quot;request-donation-history&quot;, groupId = &quot;groupId&quot;)\n    public void getDonationHistoryRequest(String userId) {\n        log.info(&quot;Got a donationHistoryRequest. Raw userId: {}&quot;, userId);\n        Long parsedUserId = Long.parseLong(gson.fromJson(userId, String.class));\n        log.info(&quot;Parsed userId: {}&quot;, parsedUserId);\n        producerService.sendUserDonationHistory(parsedUserId);\n    }\n\n</code></pre>\n",
    "tags" : [ "java", "spring-kafka" ],
    "owner" : {
      "account_id" : 34235202,
      "reputation" : 15,
      "user_id" : 26457316,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/6318d6f60fcacec8cf09846634bc1bac?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Marius Carchilan",
      "link" : "https://stackoverflow.com/users/26457316/marius-carchilan"
    },
    "is_answered" : false,
    "view_count" : 30,
    "answer_count" : 0,
    "score" : 1,
    "last_activity_date" : 1744572341,
    "creation_date" : 1744572076,
    "link" : "https://stackoverflow.com/questions/79571951/is-there-a-way-to-return-what-a-kafka-consumer-got",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ ],
  "question_comments" : [ {
    "comment_id" : 140333302,
    "post_id" : 79571951,
    "body" : "It is not clear why you send to Kafka from the <code>producerService</code>, just to use this <code>producerService</code> again in the <code>@KafkaListener</code>. Also not clear what you&#39;d like to return. Either way still this sounds like you want to implement a request-reply over Kafka: <a href=\"https://docs.spring.io/spring-kafka/reference/kafka/sending-messages.html#exchanging-messages\" rel=\"nofollow noreferrer\">docs.spring.io/spring-kafka/reference/kafka/&hellip;</a>, <a href=\"https://docs.spring.io/spring-kafka/reference/kafka/receiving-messages/annotation-send-to.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-kafka/reference/kafka/receiving-messag&zwnj;&#8203;es/&hellip;</a>",
    "score" : 1,
    "owner" : {
      "account_id" : 3273937,
      "reputation" : 122596,
      "user_id" : 2756547,
      "user_type" : "registered",
      "accept_rate" : 75,
      "profile_image" : "https://www.gravatar.com/avatar/2158ce6e7c048277890eb64458864c1c?s=256&d=identicon&r=PG",
      "display_name" : "Artem Bilan",
      "link" : "https://stackoverflow.com/users/2756547/artem-bilan"
    },
    "creation_date" : 1744641654,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}