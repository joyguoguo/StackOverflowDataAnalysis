{
  "question" : {
    "question_id" : 79828147,
    "title" : "How to write rdf4j Model to a string while preserving the original structure?",
    "body" : "<p>I have a plain java application that consumes a jsonld structured file, converts it to a Model class from rdf4j framework and then writes it as a string. The demo code is as so:</p>\n<pre><code>public static void main(String[] args) throws IOException {\n        InputStream dummyIS = Main.class.getResourceAsStream(&quot;/dummyJ.json&quot;);\n        Model output = Rio.parse(dummyIS, &quot;&quot;, RDFFormat.JSONLD);\n        \n        // logic to interact with output field\n\n        WriterConfig writerConfig = new WriterConfig();\n        writerConfig.set(JSONLDSettings.JSONLD_MODE, JSONLDMode.COMPACT);\n        StringWriter out = new StringWriter();\n        Rio.write(output, out, RDFFormat.JSONLD, writerConfig);\n        String finalOut = out.toString();\n\n         // saving string somewhere\n}\n</code></pre>\n<p>Now, I noticed that when I write Model to a string like demonstrated here, the structure of my file changes. If the starting json file looks as so:</p>\n<pre><code>{\n  &quot;@id&quot;: &quot;https://example.com/86b0db22-8478-4e5e-ac8b-456a07f7b203&quot;,\n  &quot;@graph&quot;: [\n    {\n      &quot;@id&quot;: &quot;https://example.com/123&quot;,\n      &quot;edm:dummy&quot;:[\n       {\n        &quot;@id&quot;: &quot;https://example.com/123#abc&quot;,\n        &quot;@field1&quot;: &quot;dummyData&quot;,\n        ...\n       }\n      ]\n    }\n  ],\n  &quot;@context&quot;:[...]\n}\n</code></pre>\n<p>Then when I write a file to a string as shown above, my file looks as so:</p>\n<pre><code>{\n  &quot;@graph&quot;:[\n   {\n    &quot;@id&quot;: &quot;_:genid-61d31e4b5a1a4ef397ec527041ed13d62-b0&quot;,\n    &quot;@graph&quot;: [\n      {\n        &quot;@id&quot;: &quot;https://example.com/123&quot;,\n        {\n          &quot;@id&quot;: &quot;https://example.com/123#abc&quot;,\n          &quot;@field1&quot;: &quot;dummyData&quot;,\n          ...\n        },\n        &quot;edm:dummy&quot;:[\n            &quot;@id&quot;: &quot;https://example.com/123#abc&quot;\n        ],\n        ...\n      }\n    ]\n   }\n  ],\n  &quot;@context&quot;:[...]\n}\n</code></pre>\n<p>As you can see, all my data except for <code>@context</code>, gets wrapped in additional <code>@graph</code> layer. The content of <code>edm:dummy</code> is stored outside of <code>edm:dummy</code> and <code>edm:dummy</code> now only contains <code>@id</code> fields. I also get random new fields such as <code>&quot;@id&quot;: &quot;_:genid-61d31e4b5a1a4ef397ec527041ed13d62-b0&quot;</code>.</p>\n<p>I don't want neither of those things happening. I want my output string to be in the same structure as it was at the start. Initially, I thought I made a mistake when manipulating my Model. However, even if I don't do any work with my Model and immediately convert Model back to string, I still see the same behaviour. Which makes me believe that I write my Model to a string incorrectly.</p>\n<p>My question is what am I doing wrong? How can I write a Model to a string such that I preserve the original structure without introducing extra fields &amp; wrapping my data into a <code>@graph</code> array?</p>\n",
    "tags" : [ "java", "json-ld", "rdf4j" ],
    "owner" : {
      "account_id" : 10568655,
      "reputation" : 455,
      "user_id" : 7786149,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/ca6ff7779fa37dd5f0077d413622ad91?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Joe",
      "link" : "https://stackoverflow.com/users/7786149/joe"
    },
    "is_answered" : true,
    "view_count" : 106,
    "answer_count" : 2,
    "score" : 2,
    "last_activity_date" : 1764693181,
    "creation_date" : 1763936724,
    "link" : "https://stackoverflow.com/questions/79828147/how-to-write-rdf4j-model-to-a-string-while-preserving-the-original-structure",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ ],
  "question_comments" : [ ],
  "answer_comments" : { }
}