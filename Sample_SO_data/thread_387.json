{
  "question" : {
    "question_id" : 79804599,
    "title" : "Architecture design for multilingual descriptions for several classes",
    "body" : "<p>I am creating an E-Commerce app. It has <code>Category</code> and <code>Product</code> classes. Both have multilingual descriptions, so, tables with <code>title</code>, <code>description</code>, <code>meta-*</code>, etc. and unique key (id, language_id).</p>\n<p>To add translations to a <code>Review</code> class, a review should have descriptions. I cannot decide between these options:</p>\n<ol>\n<li>Create separate <code>CategoryDescription</code>, <code>ProductDescription</code>, <code>ReviewDescription</code> classes/tables. This is fast, but those are practically identical and I need to write methods for each.</li>\n<li>Create a <code>Description</code> table/class that holds descriptions for any class. But: I don't know how to efficiently connect them to <code>Category</code>, <code>Product</code> and <code>Review</code> classes/tables. May not be scalable.</li>\n</ol>\n<p>What are your thoughts?</p>\n<p>How exactly would you implement a solution?</p>\n<p><a href=\"https://stackoverflow.com/q/26765175/multi-language-database-with-default-fallback\">Multi language database, with default fallback</a> is a similar question, but it only concerns descriptions for one class. Here several classes should have multilingual descriptions.</p>\n",
    "tags" : [ "java", "mysql", "design-patterns", "database-design", "architecture" ],
    "owner" : {
      "account_id" : 12785520,
      "reputation" : 178,
      "user_id" : 11672197,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/fhKZG.jpg?s=256",
      "display_name" : "qarabala",
      "link" : "https://stackoverflow.com/users/11672197/qarabala"
    },
    "is_answered" : true,
    "view_count" : 117,
    "answer_count" : 1,
    "score" : 3,
    "last_activity_date" : 1761823313,
    "creation_date" : 1761817259,
    "link" : "https://stackoverflow.com/questions/79804599/architecture-design-for-multilingual-descriptions-for-several-classes",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79804663,
    "question_id" : 79804599,
    "body" : "<p>So, by how you say they are 'practically' identical, the Category, Product and Reviews might differ in their fields? You could try and get create an inheritance hierarchy where they all inherit from some base, abstract Description-class and then use various mapping strategies to get that into the DB, but that does feel wrong to me too.</p>\n<p>Have you considered a third option, a Table <code>Translation</code> that just contains a single piece of text to be translated? In other words, instead of having the unique key be (category/product/review_id, language_id)) which loads an object with multiple fields for your various translations, have it be (category/product/review_id, language_id, text_key)). Something like:</p>\n<div class=\"s-table-container\"><table class=\"s-table\">\n<thead>\n<tr>\n<th>(categoryId/productId/reviewId)</th>\n<th>language_id</th>\n<th>text_key</th>\n<th>text</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>someId</td>\n<td>en</td>\n<td>title</td>\n<td>BEST PRODUCT EVER</td>\n</tr>\n<tr>\n<td>someId</td>\n<td>en</td>\n<td>description</td>\n<td>I really like this product</td>\n</tr>\n<tr>\n<td>someOtherId</td>\n<td>de</td>\n<td>title</td>\n<td>Acme Staubsauger (Rot)</td>\n</tr>\n</tbody>\n</table></div>\n<p>When a User with locale 'en' loads the Product X, you just select every translation where id = productXId and language_id = 'en' and load it in a Map which your application can use. This way, a Review can have different fields that need to be translated without modifying the DB-Definition. Likewise, if at some point you decide a <code>ProductDescription</code> needs a new translatable text, you simply insert it into this table and you're good to go.</p>\n<p>Optionally, the single Id column can be three columns with nullable foreign key constraints, if you want the enhanced correctness that gives. See <a href=\"https://stackoverflow.com/questions/7844460/foreign-key-to-multiple-tables\">this question</a> for various ways you could do that, or alternatives.</p>\n<p>Upsides:</p>\n<ul>\n<li><p>Reviews, Categories and Products can diverge in terms of required translations with no impact on your DB. They might start out 'practically' identical, but that's not guaranteed, after all.</p>\n</li>\n<li><p>Similarly, if any future objects need translated texts, you can integrate them into the same solution too.</p>\n</li>\n<li><p>You save yourself the headache of doing class inheritance mapping/persisting</p>\n</li>\n</ul>\n<p>Downside:</p>\n<ul>\n<li>Working with a map instead of a bespoke <code>Description</code> Object means you might try to access a translation that doesn't exist, or misspell it and only find out at runtime when a text can't be translated.</li>\n</ul>\n",
    "score" : 2,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 33204902,
      "reputation" : 52,
      "user_id" : 25718310,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/e503d5271437e46c18f0d67d4a7fa739?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "user25718310",
      "link" : "https://stackoverflow.com/users/25718310/user25718310"
    },
    "creation_date" : 1761821043,
    "last_activity_date" : 1761821043,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140834321,
    "post_id" : 79804599,
    "body" : "Testing whether a comment can be posted on an &quot;open-ended question&quot; reply.",
    "score" : 0,
    "owner" : {
      "account_id" : 4151902,
      "reputation" : 15210,
      "user_id" : 3404097,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/ec24a4fbe284c5379ba108a58a13fe8f?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "philipxy",
      "link" : "https://stackoverflow.com/users/3404097/philipxy"
    },
    "creation_date" : 1762195844,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}