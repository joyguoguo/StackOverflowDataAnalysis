{
  "question" : {
    "question_id" : 79543677,
    "title" : "Reading a CSV in an Android Studio Java Application",
    "body" : "<p>I'm creating an Android application in Java using Android Studio and the OpenCSV package. It seems to work fine when I upload the csv file to my device or emulator's file system and access it that way, but for the purposes of the app it should be downloaded with the app itself. I've tried to place it in the assets folder and access it that way, but for whatever reason it cannot find the file to read its information to put in the spinner.</p>\n<p>I know there's much less complicated ways to fill a spinner than a csv, it just contains information related to each of those spinner options to display when an item is selected. Am I taking the wrong approach to storing the csv file within the application? I feel like a csv file is my best approach given the data for this application has been created in a large excel file.</p>\n<p>Here's a snippet of me trying to access the csv file.</p>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    EdgeToEdge.enable(this);\n    setContentView(R.layout.activity_main);\n    textView = findViewById(R.id.textView1);\n\n\n    // create a list of items for the spinner.\n    String csvfileString = getFilesDir() + &quot;/ShelterInfo.csv&quot;;\n    System.out.println(csvfileString);\n\n    File csvfile = new File(csvfileString);\n    Spinner dropdown = findViewById(R.id.spinner1);\n    ArrayAdapter&lt;String&gt; spinnerArrayAdapter;\n    CSVReader reader;\n    try {\n        reader = new CSVReader(new FileReader(csvfile));\n    } catch (FileNotFoundException e) {\n        throw new RuntimeException(e);\n    }\n</code></pre>\n",
    "tags" : [ "java", "android", "csv", "package", "assets" ],
    "owner" : {
      "account_id" : 41068738,
      "reputation" : 11,
      "user_id" : 30104418,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/d480ba871833e6f50b980bf498563ddb?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Alex Burnett",
      "link" : "https://stackoverflow.com/users/30104418/alex-burnett"
    },
    "is_answered" : false,
    "view_count" : 88,
    "answer_count" : 1,
    "score" : 1,
    "last_activity_date" : 1743277682,
    "creation_date" : 1743270897,
    "link" : "https://stackoverflow.com/questions/79543677/reading-a-csv-in-an-android-studio-java-application",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79543816,
    "question_id" : 79543677,
    "body" : "<p>The approach you're taking (using a CSV file to store and retrieve data for your Spinner) is perfectly valid, especially given that your data originates from a large Excel file.</p>\n<p>The problem here is the way you're trying to access the file. When you use <code>getFilesDir()</code>, you're pointing to the app's internal storage directory, but assets files aren't stored there. Assets are packaged with your app in a different location.</p>\n<p>Use getAssets().open(&quot;ShelterInfo.csv&quot;). This ensures the file is ready correctly from the assets folder. Create an InputStreamReader from the opened InputStream. Properly catch the potential IOException.</p>\n<p>I hope the following code snippet helps - I haven't written Java in some time!</p>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    EdgeToEdge.enable(this);\n    setContentView(R.layout.activity_main);\n    textView = findViewById(R.id.textView1);\n\n    Spinner dropdown = findViewById(R.id.spinner1);\n    List&lt;String&gt; spinnerItems = new ArrayList&lt;&gt;();\n    \n    try {\n        // Open the CSV file from assets folder\n        InputStream inputStream = getAssets().open(&quot;ShelterInfo.csv&quot;);\n        InputStreamReader inputStreamReader = new InputStreamReader(inputStream);\n        \n        // Create the CSV reader\n        CSVReader reader = new CSVReader(inputStreamReader);\n        \n        // Read CSV data\n        String[] nextLine;\n        while ((nextLine = reader.readNext()) != null) {\n            // Assuming the first column contains spinner items\n            spinnerItems.add(nextLine[0]);\n        }\n        \n        // Create and set adapter\n        ArrayAdapter&lt;String&gt; spinnerArrayAdapter = new ArrayAdapter&lt;&gt;(\n                this, android.R.layout.simple_spinner_dropdown_item, spinnerItems);\n        dropdown.setAdapter(spinnerArrayAdapter);\n        \n        reader.close();\n    } catch (IOException e) {\n        e.printStackTrace();\n        textView.setText(&quot;Error reading CSV: &quot; + e.getMessage());\n    }\n}\n</code></pre>\n",
    "score" : 0,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 9046521,
      "reputation" : 1,
      "user_id" : 6738611,
      "user_type" : "registered",
      "profile_image" : "https://lh5.googleusercontent.com/-WlwGVGMIESw/AAAAAAAAAAI/AAAAAAAAAIA/Z6f5QeaPmv0/s256-rj/photo.jpg",
      "display_name" : "Rook Soto",
      "link" : "https://stackoverflow.com/users/6738611/rook-soto"
    },
    "creation_date" : 1743277682,
    "last_activity_date" : 1743277682,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140281561,
    "post_id" : 79543677,
    "body" : "Please adjust title as is not related to description",
    "score" : 0,
    "owner" : {
      "account_id" : 13977005,
      "reputation" : 680,
      "user_id" : 10094167,
      "user_type" : "registered",
      "profile_image" : "https://lh3.googleusercontent.com/-UZ6z4lLq07Q/AAAAAAAAAAI/AAAAAAAAAVg/JGTK_1z573Q/s256-rj/photo.jpg",
      "display_name" : "dawid debinski",
      "link" : "https://stackoverflow.com/users/10094167/dawid-debinski"
    },
    "creation_date" : 1743411630,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140278459,
    "post_id" : 79543677,
    "body" : "&quot;display when an item is selected&quot; â€” Perhaps you should be using localization features. I do not do Android development, so I do not know for sure, but surely the Android platform must provide an internationalization/localization facility for loading such UI textual items.",
    "score" : 0,
    "owner" : {
      "account_id" : 322981,
      "reputation" : 346951,
      "user_id" : 642706,
      "user_type" : "registered",
      "accept_rate" : 58,
      "profile_image" : "https://i.sstatic.net/ZWEI3.jpg?s=256",
      "display_name" : "Basil Bourque",
      "link" : "https://stackoverflow.com/users/642706/basil-bourque"
    },
    "creation_date" : 1743309783,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140278457,
    "post_id" : 79543677,
    "body" : "Your title does need improvement. Rewrite to summarize your specific technical issue.",
    "score" : 0,
    "owner" : {
      "account_id" : 322981,
      "reputation" : 346951,
      "user_id" : 642706,
      "user_type" : "registered",
      "accept_rate" : 58,
      "profile_image" : "https://i.sstatic.net/ZWEI3.jpg?s=256",
      "display_name" : "Basil Bourque",
      "link" : "https://stackoverflow.com/users/642706/basil-bourque"
    },
    "creation_date" : 1743309704,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140278376,
    "post_id" : 79543677,
    "body" : "The title is misleading. You know how to read CSV files. You are having an issue doing it. Describe the issue.",
    "score" : 1,
    "owner" : {
      "account_id" : 372682,
      "reputation" : 26512,
      "user_id" : 721855,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/vZiox.png?s=256",
      "display_name" : "aled",
      "link" : "https://stackoverflow.com/users/721855/aled"
    },
    "creation_date" : 1743303661,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140277598,
    "post_id" : 79543677,
    "body" : "Why Java? Kotlin is preferred: <a href=\"https://developer.android.com/kotlin\" rel=\"nofollow noreferrer\">developer.android.com/kotlin</a>",
    "score" : 0,
    "owner" : {
      "account_id" : 442814,
      "reputation" : 23299,
      "user_id" : 833647,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/Jpy2l.jpg?s=256",
      "display_name" : "Ken Wolf",
      "link" : "https://stackoverflow.com/users/833647/ken-wolf"
    },
    "creation_date" : 1743273205,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}