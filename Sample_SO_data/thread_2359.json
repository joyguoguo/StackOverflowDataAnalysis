{
  "question" : {
    "question_id" : 79625440,
    "title" : "How to make a Spring Boot app deployed in JBoss comunicate with another ActiveMQ Artemis server?",
    "body" : "<p>I am having some troubles trying to configure both JBoss and my Spring app in order to use another ActiveMQ Artemis broker instead of the one integrated in JBoss.</p>\n<p>Inside the <code>pom.xml</code> I put the <strong>spring-boot-starter-artemis</strong> and in <code>application.properties</code> I put <code>spring.artemis.mode=native</code>\nand <code>spring.jms.jndi-name=java:/jms/artemis-remoteCF</code> which is my <code>pooled-connection-factory</code> in the <code>messaging</code> JBoss subsystem, i.e.:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;pooled-connection-factory name=&quot;artemis-remote&quot; entries=&quot;java:/jms/artemis-remoteCF&quot; connectors=&quot;artemis-remote&quot; user=&quot;artemis&quot; password=&quot;artemis&quot;/&gt;\n...\n&lt;remote-connector name=&quot;artemis-remote&quot; socket-binding=&quot;artemis-remote&quot;/&gt;\n...\n&lt;outbound-socket-binding name=&quot;artemis-remote&quot;&gt;\n   &lt;remote-destination host=&quot;localhost&quot; port=&quot;61616&quot;/&gt;\n&lt;/outbound-socket-binding&gt;\n</code></pre>\n<p>Why can't I see the consumer on the queue <code>test</code> I created? I designed a simple <code>@JmsListener</code> with that destination.</p>\n",
    "tags" : [ "java", "spring", "spring-boot", "jboss", "activemq-artemis" ],
    "owner" : {
      "account_id" : 42019117,
      "reputation" : 1,
      "user_id" : 30557455,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/9afff41ef153bf6a6b9790159117267d?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "noob-super",
      "link" : "https://stackoverflow.com/users/30557455/noob-super"
    },
    "is_answered" : false,
    "view_count" : 88,
    "answer_count" : 1,
    "score" : 0,
    "last_activity_date" : 1747521804,
    "creation_date" : 1747407129,
    "link" : "https://stackoverflow.com/questions/79625440/how-to-make-a-spring-boot-app-deployed-in-jboss-comunicate-with-another-activemq",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79627037,
    "question_id" : 79625440,
    "body" : "<p>Make sure you're using the <code>native</code> mode and referencing the correct JNDI name for the pooled connection factory defined in the JBoss messaging subsystem.</p>\n<p>In JBoss, configure a <code>pooled-connection-factory</code> that uses a <code>remote-connector</code> and <code>outbound-socket-binding</code>pointing to the external broker. Ensure the JNDI name in your Spring configuration matches the one in JBoss.</p>\n<p>Also, verify that the user credentials provided in the connection factory have the necessary permissions on the target queue in the external broker. If your <code>@JmsListener</code> does not receive messages, check the Artemis web console to confirm whether a consumer is connected, and enable debug logging in Spring to trace any connection issues.</p>\n",
    "score" : 0,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 42006005,
      "reputation" : 1,
      "user_id" : 30551180,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/0ee7f3a59e8093762cae81f584116117?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Niklas",
      "link" : "https://stackoverflow.com/users/30551180/niklas"
    },
    "creation_date" : 1747521804,
    "last_activity_date" : 1747521804,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140433508,
    "post_id" : 79625440,
    "body" : "I tried to do what you said and I had no error in the JBoss console. I tried another thing: i used the spring auto configuration connection factory simply putting  spring.activemq.broker-url=tcp://localhost:61616 spring.activemq.user=artemis spring.activemq.password=wrong-passowrd and I saw the error <i>could not refresh .. * for the queue *test</i>. But if i use the right password, even if there are zero errori, the consumer count on the artemis console for queue test Is zero.",
    "score" : 0,
    "owner" : {
      "account_id" : 42019117,
      "reputation" : 1,
      "user_id" : 30557455,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/9afff41ef153bf6a6b9790159117267d?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "noob-super",
      "link" : "https://stackoverflow.com/users/30557455/noob-super"
    },
    "creation_date" : 1747420281,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140433382,
    "post_id" : 79625440,
    "body" : "If you stop the ActiveMQ Artemis instance listening on <code>61616</code> and then start your application do you get any kind of error or warning? If not, that likely means the application isn&#39;t actually trying to connect to that instance.",
    "score" : 0,
    "owner" : {
      "account_id" : 11434008,
      "reputation" : 36282,
      "user_id" : 8381946,
      "user_type" : "registered",
      "profile_image" : "https://lh3.googleusercontent.com/-ORs8fPNVzDU/AAAAAAAAAAI/AAAAAAAADBs/F3IsdsProVY/s256-rj/photo.jpg",
      "display_name" : "Justin Bertram",
      "link" : "https://stackoverflow.com/users/8381946/justin-bertram"
    },
    "creation_date" : 1747417653,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140433053,
    "post_id" : 79625440,
    "body" : "I try to answer your questions: Are you actually using the artemis-remoteCF ConnectionFactory in your application? Yes, with the property <b>spring.jms.jndi-name=java:/jms/artemis-remoteCF</b> in my application.properties.  why are you deploying a Spring Boot app to JBoss in the first place? i have to and i have to use the jboss artemis modules.",
    "score" : 0,
    "owner" : {
      "account_id" : 42019117,
      "reputation" : 1,
      "user_id" : 30557455,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/9afff41ef153bf6a6b9790159117267d?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "noob-super",
      "link" : "https://stackoverflow.com/users/30557455/noob-super"
    },
    "creation_date" : 1747410705,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}