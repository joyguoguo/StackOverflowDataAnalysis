{
  "question" : {
    "question_id" : 79834897,
    "title" : "Java Swing Invisible Image",
    "body" : "<h1>Context:</h1>\n<p>I'm trying to make an app with java swing, however when trying to add a background to the Login Page, the image does not show up. It is there and moves other JComponents when adding a layout to the root JPanel of the Page, it just, doesn't display the image. I've also tried JavaFX but it seems like I'm having the same problem over there.</p>\n<p>I've also tried to find if anyone else has the same problem, however couldn't find anything useful. After spending a whole day trying to figure out a solution, I resorted to asking over here</p>\n<h2>Pc Info:</h2>\n<p>This is my PC info if it sums up to be a DE promblem</p>\n<pre><code>                  -`                     mmt007@mmt007desktop\n                 .o+`                    --------------------\n                `ooo/                    OS: Arch Linux x86_64\n               `+oooo:                   Host: B75M-D3P\n              `+oooooo:                  Kernel: Linux 6.17.6-arch1-1\n              -+oooooo+:                 Uptime: 21 mins\n            `/:-:++oooo+:                Packages: 1022 (pacman), 26 (flatpak)\n           `/++++/+++++++:               Shell: bash 5.3.3\n          `/++++++++++++++:              Display (WX942): 1440x900 in 19&quot;, 60 Hz [External]\n         `/+++ooooooooooooo/`            WM: Hyprland 0.51.1 (Wayland)\n        ./ooosssso++osssssso+`           Theme: Adwaita-dark [GTK2/3/4]\n       .oossssso-````/ossssss+`          Icons: Adwaita [GTK2/3/4]\n      -osssssso.      :ssssssso.         Font: Noto Sans (12pt) [Qt], Adwaita Sans (11pt) [GTK2/3/4]\n     :osssssss/        osssso+++.        Cursor: default (24px)\n    /ossssssss/        +ssssooo/-        Terminal: kitty 0.43.1\n  `/ossssso+/:-        -:/+osssso+-      Terminal Font: NimbusMonoPS-Regular (11pt)\n `+sso+:-`                 `.-/+oso:     CPU: Intel(R) Core(TM) i5-3570 (4) @ 3.80 GHz\n`++:.                           `-/+/    GPU: Intel Xeon E3-1200 v2/3rd Gen Core processor Graphics Controller @ 1.15 GHz [Integrated]\n.`                                 `/    Memory: 3.73 GiB / 7.62 GiB (49%)\n                                         Swap: 0 B / 4.00 GiB (0%)\n                                         Disk (/): 82.46 GiB / 214.08 GiB (39%) - ext4\n                                         Locale: en_US.UTF-8\n</code></pre>\n<h2>The Code:</h2>\n<p>And here is the code that is giving me problems:</p>\n<h3>Login Page class:</h3>\n<pre class=\"lang-java prettyprint-override\"><code>public class LoginPage extends Page {\n    protected void init() {\n        root.setLayout(new FlowLayout());\n\n        JImageLabel background = new JImageLabel(new ImageIcon(&quot;assets/backgrounds/login_background.png&quot;));\n        background.setSize(400,400);\n\n        background.setPreferredSize(new Dimension(800,100));\n\n        root.add(background);\n        root.setBackground(Color.BLACK);\n    }\n\n}\n</code></pre>\n<h3>Page class:</h3>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class Page {\n    protected final JPanel root = new JPanel();\n\n    public Page() { init(); }\n\n    protected abstract void init();\n}\n</code></pre>\n<h3>JImageLabel class:</h3>\n<pre class=\"lang-java prettyprint-override\"><code>public class JImageLabel extends JLabel {\n    private ImageIcon image;\n\n    public JImageLabel(ImageIcon image)\n    {super(image);}\n}\n</code></pre>\n<h3>Window class:</h3>\n<pre class=\"lang-java prettyprint-override\"><code>public class Window extends JFrame {\n    private static final Window INSTANCE = new Window(&quot;Disbot&quot;);\n\n    private static final Dimension DEFAULT_WINDOW_SIZE = new Dimension(1280,720);\n    private static Page page = null;\n\n    private Window(String title) throws HeadlessException\n    {super(title);}\n\n    public static void init(){\n        INSTANCE.setDefaultCloseOperation(EXIT_ON_CLOSE);\n        INSTANCE.setSize(DEFAULT_WINDOW_SIZE);\n\n        INSTANCE.setVisible(true);\n    }\n\n    public static void setPage(Page new_page){\n        page = new_page;\n        INSTANCE.setContentPane(page.root);\n        INSTANCE.repaint();\n    }\n}\n</code></pre>\n<h3>Main Class:</h3>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; {\n            Window.init();\n            Window.setPage(new LoginPage());\n        });\n    }\n}\n</code></pre>\n<h2>Screenshots:</h2>\n<p><a href=\"https://i.sstatic.net/YjMwcVpx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/YjMwcVpx.png\" alt=\"image1 - black blank screen\" /></a>\n<a href=\"https://i.sstatic.net/f5BAPRK6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/f5BAPRK6.png\" alt=\"image2 - two jbuttons on either side of the invisible image\" /></a></p>\n",
    "tags" : [ "java", "swing", "user-interface", "archlinux" ],
    "owner" : {
      "account_id" : 25879828,
      "reputation" : 38,
      "user_id" : 19609110,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/tmqdUCyf.jpg?s=256",
      "display_name" : "MMT007_backUP",
      "link" : "https://stackoverflow.com/users/19609110/mmt007-backup"
    },
    "is_answered" : false,
    "view_count" : 110,
    "answer_count" : 1,
    "score" : 1,
    "last_activity_date" : 1764934986,
    "creation_date" : 1764595868,
    "link" : "https://stackoverflow.com/questions/79834897/java-swing-invisible-image",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79838825,
    "question_id" : 79834897,
    "body" : "<p>After checking your code carefully, I found the main issue. It comes from the <code>LoginPage</code> class.</p>\n<p><strong>Layout:</strong>\nYou chose a <code>FlowLayout</code> but I prefer <code>BorderLayout</code> in this case because the image will be displayed in the center of the frame. <code>FlowLayout</code> is useful when you want to add components in a flowing form like <code>Buttons</code>, but in this case <code>BorderLayout</code> is fine.</p>\n<p><strong>Setting label to Opaque:</strong>\nThis one was missing: <code>background.setOpaque(true);</code>. Its very important because it makes image to fit in the <code>Label</code>.</p>\n<p><strong>Image Path:</strong>\nMake sure that you paste your <code>Image</code> path correctly into the <code>ImageIcon</code>;  its better if you use <code>getClass()</code> and <code>getResource()</code> which will shorten your image file path to something similar to: <code>/path/image.png</code>.</p>\n<p>Full fixed code in the <code>LoginPage</code> class (After checking with my 400x400 image, it is working):</p>\n<pre><code>package main;\n\nimport java.awt.BorderLayout;\nimport java.awt.Color;\nimport javax.swing.ImageIcon;\n\npublic class LoginPage extends Page {\n    protected void init() {\n        root.setLayout(new BorderLayout()); // Instead of FLowLayout. now Image can be partially displayed in the center of the frame.\n\n        JImageLabel background = new JImageLabel(new ImageIcon(getClass().getResource(&quot;/package/filename.extension&quot;))); // enter a path in following way.\n        background.setOpaque(true);  // so Image can fit inside of Label\n        background.setSize(400, 400); \n\n        root.add(background);\n        root.setBackground(Color.BLACK);\n    }\n}\n</code></pre>\n",
    "score" : 0,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 44299246,
      "reputation" : 1,
      "user_id" : 31681295,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/668cda049534a2a2703cb0cfef2b9192?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "IosebiGames",
      "link" : "https://stackoverflow.com/users/31681295/iosebigames"
    },
    "creation_date" : 1764934092,
    "last_activity_date" : 1764934986,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140883665,
    "post_id" : 79834897,
    "body" : "@g00se, I agree that normally, this would not be how I would implement file uploading, but since I refuse to guess the context, I assume it may be applicable, and yes, it works!",
    "score" : 0,
    "owner" : {
      "account_id" : 10843443,
      "reputation" : 926,
      "user_id" : 20882864,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/CCQCy.jpg?s=256",
      "display_name" : "Marce Puente",
      "link" : "https://stackoverflow.com/users/20882864/marce-puente"
    },
    "creation_date" : 1764692398,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140882788,
    "post_id" : 79834897,
    "body" : "Maybe you used the wrong terms in your <a href=\"https://stackoverflow.com/search?q=%5Bswing%5D+background+image\">search</a>? By the way, did you see the <i>swing</i> [tag] <a href=\"https://stackoverflow.com/tags/swing/info\">wiki</a>?",
    "score" : 0,
    "owner" : {
      "account_id" : 2485939,
      "reputation" : 20969,
      "user_id" : 2164365,
      "user_type" : "registered",
      "accept_rate" : 40,
      "profile_image" : "https://i.sstatic.net/RKSgV.png?s=256",
      "display_name" : "Abra",
      "link" : "https://stackoverflow.com/users/2164365/abra"
    },
    "creation_date" : 1764662839,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140882777,
    "post_id" : 79834897,
    "body" : "@MarcePuente you see, <i>something like</i> simply won&#39;t cut it. The reason relative file paths are not used is that it&#39;s difficult to impossible to constrain the current directory. Which is why, along with sheer convenience, resources are not loaded as files in the filesystem.",
    "score" : 0,
    "owner" : {
      "account_id" : 22124137,
      "reputation" : 4244,
      "user_id" : 16376827,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/1ImPw.png?s=256",
      "display_name" : "g00se",
      "link" : "https://stackoverflow.com/users/16376827/g00se"
    },
    "creation_date" : 1764662158,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140882627,
    "post_id" : 79834897,
    "body" : "Your path should be (assuming the <i>assets</i> folder is in <b>src</b>) something like: <b>new ImageIcon( “src/assets/backgrounds/login_background.png” )</b>, however, for it to work from a <i>jar</i>, you must follow the instructions from <i>g00se</i>.",
    "score" : 0,
    "owner" : {
      "account_id" : 10843443,
      "reputation" : 926,
      "user_id" : 20882864,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/CCQCy.jpg?s=256",
      "display_name" : "Marce Puente",
      "link" : "https://stackoverflow.com/users/20882864/marce-puente"
    },
    "creation_date" : 1764654464,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140882175,
    "post_id" : 79834897,
    "body" : "If that app is packaged correctly then the following should work: <code>JImageLabel background = new JImageLabel(new ImageIcon(LoginPage.class.getResource(&quot;&#47;assets&#47;backgrounds&#47;l&zwnj;&#8203;ogin_background.png&quot;&zwnj;&#8203;)));</code>",
    "score" : 0,
    "owner" : {
      "account_id" : 22124137,
      "reputation" : 4244,
      "user_id" : 16376827,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/1ImPw.png?s=256",
      "display_name" : "g00se",
      "link" : "https://stackoverflow.com/users/16376827/g00se"
    },
    "creation_date" : 1764623507,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140882068,
    "post_id" : 79834897,
    "body" : "@MarcePuente Hi, I&#39;ve tried a bunch of different path combinations, none of them worked so far",
    "score" : 0,
    "owner" : {
      "account_id" : 25879828,
      "reputation" : 38,
      "user_id" : 19609110,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/tmqdUCyf.jpg?s=256",
      "display_name" : "MMT007_backUP",
      "link" : "https://stackoverflow.com/users/19609110/mmt007-backup"
    },
    "creation_date" : 1764618946,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140881876,
    "post_id" : 79834897,
    "body" : "Hello MMT007_backUP, your code works fine (although the <i>JImageLabel</i> class is of no practical use), the file path is probably incorrect.",
    "score" : 2,
    "owner" : {
      "account_id" : 10843443,
      "reputation" : 926,
      "user_id" : 20882864,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/CCQCy.jpg?s=256",
      "display_name" : "Marce Puente",
      "link" : "https://stackoverflow.com/users/20882864/marce-puente"
    },
    "creation_date" : 1764610690,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140881411,
    "post_id" : 79834897,
    "body" : "As a side note, your classes <code>JImageLabel</code> and <code>Window</code> are obsolete. They do nothing that couldn’t be done on instances of the existing Swing class, without subclasses it. And you are overusing <code>static</code>.",
    "score" : 6,
    "owner" : {
      "account_id" : 3211603,
      "reputation" : 300981,
      "user_id" : 2711488,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/t2hoD.jpg?s=256",
      "display_name" : "Holger",
      "link" : "https://stackoverflow.com/users/2711488/holger"
    },
    "creation_date" : 1764596609,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140881396,
    "post_id" : 79834897,
    "body" : "Straight off the bat, &quot;assets&quot; are <i>resources</i> so should be packaged with your app and loaded as such. At the moment, you are loading as files, which is different (and &#39;wrong&#39;). You will probably find that how to load a background image is a FAQ (hence duplicate question) so this is likely to be closed. Also, don&#39;t over-engineer - these subclasses are buying you little to nothing. And, confusingly, <code>JFrame</code> is <i>actually</i> a subclass of <code>java.awt.Window</code>",
    "score" : 4,
    "owner" : {
      "account_id" : 22124137,
      "reputation" : 4244,
      "user_id" : 16376827,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/1ImPw.png?s=256",
      "display_name" : "g00se",
      "link" : "https://stackoverflow.com/users/16376827/g00se"
    },
    "creation_date" : 1764596035,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}