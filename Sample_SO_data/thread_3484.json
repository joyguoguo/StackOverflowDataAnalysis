{
  "question" : {
    "question_id" : 79546599,
    "title" : "How to sign a launcher created by jpackage on Windows?",
    "body" : "<p>The entry point of the application bundled by <code>jpackage</code> is &quot;My App.exe&quot;, given that the app is called &quot;My App&quot;.</p>\n<p>I can sign the installer after <code>jpackage</code> is done. I can sign other resource before I launch <code>jpackage</code>.</p>\n<p>But how do I sign this launcher file that is by <code>jpackage</code>? Is there a hook after <code>jpackage</code> have already prepared the files, but haven't yet called Wix?</p>\n",
    "tags" : [ "java", "signtool", "jpackage" ],
    "owner" : {
      "account_id" : 1278033,
      "reputation" : 726,
      "user_id" : 1287056,
      "user_type" : "registered",
      "accept_rate" : 75,
      "profile_image" : "https://i.sstatic.net/iqmQr.jpg?s=256",
      "display_name" : "Vladyslav Lubenskyi",
      "link" : "https://stackoverflow.com/users/1287056/vladyslav-lubenskyi"
    },
    "is_answered" : true,
    "view_count" : 82,
    "answer_count" : 1,
    "score" : 1,
    "last_activity_date" : 1743766513,
    "creation_date" : 1743433940,
    "link" : "https://stackoverflow.com/questions/79546599/how-to-sign-a-launcher-created-by-jpackage-on-windows",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79546713,
    "question_id" : 79546599,
    "body" : "<p><a href=\"https://docs.oracle.com/en/java/javase/24/docs/specs/man/jpackage.html\" rel=\"nofollow noreferrer\">jpackage</a> can be run in two stages to allow you to apply changes to the app image structure before generating the installer.</p>\n<p>First stage use target <code>jpackage --type app-image</code>  with <code>--dest</code> and <code>--name</code> parameters to generate the application image as <code>yourstage1.dir\\Your App Name</code>:</p>\n<pre><code>jpackage --type app-image --dest yourstage1.dir --name &quot;Your App Name&quot; ... etc\n</code></pre>\n<p>Modify the contents of the output folder as needed, such as signing executables. I have a Windows screensaver, so my build renames one .EXE with .SCR extension in this step.</p>\n<p>Finally apply jpackage again with the target type appropriate for your environment using <code>--type exe/msi/dmg</code> with <code>--app-image</code> to read the app image folder created in the first stage. Example:</p>\n<pre><code>jpackage --type msi --app-image &quot;yourstage1.dir/Your App Name&quot; ... etc\n</code></pre>\n<p>You can add <code>--dest dir</code> to change where the MSI file is created.</p>\n",
    "score" : 2,
    "is_accepted" : true,
    "owner" : {
      "account_id" : 5998820,
      "reputation" : 16283,
      "user_id" : 4712734,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/f6e922a2cb7e2da59286f27b162aaca5?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "DuncG",
      "link" : "https://stackoverflow.com/users/4712734/duncg"
    },
    "creation_date" : 1743437065,
    "last_activity_date" : 1743766513,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140283113,
    "post_id" : 79546599,
    "body" : "jpackage can be run in two stages, target <code>--type app-image</code>, modify the contents, then apply the --type exe/msi/dmg step",
    "score" : 1,
    "owner" : {
      "account_id" : 5998820,
      "reputation" : 16283,
      "user_id" : 4712734,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/f6e922a2cb7e2da59286f27b162aaca5?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "DuncG",
      "link" : "https://stackoverflow.com/users/4712734/duncg"
    },
    "creation_date" : 1743434338,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}