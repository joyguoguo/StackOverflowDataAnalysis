{
  "question" : {
    "question_id" : 79831723,
    "title" : "&quot;command is either misspelled or could not be found&quot; with Win 11 but not Win 10",
    "body" : "<p>A year ago I created an Eclipse project (Eclipse 2020-06, Java 8, Win 10) that uses the GIS LAStools libary to e.g. extract data from a couple of files.</p>\n<p>I'm now using Win 11 on a different PC and want to work on the project again, so I copied the old project, installed the same Java version, the same Eclipse version (with the same settings, as far as I've seen) and the same library version.</p>\n<p>My code:</p>\n<pre><code>Process p = null;\nArrayList&lt;String&gt; lines = new ArrayList&lt;String&gt;();\nString lasbinpath = &quot;somepath\\\\LAStools\\\\bin&quot;;\nString command = &quot;lasindex64 -i someotherpath\\\\myfile.laz&quot;;\n\ntry {\n    ProcessBuilder builder = new ProcessBuilder(&quot;cmd.exe&quot;, &quot;/c&quot;, command);\n    Map&lt;String, String&gt; env = builder.environment();\n    env.put(&quot;path&quot;, lasbinpath);\n    builder.redirectErrorStream(true);\n    p = builder.start();\n    BufferedReader br = new BufferedReader(new InputStreamReader(p.getInputStream()));\n    String line;\n\n    while(true) {\n        line = br.readLine();\n        if (line==null) { break; }\n        lines.add(line);\n    }\n    br.close();\n} catch(IOException e) {\n    e.printStackTrace();\n} finally {\n    if(p!=null) { p.destroy(); }\n}\n</code></pre>\n<p>When I try to run it, there's always the same error:</p>\n<pre><code>The &quot;DOSKEY&quot; command is either misspelled or could not be found.\n</code></pre>\n<p>At first I thought that it might be the library's fault and started a <a href=\"https://gis.stackexchange.com/q/498138/148791\">question</a> in the GIS stackexchange.</p>\n<p>Yesterday I started up the old Win 10 PC again and the same code is still working fine there, even with the latest version of the library.</p>\n<p>On Win 11 the same error appears when I run the code in Eclipse 2025-09 with OpenJDK 24 (even when run as admin) but there's no error when I run the library's command directly in command prompt. The &quot;doskey.exe&quot; file does exist in the &quot;System32&quot; folder and while the &quot;Windows&quot; and &quot;System32&quot; folders are protected, of course, I can manually access them without any problems. Other (native) commands like <code>java -version</code> and <code>dir</code> work fine with my code.</p>\n<p>If I remove <code>env.put(&quot;path&quot;, lasbinpath)</code> and manually add the path to <code>PATH</code> instead, there's no more error and the code is working as expected.</p>\n<p>I know that Win 11 can be weird about permissions and I've had problems with those before (app that was working fine on Win 10 can't access files in Win 11, unless run as admin), so I think that this is the case here too.</p>\n<p>There are a couple of google search results about things not working as expected on Win 11, compared to Win 10 (not just with Java) but nothing about the <code>ProcessBuilder</code>. Is there a specific way I have to set up Eclipse and/or <code>ProcessBuilder</code> to give them access and work with a temporary <code>PATH</code>?</p>\n",
    "tags" : [ "java", "eclipse", "cmd", "classpath", "processbuilder" ],
    "owner" : {
      "account_id" : 2294271,
      "reputation" : 2013,
      "user_id" : 2016165,
      "user_type" : "registered",
      "accept_rate" : 45,
      "profile_image" : "https://www.gravatar.com/avatar/903c50cd9f03c52d8743d518020ae072?s=256&d=identicon&r=PG",
      "display_name" : "Neph",
      "link" : "https://stackoverflow.com/users/2016165/neph"
    },
    "is_answered" : false,
    "view_count" : 101,
    "answer_count" : 2,
    "score" : 0,
    "last_activity_date" : 1764602053,
    "creation_date" : 1764247727,
    "link" : "https://stackoverflow.com/questions/79831723/command-is-either-misspelled-or-could-not-be-found-with-win-11-but-not-win-10",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ ],
  "question_comments" : [ ],
  "answer_comments" : { }
}