{
  "question" : {
    "question_id" : 79672254,
    "title" : "How to fix: cannot start Apache Axis2 standalone server on Windows, console stops printing at &quot;Using AXIS2_HOME ...&quot; and does not continue",
    "body" : "<h3>The Problem</h3>\n<p>When I try to start Apache Axis2 standalone server on Windows, the console stops printing at &quot;Using AXIS2_HOME   path\\to\\axis2&quot; and the server does not start:</p>\n<pre class=\"lang-none prettyprint-override\"><code>C:\\Users\\me&gt;%AXIS2_HOME%\\bin\\axis2server.bat\nUsing JAVA_HOME   C:\\Users\\me\\Software\\Oracle\\Java\\jdk-24.0.1\nUsing AXIS2_HOME  C:\\Users\\me\\Software\\Apache\\Axis2\\axis2-2.0.0\nC:\\Users\\me&gt;\n</code></pre>\n<p>Version information:<br />\n- Windows 11<br />\n- Java JDK 24.0.1<br />\n- Apache Axis2 2.0.0</p>\n<h3>What I've Tried</h3>\n<p>I've set up Axis2 according to the &quot;Installing Axis2 as a Standalone Server using the Standard Binary Distribution&quot; section in <a href=\"https://axis.apache.org/axis2/java/core/docs/installationguide.html\" rel=\"nofollow noreferrer\">https://axis.apache.org/axis2/java/core/docs/installationguide.html</a>.</p>\n<p>I started Axis2 standalone server by running the following command in Command Prompt:</p>\n<pre class=\"lang-none prettyprint-override\"><code>%AXIS2_HOME%\\bin\\axis2server.bat\n</code></pre>\n<p>I have checked to ensure that both %AXIS2_HOME% and %JAVA_HOME% point to the correct location.</p>\n<p>In <a href=\"https://instantkhichri.blogspot.com/2016/02/how-to-start-apache-axis2-standalone.html?m=1\" rel=\"nofollow noreferrer\">https://instantkhichri.blogspot.com/2016/02/how-to-start-apache-axis2-standalone.html?m=1</a>, the possible reason mentioned for Axis2 server failing to start was incompatibility between Axis2 and Java versions. Hence, I have tried using all the LTS JDK versions down to JDK 8, but the same problem still occurred.</p>\n",
    "tags" : [ "java", "windows", "apache-axis" ],
    "owner" : {
      "account_id" : 30668980,
      "reputation" : 113,
      "user_id" : 23512133,
      "user_type" : "registered",
      "profile_image" : "https://lh3.googleusercontent.com/a/ACg8ocL-BNIwj5pzYjY6shABLoQySlvHkRE1SDcZEkq7Y7Ic=k-s256",
      "display_name" : "Natthan Lee",
      "link" : "https://stackoverflow.com/users/23512133/natthan-lee"
    },
    "is_answered" : true,
    "view_count" : 102,
    "answer_count" : 1,
    "score" : 0,
    "last_activity_date" : 1750792081,
    "creation_date" : 1750344423,
    "link" : "https://stackoverflow.com/questions/79672254/how-to-fix-cannot-start-apache-axis2-standalone-server-on-windows-console-stop",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79672329,
    "question_id" : 79672254,
    "body" : "<h2>The Cause of the Problem</h2>\n<p>This problem occurs when Axis2 is installed in a directory with a longer path than what Axis2 expects. This results in one of the commands in <code>axis2server.bat</code> (in <code>%AXIS2_HOME%\\bin\\</code>) exceeding the length limit at runtime.</p>\n<p>The problem command (at line 108):</p>\n<pre class=\"lang-none prettyprint-override\"><code>&quot;%_JAVACMD%&quot; %JAVA_OPTS% -cp &quot;!AXIS2_CLASS_PATH!&quot; org.apache.axis2.kernel.SimpleAxis2Server %AXIS2_CMD_LINE_ARGS%\n</code></pre>\n<p>The <code>AXIS2_CLASS_PATH</code> environment variable contains the paths to all the <code>.jar</code> files in the <code>%AXIS2_HOME%\\lib\\</code> directory. If the <code>%AXIS2_HOME%</code> path is too long, then <code>AXIS2_CLASS_PATH</code> will be too long, causing the above command to exceed the length limit. This causes the command to be evaluated as a blank command and not be executed.</p>\n<h2>Solutions</h2>\n<p>I would like to suggest three possible solutions.</p>\n<h3>Solution 1: Move Axis2 to a Shorter Path</h3>\n<p>This solution is a quick and easy fix that should work for most users. However, for users who would like to keep their software files organized into designated directories, consider <code>Solution 2</code> instead.</p>\n<ol>\n<li><p>Move your Axis2 installation directory to a shorter path. For example, <code>C:\\axis2</code>.</p>\n</li>\n<li><p>Update <code>%AXIS2_HOME%</code> accordingly.</p>\n</li>\n<li><p>In Command Prompt, start the Axis2 standalone server using the command:</p>\n<pre class=\"lang-none prettyprint-override\"><code>%AXIS2_HOME%\\bin\\axis2server.bat\n</code></pre>\n</li>\n<li><p>In your browser, visit <a href=\"http://localhost:8080/axis2/services/\" rel=\"nofollow noreferrer\">http://localhost:8080/axis2/services/</a> to verify that the server is running.</p>\n</li>\n</ol>\n<h3>Solution 2: Edit <code>axis2server.bat</code> to Replace <code>AXIS2_CLASS_PATH</code> Concatenation With <code>%AXIS2_HOME%\\lib\\*</code> Wildcard</h3>\n<p>This solution involves editing the <code>axis2server.bat</code> file (in <code>%AXIS2_HOME%\\bin\\</code>) to replace the &quot;for&quot; loop concatenation logic (for storing the paths to all the <code>.jar</code> files in the <code>AXIS2_CLASS_PATH</code> environment variable) with the wildcard <code>%AXIS2_HOME%\\lib\\*</code> to represent all the <code>.jar</code> files in the <code>%AXIS2_HOME%\\lib\\</code> directory.</p>\n<p>Consider creating a backup file <code>axis2server.bat.backup</code> before proceeding.</p>\n<ol>\n<li><p>In <code>axis2server.bat</code>, replace the following lines (originally at lines 101-102):</p>\n<pre class=\"lang-none prettyprint-override\"><code>set AXIS2_CLASS_PATH=%AXIS2_HOME%;%AXIS2_HOME%\\conf;%JAVA_HOME%\\lib\\tools.jar;\nFOR %%c in (&quot;%AXIS2_HOME%\\lib\\*.jar&quot;) DO set AXIS2_CLASS_PATH=!AXIS2_CLASS_PATH!;%%c\n</code></pre>\n<p>With the following line:</p>\n<pre class=\"lang-none prettyprint-override\"><code>set AXIS2_CLASS_PATH=%AXIS2_HOME%;%AXIS2_HOME%\\conf;%JAVA_HOME%\\lib\\tools.jar;%AXIS2_HOME%\\lib\\*\n</code></pre>\n</li>\n<li><p>In Command Prompt, start the Axis2 standalone server using the command:</p>\n<pre class=\"lang-none prettyprint-override\"><code>%AXIS2_HOME%\\bin\\axis2server.bat\n</code></pre>\n</li>\n<li><p>In your browser, visit <a href=\"http://localhost:8080/axis2/services/\" rel=\"nofollow noreferrer\">http://localhost:8080/axis2/services/</a> to verify that the server is running.</p>\n</li>\n</ol>\n<h3>Solution 3: Edit <code>axis2server.bat</code> to Replace <code>AXIS2_CLASS_PATH</code> Environment Variable With a <code>.txt</code> File</h3>\n<p>Since this solution is more complicated, <code>Solution 2</code> is preferred.</p>\n<p>This solution involves editing the <code>axis2server.bat</code> file (in <code>%AXIS2_HOME%\\bin\\</code>) to use a <code>.txt</code> file instead of the <code>AXIS2_CLASS_PATH</code> environment variable to store the paths to all the <code>.jar</code> files in the <code>%AXIS2_HOME%\\lib\\</code> directory.</p>\n<p>Consider creating a backup file <code>axis2server.bat.backup</code> before proceeding.</p>\n<ol>\n<li><p>In <code>axis2server.bat</code>, replace the following lines (originally at lines 100-102):</p>\n<pre class=\"lang-none prettyprint-override\"><code>setlocal EnableDelayedExpansion\nset AXIS2_CLASS_PATH=%AXIS2_HOME%;%AXIS2_HOME%\\conf;%JAVA_HOME%\\lib\\tools.jar;\nFOR %%c in (&quot;%AXIS2_HOME%\\lib\\*.jar&quot;) DO set AXIS2_CLASS_PATH=!AXIS2_CLASS_PATH!;%%c\n</code></pre>\n<p>With the following two lines:</p>\n<pre class=\"lang-none prettyprint-override\"><code>&lt;nul set /p=%AXIS2_HOME%;%AXIS2_HOME%\\conf;%JAVA_HOME%\\lib\\tools.jar&gt;%AXIS2_HOME%\\lib\\_axis2classpath.txt\nFOR %%c in (&quot;%AXIS2_HOME%\\lib\\*.jar&quot;) DO &lt;nul set /p=;%%c&gt;&gt;%AXIS2_HOME%\\lib\\_axis2classpath.txt\n</code></pre>\n<p>The first line is a command that initializes <code>_axis2classpath.txt</code> (in <code>%AXIS2_HOME%\\lib\\</code>) with the following content (without a newline):</p>\n<pre class=\"lang-none prettyprint-override\"><code>%AXIS2_HOME%;%AXIS2_HOME%\\conf;%JAVA_HOME%\\lib\\tools.jar\n</code></pre>\n<p>The second line is a command that appends the paths to all the <code>.jar</code> files in the <code>%AXIS2_HOME%\\lib\\</code> directory to <code>_axis2classpath.txt</code> (without newlines).</p>\n</li>\n<li><p>In <code>axis2server.bat</code>, replace the following line (originally at line 108):</p>\n<pre class=\"lang-none prettyprint-override\"><code>&quot;%_JAVACMD%&quot; %JAVA_OPTS% -cp &quot;!AXIS2_CLASS_PATH!&quot; org.apache.axis2.kernel.SimpleAxis2Server %AXIS2_CMD_LINE_ARGS%\n</code></pre>\n<p>With the following line:</p>\n<pre class=\"lang-none prettyprint-override\"><code>&quot;%_JAVACMD%&quot; %JAVA_OPTS% -cp &quot;@%AXIS2_HOME%\\lib\\_axis2classpath.txt&quot; org.apache.axis2.kernel.SimpleAxis2Server %AXIS2_CMD_LINE_ARGS%\n</code></pre>\n<p><code>!AXIS2_CLASS_PATH!</code> has been replaced with <code>@%AXIS2_HOME%\\lib_axis2classpath.txt</code>, so that instead of using the environment variable <code>AXIS2_CLASS_PATH</code>, the value read from <code>_axis2classpath.txt</code> is used. This prevents the command from reaching the length limit.</p>\n</li>\n<li><p>In Command Prompt, start the Axis2 standalone server using the command:</p>\n<pre class=\"lang-none prettyprint-override\"><code>%AXIS2_HOME%\\bin\\axis2server.bat\n</code></pre>\n</li>\n<li><p>In your browser, visit <a href=\"http://localhost:8080/axis2/services/\" rel=\"nofollow noreferrer\">http://localhost:8080/axis2/services/</a> to verify that the server is running.</p>\n</li>\n</ol>\n",
    "score" : 2,
    "is_accepted" : true,
    "owner" : {
      "account_id" : 30668980,
      "reputation" : 113,
      "user_id" : 23512133,
      "user_type" : "registered",
      "profile_image" : "https://lh3.googleusercontent.com/a/ACg8ocL-BNIwj5pzYjY6shABLoQySlvHkRE1SDcZEkq7Y7Ic=k-s256",
      "display_name" : "Natthan Lee",
      "link" : "https://stackoverflow.com/users/23512133/natthan-lee"
    },
    "creation_date" : 1750348410,
    "last_activity_date" : 1750792081,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140527067,
    "post_id" : 79672254,
    "body" : "I have found my solution and am writing out my answer now. I spent a lot of time and effort to resolve this issue, and I hope others wonâ€™t have to make the same sacrifice.",
    "score" : 0,
    "owner" : {
      "account_id" : 30668980,
      "reputation" : 113,
      "user_id" : 23512133,
      "user_type" : "registered",
      "profile_image" : "https://lh3.googleusercontent.com/a/ACg8ocL-BNIwj5pzYjY6shABLoQySlvHkRE1SDcZEkq7Y7Ic=k-s256",
      "display_name" : "Natthan Lee",
      "link" : "https://stackoverflow.com/users/23512133/natthan-lee"
    },
    "creation_date" : 1750344737,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : {
    "79672329" : [ {
      "comment_id" : 140527717,
      "post_id" : 79672329,
      "body" : "@k314159 Thank you for your great suggestion! I have moved my previous Solution 2 down to Solution 3, and added a new Solution 2 based on your comment.    Previously, I was worried that the difference in structure of the <code>AXIS2_CLASS_PATH</code> variable or that the non-<code>.jar</code> files in `%AXIS2_HOME%\\lib` would cause an issue, hence I tried to come up with a solution that preserved the original logic as much as possible.",
      "score" : 0,
      "owner" : {
        "account_id" : 30668980,
        "reputation" : 113,
        "user_id" : 23512133,
        "user_type" : "registered",
        "profile_image" : "https://lh3.googleusercontent.com/a/ACg8ocL-BNIwj5pzYjY6shABLoQySlvHkRE1SDcZEkq7Y7Ic=k-s256",
        "display_name" : "Natthan Lee",
        "link" : "https://stackoverflow.com/users/23512133/natthan-lee"
      },
      "creation_date" : 1750360489,
      "content_license" : "CC BY-SA 4.0"
    }, {
      "comment_id" : 140527446,
      "post_id" : 79672329,
      "body" : "In solution 2, instead of <code>FOR %%c in (&quot;%AXIS2_HOME%\\lib\\*.jar&quot;) DO set AXIS2_CLASS_PATH=!AXIS2_CLASS_PATH!;%%c</code> you can just do <code>set AXIS2_CLASS_PATH=!AXIS2_CLASS_PATH!;%AXIS2_HOME%\\lib\\*</code>. The <code>*</code> after the directory name <a href=\"https://docs.oracle.com/javase/8/docs/technotes/tools/windows/classpath.html#A1100762\" rel=\"nofollow noreferrer\">tells Java to take all jar files in that directory</a>.",
      "score" : 1,
      "owner" : {
        "account_id" : 19118721,
        "reputation" : 12469,
        "user_id" : 13963086,
        "user_type" : "registered",
        "profile_image" : "https://www.gravatar.com/avatar/9df2c3c4c87d8050b8fd6a59c88c7133?s=256&d=identicon&r=PG&f=y&so-version=2",
        "display_name" : "k314159",
        "link" : "https://stackoverflow.com/users/13963086/k314159"
      },
      "creation_date" : 1750352923,
      "content_license" : "CC BY-SA 4.0"
    } ]
  }
}