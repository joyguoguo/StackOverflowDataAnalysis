{
  "question" : {
    "question_id" : 79632546,
    "title" : "SwiftUI accessibility ID not able to be accesse by automated testing framework",
    "body" : "<p>In the app I'm working on, I have a SwiftUI View embedded in a UIKit Storyboard. The SwiftUI View holds a menu with a list of payment tools, and the ForEach loop looks like this:</p>\n<pre class=\"lang-swift prettyprint-override\"><code>ForEach(self.paymentToolsVM.paymentToolsItems, id: \\.self) { paymentTool in\n    Button {\n        navigationCallback(paymentTool.segueID)\n    } label: {\n        PaymentToolsRow(paymentToolName: paymentTool.title, imageName: paymentTool.imageName)\n            .accessibilityElement()\n           .accessibilityIdentifier(&quot;Billing_\\(paymentTool.title.replacingOccurrences(of: &quot; &quot;, with: &quot;&quot;))&quot;)\n    }\n    if paymentTool != self.paymentToolsVM.paymentToolsItems.last {\n          Divider()\n    }\n}\n</code></pre>\n<p>So you can see the accessibility ID is there, and it shows up properly when I open up Accessibility Inspector with the simulator, but the testing script isn't picking up on it, and it doesn't show up when the view is inspected in Appium. I have other SwiftUI views embedded in the UIKit view, and the script picks up the buttons on those, so I'm not sure what's different about this one.</p>\n<p>Here's the script we're using to test (written in Java, using BDD framework):</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n    WaitForElement.waitForText(driver, &quot;Bill details&quot;);\n    actualDueAmount = BaseClass.getAmountFromStr(driver.findElement(actualDueAmountIos));\n    if (driver.getPageSource().contains(&quot;Scheduled&quot;))\n        deletePaymentFromManageBill(platform);\n    if (driver.getPageSource().contains(&quot;Pay&quot;)) {\n        BaseClass.logInfo(&quot;Pay button is available on the screen&quot;);\n        BaseClass.takeScreenShot(driver);\n    } else {\n        BaseClass.logFail(&quot;Pay button is not available on the screen&quot;);\n        fail(&quot;Pay button is not available on the screen&quot;);\n    }\n                                                \n    scroll.scrollDown(&quot;Pay bills&quot;, platform);\n    //WaitForElement.waitForText(driver, &quot;Pay bills&quot;);\n    BaseClass.clickObject(driver, paybillbutton, &quot;Pay bills&quot;);\n}\n</code></pre>\n<p>Does anyone have any ideas for what the disconnect could be?</p>\n<p>UPDATE: Here's an example of the buttons that are working in the same storyboard:</p>\n<pre class=\"lang-swift prettyprint-override\"><code>VStack {\n    // some other stuff here\n\n    HStack(spacing: 12) {\n        if let leftButton = reminderViewModel.getLeftButtonType() {\n            GenericButtonView(text: Text(leftButton.getButtonTitle()), \n\n                buttonType: leftButton.buttonType, \n                callback: {\n                    reminderViewModel.leftButtonSelected(leftButtonType: leftButton, hasAutopay: reminderViewModel.hasAutoPay)\n                })\n                .accessibilityIdentifier(reminderViewModel.accessibilityObject.leftBillButtonIdentifier)\n        }\n                        \n        GenericButtonView(text: Text(BillingButtonType.billDetails.getButtonTitle()), \n            buttonType: BillingButtonType.billDetails.buttonType, \n            callback: {\n                reminderViewModel.rightButtonSelected()\n            })\n            .accessibilityIdentifier(reminderViewModel.accessibilityObject.rightBillButtonIdentifier)\n    }\n}\n</code></pre>\n<p>Each of these VStacks is a single cell in the UITableView, but the list of buttons up above are also a single cell. Generic Button View is a custom view to handle all the styling.</p>\n",
    "tags" : [ "java", "swiftui", "uikit", "appium", "accessibility-inspector" ],
    "owner" : {
      "account_id" : 29224320,
      "reputation" : 160,
      "user_id" : 22389422,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/aadee2080375e250237188d4fca0e5e5?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "kbartlett",
      "link" : "https://stackoverflow.com/users/22389422/kbartlett"
    },
    "is_answered" : true,
    "view_count" : 96,
    "answer_count" : 1,
    "score" : 0,
    "last_activity_date" : 1752158899,
    "creation_date" : 1747850752,
    "link" : "https://stackoverflow.com/questions/79632546/swiftui-accessibility-id-not-able-to-be-accesse-by-automated-testing-framework",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79697238,
    "question_id" : 79632546,
    "body" : "<p>So I figured out a workaround (still not sure WHY this worked, but in case anyone else runs into this issue):</p>\n<p>Instead of having a list of rows inside a single storyboard table cell, I updated it so that each row is one cell in the table, and that allows the script and Appium to read the accessibility ID.</p>\n",
    "score" : 0,
    "is_accepted" : true,
    "owner" : {
      "account_id" : 29224320,
      "reputation" : 160,
      "user_id" : 22389422,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/aadee2080375e250237188d4fca0e5e5?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "kbartlett",
      "link" : "https://stackoverflow.com/users/22389422/kbartlett"
    },
    "creation_date" : 1752158899,
    "last_activity_date" : 1752158899,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140503755,
    "post_id" : 79632546,
    "body" : "@soundflix Yeah, one of our testers wrote the script, so I&#39;m not exactly sure how it works - I think it reads the accessibility IDs and slots them in somehow?  Updated to show the working buttons.",
    "score" : 0,
    "owner" : {
      "account_id" : 29224320,
      "reputation" : 160,
      "user_id" : 22389422,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/aadee2080375e250237188d4fca0e5e5?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "kbartlett",
      "link" : "https://stackoverflow.com/users/22389422/kbartlett"
    },
    "creation_date" : 1749588243,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140470734,
    "post_id" : 79632546,
    "body" : "Also, show at least one of the other SwiftUI buttons, so we can find out what‘s different.",
    "score" : 0,
    "owner" : {
      "account_id" : 21867978,
      "reputation" : 3141,
      "user_id" : 16157878,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/vYe95.jpg?s=256",
      "display_name" : "soundflix",
      "link" : "https://stackoverflow.com/users/16157878/soundflix"
    },
    "creation_date" : 1748553365,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140470666,
    "post_id" : 79632546,
    "body" : "I can‘t say I understand your java script completely, but I don’t see that you are actually checking for the accessibility id(s) that you gave in the view above.",
    "score" : 0,
    "owner" : {
      "account_id" : 21867978,
      "reputation" : 3141,
      "user_id" : 16157878,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/vYe95.jpg?s=256",
      "display_name" : "soundflix",
      "link" : "https://stackoverflow.com/users/16157878/soundflix"
    },
    "creation_date" : 1748551200,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140470029,
    "post_id" : 79632546,
    "body" : "@soundflix no dice, unfortunately",
    "score" : 0,
    "owner" : {
      "account_id" : 29224320,
      "reputation" : 160,
      "user_id" : 22389422,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/aadee2080375e250237188d4fca0e5e5?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "kbartlett",
      "link" : "https://stackoverflow.com/users/22389422/kbartlett"
    },
    "creation_date" : 1748535806,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140449607,
    "post_id" : 79632546,
    "body" : "That&#39;s a good idea - I&#39;ll give that a shot",
    "score" : 0,
    "owner" : {
      "account_id" : 29224320,
      "reputation" : 160,
      "user_id" : 22389422,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/aadee2080375e250237188d4fca0e5e5?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "kbartlett",
      "link" : "https://stackoverflow.com/users/22389422/kbartlett"
    },
    "creation_date" : 1747923134,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140447469,
    "post_id" : 79632546,
    "body" : "Have you tried to add the accessibility modifiers on the <code>Button</code>, not inside its <code>label</code> closure?",
    "score" : 0,
    "owner" : {
      "account_id" : 21867978,
      "reputation" : 3141,
      "user_id" : 16157878,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/vYe95.jpg?s=256",
      "display_name" : "soundflix",
      "link" : "https://stackoverflow.com/users/16157878/soundflix"
    },
    "creation_date" : 1747862003,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}