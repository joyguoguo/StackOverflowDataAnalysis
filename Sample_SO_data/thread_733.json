{
  "question" : {
    "question_id" : 79778194,
    "title" : "H2O-3 Calling a lot of GC calls in java when trying to load CSV file with 16M rows",
    "body" : "<p>I am using h2o-3 java repo to load this frame but have been running into memory issues with constant GC pressure.</p>\n<p>The actual frame size is 3.31 GB as per h2o logs, but the peak JVM usage comes to be about 60G when trying to read the actual frame.</p>\n<pre><code>Loaded H2O frame: Frame key: TestData.csv\n   cols: 64\n   rows: 16375903\n chunks: 64\n   size: 3552977559\n</code></pre>\n<pre><code>[4572.372s][info   ][gc,heap        ] GC(751) PSYoungGen: 37597471K(37605888K)-&gt;133505K(37607424K) Eden: 37463552K(37463552K)-&gt;0K(37465600K) From: 133919K(142336K)-&gt;133505K(141824K)\n[4572.372s][info   ][gc,heap        ] GC(751) ParOldGen: 37023812K(75497472K)-&gt;37023812K(75497472K)\n[4572.372s][info   ][gc,metaspace   ] GC(751) Metaspace: 149267K(150464K)-&gt;149267K(150464K) NonClass: 128211K(128896K)-&gt;128211K(128896K) Class: 21056K(21568K)-&gt;21056K(21568K)\n[4572.372s][info   ][gc             ] GC(751) Pause Young (Allocation Failure) 72872M-&gt;36286M(110454M) 34.508ms\n[4572.372s][info   ][gc,cpu         ] GC(751) User=0.41s Sys=0.01s Real=0.04s\n[4573.512s][info   ][gc,start       ] GC(752) Pause Young (Allocation Failure)\n[4573.547s][info   ][gc,heap        ] GC(752) PSYoungGen: 37599105K(37607424K)-&gt;134243K(37606912K) Eden: 37465600K(37465600K)-&gt;0K(37465600K) From: 133505K(141824K)-&gt;134243K(141312K)\n[4573.547s][info   ][gc,heap        ] GC(752) ParOldGen: 37023812K(75497472K)-&gt;37025404K(75497472K)\n[4573.547s][info   ][gc,metaspace   ] GC(752) Metaspace: 149267K(150464K)-&gt;149267K(150464K) NonClass: 128211K(128896K)-&gt;128211K(128896K) Class: 21056K(21568K)-&gt;21056K(21568K)\n[4573.547s][info   ][gc             ] GC(752) Pause Young (Allocation Failure) 72873M-&gt;36288M(110453M) 34.940ms\n[4573.547s][info   ][gc,cpu         ] GC(752) User=0.42s Sys=0.01s Real=0.04s\n[4574.694s][info   ][gc,start       ] GC(753) Pause Young (Allocation Failure)\n[4574.730s][info   ][gc,heap        ] GC(753) PSYoungGen: 37599843K(37606912K)-&gt;140646K(37603840K) Eden: 37465600K(37465600K)-&gt;0K(37463040K) From: 134243K(141312K)-&gt;140646K(140800K)\n[4574.730s][info   ][gc,heap        ] GC(753) ParOldGen: 37025404K(75497472K)-&gt;37030581K(75497472K)\n[4574.730s][info   ][gc,metaspace   ] GC(753) Metaspace: 149268K(150464K)-&gt;149268K(150464K) NonClass: 128211K(128896K)-&gt;128211K(128896K) Class: 21056K(21568K)-&gt;21056K(21568K)\n[4574.730s][info   ][gc             ] GC(753) Pause Young (Allocation Failure) 72876M-&gt;36300M(110450M) 36.442ms\n[4574.730s][info   ][gc,cpu         ] GC(753) User=0.45s Sys=0.00s Real=0.03s\n[4575.808s][info   ][gc,start       ] GC(754) Pause Young (Allocation Failure)\n[4575.844s][info   ][gc,heap        ] GC(754) PSYoungGen: 37603686K(37603840K)-&gt;135682K(37605888K) Eden: 37463040K(37463040K)-&gt;0K(37463040K) From: 140646K(140800K)-&gt;135682K(142848K)\n[4575.844s][info   ][gc,heap        ] GC(754) ParOldGen: 37030581K(75497472K)-&gt;37038668K(75497472K)\n[4575.844s][info   ][gc,metaspace   ] GC(754) Metaspace: 149268K(150464K)-&gt;149268K(150464K) NonClass: 128211K(128896K)-&gt;128211K(128896K) Class: 21056K(21568K)-&gt;21056K(21568K)\n[4575.844s][info   ][gc             ] GC(754) Pause Young (Allocation Failure) 72885M-&gt;36303M(110452M) 36.014ms\n[4575.844s][info   ][gc,cpu         ] GC(754) User=0.44s Sys=0.01s Real=0.03s\n[4576.901s][info   ][gc,start       ] GC(755) Pause Young (Allocation Failure)\n[4576.936s][info   ][gc,heap        ] GC(755) PSYoungGen: 37598450K(37605888K)-&gt;134747K(37606912K) Eden: 37462768K(37463040K)-&gt;0K(37464576K) From: 135682K(142848K)-&gt;134747K(142336K)\n[4576.936s][info   ][gc,heap        ] GC(755) ParOldGen: 37038668K(75497472K)-&gt;37040005K(75497472K)\n[4576.936s][info   ][gc,metaspace   ] GC(755) Metaspace: 149268K(150464K)-&gt;149268K(150464K) NonClass: 128211K(128896K)-&gt;128211K(128896K) Class: 21056K(21568K)-&gt;21056K(21568K)\n[4576.936s][info   ][gc             ] GC(755) Pause Young (Allocation Failure) 72887M-&gt;36303M(110453M) 34.523ms\n[4576.936s][info   ][gc,cpu         ] GC(755) User=0.42s Sys=0.00s Real=0.04s\n[4577.987s][info   ][gc,start       ] GC(756) Pause Young (Allocation Failure)\n[4578.021s][info   ][gc,heap        ] GC(756) PSYoungGen: 37599323K(37606912K)-&gt;135186K(37606400K) Eden: 37464576K(37464576K)-&gt;0K(37464576K) From: 134747K(142336K)-&gt;135186K(141824K)\n[4578.021s][info   ][gc,heap        ] GC(756) ParOldGen: 37040005K(75497472K)-&gt;37040005K(75497472K)\n[4578.021s][info   ][gc,metaspace   ] GC(756) Metaspace: 149268K(150464K)-&gt;149268K(150464K) NonClass: 128211K(128896K)-&gt;128211K(128896K) Class: 21056K(21568K)-&gt;21056K(21568K)\n[4578.021s][info   ][gc             ] GC(756) Pause Young (Allocation Failure) 72889M-&gt;36303M(110453M) 34.372ms\n[4578.021s][info   ][gc,cpu         ] GC(756) User=0.42s Sys=0.01s Real=0.03s\n[4579.074s][info   ][gc,start       ] GC(757) Pause Young (Allocation Failure)\n[4579.109s][info   ][gc,heap        ] GC(757) PSYoungGen: 37599762K(37606400K)-&gt;136628K(37607424K) Eden: 37464576K(37464576K)-&gt;0K(37466112K) From: 135186K(141824K)-&gt;136628K(141312K)\n[4579.109s][info   ][gc,heap        ] GC(757) ParOldGen: 37040005K(75497472K)-&gt;37040005K(75497472K)\n[4579.109s][info   ][gc,metaspace   ] GC(757) Metaspace: 149268K(150464K)-&gt;149268K(150464K) NonClass: 128211K(128896K)-&gt;128211K(128896K) Class: 21056K(21568K)-&gt;21056K(21568K)\n</code></pre>\n<p>Given the above logs, what configurations I can use to relieve the memory pressure from the jvm? I am executing and trying to parse this large data frame in h2o on EMR Serverless with 108G memory and 16cores on executor, but still running into memory issues while parsing this large single file.</p>\n",
    "tags" : [ "java", "memory", "garbage-collection", "h2o", "h2o.ai" ],
    "owner" : {
      "account_id" : 4906998,
      "reputation" : 1,
      "user_id" : 3953457,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/ff14e39d1e81bcf96899f613c7cd03d2?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Monil Patel",
      "link" : "https://stackoverflow.com/users/3953457/monil-patel"
    },
    "is_answered" : false,
    "view_count" : 47,
    "answer_count" : 0,
    "score" : 0,
    "last_activity_date" : 1759187301,
    "creation_date" : 1759154008,
    "link" : "https://stackoverflow.com/questions/79778194/h2o-3-calling-a-lot-of-gc-calls-in-java-when-trying-to-load-csv-file-with-16m-ro",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ ],
  "question_comments" : [ {
    "comment_id" : 140767377,
    "post_id" : 79778194,
    "body" : "Welcome to Stack Overflow! Please clarify your specific problem or add additional details to highlight exactly what you need.  As it&#39;s currently written, itâ€™s hard to tell exactly what you&#39;re asking. See  <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> for help clarifying this question. Include the desired behavior, a specific problem or error and the shortest code necessary to  reproduce the issue. <a href=\"https://stackoverflow.com/posts/79778194/edit\">edit</a> your question to add a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>.",
    "score" : 0,
    "owner" : {
      "account_id" : 372682,
      "reputation" : 26512,
      "user_id" : 721855,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/vZiox.png?s=256",
      "display_name" : "aled",
      "link" : "https://stackoverflow.com/users/721855/aled"
    },
    "creation_date" : 1759175478,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}