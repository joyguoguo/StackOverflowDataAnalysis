{
  "question" : {
    "question_id" : 79748479,
    "title" : "Zebra SDK execption RFID_API_COMMAND_TIMEOUT when trying to reconnect",
    "body" : "<p>I'm working to implement the version <a href=\"https://www.zebra.com/us/en/support-downloads/software/rfid-software/rfid-sdk-for-android.html?downloadId=37746677-7567-4b97-a54b-33dce8bdb7c2\" rel=\"nofollow noreferrer\">2.0.4.192 of the Zebra SDK</a> to scan RFID tags with RFD40 handheld and TC53 android phone.</p>\n<p>When testing the SampleApp provide with the SDK if I remove and reattach the device via USB then the sample can't reconnect and I have to kill the application and relaunch it.</p>\n<p>The logs throw an execption <code>OperationFailureException</code> with the error code <code>RFID_API_COMMAND_TIMEOUT</code> when we call the function <code>reader.connect()</code> . The scan completely stop working and the trigger is not event recognized.</p>\n<p>I tried to up the reader timeout with <code>reader.setTimeout(10000)</code> before the connect but it is not working.</p>\n<p>Have anyone experience this issue and if so how did you solve the problem ?</p>\n<p>Here is the sample code that create the problem :</p>\n<pre><code>    private synchronized String connect() {\n        if (reader != null) {\n            Log.d(TAG, &quot;connect &quot; + reader.getHostName());\n            try {\n                if (!reader.isConnected()) {\n                    // Establish connection to the RFID Reader\n                    reader.setTimeout(10000);\n                    reader.connect();\n                    ConfigureReader();\n\n                    //Call this function if the readerdevice supports scanner to setup scanner SDK\n                    //setupScannerSDK();\n                    if (reader.isConnected()) {\n                        return &quot;Connected: &quot; + reader.getHostName();\n                    }\n\n                }\n            } catch (InvalidUsageException e) {\n                e.printStackTrace();\n            } catch (OperationFailureException e) {\n                e.printStackTrace();\n                Log.d(TAG, &quot;OperationFailureException &quot; + e.getVendorMessage());\n                String des = e.getResults().toString();\n                return &quot;Connection failed&quot; + e.getVendorMessage() + &quot; &quot; + des;\n            }\n        }\n        return &quot;&quot;;\n    }\n</code></pre>\n<p>And the stacktrace :</p>\n<pre><code>2025-08-26 16:59:30.000 31235-31270 IRFIDinfo               com.zebra.rfid.demo.sdksample        D  GetResponseDataReceived GetCapabilities tm 2000\n2025-08-26 16:59:30.019 31235-31367 RFIDSerialIOMgr         com.zebra.rfid.demo.sdksample        I  Stopping mState=STOPPED\n2025-08-26 16:59:32.001 31235-31270 IRFIDError              com.zebra.rfid.demo.sdksample        D  RFIDPROTOAscii: GetStatus: RFID_API_COMMAND_TIMEOUTGetCapabilities size 0\n2025-08-26 16:59:32.001 31235-31270 IRFIDinfo               com.zebra.rfid.demo.sdksample        D  logError RFID_API_COMMAND_TIMEOUT Response timeout\n2025-08-26 16:59:32.002 31235-31270 IRFIDinfo               com.zebra.rfid.demo.sdksample        D  getLinkProfilesCaps results : RFID_API_COMMAND_TIMEOUT\n2025-08-26 16:59:32.002 31235-31270 IRFIDinfo               com.zebra.rfid.demo.sdksample        D  getLinkProfilesCaps results : RFID_API_COMMAND_TIMEOUT\n2025-08-26 16:59:32.007 31235-31270 System.err              com.zebra.rfid.demo.sdksample        W  com.zebra.rfid.api3.OperationFailureException\n2025-08-26 16:59:32.009 31235-31270 System.err              com.zebra.rfid.demo.sdksample        W      at com.zebra.rfid.api3.ProcessErrorCode.ThrowException(ProcessErrorCode.java:16)\n2025-08-26 16:59:32.009 31235-31270 System.err              com.zebra.rfid.demo.sdksample        W      at com.zebra.rfid.api3.RFIDReader.postConnectInitialize(RFIDReader.java:328)\n2025-08-26 16:59:32.010 31235-31270 System.err              com.zebra.rfid.demo.sdksample        W      at com.zebra.rfid.api3.RFIDReader.connect(RFIDReader.java:686)\n2025-08-26 16:59:32.010 31235-31270 System.err              com.zebra.rfid.demo.sdksample        W      at com.zebra.rfid.demo.sdksample.RFIDHandler.connect(RFIDHandler.java:834)\n2025-08-26 16:59:32.011 31235-31270 System.err              com.zebra.rfid.demo.sdksample        W      at com.zebra.rfid.demo.sdksample.RFIDHandler.access$800(RFIDHandler.java:46)\n2025-08-26 16:59:32.011 31235-31270 System.err              com.zebra.rfid.demo.sdksample        W      at com.zebra.rfid.demo.sdksample.RFIDHandler$ConnectionTask.doInBackground(RFIDHandler.java:767)\n2025-08-26 16:59:32.014 31235-31270 System.err              com.zebra.rfid.demo.sdksample        W      at com.zebra.rfid.demo.sdksample.RFIDHandler$ConnectionTask.doInBackground(RFIDHandler.java:761)\n2025-08-26 16:59:32.015 31235-31270 System.err              com.zebra.rfid.demo.sdksample        W      at android.os.AsyncTask$3.call(AsyncTask.java:394)\n2025-08-26 16:59:32.015 31235-31270 System.err              com.zebra.rfid.demo.sdksample        W      at java.util.concurrent.FutureTask.run(FutureTask.java:317)\n2025-08-26 16:59:32.016 31235-31270 System.err              com.zebra.rfid.demo.sdksample        W      at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:305)\n2025-08-26 16:59:32.016 31235-31270 System.err              com.zebra.rfid.demo.sdksample        W      at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1156)\n2025-08-26 16:59:32.017 31235-31270 System.err              com.zebra.rfid.demo.sdksample        W      at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:651)\n2025-08-26 16:59:32.017 31235-31270 System.err              com.zebra.rfid.demo.sdksample        W      at java.lang.Thread.run(Thread.java:1119)\n2025-08-26 16:59:32.017 31235-31270 RFID_SAMPLE             com.zebra.rfid.demo.sdksample        D  OperationFailureException Response timeout\n2025-08-26 16:59:45.766 31235-31248 System                  com.zebra.rfid.demo.sdksample        W  A resource failed to call close. \n2025-08-26 16:59:45.769 31235-31248 System                  com.zebra.rfid.demo.sdksample        W  A resource failed to call UsbRequest.close. \n2025-08-26 16:59:45.769 31235-31248 UsbRequestJNI           com.zebra.rfid.demo.sdksample        D  close\n2025-08-26 16:59:45.770 31235-31248 System                  com.zebra.rfid.demo.sdksample        W  A resource failed to call UsbRequest.close. \n2025-08-26 16:59:45.770 31235-31248 UsbRequestJNI           com.zebra.rfid.demo.sdksample        D  close\n</code></pre>\n",
    "tags" : [ "java", "android", "sdk", "rfid", "zebra" ],
    "owner" : {
      "account_id" : 6876681,
      "reputation" : 1,
      "user_id" : 5284911,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/8a2e703672ecce928fae1242f315834f?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Carentir",
      "link" : "https://stackoverflow.com/users/5284911/carentir"
    },
    "is_answered" : false,
    "view_count" : 106,
    "answer_count" : 0,
    "score" : 0,
    "last_activity_date" : 1756328966,
    "creation_date" : 1756328966,
    "link" : "https://stackoverflow.com/questions/79748479/zebra-sdk-execption-rfid-api-command-timeout-when-trying-to-reconnect",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ ],
  "question_comments" : [ ],
  "answer_comments" : { }
}