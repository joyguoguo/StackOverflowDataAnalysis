{
  "question" : {
    "question_id" : 79695692,
    "title" : "Flutter:Gradle build failed to produce an .apk file. It&#39;s likely that this file was generated under C:\\Users\\..\\.\\.\\build, but the tool couldn&#39;t find",
    "body" : "<p>I'm getting this error while building a flutter app:</p>\n<blockquote>\n<p>Gradle build failed to produce an .apk file. It's likely that this\nfile was generated under\nC:\\Users\\zeyad\\StudioProjects\\level_7_buzzer\\build, but the tool\ncouldn't find it</p>\n</blockquote>\n<p>what I understood and tried after a little hustle is that it's because of incompatibility between flutter and gradle.\nAlso while examining the logs, I found that flutter is looking for the apk in a non existent directory:</p>\n<blockquote>\n<p>C:\\Users\\zeyad\\StudioProjects\\level_7_buzzer\\android\\app\\build\\outputs\\flutter-apk</p>\n</blockquote>\n<p>but flutter is looking in\n<code>build\\app\\outputs\\flutter-apk\\</code></p>\n<p>Android studio version:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Build #AI-242.21829.142.2422.12329062, built on September 6, 2024\nRuntime version: 21.0.3+-12282718-b509.11 amd64\nVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.\nToolkit: sun.awt.windows.WToolkit\nWindows 10.0\nGC: G1 Young Generation, G1 Concurrent GC, G1 Old Generation\nMemory: 2048M\nCores: 8\nRegistry:\n  ide.experimental.ui=true\n  i18n.locale=\nNon-Bundled Plugins:\n  Dart (242.24931)\n  io.flutter (85.2.2)\n</code></pre>\n<p>flutter doctor:</p>\n<pre><code>C:\\Users\\zeyad&gt;flutter doctor -v\n[√] Flutter (Channel stable, 3.32.5, on Microsoft Windows [Version 10.0.18362.1256], locale en-US) [455ms]\n    • Flutter version 3.32.5 on channel stable at C:\\src\\flutter\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision fcf2c11572 (2 weeks ago), 2025-06-24 11:44:07 -0700\n    • Engine revision dd93de6fb1\n    • Dart version 3.8.1\n    • DevTools version 2.45.1\n\n[√] Windows Version (10 Pro 64-bit, 1903) [1,429ms]\n\n[√] Android toolchain - develop for Android devices (Android SDK version 36.0.0) [6.4s]\n    • Android SDK at C:\\Users\\zeyad\\AppData\\Local\\Android\\Sdk\n    • Platform android-35, build-tools 36.0.0\n    • ANDROID_SDK_ROOT = C:\\Users\\zeyad\\AppData\\Local\\Android\\Sdk\n    • Java binary at: C:\\Program Files\\Android\\Android Studio\\jbr\\bin\\java\n      This is the JDK bundled with the latest Android Studio installation on this machine.\n      To manually set the JDK path, use: `flutter config --jdk-dir=&quot;path/to/jdk&quot;`.\n    • Java version OpenJDK Runtime Environment (build 21.0.3+-12282718-b509.11)\n    • All Android licenses accepted.\n\n[√] Chrome - develop for the web [25ms]\n    • Chrome at C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe\n\n[X] Visual Studio - develop Windows apps [24ms]\n    X Visual Studio not installed; this is necessary to develop Windows apps.\n      Download at https://visualstudio.microsoft.com/downloads/.\n      Please install the &quot;Desktop development with C++&quot; workload, including all of its default components\n\n[√] Android Studio (version 2024.2) [19ms]\n    • Android Studio at C:\\Program Files\\Android\\Android Studio\n    • Flutter plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/6351-dart\n    • Java version OpenJDK Runtime Environment (build 21.0.3+-12282718-b509.11)\n\n[√] Android Studio (version 2024.2.safe) [17ms]\n    • Android Studio at C:\\src\\android-studio\n    • Flutter plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/6351-dart\n    • Java version OpenJDK Runtime Environment (build 21.0.3+-12282718-b509.11)\n\n[√] Connected device (4 available) [398ms]\n    • 23028RNCAG (mobile) • HMTCCMHM8HGE45WC • android-arm    • Android 13 (API 33)\n    • Windows (desktop)   • windows          • windows-x64    • Microsoft Windows [Version 10.0.18362.1256]\n    • Chrome (web)        • chrome           • web-javascript • Google Chrome 138.0.7204.96\n    • Edge (web)          • edge             • web-javascript • Microsoft Edge 138.0.3351.77\n\n[√] Network resources [730ms]\n    • All expected network resources are available.\n\n! Doctor found issues in 1 category.\n</code></pre>\n<p>android/build.gradle</p>\n<pre><code>buildscript {\n    ext.kotlin_version = '1.9.10' // or the latest stable version available\n    repositories {\n        google()\n        mavenCentral()\n    }\n    dependencies {\n        classpath &quot;com.android.tools.build:gradle:8.2.2&quot; // Use the latest stable version of the Gradle plugin\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot; // Kotlin Gradle plugin\n        classpath &quot;com.google.gms:google-services:4.4.2&quot; // Google services plugin, if needed\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        mavenCentral()\n    }\n}\n\ntasks.register(&quot;clean&quot;, Delete) {\n    delete rootProject.layout.buildDirectory\n}\n</code></pre>\n<p>app/build.gradle</p>\n<pre><code>plugins {\n    id &quot;com.android.application&quot;\n    id &quot;org.jetbrains.kotlin.android&quot; // ✅ Only this one for Kotlin\n    id &quot;dev.flutter.flutter-gradle-plugin&quot;\n    id &quot;com.google.gms.google-services&quot;\n}\nandroid {\n    namespace = &quot;com.example.level_7_buzzer&quot;\n    compileSdk = 35\n   compileOptions {\n        sourceCompatibility = JavaVersion.VERSION_17\n        targetCompatibility = JavaVersion.VERSION_17\n    }\n    kotlinOptions {\n        jvmTarget = &quot;17&quot; // Use string for jvmTarget\n    }\n    defaultConfig {\n        applicationId = &quot;com.example.level_7_buzzer&quot;\n        minSdk = 23\n        targetSdk = 34 // Ensure this matches your project needs\n        versionCode = 1 // Update as necessary\n        versionName = &quot;1.0&quot; // Update as necessary\n    }\n    buildTypes {\n        release {\n            signingConfig = signingConfigs.debug // Consider using a release signing config for production\n        }\n    }\n}\nflutter {\n    source = &quot;../..&quot;\n}\ndependencies {\n    implementation platform(&quot;com.google.firebase:firebase-bom:33.10.0&quot;) // Use the latest BoM version\n    implementation &quot;com.google.firebase:firebase-analytics&quot; // Version not specified due to using BoM\n    implementation &quot;com.google.firebase:firebase-auth&quot; // Version not specified due to using BoM\n    implementation &quot;com.google.firebase:firebase-firestore&quot; // Version not specified due to using BoM\n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version&quot; // Ensure this uses the updated version variable\n}\n</code></pre>\n<p>settings.gradle</p>\n<pre><code>pluginManagement {\n    def flutterSdkPath = {\n        def properties = new Properties()\n        file(&quot;local.properties&quot;).withInputStream { properties.load(it) }\n        def flutterSdkPath = properties.getProperty(&quot;flutter.sdk&quot;)\n        assert flutterSdkPath != null, &quot;flutter.sdk not set in local.properties&quot;\n        return flutterSdkPath\n    }()\n\n    includeBuild(&quot;$flutterSdkPath/packages/flutter_tools/gradle&quot;)\n\n    repositories {\n        google()\n        mavenCentral()\n        gradlePluginPortal()\n    }\n}\n\nplugins {\n    id &quot;dev.flutter.flutter-plugin-loader&quot; version &quot;1.0.0&quot;\n    id &quot;com.android.application&quot; version &quot;8.3.1&quot; apply false\n    id &quot;org.jetbrains.kotlin.android&quot; version &quot;2.0.20&quot; apply false\n}\ninclude &quot;:app&quot;\n</code></pre>\n<p>gradle-wraper properties</p>\n<pre><code>distributionBase=GRADLE_USER_HOME\ndistributionPath=wrapper/dists\nzipStoreBase=GRADLE_USER_HOME\nzipStorePath=wrapper/dists\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-8.4-all.zip\n</code></pre>\n<p>gradle.properties</p>\n<pre><code>org.gradle.jvmargs=-Xmx4G -XX:MaxMetaspaceSize=2G -XX:+HeapDumpOnOutOfMemoryError\nandroid.useAndroidX=true\nandroid.enableJetifier=true\n</code></pre>\n<p>pubspec.yaml</p>\n<pre><code>name: level_7_buzzer\ndescription: &quot;A new Flutter project.&quot;\n# The following line prevents the package from being accidentally published to\n# pub.dev using `flutter pub publish`. This is preferred for private packages.\npublish_to: 'none' # Remove this line if you wish to publish to pub.dev\n\n# The following defines the version and build number for your application.\n# A version number is three numbers separated by dots, like 1.2.43\n# followed by an optional build number separated by a +.\n# Both the version and the builder number may be overridden in flutter\n# build by specifying --build-name and --build-number, respectively.\n# In Android, build-name is used as versionName while build-number used as versionCode.\n# Read more about Android versioning at https://developer.android.com/studio/publish/versioning\n# In iOS, build-name is used as CFBundleShortVersionString while build-number is used as CFBundleVersion.\n# Read more about iOS versioning at\n# https://developer.apple.com/library/archive/documentation/General/Reference/InfoPlistKeyReference/Articles/CoreFoundationKeys.html\n# In Windows, build-name is used as the major, minor, and patch parts\n# of the product and file versions while build-number is used as the build suffix.\nversion: 1.0.0+1\n\nenvironment:\n  sdk: ^3.6.0\n\n# Dependencies specify other packages that your package needs in order to work.\n# To automatically upgrade your package dependencies to the latest versions\n# consider running `flutter pub upgrade --major-versions`. Alternatively,\n# dependencies can be manually updated by changing the version numbers below to\n# the latest version available on pub.dev. To see which dependencies have newer\n# versions available, run `flutter pub outdated`.\ndependencies:\n  flutter:\n    sdk: flutter\n  firebase_core: ^3.15.1\n  cloud_firestore: ^5.6.11\n  audioplayers: ^6.5.0\n  # The following adds the Cupertino Icons font to your application.\n  # Use with the CupertinoIcons class for iOS style icons.\n  cupertino_icons: ^1.0.8\n\ndev_dependencies:\n  flutter_test:\n    sdk: flutter\n\n  # The &quot;flutter_lints&quot; package below contains a set of recommended lints to\n  # encourage good coding practices. The lint set provided by the package is\n  # activated in the `analysis_options.yaml` file located at the root of your\n  # package. See that file for information about deactivating specific lint\n  # rules and activating additional ones.\n  flutter_lints: ^5.0.0\n\n# For information on the generic Dart part of this file, see the\n# following page: https://dart.dev/tools/pub/pubspec\n\n# The following section is specific to Flutter packages.\nflutter:\n\n  # The following line ensures that the Material Icons font is\n  # included with your application, so that you can use the icons in\n  # the material Icons class.\n  uses-material-design: true\n\n  # To add assets to your application, add an assets section, like this:\n  assets:\n    - assets/beep.mp3\n    - assets/notification_1.mp3\n  #   - images/a_dot_ham.jpeg\n\n  # An image asset can refer to one or more resolution-specific &quot;variants&quot;, see\n  # https://flutter.dev/to/resolution-aware-images\n\n  # For details regarding adding assets from package dependencies, see\n  # https://flutter.dev/to/asset-from-package\n\n  # To add custom fonts to your application, add a fonts section here,\n  # in this &quot;flutter&quot; section. Each entry in this list should have a\n  # &quot;family&quot; key with the font family name, and a &quot;fonts&quot; key with a\n  # list giving the asset and other descriptors for the font. For\n  # example:\n  # fonts:\n  #   - family: Schyler\n  #     fonts:\n  #       - asset: fonts/Schyler-Regular.ttf\n  #       - asset: fonts/Schyler-Italic.ttf\n  #         style: italic\n  #   - family: Trajan Pro\n  #     fonts:\n  #       - asset: fonts/TrajanPro.ttf\n  #       - asset: fonts/TrajanPro_Bold.ttf\n  #         weight: 700\n  #\n  # For details regarding fonts from package dependencies,\n  # see https://flutter.dev/to/font-from-package\n\n</code></pre>\n",
    "tags" : [ "java", "android", "flutter", "kotlin", "gradle" ],
    "owner" : {
      "account_id" : 30467118,
      "reputation" : 69,
      "user_id" : 23347827,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/ca4e93b04f158be8af30e0bc9fabe0cc?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Xeyad",
      "link" : "https://stackoverflow.com/users/23347827/xeyad"
    },
    "is_answered" : false,
    "view_count" : 95,
    "closed_date" : 1754386032,
    "answer_count" : 0,
    "score" : 0,
    "last_activity_date" : 1754365189,
    "creation_date" : 1752066939,
    "link" : "https://stackoverflow.com/questions/79695692/fluttergradle-build-failed-to-produce-an-apk-file-its-likely-that-this-file",
    "closed_reason" : "Duplicate"
  },
  "answers" : [ ],
  "question_comments" : [ {
    "comment_id" : 140642943,
    "post_id" : 79695692,
    "body" : "These are all rather irrelevent files, except <code>build.gradle</code> and there&#39;s no stacktrace.",
    "score" : 0,
    "owner" : {
      "account_id" : 263656,
      "reputation" : 79593,
      "user_id" : 549372,
      "user_type" : "registered",
      "accept_rate" : 100,
      "profile_image" : "https://www.gravatar.com/avatar/430cfd8b3056a0425f950cb1c6abd208?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Martin Zeitler",
      "link" : "https://stackoverflow.com/users/549372/martin-zeitler"
    },
    "creation_date" : 1754386302,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140642273,
    "post_id" : 79695692,
    "body" : "Please avoid including your local.properties file in your questions. It usually contains sensitive information you&#39;d not wish others to know.",
    "score" : 0,
    "owner" : {
      "account_id" : 21530600,
      "reputation" : 3028,
      "user_id" : 15870118,
      "user_type" : "registered",
      "profile_image" : "https://lh3.googleusercontent.com/a-/AOh14GjP8aOoG3z1x93cts9882DSeyp_3hgQ0_3fLaWI=k-s256",
      "display_name" : "JustinW",
      "link" : "https://stackoverflow.com/users/15870118/justinw"
    },
    "creation_date" : 1754365188,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}