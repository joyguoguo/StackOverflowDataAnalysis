{
  "question" : {
    "question_id" : 79834586,
    "title" : "How to List pdf filenames",
    "body" : "<p>I cannot get a list of files ending with .pdf, I have tried everything, it lists everything else in the folder, except for the pdf's, what is wrong with this. The program then displays the list in a<br />\nThe folder contains 29 pdf files, and 5 image files(jpg). Please don't suggest using <code>File[] fileList = directory.listFiles();</code>, been there done that, nothing works.</p>\n<p>All permissions are set, otherwise I wouldn't get the 5 image filenames</p>\n<pre><code>private void getFileList()\n{\n    fileList = new ArrayList&lt;&gt;();\n    File directory = getPDFDirectory();\n    try( DirectoryStream&lt;Path&gt; stream =\n            Files.newDirectoryStream( directory.toPath(), &quot;*.*&quot; ))\n    {\n        stream.forEach( path -&gt;\n        {\n            fileList.add( path.getFileName().toString() );\n        });\n\n        Collections.sort( fileList );\n    }\n    catch( IOException e )\n    {\n        Toast.makeText( this, &quot;Cannot read folder&quot;, Toast.LENGTH_SHORT );\n    }\n}\n</code></pre>\n<p>And for those who are curious, here is the <code>getPDFDirectory()</code> code</p>\n<pre><code>/**\n *\n * @return PDF Folder as a file\n */\n@NonNull\nprivate File getPDFDirectory()\n{\n\n    return new File( Environment\n            .getExternalStorageDirectory()\n            .getPath() + File.separatorChar +\n            &quot;Documents&quot; + File.separatorChar +\n            &quot;My App&quot; + File.separatorChar +\n            &quot;Files&quot; );\n}\n</code></pre>\n",
    "tags" : [ "java", "android", "directorystream" ],
    "owner" : {
      "account_id" : 34207086,
      "reputation" : 7,
      "user_id" : 26443463,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/c792b814f56fe0ac805876c50f9a74d2?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Roy",
      "link" : "https://stackoverflow.com/users/26443463/roy"
    },
    "is_answered" : false,
    "view_count" : 79,
    "closed_date" : 1764589663,
    "answer_count" : 0,
    "score" : -1,
    "last_activity_date" : 1764593235,
    "creation_date" : 1764581886,
    "link" : "https://stackoverflow.com/questions/79834586/how-to-list-pdf-filenames",
    "closed_reason" : "Duplicate"
  },
  "answers" : [ ],
  "question_comments" : [ ],
  "answer_comments" : { }
}