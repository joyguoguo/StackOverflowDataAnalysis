{
  "question" : {
    "question_id" : 79546892,
    "title" : "How do i get my app to stop crashing when edittext view is empty",
    "body" : "<p>I am creating an app where the users inputs data about their garden within fragments, it saves and outputs data on the home fragment. My problem is that I am trying to make a toast message when the user did not input any data.</p>\n<p>Here's my code for the Thermometer fragment which takes in the temperature from the user and sends it to the home fragment</p>\n<pre><code>@Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n        View view = inflater.inflate(R.layout.fragment_thermometer, container, false);\n\n        Button enter = view.findViewById(R.id.btTemp);\n        EditText degrees = view.findViewById(R.id.nmDegrees);\n\n        enter.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n\n                String tempo = degrees.getText().toString();\n                int temperature = Integer.parseInt(tempo);\n\n                if(!tempo.isEmpty()){\n\n                    if(temperature &gt; 100 || temperature &lt; 40){\n                        Toast.makeText(requireContext(), &quot;Not Viable!!&quot;, Toast.LENGTH_LONG).show();\n                    }\n\n                    else {\n                        SharedPreferences sharedPreferences = getActivity().getSharedPreferences(&quot;Thermo&quot;, Context.MODE_PRIVATE);\n                        SharedPreferences.Editor ed = sharedPreferences.edit();\n                        ed.putInt(&quot;lastTemp&quot;, temperature);\n                        ed.apply();\n\n                        Toast.makeText(requireContext(), &quot;Data Saved!!&quot;, Toast.LENGTH_LONG).show();\n                        Bundle onOrOff = new Bundle();\n                        getParentFragmentManager().setFragmentResult(&quot;dataFromThermometer&quot;, onOrOff);\n\n                        degrees.setText(&quot;&quot;);\n                    }\n                }\n\n                else {\n                    Toast.makeText(requireContext(), &quot;Cannot Be Blank!!&quot;, Toast.LENGTH_LONG).show();\n                }\n\n\n\n\n                //onOrOff.putInt(&quot;df1&quot;, Integer.parseInt(degrees.getText().toString()));\n\n\n\n            }\n        });\n\n        return view;\n    }\n</code></pre>\n<p>What I want to happen is for the toast message to appear but the app keeps closing instead\nAny help would be appreciated. (ignore comment in code)</p>\n",
    "tags" : [ "java", "android", "performance", "android-studio", "mobile" ],
    "owner" : {
      "account_id" : 40793077,
      "reputation" : 23,
      "user_id" : 29955291,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/e8Nex2Gv.jpg?s=256",
      "display_name" : "Isa",
      "link" : "https://stackoverflow.com/users/29955291/isa"
    },
    "is_answered" : true,
    "view_count" : 69,
    "answer_count" : 3,
    "score" : 0,
    "last_activity_date" : 1743613920,
    "creation_date" : 1743442221,
    "link" : "https://stackoverflow.com/questions/79546892/how-do-i-get-my-app-to-stop-crashing-when-edittext-view-is-empty",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79546973,
    "question_id" : 79546892,
    "body" : "<p>Edited Answer: Includes else clause.</p>\n<p>Note: In this case, it's not a <strong>NullPointerException</strong>, since an empty string is not a null object; it is just a string, which is a non-null but empty string object. The exception in your case is a <strong>NumberFormatException</strong>. You can prevent it through try-catch statements.</p>\n<p>The empty string cannot be parsed to an integer, which is a sign of <strong>NumberFormatException</strong>. That's why the exception is thrown, and your app is crashing. You can use try-catch statements in order to hinder any type of exception:</p>\n<pre><code>String tempo = degrees.getText().toString();\nif (!tempo.isEmpty()) {\n    try {\n        int degree = Integer.parseInt(tempo);\n    } catch (Exception ignored) {\n        Toast.makeText(this, &quot;Provide a valid integer.&quot;, Toast.LENGTH_LONG).show();\n    }\n} else Toast.makeText(this, &quot;Provide a valid integer.&quot;, Toast.LENGTH_LONG).show();\n</code></pre>\n",
    "score" : 1,
    "is_accepted" : true,
    "owner" : {
      "account_id" : 33412176,
      "reputation" : 36,
      "user_id" : 27690077,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/cWIXs0Bg.jpg?s=256",
      "display_name" : "EmbedX",
      "link" : "https://stackoverflow.com/users/27690077/embedx"
    },
    "creation_date" : 1743444616,
    "last_activity_date" : 1743612012,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "answer_id" : 79547051,
    "question_id" : 79546892,
    "body" : "<p>Basically, this throws <strong>NullPointerException</strong> because the field is <strong>empty</strong>.</p>\n<p>The application quits because android stops every app that throws <strong>any exception</strong>.</p>\n<p>What you can do is check if the field is filled or empty before doing something with the value you get.</p>\n<p>But you also will use a try block to convert the String you get to an int, what i <em>recomend</em> you here for more clear code is to use a try-catch block without if statement:</p>\n<pre><code>String temp=degrees.getText.toString();\ntry {\n    String input_str=degrees.getText().toString();\n    float degree=Float.parseFloat(input_str);\n    // do whatever you want with input\n} catch (Exception e) { // catch all exception but you can also use multi-catch if you want\n// code to handle null input or wrong input (user enters non-number characters or nothing).\n// example:\nrunOnUiThread(new Runnable(){\n    @Override\n    public void run () {\n        // update ui to warn user\n    }\n}); \n</code></pre>\n",
    "score" : 1,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 32936204,
      "reputation" : 11,
      "user_id" : 28150317,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/0882478ac89606b2cd1c19acec32c438?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "iasonas",
      "link" : "https://stackoverflow.com/users/28150317/iasonas"
    },
    "creation_date" : 1743447451,
    "last_activity_date" : 1743447451,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "answer_id" : 79551130,
    "question_id" : 79546892,
    "body" : "<p>The issue you're facing is caused by the Integer.parseInt() method throwing a NumberFormatException when it tries to parse an empty string or invalid input (non-numeric values).</p>\n<p>To prevent the app from crashing, you need to handle this exception properly using a try-catch block.</p>\n<p>Here's the improved version of your code:</p>\n<pre><code>@Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup container,\n                     Bundle savedInstanceState) {\n\nView view = inflater.inflate(R.layout.fragment_thermometer, container, false);\nButton enter = view.findViewById(R.id.btTemp);\nEditText degrees = view.findViewById(R.id.nmDegrees);\n\nenter.setOnClickListener(new View.OnClickListener() {\n\n    @Override\n    public void onClick(View view) {\n        String tempo = degrees.getText().toString();\n\n        if (tempo.isEmpty()) {\n          Toast.makeText(requireContext(), &quot;Cannot Be Blank!!&quot;, Toast.LENGTH_LONG).show();\n            return;\n        }\n\n        try {\n            int temperature = Integer.parseInt(tempo);\n\n            if (temperature &gt; 100 || temperature &lt; 40) {\n                Toast.makeText(requireContext(), &quot;Not Viable!!&quot;, Toast.LENGTH_LONG).show();\n            } else {\n                SharedPreferences sharedPreferences = getActivity().getSharedPreferences(&quot;Thermo&quot;, Context.MODE_PRIVATE);\n                SharedPreferences.Editor ed = sharedPreferences.edit();\n                ed.putInt(&quot;lastTemp&quot;, temperature);\n                ed.apply();\n                Toast.makeText(requireContext(), &quot;Data Saved!!&quot;, Toast.LENGTH_LONG).show();\n\n                Bundle onOrOff = new Bundle();\n                getParentFragmentManager().setFragmentResult(&quot;dataFromThermometer&quot;, onOrOff);\n                degrees.setText(&quot;&quot;);\n            }\n        } catch (NumberFormatException e) {\n            Toast.makeText(requireContext(), &quot;Please enter a valid number&quot;, Toast.LENGTH_LONG).show();\n        }\n    }\n});\n\nreturn view;\n}\n</code></pre>\n<p><em><strong>Explanation:</strong></em></p>\n<p><strong>Check for empty input:</strong> Before trying to parse the input, we first check if the input is empty and show a toast message accordingly.</p>\n<p><strong>Handle invalid input with try-catch:</strong> If the user enters a non-numeric value, the parseInt() method will throw a NumberFormatException, so we wrap it in a try-catch block to handle the exception gracefully and show a toast message informing the user to provide a valid number.</p>\n<p><strong>Temperature validation:</strong> If the parsed temperature is outside the valid range (less than 40 or greater than 100), we display a message saying it's not viable.</p>\n",
    "score" : 1,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 9735879,
      "reputation" : 625,
      "user_id" : 7219129,
      "user_type" : "registered",
      "accept_rate" : 67,
      "profile_image" : "https://www.gravatar.com/avatar/2d1d1d45e3aabb8f69bd04ff6e3d57bd?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Majid Ahmadi Jebeli",
      "link" : "https://stackoverflow.com/users/7219129/majid-ahmadi-jebeli"
    },
    "creation_date" : 1743612461,
    "last_activity_date" : 1743613920,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140289896,
    "post_id" : 79546892,
    "body" : "<i>&quot;...the app keeps closing instead Any help would be appreciated.&quot;</i> In general the crash log will provide details that should be included in the question. See <a href=\"https://stackoverflow.com/questions/23353173/unfortunately-myapp-has-stopped-how-can-i-solve-this\">Unfortunately MyApp has stopped. How can I solve this?</a>. Apparently in this case it&#39;s a NullPointerException, so see also <a href=\"https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it\">What is a NullPointerException, and how do I fix it?</a>.",
    "score" : 0,
    "owner" : {
      "account_id" : 6576425,
      "reputation" : 3235,
      "user_id" : 5082285,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/7c837feb4ac8ce1394a775b43dbf0f64?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Markus Kauppinen",
      "link" : "https://stackoverflow.com/users/5082285/markus-kauppinen"
    },
    "creation_date" : 1743589481,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : {
    "79546973" : [ {
      "comment_id" : 140285829,
      "post_id" : 79546973,
      "body" : "@Isa, I&#39;ve forgotten adding else clause in the code. If the string is empty, you can handle it with a Toast message. I&#39;ve edited my answer in accordance with your request. You can try it again.",
      "score" : 0,
      "owner" : {
        "account_id" : 33412176,
        "reputation" : 36,
        "user_id" : 27690077,
        "user_type" : "registered",
        "profile_image" : "https://i.sstatic.net/cWIXs0Bg.jpg?s=256",
        "display_name" : "EmbedX",
        "link" : "https://stackoverflow.com/users/27690077/embedx"
      },
      "creation_date" : 1743495482,
      "content_license" : "CC BY-SA 4.0"
    }, {
      "comment_id" : 140284618,
      "post_id" : 79546973,
      "body" : "So the app stopped crashing(tyty), but the toast message is not showing up. Do i have add something else in order for it to work?",
      "score" : 0,
      "owner" : {
        "account_id" : 40793077,
        "reputation" : 23,
        "user_id" : 29955291,
        "user_type" : "registered",
        "profile_image" : "https://i.sstatic.net/e8Nex2Gv.jpg?s=256",
        "display_name" : "Isa",
        "link" : "https://stackoverflow.com/users/29955291/isa"
      },
      "creation_date" : 1743460318,
      "content_license" : "CC BY-SA 4.0"
    } ]
  }
}