{
  "question" : {
    "question_id" : 79538606,
    "title" : "WildFly Fails to Start with SkyWalking Agent: &quot;WFLYLOG0078: The logging subsystem requires the log manager to be org.jboss.logmanager.LogManager&quot;",
    "body" : "<p>I am trying to run a Java application deployed as a .war file on WildFly with the SkyWalking agent enabled for monitoring. However, when I start WildFly, it fails to boot with the following error:</p>\n<blockquote>\n<p>java.lang.IllegalStateException: WFLYLOG0078: The logging subsystem\nrequires the log manager to be org.jboss.logmanager.LogManager. The\nsubsystem has not been initialized and cannot be used. To use JBoss\nLog Manager, you must add the system property\n&quot;java.util.logging.manager&quot; and set it to\n&quot;org.jboss.logmanager.LogManager&quot;</p>\n</blockquote>\n<p>This results in a fatal error preventing WildFly from starting:</p>\n<blockquote>\n<p>FATAL: WFLYSRV0056: Server boot has failed in an unrecoverable manner;\nexiting.  See previous messages for details. - Server configuration\nfile in use: standalone.xml</p>\n</blockquote>\n<p>My Setup:\nI have:</p>\n<p>Java application packaged as a .war file and placed in:</p>\n<pre><code>$JBOSS_HOME/standalone/deployments/app.war\n</code></pre>\n<p>SkyWalking agent (packaged as a .jar) added to WildFlyâ€™s standalone.conf file like this:</p>\n<pre><code>JAVA_OPTS=&quot;$JAVA_OPTS -javaagent:/opt/skywalking-agent/skywalking-agent.jar&quot;\n</code></pre>\n<p>WildFly 35.0.1.Final running in standalone mode.</p>\n<p>What I Have Tried:\nVerified that the .war file is correctly placed in standalone/deployments/ and WildFly detects it.</p>\n<p>Checked server.log and found that WildFly crashes due to the log manager issue.</p>\n<p>Searched online and found that JBoss WildFly requires org.jboss.logmanager.LogManager for logging, but it seems SkyWalking changes this behavior.</p>\n<p>As Skywalking doesnt support WildFly how to modify or configure it so that it supports WildFly</p>\n<p>Do I need to configure something in SkyWalking?</p>\n<p>Should I modify the standalone.conf file further?</p>\n<p>Additional Information:</p>\n<p>OS: Ubuntu 22.04</p>\n<p>Java Version: JDK 17</p>\n<p>WildFly Version: 35.0.1.Final</p>\n<p>SkyWalking Version: 9.2.0</p>\n",
    "tags" : [ "java", "jboss", "wildfly", "skywalking" ],
    "owner" : {
      "account_id" : 25186614,
      "reputation" : 9,
      "user_id" : 19027409,
      "user_type" : "registered",
      "profile_image" : "https://lh3.googleusercontent.com/a-/AOh14GhMzrDvvUBtu6GhDXNC7F82GjMMXRvO4ectHPppMg=k-s256",
      "display_name" : "Anirudh parida",
      "link" : "https://stackoverflow.com/users/19027409/anirudh-parida"
    },
    "is_answered" : false,
    "view_count" : 129,
    "answer_count" : 1,
    "score" : -1,
    "last_activity_date" : 1743083938,
    "creation_date" : 1743072727,
    "link" : "https://stackoverflow.com/questions/79538606/wildfly-fails-to-start-with-skywalking-agent-wflylog0078-the-logging-subsyste",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79539094,
    "question_id" : 79538606,
    "body" : "<p>Instead of using the <code>JAVA_OPTS</code> for the agent arguments, try using the <code>MODULE_OPTS</code>. That will allow the log manager to be configured before the agent attempts to log anything.</p>\n",
    "score" : 0,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 51161,
      "reputation" : 17960,
      "user_id" : 152794,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/eX5Ms.jpg?s=256",
      "display_name" : "James R. Perkins",
      "link" : "https://stackoverflow.com/users/152794/james-r-perkins"
    },
    "creation_date" : 1743083938,
    "last_activity_date" : 1743083938,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ ],
  "answer_comments" : { }
}