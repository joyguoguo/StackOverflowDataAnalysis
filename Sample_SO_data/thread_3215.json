{
  "question" : {
    "question_id" : 79564609,
    "title" : "My Spring app works fine in Intellij Idea, but don&#39;t work as jar-file",
    "body" : "<p>Maybe someone has encountered this issue: I wrote a stub (a simple web app) in Spring, and in application.properties, I set the following:</p>\n<pre><code>spring.application.name=Mock\nserver.port=9090\n\n# Actuator\nmanagement.endpoints.web.exposure.include=health,info,metrics\n\n# Micrometer InfluxDB (for v1)\nmanagement.influx.metrics.export.api-version=v1\nmanagement.influx.metrics.export.uri=http://ltmonitor:8086\nmanagement.influx.metrics.export.user-name=user\nmanagement.influx.metrics.export.password=user\nmanagement.influx.metrics.export.db=TSA_MOCK\n</code></pre>\n<p>When running from IntelliJ IDEA, everything works fine. But when I try to run the JAR file built by the same IDEA, I get two errors:</p>\n<blockquote>\n<p>14:38:07.968 [main] ERROR io.micrometer.influx.InfluxMeterRegistry --\nunable to create database 'mydb':\n{&quot;code&quot;:&quot;unauthorized&quot;,&quot;message&quot;:&quot;unauthorized access&quot;}   14:38:07.980\n[main] ERROR org.springframework.boot.SpringApplication -- Application\nrun failed<br />\norg.springframework.beans.factory.UnsatisfiedDependencyException:\nError creating bean with name 'healthContributorRegistry' defined in\nclass path resource\n[org/springframework/boot/actuate/autoconfigure/health/HealthEndpointConfiguration.class]:\nUnsatisfied dependency expressed through method\n'healthContributorRegistry' parameter 2: Error creating bean with name\n'sslHealthIndicator' defined in class path resource\n[org/springframework/boot/actuate/autoconfigure/ssl/SslHealthContributorAutoConfiguration.class]:\nUnsatisfied dependency expressed through method 'sslHealthIndicator'\nparameter 0: Error creating bean with name 'sslInfo' defined in class\npath resource\n[org/springframework/boot/actuate/autoconfigure/ssl/SslHealthContributorAutoConfiguration.class]:\nUnsatisfied dependency expressed through method 'sslInfo' parameter 0:\nNo qualifying bean of type 'org.springframework.boot.ssl.SslBundles'\navailable: expected at least 1 bean which qualifies as autowire\ncandidate. Dependency annotations: {}</p>\n</blockquote>\n<p>I tried checking which application.properties is inside the JAR—it’s the same. Attempting to redirect the JAR to an external application.properties didn’t help. What could be causing this? I don't think my problem is similar to <a href=\"https://stackoverflow.com/questions/62719898/unable-to-build-project-after-adding-spring-actuator-dependency/62720381#62720381\">Unable to build project after adding Spring actuator dependency</a>. I have an impression that problem is that jar somehow use default values for properties (it's management.influx.metrics.export.uri=localhost:8086, management.influx.metrics.export.db=mydb) But i don't understand why and how to fix it. I tried use java -jar my-app.jar --spring.config.location=file:/path/to/your/application.properties, but it didn't help</p>\n",
    "tags" : [ "java", "spring", "spring-boot", "intellij-idea" ],
    "owner" : {
      "account_id" : 18652297,
      "reputation" : 61,
      "user_id" : 13595487,
      "user_type" : "registered",
      "profile_image" : "https://lh4.googleusercontent.com/-lTSMfttDthE/AAAAAAAAAAI/AAAAAAAAAAA/AMZuucn8KTHxzFqvpaFqD0v3jvjTe2dSnA/s256-rj/photo.jpg",
      "display_name" : "Михаил Воробьев",
      "link" : "https://stackoverflow.com/users/13595487/%d0%9c%d0%b8%d1%85%d0%b0%d0%b8%d0%bb-%d0%92%d0%be%d1%80%d0%be%d0%b1%d1%8c%d0%b5%d0%b2"
    },
    "is_answered" : false,
    "view_count" : 157,
    "answer_count" : 0,
    "score" : 1,
    "last_activity_date" : 1744213830,
    "creation_date" : 1744208955,
    "link" : "https://stackoverflow.com/questions/79564609/my-spring-app-works-fine-in-intellij-idea-but-dont-work-as-jar-file",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ ],
  "question_comments" : [ {
    "comment_id" : 140319373,
    "post_id" : 79564609,
    "body" : "For maven you should use the <code>spring-boot-maven-plugin</code> to build the &#39;fat&#39; jar.",
    "score" : 0,
    "owner" : {
      "account_id" : 5273740,
      "reputation" : 834,
      "user_id" : 4211252,
      "user_type" : "registered",
      "profile_image" : "https://lh3.googleusercontent.com/-87ivl3B4PjA/AAAAAAAAAAI/AAAAAAAAAGA/QtBp_y12AcE/s256-rj/photo.jpg",
      "display_name" : "Thilo Schwarz",
      "link" : "https://stackoverflow.com/users/4211252/thilo-schwarz"
    },
    "creation_date" : 1744272062,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140319267,
    "post_id" : 79564609,
    "body" : "You should have started with that. You can get an initializer project from start.spring.io which contains a maven or gradle script.",
    "score" : 0,
    "owner" : {
      "account_id" : 3192259,
      "reputation" : 126800,
      "user_id" : 2696260,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/qHEzx.png?s=256",
      "display_name" : "M. Deinum",
      "link" : "https://stackoverflow.com/users/2696260/m-deinum"
    },
    "creation_date" : 1744270273,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140319253,
    "post_id" : 79564609,
    "body" : "@M.Deinum Please tell me where can i get such maven script?",
    "score" : 0,
    "owner" : {
      "account_id" : 18652297,
      "reputation" : 61,
      "user_id" : 13595487,
      "user_type" : "registered",
      "profile_image" : "https://lh4.googleusercontent.com/-lTSMfttDthE/AAAAAAAAAAI/AAAAAAAAAAA/AMZuucn8KTHxzFqvpaFqD0v3jvjTe2dSnA/s256-rj/photo.jpg",
      "display_name" : "Михаил Воробьев",
      "link" : "https://stackoverflow.com/users/13595487/%d0%9c%d0%b8%d1%85%d0%b0%d0%b8%d0%bb-%d0%92%d0%be%d1%80%d0%be%d0%b1%d1%8c%d0%b5%d0%b2"
    },
    "creation_date" : 1744270104,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140319233,
    "post_id" : 79564609,
    "body" : "Don&#39;t. You have a Maven or Gradle script that includes Spring Boot specific plugins and extensions to create the proper jar for Spring Boot.",
    "score" : 1,
    "owner" : {
      "account_id" : 3192259,
      "reputation" : 126800,
      "user_id" : 2696260,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/qHEzx.png?s=256",
      "display_name" : "M. Deinum",
      "link" : "https://stackoverflow.com/users/2696260/m-deinum"
    },
    "creation_date" : 1744269768,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140319176,
    "post_id" : 79564609,
    "body" : "@M.Deinum In Intellij Idea I go to File-&gt;Project Structure-&gt;Artifacts then add jar and extract libraries to the target jar; Afte that i go to Build-&gt;Build Artifacts-&gt;My Artifact-&gt;Build",
    "score" : 0,
    "owner" : {
      "account_id" : 18652297,
      "reputation" : 61,
      "user_id" : 13595487,
      "user_type" : "registered",
      "profile_image" : "https://lh4.googleusercontent.com/-lTSMfttDthE/AAAAAAAAAAI/AAAAAAAAAAA/AMZuucn8KTHxzFqvpaFqD0v3jvjTe2dSnA/s256-rj/photo.jpg",
      "display_name" : "Михаил Воробьев",
      "link" : "https://stackoverflow.com/users/13595487/%d0%9c%d0%b8%d1%85%d0%b0%d0%b8%d0%bb-%d0%92%d0%be%d1%80%d0%be%d0%b1%d1%8c%d0%b5%d0%b2"
    },
    "creation_date" : 1744269043,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140318966,
    "post_id" : 79564609,
    "body" : "How are you building the jar?",
    "score" : 0,
    "owner" : {
      "account_id" : 3192259,
      "reputation" : 126800,
      "user_id" : 2696260,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/qHEzx.png?s=256",
      "display_name" : "M. Deinum",
      "link" : "https://stackoverflow.com/users/2696260/m-deinum"
    },
    "creation_date" : 1744264324,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140316858,
    "post_id" : 79564609,
    "body" : "No, i think that problem is tat jar somehow use default values for properties (it&#39;s management.influx.metrics.export.uri=<a href=\"http://localhost:8086\" rel=\"nofollow noreferrer\">localhost:8086</a>,  management.influx.metrics.export.db=mydb) But i don&#39;t understand why and how to fix it. I tried use java -jar my-app.jar --spring.config.location=file:/path/to/your/application.prop&zwnj;&#8203;erties, but it didn&#39;t help",
    "score" : 0,
    "owner" : {
      "account_id" : 18652297,
      "reputation" : 61,
      "user_id" : 13595487,
      "user_type" : "registered",
      "profile_image" : "https://lh4.googleusercontent.com/-lTSMfttDthE/AAAAAAAAAAI/AAAAAAAAAAA/AMZuucn8KTHxzFqvpaFqD0v3jvjTe2dSnA/s256-rj/photo.jpg",
      "display_name" : "Михаил Воробьев",
      "link" : "https://stackoverflow.com/users/13595487/%d0%9c%d0%b8%d1%85%d0%b0%d0%b8%d0%bb-%d0%92%d0%be%d1%80%d0%be%d0%b1%d1%8c%d0%b5%d0%b2"
    },
    "creation_date" : 1744212821,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140316775,
    "post_id" : 79564609,
    "body" : "This question is similar to: <a href=\"https://stackoverflow.com/questions/62719898/unable-to-build-project-after-adding-spring-actuator-dependency\">Unable to build project after adding Spring actuator dependency</a>. If you believe it’s different, please <a href=\"https://stackoverflow.com/posts/79564609/edit\">edit</a> the question, make it clear how it’s different and/or how the answers on that question are not helpful for your problem.",
    "score" : 0,
    "owner" : {
      "account_id" : 209503,
      "reputation" : 23867,
      "user_id" : 460557,
      "user_type" : "registered",
      "accept_rate" : 100,
      "profile_image" : "https://www.gravatar.com/avatar/b4565f97815833390c9c880e9e8522e4?s=256&d=identicon&r=PG",
      "display_name" : "Jorge Campos",
      "link" : "https://stackoverflow.com/users/460557/jorge-campos"
    },
    "creation_date" : 1744211666,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140316595,
    "post_id" : 79564609,
    "body" : "Would <a href=\"https://stackoverflow.com/a/62720381/2987755\">this</a> help?",
    "score" : 0,
    "owner" : {
      "account_id" : 3253096,
      "reputation" : 4636,
      "user_id" : 2987755,
      "user_type" : "registered",
      "accept_rate" : 50,
      "profile_image" : "https://i.sstatic.net/gHWsA.jpg?s=256",
      "display_name" : "dkb",
      "link" : "https://stackoverflow.com/users/2987755/dkb"
    },
    "creation_date" : 1744209549,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}