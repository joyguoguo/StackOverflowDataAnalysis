{
  "question" : {
    "question_id" : 79668903,
    "title" : "Problem with multi-module Maven dependency resolution in IntelliJ",
    "body" : "<p>I have a multi-module Maven project with the following structure:</p>\n<pre><code>vet-city-app/                  # Root folder (parent POM)\n├── pom.xml                    # Parent POM (packaging = pom)\n│\n├── common-share/             # Shared library module\n│   └── pom.xml\n│\n├── appointment-service/      # Appointment microservice\n│   ├── appointment-service-core/\n│   │   └── pom.xml\n│   ├── appointment-service-adapter/\n│   │   └── pom.xml\n│   ├── appointment-service-rest/\n│   │   └── pom.xml\n│   └── pom.xml               # Aggregator POM (optional)\n│\n└── ...                       # Other services\n</code></pre>\n<p>In the root <code>vet-city-app/pom.xml</code>, I defined the shared module in the dependencyManagement section like this:</p>\n<pre><code>&lt;groupId&gt;com.city.vet&lt;/groupId&gt;\n        &lt;artifactId&gt;vet-city-app&lt;/artifactId&gt;\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    \n        &lt;packaging&gt;pom&lt;/packaging&gt;\n    \n        &lt;modules&gt;\n            &lt;module&gt;common-shared&lt;/module&gt;\n            &lt;module&gt;appointment-service&lt;/module&gt;\n        &lt;/modules&gt;\n\n&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.city.vet&lt;/groupId&gt;\n            &lt;artifactId&gt;common-shared&lt;/artifactId&gt;\n            &lt;version&gt;${project.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n</code></pre>\n<p>Then, in appointment-service/pom.xml is the foollowing</p>\n<pre><code>&lt;parent&gt;\n        &lt;groupId&gt;com.city.vet&lt;/groupId&gt;\n        &lt;artifactId&gt;vet-city-app&lt;/artifactId&gt;\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n    &lt;name&gt;Appointment Service&lt;/name&gt;\n\n    &lt;artifactId&gt;appointment-service&lt;/artifactId&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n\n    &lt;modules&gt;\n        &lt;module&gt;appointment-service-adapter&lt;/module&gt;\n        &lt;module&gt;appointment-service-core&lt;/module&gt;\n        &lt;module&gt;appointment-service-rest&lt;/module&gt;\n        &lt;module&gt;appointment-service-app&lt;/module&gt;\n    &lt;/modules&gt;\n</code></pre>\n<p>Then, in appointment-service-rest/pom.xml, I include the dependency without specifying the version:</p>\n<pre><code>&lt;parent&gt;\n        &lt;groupId&gt;com.city.vet&lt;/groupId&gt;\n        &lt;artifactId&gt;appointment-service&lt;/artifactId&gt;\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;artifactId&gt;appointment-service-rest&lt;/artifactId&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.city.vet&lt;/groupId&gt;\n            &lt;artifactId&gt;common-shared&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p>now if i try to add using intellij the dependency like the image\n<a href=\"https://i.sstatic.net/IxdpznsW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/IxdpznsW.png\" alt=\"intellij auto inject dependency\" /></a></p>\n<p>is inject it in appointment-service pom\n<a href=\"https://i.sstatic.net/jMMrLsFd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/jMMrLsFd.png\" alt=\"einject in wrong pom\" /></a>\nProblem:\nIntelliJ shows a warning: Unresolved dependency, and suggests to &quot;Add dependency&quot;. If I click that, it navigates to appointment-service/pom.xml (the intermediate aggregator POM), not to the root vet-city-app/pom.xml where the dependency version is actually managed.</p>\n",
    "tags" : [ "java", "maven", "intellij-idea", "maven-dependency", "maven-multi-module" ],
    "owner" : {
      "account_id" : 2020277,
      "reputation" : 127,
      "user_id" : 4226612,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/e42bf198491603a2cb40dc886e59c9f4?s=256&d=identicon&r=PG",
      "display_name" : "Vagos",
      "link" : "https://stackoverflow.com/users/4226612/vagos"
    },
    "is_answered" : false,
    "view_count" : 65,
    "answer_count" : 0,
    "score" : 0,
    "last_activity_date" : 1750159541,
    "creation_date" : 1750156215,
    "link" : "https://stackoverflow.com/questions/79668903/problem-with-multi-module-maven-dependency-resolution-in-intellij",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ ],
  "question_comments" : [ {
    "comment_id" : 140552573,
    "post_id" : 79668903,
    "body" : "Please provide a minimal reproduceable example, as there are way too many things that can cause this behavior.",
    "score" : 0,
    "owner" : {
      "account_id" : 5316725,
      "reputation" : 259,
      "user_id" : 4241377,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/0ae255d91ce1ff9888243f5bd51f77c2?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Mr__Steel",
      "link" : "https://stackoverflow.com/users/4241377/mr-steel"
    },
    "creation_date" : 1751273907,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}