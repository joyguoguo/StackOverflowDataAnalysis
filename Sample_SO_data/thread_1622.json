{
  "question" : {
    "question_id" : 79689779,
    "title" : "How to set an image filename",
    "body" : "<p>I made a Java program with Swing libraries that displays text and an image. Both the text string and the image filename are set via a set method, but while the text is displayed correctly, the image is not.</p>\n<p>If I set the filename directly in the constructor then it works, but it is not what I want to do.</p>\n<p>I cannot find a way to pass the filename to display the image.</p>\n<p>The intention is to periodically pass an array of strings and a set of image filenames, to have a GUI with text and image changing over time.</p>\n<p>Here is the code simplified:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.swing.*;\nimport java.net.URL;\n\nclass Swing extends JFrame {\n    \n    private JLabel label = new JLabel();\n    private String imageFilename = new String();\n    \n    Swing()\n    {\n        super(&quot;Swing Test Application&quot;); \n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setSize(1000, 700);\n        setLayout(null);\n        setLocationRelativeTo(null);\n            \n        label.setBounds(10, 0, 220, 100); \n        add(label);\n        \n        //String imageFilename = &quot;images\\\\image-1.jpg&quot;;     \n        URL imageURL = getClass().getResource(imageFilename); \n        if (imageURL != null) {\n            ImageIcon imageIcon = new ImageIcon(imageURL);\n            JLabel imageLabel = new JLabel(imageIcon);\n            imageLabel.setBounds(10, 200, 420, 420);\n            add(imageLabel); // Aggiungi l'etichetta al frame\n        } else {\n            System.err.println(&quot;Image &quot; + imageFilename + &quot; not found.&quot;);\n        }       \n                    \n        setVisible(true);\n    }\n    \n    void SetText(String strLabel, String imageFilename) \n    {\n        label.setText(strLabel);        \n        this.imageFilename = imageFilename;\n        \n        return;\n    }\n        \n    public static void main(String arg[]) \n    { \n        Swing swing = new Swing();      \n        swing.SetText(&quot;This is string 1&quot;, &quot;images\\\\image-1.jpg&quot;); \n    }\n}\n</code></pre>\n",
    "tags" : [ "java", "image", "swing", "jframe" ],
    "owner" : {
      "account_id" : 37606784,
      "reputation" : 11,
      "user_id" : 30405569,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/4d45857a13dadffeabf98c272d9ac693?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Fabio Ferro",
      "link" : "https://stackoverflow.com/users/30405569/fabio-ferro"
    },
    "is_answered" : true,
    "view_count" : 93,
    "answer_count" : 2,
    "score" : 0,
    "last_activity_date" : 1751630693,
    "creation_date" : 1751612306,
    "link" : "https://stackoverflow.com/questions/79689779/how-to-set-an-image-filename",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79689807,
    "question_id" : 79689779,
    "body" : "<p>In the same way that you declared a <code>JLabel</code> field for the text label, you can declare another <code>JLabel</code> field for the image label:</p>\n<pre><code>private JLabel label = new JLabel();\nprivate JLabel image = new JLabel(); // &lt;-------\n\nSwing()\n{\n    super(&quot;Swing Test Application&quot;);\n    setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    setSize(1000, 700);\n    setLayout(null);\n    setLocationRelativeTo(null);\n\n    label.setBounds(10, 0, 220, 100);\n    add(label);\n    image.setBounds(10, 200, 420, 420);\n    add(image);\n    setVisible(true);\n}\n</code></pre>\n<p>In <code>SetText</code>, call <code>setIcon</code> on the <code>image</code> label:</p>\n<pre><code>void SetText(String strLabel, String imageFilename)\n{\n    label.setText(strLabel);\n    URL imageURL = getClass().getResource(imageFilename);\n    if (imageURL != null) {\n        ImageIcon imageIcon = new ImageIcon(imageURL);\n        image.setIcon(imageIcon);\n    } else {\n        System.err.println(&quot;Image &quot; + imageFilename + &quot; not found.&quot;);\n    }\n}\n</code></pre>\n",
    "score" : 1,
    "is_accepted" : true,
    "owner" : {
      "account_id" : 6651855,
      "reputation" : 292025,
      "user_id" : 5133585,
      "user_type" : "registered",
      "accept_rate" : 96,
      "profile_image" : "https://i.sstatic.net/dfqcw.png?s=256",
      "display_name" : "Sweeper",
      "link" : "https://stackoverflow.com/users/5133585/sweeper"
    },
    "creation_date" : 1751613471,
    "last_activity_date" : 1751613471,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "answer_id" : 79690154,
    "question_id" : 79689779,
    "body" : "<p>With a few modifications, your code will work as expected:</p>\n<pre><code>public class Swing extends JFrame {\n\n   private JLabel imageLabel;\n   private JLabel label;\n\n   Swing() {\n      super( &quot;Swing Test Application&quot; );\n      setDefaultCloseOperation( JFrame.EXIT_ON_CLOSE );\n      setLocationRelativeTo(null);\n      setSize( 1000, 700 );\n      setLayout( null );\n      \n        // create both labels\n      imageLabel = new JLabel();\n\n        // we assign the initial text\n      label = new JLabel( &quot;Default text&quot; );\n\n        // we assign the sizes and positions only once\n      imageLabel.setBounds( 10, 200, 420, 420 );\n      label.setBounds( 10, 0, 220, 100 );\n      \n        // set icon with path to default icon\n        // your IDE will probably complain that &quot;setFrameIcon&quot; is not &quot;private&quot;,\n        // but since it will be invoked later by other sections of the \n        // code you need it to look like this\n      setFrameIcon( &quot;images/aa.jpg&quot; );\n      add( imageLabel );\n      add( label );\n      setVisible( true );\n   }\n\n   public void setFrameIcon( String imageFilename ) {\n      try {\n           // we create the “ImageIcon” object as a resource, to be able to use \n           // it from the “Jar”.\n           // you must take into account that absolute routes are not accepted.\n         ImageIcon icon = new ImageIcon( getClass().getResource( imageFilename ) );\n         imageLabel.setIcon( icon );\n\n           // in one line\n         imageLabel.setIcon( new ImageIcon( getClass().getResource( imageFilename )));\n      }\n      catch( Exception e ) {\n         System.err.println( &quot;Image &quot; + imageFilename + &quot; not found.&quot; );\n      }\n   }\n\n   public void setText( String strLabel ) {\n      label.setText( strLabel );\n   }\n\n   public static void main( String arg[] ) {\n      \n        // we use “InvokeLater” so that the “GUI” is built on the event thread\n      SwingUtilities.invokeLater( () -&gt; {\n         Swing swing = new Swing();\n      } );\n   }\n}\n</code></pre>\n",
    "score" : 0,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 10843443,
      "reputation" : 916,
      "user_id" : 20882864,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/CCQCy.jpg?s=256",
      "display_name" : "Marce Puente",
      "link" : "https://stackoverflow.com/users/20882864/marce-puente"
    },
    "creation_date" : 1751630693,
    "last_activity_date" : 1751630693,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140566640,
    "post_id" : 79689779,
    "body" : "I&#39;m guessing <a href=\"https://technojeeves.com/tech/slides.jar\" rel=\"nofollow noreferrer\">THIS</a> is what you were trying to do. Run as <code>java -jar slides.jar</code> Source inside the jar",
    "score" : 0,
    "owner" : {
      "account_id" : 22124137,
      "reputation" : 4243,
      "user_id" : 16376827,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/1ImPw.png?s=256",
      "display_name" : "g00se",
      "link" : "https://stackoverflow.com/users/16376827/g00se"
    },
    "creation_date" : 1751708496,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : {
    "79689807" : [ {
      "comment_id" : 140564650,
      "post_id" : 79689807,
      "body" : "That question should have been closed immediately as essentially a duplicate of this one. But looking at that other one, you should say what you expect your code to do as well Fabio",
      "score" : 0,
      "owner" : {
        "account_id" : 22124137,
        "reputation" : 4243,
        "user_id" : 16376827,
        "user_type" : "registered",
        "profile_image" : "https://i.sstatic.net/1ImPw.png?s=256",
        "display_name" : "g00se",
        "link" : "https://stackoverflow.com/users/16376827/g00se"
      },
      "creation_date" : 1751624204,
      "content_license" : "CC BY-SA 4.0"
    }, {
      "comment_id" : 140564634,
      "post_id" : 79689807,
      "body" : "@g00se This problem is further discussed <a href=\"https://stackoverflow.com/q/79689899/5133585\">here</a>.",
      "score" : 0,
      "owner" : {
        "account_id" : 6651855,
        "reputation" : 292025,
        "user_id" : 5133585,
        "user_type" : "registered",
        "accept_rate" : 96,
        "profile_image" : "https://i.sstatic.net/dfqcw.png?s=256",
        "display_name" : "Sweeper",
        "link" : "https://stackoverflow.com/users/5133585/sweeper"
      },
      "creation_date" : 1751623780,
      "content_license" : "CC BY-SA 4.0"
    }, {
      "comment_id" : 140564628,
      "post_id" : 79689807,
      "body" : "That&#39;s because you&#39;re not treating the images properly as resources, a fact which is revealed by this: <i>//String imageFilename = &quot;images\\\\image-1.jpg&quot;;</i> Resources are <i>not</i> files/file paths. Are you using any kind of IDE for doing your Java? Also, you should <a href=\"https://technojeeves.com/index.php/aliasjava1/114-avoid-null-layouts-in-swing\" rel=\"nofollow noreferrer\">avoid null layouts</a>",
      "score" : 1,
      "owner" : {
        "account_id" : 22124137,
        "reputation" : 4243,
        "user_id" : 16376827,
        "user_type" : "registered",
        "profile_image" : "https://i.sstatic.net/1ImPw.png?s=256",
        "display_name" : "g00se",
        "link" : "https://stackoverflow.com/users/16376827/g00se"
      },
      "creation_date" : 1751623633,
      "content_license" : "CC BY-SA 4.0"
    }, {
      "comment_id" : 140564371,
      "post_id" : 79689807,
      "body" : "Now I have another little problem.  If I compile with javac and then call java etc... the application can load corectly the images located in the directory &quot;images&quot;. Instead if I try to create a jar file, with the following commands:  javac Swing.java jar cfe Build.jar Swing . java -jar Build.jar  the application does not find the images.  How can I say to the Java compiler to look for the images in the directory &quot;images&quot;?  Thanks",
      "score" : 0,
      "owner" : {
        "account_id" : 37606784,
        "reputation" : 11,
        "user_id" : 30405569,
        "user_type" : "registered",
        "profile_image" : "https://www.gravatar.com/avatar/4d45857a13dadffeabf98c272d9ac693?s=256&d=identicon&r=PG&f=y&so-version=2",
        "display_name" : "Fabio Ferro",
        "link" : "https://stackoverflow.com/users/30405569/fabio-ferro"
      },
      "creation_date" : 1751617245,
      "content_license" : "CC BY-SA 4.0"
    } ],
    "79690154" : [ {
      "comment_id" : 140567061,
      "post_id" : 79690154,
      "body" : "You should explain those few modifications in prose.",
      "score" : 1,
      "owner" : {
        "account_id" : 322981,
        "reputation" : 346951,
        "user_id" : 642706,
        "user_type" : "registered",
        "accept_rate" : 58,
        "profile_image" : "https://i.sstatic.net/ZWEI3.jpg?s=256",
        "display_name" : "Basil Bourque",
        "link" : "https://stackoverflow.com/users/642706/basil-bourque"
      },
      "creation_date" : 1751729913,
      "content_license" : "CC BY-SA 4.0"
    } ]
  }
}