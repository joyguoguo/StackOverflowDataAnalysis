{
  "question" : {
    "question_id" : 79532457,
    "title" : "The trustAnchors parameter must be non-empty error when exclude spring-security-crypto in Spring Boot 2",
    "body" : "<p>I am trying to fix <a href=\"https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2025-22228\" rel=\"nofollow noreferrer\">Direct vulnerabilities</a> <code>spring-security-crypto:5.7.6</code>\nby excluding the dependency from the Gradle.</p>\n<p>Service has following Gradle dependencies:</p>\n<ul>\n<li>Spring Boot 2</li>\n<li>Apache Camel 3.22.4</li>\n</ul>\n<p>Getting following runtime error, any thoughts/solution highly appreciate?</p>\n<pre><code> Caused by:\n        java.lang.RuntimeException: Unexpected error: java.security.InvalidAlgorithmParameterException: the trustAnchors parameter must be non-empty\n            at java.base/sun.security.validator.PKIXValidator.&lt;init&gt;(PKIXValidator.java:101)\n            at java.base/sun.security.validator.Validator.getInstance(Validator.java:181)\n            at java.base/sun.security.ssl.X509TrustManagerImpl.getValidator(X509TrustManagerImpl.java:309)\n            at java.base/sun.security.ssl.X509TrustManagerImpl.checkTrustedInit(X509TrustManagerImpl.java:183)\n            at java.base/sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:198)\n            at java.base/sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:132)\n            at java.base/sun.security.ssl.CertificateMessage$T13CertificateConsumer.checkServerCerts(CertificateMessage.java:1335)\n            at java.base/sun.security.ssl.CertificateMessage$T13CertificateConsumer.onConsumeCertificate(CertificateMessage.java:1226)\n            at java.base/sun.security.ssl.CertificateMessage$T13CertificateConsumer.consume(CertificateMessage.java:1169)\n            at java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:396)\n            at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:480)\n            at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:458)\n            at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:206)\n            at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:172)\n            at java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1510)\n            at java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1425)\n            at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:455)\n            ... 73 more\n\n            Caused by:\n            java.security.InvalidAlgorithmParameterException: the trustAnchors parameter must be non-empty\n                at java.base/java.security.cert.PKIXParameters.setTrustAnchors(PKIXParameters.java:200)\n                at java.base/java.security.cert.PKIXParameters.&lt;init&gt;(PKIXParameters.java:120)\n                at java.base/java.security.cert.PKIXBuilderParameters.&lt;init&gt;(PKIXBuilderParameters.java:104)\n                at java.base/sun.security.validator.PKIXValidator.&lt;init&gt;(PKIXValidator.java:98)\n                ... 89 more\n</code></pre>\n",
    "tags" : [ "java", "spring-boot", "spring-security", "apache-camel" ],
    "owner" : {
      "account_id" : 1490490,
      "reputation" : 406,
      "user_id" : 1397674,
      "user_type" : "registered",
      "accept_rate" : 78,
      "profile_image" : "https://i.sstatic.net/6HQFhCLB.jpg?s=256",
      "display_name" : "ERK",
      "link" : "https://stackoverflow.com/users/1397674/erk"
    },
    "is_answered" : false,
    "view_count" : 44,
    "answer_count" : 0,
    "score" : 0,
    "last_activity_date" : 1746093563,
    "creation_date" : 1742863644,
    "link" : "https://stackoverflow.com/questions/79532457/the-trustanchors-parameter-must-be-non-empty-error-when-exclude-spring-security",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ ],
  "question_comments" : [ {
    "comment_id" : 140386617,
    "post_id" : 79532457,
    "body" : "Why do you exclude <code>spring-security-crypto</code>? You have to update your application, see <a href=\"https://spring.io/security/cve-2025-22228\" rel=\"nofollow noreferrer\">spring.io/security/cve-2025-22228</a>",
    "score" : 0,
    "owner" : {
      "account_id" : 6463892,
      "reputation" : 17313,
      "user_id" : 5277820,
      "user_type" : "registered",
      "accept_rate" : 68,
      "profile_image" : "https://www.gravatar.com/avatar/6992b2117ccaf3d82f79a2062d0e93a5?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "dur",
      "link" : "https://stackoverflow.com/users/5277820/dur"
    },
    "creation_date" : 1746093604,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}