{
  "question" : {
    "question_id" : 79538920,
    "title" : "How to Render the same model multiple times",
    "body" : "<p>I am trying to render the same 3D object dynamically. When I execute the method responsible for this, the 3D object is rendered on the screen only once. When I execute the method again, it gives me an error. I am using the Java3D API. I intend to render the same object multiple times.</p>\n<p>I am doing it this way, but it is giving me an error: <strong>[Exception in thread &quot;AWT-EventQueue-0&quot; javax.media.j3d.RestrictedAccessException: Cannot modify capability bits on a live or compiled object]</strong></p>\n<pre class=\"lang-none prettyprint-override\"><code>\n    class graphics_engine //extends javax.swing.JComponent \n    {\n        \n        public static com.sun.j3d.utils.geometry.NormalGenerator normal_generator = new com.sun.j3d.utils.geometry.NormalGenerator();\n        \n        public static com.sun.j3d.utils.geometry.Stripifier strip_fire = new com.sun.j3d.utils.geometry.Stripifier();\n   \n        public static java.util.ArrayList &lt; javax.vecmath.Point3f[] &gt; model_vertices = new java.util.ArrayList &lt; javax.vecmath.Point3f[] &gt;();\n        \n        public static BranchGroup branch_group = new BranchGroup();\n        \n        public static void geometry_info()\n        {\n            \n            model_vertices.add( new javax.vecmath.Point3f[]\n            { \n                \n                new javax.vecmath.Point3f(-10, 30, -60),\n                new javax.vecmath.Point3f(-13, 63, 0),\n                new javax.vecmath.Point3f(-3, 3, 0),\n                new javax.vecmath.Point3f(5, 3, 0),\n                new javax.vecmath.Point3f(5, 7, 0),\n                new javax.vecmath.Point3f(-165, 762, 450),\n                new javax.vecmath.Point3f(45, -654, 550),\n                new javax.vecmath.Point3f(-7657, -4440, -5550),\n                new javax.vecmath.Point3f(-765, 660, -430),\n                new javax.vecmath.Point3f(-4563, 561, -4560)\n                    \n            });\n    \n            //int model_numbers = graphics_engine.model_vertices.size();\n            \n            com.sun.j3d.utils.geometry.GeometryInfo geometry_info = new com.sun.j3d.utils.geometry.GeometryInfo( com.sun.j3d.utils.geometry.GeometryInfo.POLYGON_ARRAY ); \n\n            com.sun.j3d.utils.geometry.Triangulator triangulator[] = new com.sun.j3d.utils.geometry.Triangulator[graphics_engine.model_vertices.size()]; \n\n            TransformGroup transform_group[] = new TransformGroup[graphics_engine.model_vertices.size()];\n        \n            Shape3D shapes_3D[] = new Shape3D[graphics_engine.model_vertices.size()];\n            \n            try\n            {\n                \n            for(int i = 0; i &lt; graphics_engine.model_vertices.size(); i++)\n            {\n               \n                triangulator[i] = new com.sun.j3d.utils.geometry.Triangulator();\n                \n                transform_group[i] = new TransformGroup();\n                \n                transform_group[i].setCapability(TransformGroup.ALLOW_TRANSFORM_WRITE);\n                transform_group[i].setCapability(TransformGroup.ALLOW_CHILDREN_EXTEND);\n                transform_group[i].setCapability(Group.ALLOW_CHILDREN_EXTEND);\n                \n                shapes_3D[i] = new Shape3D();\n                shapes_3D[i].setCapability(Shape3D.ALLOW_GEOMETRY_WRITE); \n                shapes_3D[i].setCapability(Group.ALLOW_CHILDREN_EXTEND);\n                \n                transform_group[i].setCapability(TransformGroup.ALLOW_TRANSFORM_WRITE);\n                branch_group.setCapability(Group.ALLOW_CHILDREN_EXTEND);\n\n                int[] StripCounts = {5,5};\n                int[] countourCountArray = {StripCounts.length};\n                              \n                geometry_info.setCoordinates(graphics_engine.model_vertices.get(i));\n                \n                geometry_info.setStripCounts(StripCounts);\n                \n                geometry_info.setContourCounts(countourCountArray);\n                \n                triangulator[i].triangulate(geometry_info);\n                \n                graphics_engine.normal_generator.generateNormals(geometry_info);\n                \n                graphics_engine.strip_fire.stripify(geometry_info);\n                                \n                shapes_3D[i].setGeometry(geometry_info.getGeometryArray());\n                \n                transform_group[i].addChild(shapes_3D[i]);\n                \n                branch_group.addChild(transform_group[i]);\n                \n                gui_components.objecto_branch_grupo.addChild(graphics_engine.branch_group);\n                \n                \n            }\n            \n            }\n            \n            catch(java.lang.NullPointerException execcao)\n            {\n            \n                execcao.printStackTrace();\n            }\n     \n        }\n        \n    }\n\n</code></pre>\n",
    "tags" : [ "java", "arrays", "netbeans", "awt", "java-3d" ],
    "owner" : {
      "account_id" : 34149249,
      "reputation" : 29,
      "user_id" : 28867774,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/a3bded27f4b711a0af44cb9a0866a980?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "faztudo pedro",
      "link" : "https://stackoverflow.com/users/28867774/faztudo-pedro"
    },
    "is_answered" : true,
    "view_count" : 80,
    "answer_count" : 1,
    "score" : 2,
    "last_activity_date" : 1743114105,
    "creation_date" : 1743079962,
    "link" : "https://stackoverflow.com/questions/79538920/how-to-render-the-same-model-multiple-times",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79539147,
    "question_id" : 79538920,
    "body" : "<p>This is why:</p>\n<pre><code>public static BranchGroup branchGroup = new BranchGroup();\n</code></pre>\n<p>You have a static <strong>BranchGroup</strong>, that's it, there will exist only one.</p>\n<p>Every time you run the method the same object is called, which is the cause of the error.</p>\n<p>In order to avoid this, you could insert the creation of the <strong>BranchGroup</strong> at each call (so it creates a new one instead of trying to modify a live one), inside the <strong>geometryInfo</strong> method:</p>\n<pre><code>public static void geometryInfo()\n{\n   //...\n   BranchGroup branchGroup = new BranchGroup();\n   //...\n}\n</code></pre>\n<p>p.s: Note that I modified the names for Java naming convention.</p>\n",
    "score" : 3,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 2465829,
      "reputation" : 13577,
      "user_id" : 2148953,
      "user_type" : "registered",
      "accept_rate" : 96,
      "profile_image" : "https://i.sstatic.net/DVHoP84E.jpg?s=256",
      "display_name" : "aran",
      "link" : "https://stackoverflow.com/users/2148953/aran"
    },
    "creation_date" : 1743084840,
    "last_activity_date" : 1743084840,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140271703,
    "post_id" : 79538920,
    "body" : "This is <a href=\"https://jogamp.org/wiki/index.php?title=Java3D_FAQ\" rel=\"nofollow noreferrer\">Java3D</a>, not JavaFX.  I updated your tags accordingly.",
    "score" : 0,
    "owner" : {
      "account_id" : 1180113,
      "reputation" : 160457,
      "user_id" : 1155209,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/5192e7cbcf2f72a847d6fb0d1552f049?s=256&d=identicon&r=PG",
      "display_name" : "jewelsea",
      "link" : "https://stackoverflow.com/users/1155209/jewelsea"
    },
    "creation_date" : 1743114101,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140269732,
    "post_id" : 79538920,
    "body" : "Is this AWT, or JavaFX? Can you create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>; it&#39;s not at all clear what you&#39;re doing or what is causing the error from the code snippet you have posted. Also, please use standard naming conventions when posting code.",
    "score" : 2,
    "owner" : {
      "account_id" : 2518243,
      "reputation" : 210916,
      "user_id" : 2189127,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/e8e6e627b4b90ec816c5c7aa04cbcc26?s=256&d=identicon&r=PG",
      "display_name" : "James_D",
      "link" : "https://stackoverflow.com/users/2189127/james-d"
    },
    "creation_date" : 1743082641,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}