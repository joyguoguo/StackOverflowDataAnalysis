{
  "question" : {
    "question_id" : 79569973,
    "title" : "how to parse &quot;key&quot;: 1b as byte using Gson?",
    "body" : "<p>I'm using Gson to parse a JSON string like this:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;key&quot;: 1b\n}\n</code></pre>\n<p>However, when I parse this using <code>JsonParser.parseString()</code>, the value <code>1b</code> is interpreted as the string <code>&quot;1b&quot;</code> instead of being parsed as a byte.</p>\n<p>Here is the code I'm using:</p>\n<pre class=\"lang-java prettyprint-override\"><code>JsonElement element = JsonParser.parseString(json);\nSystem.out.println(element.getAsJsonObject().get(&quot;key&quot;)); // Outputs: &quot;1b&quot;\n</code></pre>\n<p>My expectation was that <code>1b</code> would be parsed as a byte, similar to how <code>1</code> is parsed as a number. Is there a way to make Gson recognize <code>1b</code> as a byte literal?</p>\n<p>If not, what's the recommended way to parse such pseudo-JSON values that use Java-style type suffixes like <code>b</code>, <code>s</code>, <code>l</code>, etc.?</p>\n<p>Thanks in advance!</p>\n",
    "tags" : [ "java", "json", "parsing", "gson" ],
    "owner" : {
      "account_id" : 34245945,
      "reputation" : 11,
      "user_id" : 26462647,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/cc0c3a4f2703b47ff524dae4c6401206?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "SB_STOPDL",
      "link" : "https://stackoverflow.com/users/26462647/sb-stopdl"
    },
    "is_answered" : true,
    "view_count" : 56,
    "answer_count" : 1,
    "score" : -1,
    "last_activity_date" : 1744426771,
    "creation_date" : 1744426392,
    "link" : "https://stackoverflow.com/questions/79569973/how-to-parse-key-1b-as-byte-using-gson",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79569977,
    "question_id" : 79569973,
    "body" : "<p>The issue is not with Gson. JSON simply does not support numeric suffixes. In the JSON specifications <a href=\"https://www.rfc-editor.org/rfc/rfc8259\" rel=\"nofollow noreferrer\">(RFC 8259)</a>,</p>\n<pre><code>   Numeric values that cannot be represented in the grammar below (such\n   as Infinity and NaN) are not permitted.\n\n      number = [ minus ] int [ frac ] [ exp ]\n\n      decimal-point = %x2E       ; .\n\n      digit1-9 = %x31-39         ; 1-9\n\n      e = %x65 / %x45            ; e E\n\n      exp = e [ minus / plus ] 1*DIGIT\n\n      frac = decimal-point 1*DIGIT\n</code></pre>\n<p>Hence, Gson tries to interpret your data as a string. Since suffixes such as <code>b</code>, <code>s</code>, and <code>l</code> are not a JavaScript feature, you'll need to treat them as a string and parse it later.</p>\n",
    "score" : 1,
    "is_accepted" : true,
    "owner" : {
      "account_id" : 16370655,
      "reputation" : 2043,
      "user_id" : 11983046,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/9e0a33ab4cdf471e3742a9fcbcf5c12f?s=256&d=identicon&r=PG",
      "display_name" : "Ryan Zhang",
      "link" : "https://stackoverflow.com/users/11983046/ryan-zhang"
    },
    "creation_date" : 1744426771,
    "last_activity_date" : 1744426771,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140326842,
    "post_id" : 79569973,
    "body" : "1b is invalid JSON ,  Gson treats it as a string, not a byte.  Either: Use valid JSON like &quot;key&quot;: 1, or Post-process &quot;1b&quot; strings to parse manually. String raw = el.getAsJsonObject().get(&quot;key&quot;).getAsString(); byte b = Byte.parseByte(raw.replaceFirst(&quot;b$&quot;, &quot;&quot;));",
    "score" : 1,
    "owner" : {
      "account_id" : 7645025,
      "reputation" : 440,
      "user_id" : 5795975,
      "user_type" : "registered",
      "profile_image" : "https://lh6.googleusercontent.com/-6KwPUS4RnyA/AAAAAAAAAAI/AAAAAAAAC8w/auZqreI45x0/s256-rj/photo.jpg",
      "display_name" : "Vijay",
      "link" : "https://stackoverflow.com/users/5795975/vijay"
    },
    "creation_date" : 1744427068,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : {
    "79569977" : [ {
      "comment_id" : 140326917,
      "post_id" : 79569977,
      "body" : "&quot;you&#39;ll need to treat them as a string and parse it later&quot; ... or stop trying to use JSON in a way that it wasn&#39;t designed to be used.",
      "score" : 3,
      "owner" : {
        "account_id" : 47283,
        "reputation" : 723428,
        "user_id" : 139985,
        "user_type" : "registered",
        "accept_rate" : 69,
        "profile_image" : "https://www.gravatar.com/avatar/147c5a9cc1feec049c50da791ac7d144?s=256&d=identicon&r=PG",
        "display_name" : "Stephen C",
        "link" : "https://stackoverflow.com/users/139985/stephen-c"
      },
      "creation_date" : 1744433235,
      "content_license" : "CC BY-SA 4.0"
    } ]
  }
}