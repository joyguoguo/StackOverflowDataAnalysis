{
  "question" : {
    "question_id" : 79662511,
    "title" : "How to ignore assigning values to specific field in entity while parsing the response from GenAI model to Entity",
    "body" : "<p>I'm working with Spring AI, and I'm trying to map the response from a GenAI model into a custom DTO. The response JSON from the model includes a nested object (chatResponse), but if that object is empty or missing required data, deserialization fails with a Jackson error.</p>\n<p>Here is my DTO</p>\n<pre><code>public class ChatPromptDTO {\n    private String question;\n    private String answer;\n    private ChatResponse chatResponse;\n    //getters and setters\n}\n</code></pre>\n<p>Service:</p>\n<pre><code>@Override\n    public ChatPromptDTO getResponseAsEntity(String message) {\n        return chatClient\n                .prompt(message)\n                .call()\n                .entity(ChatPromptDTO.class);\n    }\n</code></pre>\n<p>Here I am trying to convert the response from AI model to <code>ChatPromptDTO</code> class but the <code>chatResponse</code> object is empty. How can I avoid assigning value to that field if the object doesn't exists?</p>\n<p>Error</p>\n<blockquote>\n<p>Could not parse the given text to the desired target type: &quot;{<br />\n&quot;answer&quot;: &quot;Joel Garner is a former West Indian cricketer.&quot;,<br />\n&quot;chatResponse&quot;: {},   &quot;question&quot;: &quot;Who is Joel Garner?&quot; }&quot; into class\ncom.example.springaichatmodel.DTO.ChatPromptDTO\n2025-06-12T00:08:57.943+05:30 ERROR 17407 --- [springaichatmodel]\n[nio-5000-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    :\nServlet.service() for servlet [dispatcherServlet] in context with path\n[] threw exception [Request processing failed:\njava.lang.RuntimeException:\ncom.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot\nconstruct instance of <code>org.springframework.ai.chat.model.ChatResponse</code>\n(no Creators, like default constructor, exist): cannot deserialize\nfrom Object value (no delegate- or property-based Creator)  at\n[Source: REDACTED (<code>StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION</code>\ndisabled); line: 3, column: 20] (through reference chain:\ncom.example.springaichatmodel.DTO.ChatPromptDTO[&quot;chatResponse&quot;])] with\nroot cause</p>\n<p>com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot\nconstruct instance of <code>org.springframework.ai.chat.model.ChatResponse</code>\n(no Creators, like default constructor, exist): cannot deserialize\nfrom Object value (no delegate- or property-based Creator)  at\n[Source: REDACTED (<code>StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION</code>\ndisabled); line: 3, column: 20] (through reference chain:\ncom.example.springaichatmodel.DTO.ChatPromptDTO[&quot;chatResponse&quot;])</p>\n</blockquote>\n",
    "tags" : [ "java", "spring", "spring-boot", "spring-ai" ],
    "owner" : {
      "account_id" : 28879742,
      "reputation" : 11,
      "user_id" : 27588520,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/oGcTrIA4.png?s=256",
      "display_name" : "Gokul Krishnan J",
      "link" : "https://stackoverflow.com/users/27588520/gokul-krishnan-j"
    },
    "is_answered" : false,
    "view_count" : 73,
    "answer_count" : 1,
    "score" : -1,
    "last_activity_date" : 1749718838,
    "creation_date" : 1749668296,
    "link" : "https://stackoverflow.com/questions/79662511/how-to-ignore-assigning-values-to-specific-field-in-entity-while-parsing-the-res",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79663216,
    "question_id" : 79662511,
    "body" : "<p>The error you are getting is because you don't have a default constructor in the <strong>ChatResponse</strong> class ( you are using <strong>org.springframework.ai.chat.model.ChatResponse</strong> which is <strong>spring AI</strong>'s class), So try creating your own ChatResponse  instead.</p>\n<p>Here is an example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonIgnoreProperties(ignoreUnknown = true) // to avoid failing on unknown properties \npublic class ChatResponse {\n \n// whatever fields you're expecting, you can copy the one's that exist in org.springframework.ai.chat.model.ChatResponse\n \n    // ✅ Default constructor\n      public ChatResponse() {}\n\n    // ✅ All args constructor\n\n\n    // Getters and setters\n}\n</code></pre>\n",
    "score" : 0,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 25350771,
      "reputation" : 36,
      "user_id" : 19167671,
      "user_type" : "registered",
      "profile_image" : "https://lh3.googleusercontent.com/a-/AOh14GjQpPCBvv6ucTti7Ytd7k6ZI6Ctg9kSoaTQcIbV3Q=k-s256",
      "display_name" : "Hamza Naceur",
      "link" : "https://stackoverflow.com/users/19167671/hamza-naceur"
    },
    "creation_date" : 1749718838,
    "last_activity_date" : 1749718838,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140506755,
    "post_id" : 79662511,
    "body" : "Did you try to add a default constructor? Show your <code>ChatResponse</code> class.",
    "score" : 0,
    "owner" : {
      "account_id" : 6463892,
      "reputation" : 17313,
      "user_id" : 5277820,
      "user_type" : "registered",
      "accept_rate" : 68,
      "profile_image" : "https://www.gravatar.com/avatar/6992b2117ccaf3d82f79a2062d0e93a5?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "dur",
      "link" : "https://stackoverflow.com/users/5277820/dur"
    },
    "creation_date" : 1749671966,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}