{
  "question" : {
    "question_id" : 79541357,
    "title" : "ImageView Nodes seem to appear at the wrong y position",
    "body" : "<p>I have some strange problem with positioning <code>ImageView</code>s in a <code>Scene</code> in JavaFX.</p>\n<p>I want three images of the same size (200 x 200) to appear next to each other at the same height.\nSo I specify the same value in <code>setTranslateY()</code> for each picture.\nBut for some reason, they appear on different heights: Everey next picture appears lower by 200 pixels than the previous one.</p>\n<p>Here is the code:</p>\n<pre><code>public class Main extends Application {\n\n    @Override\n    public void start(Stage myStage) throws IOException {\n        myStage.setTitle(&quot;title&quot;);\n        myStage.setScene(getScene());\n        stage = myStage;\n        myStage.show();\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n\n    private Scene getScene() {\n        List&lt;Node&gt; nodes = new ArrayList&lt;&gt;();\n        Image i1 = loadFromPath(&quot;... some path&quot;);\n        Image i2 = loadFromPath(&quot;... some other path&quot;);\n        Image i3 = loadFromPath(&quot;... again some other path&quot;);\n        ImageView v1 = new ImageView(i1);\n        ImageView v2 = new ImageView(i2);\n        ImageView v3 = new ImageView(i3);\n        v1.setTranslateX(100);\n        v1.setTranslateY(100);\n        v2.setTranslateX(320);\n        v2.setTranslateY(100);\n        v3.setTranslateX(540);\n        v3.setTranslateY(100);\n        nodes.add(v1);\n        nodes.add(v2);\n        nodes.add(v3);\n        VBox box = new VBox(nodes.toArray(new Node[0]));\n        box.setMinWidth(800);\n        box.setMaxWidth(800);\n        box.setMinHeight(400);\n        box.setMaxHeight(400);\n\n        return new Scene(box);\n    }\n\n    private Image loadFromPath(String path) {\n        FileInputStream input = null;\n        try {\n            input = new FileInputStream(path);\n        } catch (FileNotFoundException e) {\n            throw new RuntimeException(e);\n        }\n        return new Image(input);\n    }\n}\n</code></pre>\n<p>The result looks like this:</p>\n<p><a href=\"https://i.sstatic.net/6HFInwWB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/6HFInwWB.png\" alt=\"enter image description here\" /></a></p>\n<p>When I use <code>setLayoutX()</code> and <code>setLayoutY()</code> instead of <code>setTranslateX()</code> and <code>setTranslateY()</code>,\nthe result is even worse:</p>\n<p><a href=\"https://i.sstatic.net/wi8tuFiY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/wi8tuFiY.png\" alt=\"enter image description here\" /></a></p>\n<p>Can someone please explain this result?</p>\n",
    "tags" : [ "java", "javafx" ],
    "owner" : {
      "account_id" : 17111522,
      "reputation" : 141,
      "user_id" : 16038501,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/06fd113915ad9eb85106c34b3ec5e5ee?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "user16038501",
      "link" : "https://stackoverflow.com/users/16038501/user16038501"
    },
    "is_answered" : true,
    "view_count" : 68,
    "answer_count" : 1,
    "score" : 3,
    "last_activity_date" : 1743188972,
    "creation_date" : 1743162746,
    "link" : "https://stackoverflow.com/questions/79541357/imageview-nodes-seem-to-appear-at-the-wrong-y-position",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79541624,
    "question_id" : 79541357,
    "body" : "<p>Layout panes, such as <code>VBox</code>, lay the components out for you according to an algorithm that is specific to the particular layout pane you are using. They do this by setting the <code>layoutX</code> and <code>layoutY</code> properties of the child nodes.</p>\n<p>In particular, a <code>VBox</code> (&quot;vertical box&quot;) will lay out the child nodes in a vertical column: see the <a href=\"https://openjfx.io/javadoc/23/javafx.graphics/javafx/scene/layout/VBox.html\" rel=\"nofollow noreferrer\">documentation</a>.</p>\n<p>So if you use a layout pane, setting the <code>layoutX</code> and <code>layoutY</code>  of the child nodes will have no effect, as they will subsequently be changed by the layout pane when it performs its layout. This explains the result you get in the second screen shot: the images are in the position determined by the layout algorithm of the <code>VBox</code>. The first image is in the top left of the box, and the second image is directly below it. If you remove all calls to <code>setLayoutX(...)</code> and <code>setLayoutY(...)</code>, as well as calls to <code>setTranslateX(...)</code> and <code>setTranslateY(...)</code> you will see exactly the same results. The positions shown in the second screenshot are effectively the default positions for the layout defined by a <code>VBox</code>.</p>\n<p>Transformations, such as translations managed by setting the <code>translateX</code> and <code>translateY</code> properties, are applied <em>after</em> the layout pane performs its layout. So in the first screen shot, the first image is 100 pixels to the right, and 100 pixels below, the position the <code>VBox</code> placed it (the top left). The second image is 320 pixels to the right and 100 pixels below the position the <code>VBox</code> placed it (the position it appears in the second image). In other words, the translations are relative to the positions defined by the layout in the <code>VBox</code>.</p>\n<p>It appears from the coordinates you are setting that you want the images placed horizontally next to each other; to achieve this, just use a <code>HBox</code> instead of a <code>VBox</code> (as suggested in a <a href=\"https://stackoverflow.com/questions/79541357/imageview-nodes-seem-to-appear-at-the-wrong-y-position#comment140273953_79541357\">comment</a>).</p>\n<pre><code>public class Main extends Application {\n\n    @Override\n    public void start(Stage myStage) throws IOException {\n        myStage.setTitle(&quot;title&quot;);\n        myStage.setScene(getScene());\n        stage = myStage;\n        myStage.show();\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n\n    private Scene getScene() {\n        List&lt;Node&gt; nodes = new ArrayList&lt;&gt;();\n        Image i1 = loadFromPath(&quot;... some path&quot;);\n        Image i2 = loadFromPath(&quot;... some other path&quot;);\n        Image i3 = loadFromPath(&quot;... again some other path&quot;);\n        ImageView v1 = new ImageView(i1);\n        ImageView v2 = new ImageView(i2);\n        ImageView v3 = new ImageView(i3);\n        //v1.setTranslateX(100);\n        //v1.setTranslateY(100);\n        //v2.setTranslateX(320);\n        //v2.setTranslateY(100);\n        //v3.setTranslateX(540);\n        //v3.setTranslateY(100);\n        nodes.add(v1);\n        nodes.add(v2);\n        nodes.add(v3);\n        HBox box = new HBox(nodes.toArray(new Node[0]));\n        box.setMinWidth(800);\n        box.setMaxWidth(800);\n        box.setMinHeight(400);\n        box.setMaxHeight(400);\n\n        return new Scene(box);\n    }\n\n    private Image loadFromPath(String path) {\n        FileInputStream input = null;\n        try {\n            input = new FileInputStream(path);\n        } catch (FileNotFoundException e) {\n            throw new RuntimeException(e);\n        }\n        return new Image(input);\n    }\n}\n</code></pre>\n<p>You can use <a href=\"https://openjfx.io/javadoc/23/javafx.graphics/javafx/scene/layout/Region.html#paddingProperty\" rel=\"nofollow noreferrer\">padding</a> to put additional space around the content of the box, if needed:</p>\n<pre><code>box.setPadding(new Insets(100, 0, 0, 100)); // top, right, bottom, left\n</code></pre>\n<p>and <a href=\"https://openjfx.io/javadoc/23/javafx.graphics/javafx/scene/layout/HBox.html#spacingProperty\" rel=\"nofollow noreferrer\">spacing</a> to put a gap between each image:</p>\n<pre><code>box.setSpacing(20);\n</code></pre>\n<p>If you really want to place everything manually (which is very strongly not recommended), use a container that performs no layout (for example, a <a href=\"https://openjfx.io/javadoc/23/javafx.graphics/javafx/scene/layout/Pane.html\" rel=\"nofollow noreferrer\"><code>Pane</code></a>) instead of the <code>VBox</code>, and set the <code>layoutX</code> and, <code>layoutY</code> properties by hand.</p>\n<p>See the <a href=\"https://openjfx.io/javadoc/23/javafx.graphics/javafx/scene/layout/package-summary.html\" rel=\"nofollow noreferrer\">documentation</a> and <a href=\"https://docs.oracle.com/javase/8/javafx/layout-tutorial/builtin_layouts.htm\" rel=\"nofollow noreferrer\">tutorial</a> for more information.</p>\n",
    "score" : 4,
    "is_accepted" : true,
    "owner" : {
      "account_id" : 2518243,
      "reputation" : 210916,
      "user_id" : 2189127,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/e8e6e627b4b90ec816c5c7aa04cbcc26?s=256&d=identicon&r=PG",
      "display_name" : "James_D",
      "link" : "https://stackoverflow.com/users/2189127/james-d"
    },
    "creation_date" : 1743170167,
    "last_activity_date" : 1743188972,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140274918,
    "post_id" : 79541357,
    "body" : "&quot;<i>images of the same size (200 x 200)</i>&quot; -&gt; Images have <a href=\"https://openjfx.io/javadoc/24/javafx.graphics/javafx/scene/image/Image.html#%3Cinit%3E(java.io.InputStream,double,double,boolean,boolean)\" rel=\"nofollow noreferrer\">sizing constructors</a> if you need them.",
    "score" : 0,
    "owner" : {
      "account_id" : 1180113,
      "reputation" : 160457,
      "user_id" : 1155209,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/5192e7cbcf2f72a847d6fb0d1552f049?s=256&d=identicon&r=PG",
      "display_name" : "jewelsea",
      "link" : "https://stackoverflow.com/users/1155209/jewelsea"
    },
    "creation_date" : 1743183533,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140273953,
    "post_id" : 79541357,
    "body" : "If you want your nodes to appear in a single row, why not use a layout designed for that, like HBox or TilePane?",
    "score" : 3,
    "owner" : {
      "account_id" : 2053598,
      "reputation" : 44936,
      "user_id" : 1831987,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/38b1c37530189ec4471a43a618e33f67?s=256&d=identicon&r=PG",
      "display_name" : "VGR",
      "link" : "https://stackoverflow.com/users/1831987/vgr"
    },
    "creation_date" : 1743169055,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}