{
  "question" : {
    "question_id" : 79599637,
    "title" : "Pointcut does not match target method if argNames are specified",
    "body" : "<p>I have an interface with implementation class being a Spring bean:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface LeaderboardService {\n    List&lt;PlayerRankWithDetails&gt; getTopScores(Long tournamentId, int limit);\n}\n</code></pre>\n<p>For this I've created an aspect:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Aspect\npublic class LeaderBoardServiceMDCAspect {\n    \n    @Around(value = &quot;execution(* t.s.l.LeaderboardService.getTopScores(..))&quot;)\n    public Object checkMDC(ProceedingJoinPoint pjp) throws Throwable {\n        return forTournament(pjp);\n    }\n}\n</code></pre>\n<p>This works fine, but as soon as I specify <code>argNames</code> within <code>@Around</code> in order to have invocation arguments injected into my pointcut method as demonstrated in <a href=\"https://docs.spring.io/spring-framework/docs/4.3.14.RELEASE/spring-framework-reference/html/aop.html#aop-ataspectj-advice-params-names\" rel=\"nofollow noreferrer\">spec</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Aspect\npublic class LeaderBoardServiceMDCAspect {\n    \n    @Around(value = &quot;execution(* t.s.l.LeaderboardService.getTopScores(..))&quot;, argNames = &quot;tournamentId,limit&quot;)\n    public Object checkMDC(ProceedingJoinPoint pjp, Long tournamentId, int limit) throws Throwable {\n        return forTournament(pjp);\n    }\n}\n</code></pre>\n<p>the pointcut suddenly stops matching target method (e.g. if I put a breakpoint on the line <code>return forTournament(pjp);</code> debugger won't stop there). What am I doing wrong?</p>\n",
    "tags" : [ "java", "spring", "aop", "aspectj", "spring-aop" ],
    "owner" : {
      "account_id" : 17228781,
      "reputation" : 4612,
      "user_id" : 12473843,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/HkCxn.jpg?s=256",
      "display_name" : "Sergey Tsypanov",
      "link" : "https://stackoverflow.com/users/12473843/sergey-tsypanov"
    },
    "is_answered" : true,
    "view_count" : 50,
    "answer_count" : 1,
    "score" : 0,
    "last_activity_date" : 1745996478,
    "creation_date" : 1745993240,
    "link" : "https://stackoverflow.com/questions/79599637/pointcut-does-not-match-target-method-if-argnames-are-specified",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79599711,
    "question_id" : 79599637,
    "body" : "<p>It turned out that to solve this one must specify <code>&amp;&amp; args()</code> within pointcut expression:</p>\n<pre><code>@Around(value = &quot;execution(* t.s.l.LeaderboardService.getTopScores(..)) &amp;&amp; args(tournamentId, limit)&quot;, argNames = &quot;tournamentId,limit&quot;)\npublic Object checkMDC(ProceedingJoinPoint pjp, Long tournamentId, int limit) throws Throwable {\n  // use tournamentId and limit\n  return forTournament(pjp);\n}\n</code></pre>\n",
    "score" : 1,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 17228781,
      "reputation" : 4612,
      "user_id" : 12473843,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/HkCxn.jpg?s=256",
      "display_name" : "Sergey Tsypanov",
      "link" : "https://stackoverflow.com/users/12473843/sergey-tsypanov"
    },
    "creation_date" : 1745996478,
    "last_activity_date" : 1745996478,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ ],
  "answer_comments" : {
    "79599711" : [ {
      "comment_id" : 140383174,
      "post_id" : 79599711,
      "body" : "Exactly. You need to bind the arguments to advice method parameters. You actually do not need <code>argNames</code>, they are optional. Order and  types of arguments are more important.",
      "score" : 1,
      "owner" : {
        "account_id" : 1087271,
        "reputation" : 68569,
        "user_id" : 1082681,
        "user_type" : "registered",
        "accept_rate" : 90,
        "profile_image" : "https://i.sstatic.net/lDK9h.png?s=256",
        "display_name" : "kriegaex",
        "link" : "https://stackoverflow.com/users/1082681/kriegaex"
      },
      "creation_date" : 1746001281,
      "content_license" : "CC BY-SA 4.0"
    } ]
  }
}