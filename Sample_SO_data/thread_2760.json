{
  "question" : {
    "question_id" : 79597162,
    "title" : "Binding url params to POJO in Spring",
    "body" : "<p>How to bind @RequestParam to object in Spring (GET mapping).</p>\n<p>I have the following method in my controller class:</p>\n<pre><code>@GetMapping(&quot;/quotes&quot;)\nvoid getQuotes(QuoteRequest request) {  }\n</code></pre>\n<p><code>QuoteRequest</code> in a simple POJO:</p>\n<pre><code>@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\npublic class QuoteRequest {\n\n   @Size(min = 1, max = 5)\n   private List&lt;String&gt; topics;\n}\n</code></pre>\n<p>It it easy to create http request, e.g. by using curl\n<code>http://localhost:8080/quotes?topics=%5B%22string%22%5D</code></p>\n<p>However, when I tried to replace List with a list of custom objects, Spring won't accept such a request.</p>\n<p>Please show me me code:\nI replaced <code>private List&lt;String&gt; topics;</code> with <code>private List&lt;Topic&gt; topics;</code> and <code>Topic</code> class is as follows:</p>\n<pre><code>@Data\npublic class Topic {\n\n   private String name;\n   private Integer amount;\n\n}\n</code></pre>\n<p>I used Swagger to create request:</p>\n<p><a href=\"https://i.sstatic.net/wSvmb3Y8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/wSvmb3Y8.png\" alt=\"enter image description here\" /></a></p>\n<p>Which translates to the following request URL; <code>http://localhost:8080/api/v1/quotes?topics=%5B%7B%22name%22%3A%22string%22%2C%22amount%22%3A0%7D%5D</code></p>\n<p>This time Spring returned the following error:</p>\n<pre><code>{\n  &quot;topics&quot;: &quot;Failed to convert property value of type 'java.lang.String' to required type 'java.util.List' for property 'topics'; Cannot convert value of type 'java.lang.String' to required type 'Topic' for property 'topics[0]': no matching editors or conversion strategy found&quot;\n}\n</code></pre>\n<p>Why is that? How do I fix this?</p>\n",
    "tags" : [ "java", "spring", "spring-boot", "jackson-databind" ],
    "owner" : {
      "account_id" : 3142733,
      "reputation" : 690,
      "user_id" : 2657875,
      "user_type" : "registered",
      "accept_rate" : 77,
      "profile_image" : "https://www.gravatar.com/avatar/40690e8e76fcc4af11b19b4a2f4a3072?s=256&d=identicon&r=PG",
      "display_name" : "menteith",
      "link" : "https://stackoverflow.com/users/2657875/menteith"
    },
    "is_answered" : true,
    "view_count" : 144,
    "answer_count" : 2,
    "score" : 0,
    "last_activity_date" : 1745909860,
    "creation_date" : 1745868129,
    "link" : "https://stackoverflow.com/questions/79597162/binding-url-params-to-pojo-in-spring",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79597774,
    "question_id" : 79597162,
    "body" : "<p>Ideally, complex objects need to be sent through @postmapping, as shown below</p>\n<pre><code>@PostMapping(&quot;/quotes&quot;)\nvoid getQuotes(@RequestBody QuoteRequest request) {}\n</code></pre>\n<p>But if you really want to send the data in the get request as mentioned in the other comment  the url has to be http:// localhost : 8080/api/v1/quotes?topics[]= ... again with this since the spring cannot parse the data you need to parse the data, may be using ObjectMapper as shown below</p>\n<pre><code>@GetMapping(&quot;/quotes&quot;)\nvoid getQuotes(@RequestParam (&quot;topics&quot;) String topics) throws JsonProcessingException {\n    ObjectMapper mapper = new ObjectMapper();\n    List&lt;Topic&gt; topicList = mapper.readValue(topics, new TypeReference&lt;List&lt;Topic&gt;&gt;() {});\n    //your logic..\n}\n</code></pre>\n<p>then if you do send the request in the swagger like this\n{\n&quot;topics&quot;: [{\n&quot;name&quot;: &quot;test&quot;,\n&quot;amount&quot;: 0\n}]\n} it will work.</p>\n",
    "score" : 1,
    "is_accepted" : true,
    "owner" : {
      "account_id" : 34421176,
      "reputation" : 34,
      "user_id" : 26559705,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/f8652e75e922e6151083799fe4fa6ecd?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Sasirekha Kumaran",
      "link" : "https://stackoverflow.com/users/26559705/sasirekha-kumaran"
    },
    "creation_date" : 1745909860,
    "last_activity_date" : 1745909860,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "answer_id" : 79597627,
    "question_id" : 79597162,
    "body" : "<p>Your request needs to look like this:</p>\n<p>http:// localhost : 8080/api/v1/quotes?topics[]= ...</p>\n<p>Whats the difference? If you pay attention to the error message, it says that it cant parse a string into a list.</p>\n<p>every new item in the list needs to be appended using this very same format.</p>\n",
    "score" : 0,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 2251196,
      "reputation" : 722,
      "user_id" : 1983401,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/z2oYG.jpg?s=256",
      "display_name" : "muzzletov",
      "link" : "https://stackoverflow.com/users/1983401/muzzletov"
    },
    "creation_date" : 1745902071,
    "last_activity_date" : 1745902071,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140378691,
    "post_id" : 79597162,
    "body" : "@menteith, Complex objects like <code>List&lt;Topic&gt;</code> cannot be auto-bound from query parameters, you should use @RequestBody and accept the data as JSON instead.",
    "score" : 0,
    "owner" : {
      "account_id" : 7645025,
      "reputation" : 440,
      "user_id" : 5795975,
      "user_type" : "registered",
      "profile_image" : "https://lh6.googleusercontent.com/-6KwPUS4RnyA/AAAAAAAAAAI/AAAAAAAAC8w/auZqreI45x0/s256-rj/photo.jpg",
      "display_name" : "Vijay",
      "link" : "https://stackoverflow.com/users/5795975/vijay"
    },
    "creation_date" : 1745901009,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140378082,
    "post_id" : 79597162,
    "body" : "It is about binding DTO to a controller method. I didn&#39;t write anything about the persistence level. Please read again my post.",
    "score" : 0,
    "owner" : {
      "account_id" : 3142733,
      "reputation" : 690,
      "user_id" : 2657875,
      "user_type" : "registered",
      "accept_rate" : 77,
      "profile_image" : "https://www.gravatar.com/avatar/40690e8e76fcc4af11b19b4a2f4a3072?s=256&d=identicon&r=PG",
      "display_name" : "menteith",
      "link" : "https://stackoverflow.com/users/2657875/menteith"
    },
    "creation_date" : 1745875738,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140378042,
    "post_id" : 79597162,
    "body" : "Two things: 1) Your code still shows <code>private List&lt;String&gt; topics;</code> - so is it list of strings?; 2) How do you expect JPA to know how to map relation between <code>QuoteRequest</code> and <code>Topic</code>, without corresponding <a href=\"https://en.wikibooks.org/wiki/Java_Persistence/Relationships\" rel=\"nofollow noreferrer\">relationships</a>?",
    "score" : 0,
    "owner" : {
      "account_id" : 1674243,
      "reputation" : 11450,
      "user_id" : 1553537,
      "user_type" : "registered",
      "accept_rate" : 29,
      "profile_image" : "https://i.sstatic.net/5Xcxt.png?s=256",
      "display_name" : "Giorgi Tsiklauri",
      "link" : "https://stackoverflow.com/users/1553537/giorgi-tsiklauri"
    },
    "creation_date" : 1745874406,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}