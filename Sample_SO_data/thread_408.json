{
  "question" : {
    "question_id" : 79803452,
    "title" : "How do I define a bridge table/many-to-many relationship in my schema for use in a Spring JPA BE?",
    "body" : "<p>I'm working on a personal project to get better understanding of BE/architecture/how everything ties together, but I'm having trouble finding examples that show the full picture. Right now, I'm particularly confused about how a schema is defined for a many-to-many relationship with a bridge table. This is being used in a Java/Spring JPA project. Apologies in advance if this is a poor representation - I'm fairly new to full-stack development. Any feedback on potential improvements is greatly appreciated!</p>\n<p>In my example, I'm trying to tie workout routines to exercises. I expect this to work as follows:</p>\n<ol>\n<li>Users will have a profile (Profile) to store their information.</li>\n<li>Each profile can be tied to multiple workout routines (Routine).</li>\n<li>These routines can be tied to many exercises (Exercise).</li>\n<li>Exercises are held in their own table and store information about the exercise. I'm trying to avoid creating a new exercise for every routine, so from my understanding, a bridge table is the way to go. Exercises will not be able to be updated by the user, but I have included functionality to update them since an administrator might need to.</li>\n<li>There is a bridge table (RoutineExercise) that ties routines to exercises and the user can define the number of sets and reps they want to achieve for each exercise.</li>\n</ol>\n<p>*Note that this is somewhat simplified to make it easier to present.</p>\n<p>Does the schema I'm showing below make sense?</p>\n<pre><code>type Query {\n  findAllProfiles: [Profile]!\n  findProfileById(id: ID): Profile\n\n  # Similar Read operations for Routine/RoutineExercise/Exercise\n}\n\ntype Mutation {\n  createProfile(profileInput: ProfileInput!): Profile!\n  updateProfile(id: ID!, profileInput: ProfileInput!): Profile!\n  deleteProfile(id: ID!): Boolean!\n\n  # Similar C/U/D operations for Routine/RoutineExercise/Exercise\n}\n\ntype Profile {\n  id: ID!\n  name: String!\n  email: String!\n  routines: [Routine]\n}\n\ntype ProfileInput {\n  name: String!\n  email: String!\n  routines: [Routine]\n\n  # Similar Input types will be created for Routine/RoutineExercise/Exercise\n}\n\ntype Routine {\n  id: ID!\n  name: String!\n  routineExercises: [RoutineExercise]\n  owner: Profile!\n}\n\ntype RoutineExercise {\n  id: ID!\n  sets: Int\n  reps: Int\n  exercise: Exercise!\n  routine: Routine!\n}\n\ntype Exercise {\n  id: ID!\n  exercise_name: String!\n  target_muscle_group: String\n  routineExercise: [RoutineExercise]\n}\n</code></pre>\n",
    "tags" : [ "java", "spring", "jpa", "graphql", "schema" ],
    "owner" : {
      "account_id" : 8197322,
      "reputation" : 59,
      "user_id" : 6169705,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/7bc74713c54b8af13ca17dd3ca312cdd?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "almostcolin",
      "link" : "https://stackoverflow.com/users/6169705/almostcolin"
    },
    "is_answered" : false,
    "view_count" : 63,
    "answer_count" : 0,
    "score" : 0,
    "last_activity_date" : 1761716226,
    "creation_date" : 1761715622,
    "link" : "https://stackoverflow.com/questions/79803452/how-do-i-define-a-bridge-table-many-to-many-relationship-in-my-schema-for-use-in",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ ],
  "question_comments" : [ ],
  "answer_comments" : { }
}