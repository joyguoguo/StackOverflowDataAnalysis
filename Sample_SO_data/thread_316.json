{
  "question" : {
    "question_id" : 79810893,
    "title" : "Why doesn&#39;t it issue error when i have make a field NonNull annotation and assign it null",
    "body" : "<p>I uses nullaway and jspecify in spring web application.My code is like below</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.jspecify.annotations.NonNull;\nimport org.jspecify.annotations.NullUnmarked;\n\n@NullUnmarked\npublic class Foo {\n    @NonNull\n    private Bar bar;\n\n    public void method() {\n        bar = null;\n    }\n}\n</code></pre>\n<p>I expect nullaway could throw a error at 'bar = null' when I build the code. But nullaway doesn't throw a error or warning. I can't understand why.</p>\n",
    "tags" : [ "java", "spring", "non-nullable", "errorprone", "nullaway" ],
    "owner" : {
      "account_id" : 2606564,
      "reputation" : 417,
      "user_id" : 2257631,
      "user_type" : "registered",
      "accept_rate" : 25,
      "profile_image" : "https://i.sstatic.net/jgch1.jpg?s=256",
      "display_name" : "sunhang",
      "link" : "https://stackoverflow.com/users/2257631/sunhang"
    },
    "is_answered" : false,
    "view_count" : 100,
    "answer_count" : 1,
    "score" : 2,
    "last_activity_date" : 1762508490,
    "creation_date" : 1762409544,
    "link" : "https://stackoverflow.com/questions/79810893/why-doesnt-it-issue-error-when-i-have-make-a-field-nonnull-annotation-and-assig",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79812153,
    "question_id" : 79810893,
    "body" : "<p>Based of <a href=\"https://github.com/uber/NullAway/wiki/JSpecify-Support\" rel=\"nofollow noreferrer\">JSpecify Support</a><br />\nNullAway primarily supports <code>javax.annotation.Nonnull</code> and <code>org.checkerframework.checker.nullness.qual.NonNull.</code></p>\n<p><code>org.jspecify.annotations.NonNull</code> is not recognized out-of-the-box, so the <code>bar = null</code> assignment is invisible to NullAway.</p>\n<p>To fix it either use <code>import javax.annotation.Nonnull;</code><br />\nor enable JSpecify support <code>-XepOpt:NullAway:JSpecifyMode=true</code></p>\n",
    "score" : 0,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 28400997,
      "reputation" : 1,
      "user_id" : 21725829,
      "user_type" : "registered",
      "profile_image" : "https://lh3.googleusercontent.com/a/AGNmyxZswatA6oRH427MxfZJkmT9_bWmDt5LSothNCsVNQ=k-s256",
      "display_name" : "Kimiv23",
      "link" : "https://stackoverflow.com/users/21725829/kimiv23"
    },
    "creation_date" : 1762508490,
    "last_activity_date" : 1762508490,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140847513,
    "post_id" : 79810893,
    "body" : "This seems to have been resolved by <a href=\"https://github.com/jspecify/jspecify/issues/777\" rel=\"nofollow noreferrer\">a separate discussion</a>: &quot;Right now, NullAway performs no checking of <code>@NullUnmarked</code> code.&quot;",
    "score" : 0,
    "owner" : {
      "account_id" : 14008,
      "reputation" : 4051,
      "user_id" : 28465,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/e23d8c7533d46d5d0c48969819fc5b00?s=256&d=identicon&r=PG",
      "display_name" : "Chris Povirk",
      "link" : "https://stackoverflow.com/users/28465/chris-povirk"
    },
    "creation_date" : 1762807068,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140839882,
    "post_id" : 79810893,
    "body" : "Those annotations are for static analysis (e.g. by your IDE, or by some tool), they do not result in code generation that produces exceptions or other runtime behaviour.",
    "score" : 0,
    "owner" : {
      "account_id" : 213468,
      "reputation" : 110282,
      "user_id" : 466862,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/d873f397779db38cd510d9ee5416fd43?s=256&d=identicon&r=PG",
      "display_name" : "Mark Rotteveel",
      "link" : "https://stackoverflow.com/users/466862/mark-rotteveel"
    },
    "creation_date" : 1762432577,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140839600,
    "post_id" : 79810893,
    "body" : "What have you done to activate the Nullaway compiler plugin? Your build does not show your code to Nullaway unless you instruct it to do so.",
    "score" : 1,
    "owner" : {
      "account_id" : 7612423,
      "reputation" : 87400,
      "user_id" : 5772882,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/8283c64511fa80afed5259d10850168f?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Anonymous",
      "link" : "https://stackoverflow.com/users/5772882/anonymous"
    },
    "creation_date" : 1762422630,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140839596,
    "post_id" : 79810893,
    "body" : "Curious, does it make any difference if you delete the <code>@NullUnmarked</code> on the class?",
    "score" : 1,
    "owner" : {
      "account_id" : 7612423,
      "reputation" : 87400,
      "user_id" : 5772882,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/8283c64511fa80afed5259d10850168f?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Anonymous",
      "link" : "https://stackoverflow.com/users/5772882/anonymous"
    },
    "creation_date" : 1762422544,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140839592,
    "post_id" : 79810893,
    "body" : "@Stultuske I certainly expect it to check non-null-marked instance variables (and static and local variables) too. I may even have seen it happening (my memory is not sure).",
    "score" : 0,
    "owner" : {
      "account_id" : 7612423,
      "reputation" : 87400,
      "user_id" : 5772882,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/8283c64511fa80afed5259d10850168f?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Anonymous",
      "link" : "https://stackoverflow.com/users/5772882/anonymous"
    },
    "creation_date" : 1762422488,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140839288,
    "post_id" : 79810893,
    "body" : "never used it before, but if I&#39;m not mistaken, nullaway just checks that what you pass as parameter to a method isn&#39;t null. you&#39;re not passing anything as a parameter.",
    "score" : 0,
    "owner" : {
      "account_id" : 3116234,
      "reputation" : 9469,
      "user_id" : 2636929,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/85fa83a02c04af43fcd224821ca9b750?s=256&d=identicon&r=PG",
      "display_name" : "Stultuske",
      "link" : "https://stackoverflow.com/users/2636929/stultuske"
    },
    "creation_date" : 1762410714,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}