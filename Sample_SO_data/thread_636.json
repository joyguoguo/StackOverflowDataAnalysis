{
  "question" : {
    "question_id" : 79787352,
    "title" : "Issue with selecting element from dropdown list",
    "body" : "<p>I'm trying to test a travel website. When I enter the city code, the correct airport should be picked from the list. However, it enters the city code and does not proceed to pick up the city from the list.</p>\n<pre><code>    @org.testng.annotations.Test    \n    public void flightTest() throws InterruptedException {\n        \n        driver = new ChromeDriver();\n        driver.manage().window().maximize();\n        driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(5));\n        driver.get(&quot;https://phptravels.net/&quot;);\n        \n        //--------------- Departure -------------------\n        \n        WebElement fromBox = driver.findElement(By.name(&quot;from&quot;));\n        fromBox.sendKeys(&quot;DAC&quot;);\n       \n        wait = new WebDriverWait(driver, Duration.ofSeconds(10));\n        By lst1 = By.xpath(&quot;//div[@class='most--popular-from fadein results-container-from rounded-2 shadow border-0']//button[text()='DAC']&quot;);\n        Thread.sleep(1000);\n        \n        WebElement from = wait.until(ExpectedConditions.visibilityOfElementLocated(lst1));\n        Thread.sleep(1000);\n        from.click();\n        \n        \n        //--------------- Destination -------------------\n        \n        WebElement toBox = driver.findElement(By.name(&quot;to&quot;));\n        toBox.sendKeys(&quot;JED&quot;);\n       \n        wait = new WebDriverWait(driver, Duration.ofSeconds(10));\n        By lst2 = By.xpath(&quot;//div[@class='d-flex align-items-center p-2 to--insert overflow-hidden result-option']//button[text()='JED']&quot;);\n        \n        WebElement to = wait.until(ExpectedConditions.visibilityOfElementLocated(lst2));\n        Thread.sleep(1000);\n        to.click();\n\n    }\n</code></pre>\n",
    "tags" : [ "java", "selenium-webdriver", "dropdown" ],
    "owner" : {
      "account_id" : 2316416,
      "reputation" : 3626,
      "user_id" : 2033382,
      "user_type" : "registered",
      "accept_rate" : 78,
      "profile_image" : "https://www.gravatar.com/avatar/0e46c0c4d6a5ac604f4cf56c208b689c?s=256&d=identicon&r=PG",
      "display_name" : "amal",
      "link" : "https://stackoverflow.com/users/2033382/amal"
    },
    "is_answered" : true,
    "view_count" : 84,
    "answer_count" : 1,
    "score" : 0,
    "last_activity_date" : 1760103819,
    "creation_date" : 1760099897,
    "link" : "https://stackoverflow.com/questions/79787352/issue-with-selecting-element-from-dropdown-list",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79787401,
    "question_id" : 79787352,
    "body" : "<p>It's not the issue in your code. It's just the way website behaves. i.e. if you enter(in this case selenium) the airport code(JED) too fast, system won't auto suggest just one matching airport, it suggests random but many airports, this is where your code fails. I don't know if this is a system bug, but that's not important to us.</p>\n<p>You need to handle this. i.e. make selenium type the keys slowly as if a human is typing. I have written a method to enter the keys slowly. See the working code below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) throws InterruptedException {\n    WebDriver driver = new ChromeDriver();\n    driver.get(&quot;https://phptravels.net/&quot;);\n    driver.manage().window().maximize();\n    WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(10));\n\n    //--------------- Departure -------------------\n    WebElement fromField = wait.until(ExpectedConditions.elementToBeClickable(By.name(&quot;from&quot;)));\n    typeSlowly(fromField,&quot;DAC&quot;,500);\n    wait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//button[text()='DAC']&quot;))).click();\n\n    //--------------- Destination -------------------\n    WebElement toField = wait.until(ExpectedConditions.elementToBeClickable(By.name(&quot;to&quot;)));\n    typeSlowly(toField,&quot;JED&quot;,500);\n    wait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//button[text()='JED']&quot;))).click();\n\n    //--------------- Departure Date -------------------\n    wait.until(ExpectedConditions.elementToBeClickable(By.id(&quot;departure&quot;))).click();\n}\n\npublic static void typeSlowly(WebElement element, String text, int delayMillis) {\n    for (char ch : text.toCharArray()) {\n        element.sendKeys(Character.toString(ch));\n        try {\n            Thread.sleep(delayMillis);\n        } catch (InterruptedException e) {\n            Thread.currentThread().interrupt();\n        }\n    }\n}\n</code></pre>\n",
    "score" : 2,
    "is_accepted" : true,
    "owner" : {
      "account_id" : 10299692,
      "reputation" : 9177,
      "user_id" : 7598774,
      "user_type" : "registered",
      "accept_rate" : 75,
      "profile_image" : "https://i.sstatic.net/mei3t.jpg?s=256",
      "display_name" : "Shawn",
      "link" : "https://stackoverflow.com/users/7598774/shawn"
    },
    "creation_date" : 1760103819,
    "last_activity_date" : 1760103819,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140788440,
    "post_id" : 79787352,
    "body" : "@Corey Goldberg Thanks. I will remove it and try",
    "score" : 0,
    "owner" : {
      "account_id" : 2316416,
      "reputation" : 3626,
      "user_id" : 2033382,
      "user_type" : "registered",
      "accept_rate" : 78,
      "profile_image" : "https://www.gravatar.com/avatar/0e46c0c4d6a5ac604f4cf56c208b689c?s=256&d=identicon&r=PG",
      "display_name" : "amal",
      "link" : "https://stackoverflow.com/users/2033382/amal"
    },
    "creation_date" : 1760101358,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140788386,
    "post_id" : 79787352,
    "body" : "Not an answer, but don&#39;t mix implicit and explicit waits. You should remove the implicit wait and sleeps.",
    "score" : 1,
    "owner" : {
      "account_id" : 8866,
      "reputation" : 61498,
      "user_id" : 16148,
      "user_type" : "registered",
      "accept_rate" : 73,
      "profile_image" : "https://i.sstatic.net/XTzm1.jpg?s=256",
      "display_name" : "Corey Goldberg",
      "link" : "https://stackoverflow.com/users/16148/corey-goldberg"
    },
    "creation_date" : 1760100320,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : {
    "79787401" : [ {
      "comment_id" : 140788608,
      "post_id" : 79787401,
      "body" : "Thank you so so much for the explanation and the code. It works.  I tried different ways for 2 days, and I guess this is the only way to fix it due to the site&#39;s behavior.  Thanks again :)",
      "score" : 0,
      "owner" : {
        "account_id" : 2316416,
        "reputation" : 3626,
        "user_id" : 2033382,
        "user_type" : "registered",
        "accept_rate" : 78,
        "profile_image" : "https://www.gravatar.com/avatar/0e46c0c4d6a5ac604f4cf56c208b689c?s=256&d=identicon&r=PG",
        "display_name" : "amal",
        "link" : "https://stackoverflow.com/users/2033382/amal"
      },
      "creation_date" : 1760105217,
      "content_license" : "CC BY-SA 4.0"
    } ]
  }
}