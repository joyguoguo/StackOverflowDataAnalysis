{
  "question" : {
    "question_id" : 79579620,
    "title" : "Quickfixj and SSL connection : Received fatal alert: certificate_required",
    "body" : "<p>any suggestions would be appreciated, and I’m still a beginner.</p>\n<p>I’m currently using the QuickFIX/J API for exchanging financial data. While trying to configure a new session using SSL connection, I encountered issues. Here’s what I’ve done so far, and I’m trying to figure out what went wrong or what I might have missed.</p>\n<p>Based on the documentation, QuickFIX/J should be able to handle SSL connections if I set up the following configuration along with the appropriate certificates:</p>\n<p>For my API configuration, I’ve used:</p>\n<pre class=\"lang-js prettyprint-override\"><code>SSLDebug=Y\nSocketUseSSL=Y\nSSLKeyStore=/pathkeystore/keystore.jks\nSSLKeyStorePassword=xxx\nSSLKeyStoreType=JKS\nSSLTrustStore=/pathkeystore/truststore.jks\nSSLTrustStorePassword=xxx\nSSLKeyAlias=cert_cert\nCertificateAuthentication=Y\nSSLLoggingLevel=DEBUG\n</code></pre>\n\n<p>Regarding the SSL files, I’ve generated my certificate and sent it to the counterpart for signing.</p>\n<p>Testing the connection worked fine when I ran this command:\n[![enter image description here][1]][1]\nthese are my ssl certificates ;\n[1]: https://i.sstatic.net/AJ2piMw8.png</p>\n<p>When creating my keystore, I’m uncertain if I should use the default keystore (cacerts).</p>\n<pre><code>keytool -genkey -alias my_certificatUAT -keyalg RSA -keystore keystore.jks -keysize 2048\n</code></pre>\n<p>Conversion of .pem certificats :</p>\n<pre><code>openssl pkcs12 -export -in certificatUAT.pem -inkey clef.pem -out certificatUAT.p12 -name my_certificatUAT\n</code></pre>\n<p>Importing the Certificat .pem dans into the Keystore :</p>\n<pre><code>keytool -importkeystore -srckeystore certificatUAT.p12 -srcstoretype PKCS12 -destkeystore keystore.jks -deststoretype JKS\n</code></pre>\n<p>Create a truststore:</p>\n<pre><code>keytool -import -file trusted_certificate.pem -alias root_certificate -keystore truststore.jks\n</code></pre>\n<p>And testing the connection, I get connected properly when I use the cmd :</p>\n<pre><code>openssl s_client -connect server.address:port -cert /path/to/certificate.pem -key /path/to/key.pem\n</code></pre>\n<p>However, when I launch my API, I keep receiving the following error:</p>\n<pre><code>javax.net.ssl|ERROR|01 91|NioProcessor-133|2025-04-17 16:48:13.791 CEST|TransportContext.java:352|Fatal (CERTIFICATE_REQUIRED): Received fatal alert: certificate_required (\n&quot;throwable&quot; : {\n  javax.net.ssl.SSLHandshakeException: Received fatal alert: certificate_required\n</code></pre>\n<p>I have tested all the possible linux commands I found to insure my connections toward the destination server works correctly with the actual .pem files, and it is good.</p>\n<p>And I think that the issue may come from my fixengine code. Let me know what you think ?</p>\n",
    "tags" : [ "java", "linux", "tomcat", "ssl-certificate", "quickfixj" ],
    "owner" : {
      "account_id" : 29651066,
      "reputation" : 31,
      "user_id" : 22724944,
      "user_type" : "registered",
      "profile_image" : "https://lh3.googleusercontent.com/a/ACg8ocL1qbjyPZI58GiFYDGh3RmGhpkykEeC0x5d3gbMlVAL=k-s256",
      "display_name" : "Backery",
      "link" : "https://stackoverflow.com/users/22724944/backery"
    },
    "is_answered" : false,
    "view_count" : 109,
    "answer_count" : 0,
    "score" : 0,
    "last_activity_date" : 1744905402,
    "creation_date" : 1744904391,
    "link" : "https://stackoverflow.com/questions/79579620/quickfixj-and-ssl-connection-received-fatal-alert-certificate-required",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ ],
  "question_comments" : [ {
    "comment_id" : 140376886,
    "post_id" : 79579620,
    "body" : "So you are saying this is resolved? Then you could self-answer this and mark it as resolved.",
    "score" : 0,
    "owner" : {
      "account_id" : 6398908,
      "reputation" : 3388,
      "user_id" : 4962355,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/RSzIy.jpg?s=256",
      "display_name" : "Christoph John",
      "link" : "https://stackoverflow.com/users/4962355/christoph-john"
    },
    "creation_date" : 1745851568,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140376800,
    "post_id" : 79579620,
    "body" : "You&#39;re totally right, the config from the main documentation works fine : &quot; SocketUseSSL=Y SocketKeyStore=/PathToKeyStore/keystore.jks SocketKeyStorePassword=XXX KeyStoreType=JKS CertificateAuthentication=Y  &quot;",
    "score" : 0,
    "owner" : {
      "account_id" : 29651066,
      "reputation" : 31,
      "user_id" : 22724944,
      "user_type" : "registered",
      "profile_image" : "https://lh3.googleusercontent.com/a/ACg8ocL1qbjyPZI58GiFYDGh3RmGhpkykEeC0x5d3gbMlVAL=k-s256",
      "display_name" : "Backery",
      "link" : "https://stackoverflow.com/users/22724944/backery"
    },
    "creation_date" : 1745850119,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140345330,
    "post_id" : 79579620,
    "body" : "Hmm, some config options do not look like they are from QFJ. See <a href=\"https://rawgit.com/quickfix-j/quickfixj/master/quickfixj-core/src/main/doc/usermanual/usage/configuration.html\" rel=\"nofollow noreferrer\">rawgit.com/quickfix-j/quickfixj/master/quickfixj-core/src/ma&zwnj;&#8203;in/&hellip;</a> and look for &quot;Secure Communication Options&quot;.",
    "score" : 1,
    "owner" : {
      "account_id" : 6398908,
      "reputation" : 3388,
      "user_id" : 4962355,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/RSzIy.jpg?s=256",
      "display_name" : "Christoph John",
      "link" : "https://stackoverflow.com/users/4962355/christoph-john"
    },
    "creation_date" : 1744905756,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}