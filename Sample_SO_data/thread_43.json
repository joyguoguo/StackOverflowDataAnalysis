{
  "question" : {
    "question_id" : 79840437,
    "title" : "How to overrides Entity field in tests with Spring boot v4 + Hibernate",
    "body" : "<p>I wanna test a PostEntity without removing the next code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@CreatedBy // Have to remove these &quot;, nullable = false, insertable = false, updatable = false&quot;\n@Column(name = &quot;created_by&quot;)\nUUID createdBy;\n\n</code></pre>\n<p>How, with Spring boot + Hibernate + Jakarta, can i override those Column options in integration test ?</p>\n<p>In my my PersistPostIT.class, i don't wanna :</p>\n<pre class=\"lang-java prettyprint-override\"><code>class PersistPostIT {\n @Test\n @Disable // You have to remove theses option in PostEntity before &quot;, nullable = false,  insertable = false, updatable = false&quot;\n void shouldSuccessfullyPersistPost (){}\n\n}\n</code></pre>\n<p>Other solution still not working.\nsrc/test/resources/META-INF/orm-test.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;entity-mappings\n        xmlns=&quot;https://jakarta.ee/xml/ns/persistence/orm&quot;\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n        xsi:schemaLocation=&quot;https://jakarta.ee/xml/ns/persistence/orm\n                            https://jakarta.ee/xml/ns/persistence/orm_3_0.xsd&quot;\n        version=&quot;3.0&quot;&gt;\n\n    &lt;entity class=&quot;com.example.PostEntity&quot; access=&quot;FIELD&quot;&gt;\n\n        &lt;table name=&quot;PostEntity&quot; schema=&quot;public&quot;/&gt;\n\n        &lt;attributes&gt;\n\n            &lt;basic name=&quot;createdBy&quot;&gt;\n                &lt;column name=&quot;created_by&quot; insertable=&quot;true&quot; updatable=&quot;true&quot; nullable=&quot;false&quot;/&gt;\n            &lt;/basic&gt;\n\n            &lt;basic name=&quot;updatedBy&quot;&gt;\n                &lt;column name=&quot;updated_by&quot; insertable=&quot;true&quot; updatable=&quot;true&quot; nullable=&quot;true&quot;/&gt;\n            &lt;/basic&gt;\n        &lt;/attributes&gt;\n    &lt;/entity&gt;\n&lt;/entity-mappings&gt;\n</code></pre>\n",
    "tags" : [ "java", "spring-boot", "hibernate", "jakarta-ee", "spring-data-jpa" ],
    "owner" : {
      "account_id" : 16457981,
      "reputation" : 33,
      "user_id" : 11889735,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/28hUelM6.jpg?s=256",
      "display_name" : "viespring",
      "link" : "https://stackoverflow.com/users/11889735/viespring"
    },
    "is_answered" : false,
    "view_count" : 44,
    "closed_date" : 1765295313,
    "answer_count" : 0,
    "score" : -2,
    "last_activity_date" : 1765188238,
    "creation_date" : 1765133975,
    "link" : "https://stackoverflow.com/questions/79840437/how-to-overrides-entity-field-in-tests-with-spring-boot-v4-hibernate",
    "closed_reason" : "Not suitable for this site"
  },
  "answers" : [ ],
  "question_comments" : [ {
    "comment_id" : 140892634,
    "post_id" : 79840437,
    "body" : "Closed. Error was missing import TestAuditorAwareConfig. The folder META-INF is removed. Thanks",
    "score" : 0,
    "owner" : {
      "account_id" : 16457981,
      "reputation" : 33,
      "user_id" : 11889735,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/28hUelM6.jpg?s=256",
      "display_name" : "viespring",
      "link" : "https://stackoverflow.com/users/11889735/viespring"
    },
    "creation_date" : 1765202261,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140892609,
    "post_id" : 79840437,
    "body" : "I still don&#39;t get what you are testing asyou only keep writing about things instead of showing code. Nonetheless IMHO you are still testing the wrong things / doing wrong things in your test.",
    "score" : 0,
    "owner" : {
      "account_id" : 3192259,
      "reputation" : 126810,
      "user_id" : 2696260,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/qHEzx.png?s=256",
      "display_name" : "M. Deinum",
      "link" : "https://stackoverflow.com/users/2696260/m-deinum"
    },
    "creation_date" : 1765201507,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140892541,
    "post_id" : 79840437,
    "body" : "Yeah. It was a missing import for my testing class and TestAuditorAware. I thought that not working. I removed insertable and updatable, an right it successfully work. But, with @LastModifiedBy, the manually value set it, hibernate ORM or JPA don&#39;t accept it in persist.",
    "score" : 0,
    "owner" : {
      "account_id" : 16457981,
      "reputation" : 33,
      "user_id" : 11889735,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/28hUelM6.jpg?s=256",
      "display_name" : "viespring",
      "link" : "https://stackoverflow.com/users/11889735/viespring"
    },
    "creation_date" : 1765198775,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140892213,
    "post_id" : 79840437,
    "body" : "Just override the Spring Data JPA provider for the user to do that. Create a configuration for test that creates an <code>AuditorAware</code> that returns a random value or allows you to set one for the test. Don&#39;t start to mess around with manual set properties for your entities and modify the mappings/entities for that.",
    "score" : 0,
    "owner" : {
      "account_id" : 3192259,
      "reputation" : 126810,
      "user_id" : 2696260,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/qHEzx.png?s=256",
      "display_name" : "M. Deinum",
      "link" : "https://stackoverflow.com/users/2696260/m-deinum"
    },
    "creation_date" : 1765183989,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140892170,
    "post_id" : 79840437,
    "body" : "I just wanna set manually value at some fields to tell to ORM: &quot;Hey created_by, it value is UUID.random(), updated_by&#39;s value UUID.random()&quot;. Cause, createdBy is insertable=false, updatable=false and ORM ignore their manually value.",
    "score" : 0,
    "owner" : {
      "account_id" : 16457981,
      "reputation" : 33,
      "user_id" : 11889735,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/28hUelM6.jpg?s=256",
      "display_name" : "viespring",
      "link" : "https://stackoverflow.com/users/11889735/viespring"
    },
    "creation_date" : 1765182001,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140892157,
    "post_id" : 79840437,
    "body" : "Why? IMHO if you need to change your entity mapping for testing, your test is either wrong or you are testing the wrong thing.",
    "score" : 0,
    "owner" : {
      "account_id" : 3192259,
      "reputation" : 126810,
      "user_id" : 2696260,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/qHEzx.png?s=256",
      "display_name" : "M. Deinum",
      "link" : "https://stackoverflow.com/users/2696260/m-deinum"
    },
    "creation_date" : 1765181263,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140891660,
    "post_id" : 79840437,
    "body" : "In application-qa.yaml, where i&#39;d call the orm-test.xml file ?",
    "score" : 0,
    "owner" : {
      "account_id" : 16457981,
      "reputation" : 33,
      "user_id" : 11889735,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/28hUelM6.jpg?s=256",
      "display_name" : "viespring",
      "link" : "https://stackoverflow.com/users/11889735/viespring"
    },
    "creation_date" : 1765134132,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}