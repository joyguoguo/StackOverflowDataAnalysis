{
  "question" : {
    "question_id" : 79544042,
    "title" : "Parameter binding issue in GridDB Java API query returns empty result set",
    "body" : "<p>I am working on a project using GridDB's Java API and I am facing an issue with parameterized queries. I created a container with two columns (an integer column id and a string column value), inserted some sample data, and then attempted to retrieve records using a parameterized query. However, when I bind a parameter (for example, to fetch all records where id &gt;= 5), the query unexpectedly returns an empty result setâ€”even though I have matching records in the container.</p>\n<p>My code:</p>\n<pre><code>import com.toshiba.mwcloud.gs.*;\nimport java.util.*;\n\npublic class GridDBExample {\n    public static void main(String[] args) {\n        try {\n            // Establish connection to GridDB\n            GridStore store = GridStoreFactory.getInstance().getStore(\n                &quot;notificationAddress=239.0.0.1;notificationPort=31999;clusterName=defaultCluster;user=admin;password=admin;&quot;\n            );\n            \n            // Define container schema and create container\n            ContainerInfo containerInfo = new ContainerInfo(\n                &quot;sample_container&quot;,\n                ContainerType.COLLECTION,\n                new String[]{&quot;id&quot;, &quot;value&quot;},\n                new Type[]{Type.INTEGER, Type.STRING}\n            );\n            Collection con = store.putContainer(containerInfo);\n            \n            // Insert sample data\n            for (int i = 0; i &lt; 10; i++) {\n                con.put(new Object[]{i, &quot;value&quot; + i});\n            }\n            \n            // Parameterized query: expecting to retrieve rows where id &gt;= 5\n            Query&lt;Row&gt; query = con.query(&quot;SELECT * WHERE id &gt;= ?&quot;);\n            query.bind(5);\n            RowSet&lt;Row&gt; rs = query.fetch();\n            \n            // Iterate and print results\n            while (rs.hasNext()) {\n                Row row = rs.next();\n                System.out.println(&quot;id: &quot; + row.getInteger(0) + &quot;, value: &quot; + row.getString(1));\n            }\n            \n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>I am using the latest version of the GridDB Java API (if there's a specific version, please mention it in your comments).</p>\n",
    "tags" : [ "java", "griddb" ],
    "owner" : {
      "account_id" : 34325933,
      "reputation" : 71,
      "user_id" : 26509502,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/9nSOL0eK.webp?s=256",
      "display_name" : "Zaigham Ali Anjum",
      "link" : "https://stackoverflow.com/users/26509502/zaigham-ali-anjum"
    },
    "is_answered" : true,
    "view_count" : 48,
    "answer_count" : 1,
    "score" : 0,
    "last_activity_date" : 1743437618,
    "creation_date" : 1743292779,
    "link" : "https://stackoverflow.com/questions/79544042/parameter-binding-issue-in-griddb-java-api-query-returns-empty-result-set",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79544051,
    "question_id" : 79544042,
    "body" : "<p>To fix these errors, I updated My code as follows:<br />\n<strong>Missing Import for Date Class</strong><br />\nThe <code>Date</code> class is not recognized because it is not imported. (import java.util.Date;)</p>\n<p><strong>Undefined <code>TimeSeries</code> Class</strong><br />\nThe <code>TimeSeries</code> class is missing an import statement. (import com.toshiba.mwcloud.gs.TimeSeries;)</p>\n<pre><code>package gsSample;\nimport java.util.Arrays;\nimport java.util.Properties;\nimport java.util.Date;  // Import Date class\n\nimport com.toshiba.mwcloud.gs.Collection;\nimport com.toshiba.mwcloud.gs.GSException;\nimport com.toshiba.mwcloud.gs.GridStore;\nimport com.toshiba.mwcloud.gs.GridStoreFactory;\nimport com.toshiba.mwcloud.gs.Query;\nimport com.toshiba.mwcloud.gs.RowKey;\nimport com.toshiba.mwcloud.gs.RowSet;\nimport com.toshiba.mwcloud.gs.TimeSeries;  // Import TimeSeries class\n\npublic class MyApp2 {\n    // Container schema\n    static class Person {\n        @RowKey String name;\n        int age;\n    }\n\n    static class HeartRate {\n        @RowKey Date ts;\n        int heartRate;  // Correct field name\n        String activity;\n    }\n\n    public static void main(String[] args) throws GSException {\n\n        // Create a Properties instance to connect to GridDB\n        Properties props = new Properties();\n        props.setProperty(&quot;notificationAddress&quot;, &quot;239.0.0.1&quot;);\n        props.setProperty(&quot;notificationPort&quot;, &quot;31999&quot;);\n        props.setProperty(&quot;clusterName&quot;, &quot;defaultCluster&quot;);\n        props.setProperty(&quot;user&quot;, &quot;administrator&quot;);\n        props.setProperty(&quot;password&quot;, &quot;password&quot;);\n\n        GridStore store = GridStoreFactory.getInstance().getGridStore(props);\n\n        // Create a person object (fix person1 issue)\n        Person person1 = new Person();\n        person1.name = &quot;JohnDoe&quot;;  // Assign a valid name\n        person1.age = 30;\n\n        // Get the container to write records\n        Collection&lt;String, Person&gt; people = store.putCollection(&quot;PEOPLE&quot;, Person.class);\n        people.put(person1);  // Add a person record\n\n        // Write a record\n        HeartRate hr = new HeartRate();\n        hr.ts = new Date();  // Fix Date issue\n        hr.heartRate = 60;  // Fix case-sensitive issue\n        hr.activity = &quot;resting&quot;;\n\n        // Create TimeSeries and insert heart rate data\n        TimeSeries&lt;HeartRate&gt; heartRate = store.putTimeSeries(&quot;HR_&quot; + person1.name, HeartRate.class);\n        heartRate.put(hr);\n    }\n}\n</code></pre>\n",
    "score" : 0,
    "is_accepted" : true,
    "owner" : {
      "account_id" : 34325933,
      "reputation" : 71,
      "user_id" : 26509502,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/9nSOL0eK.webp?s=256",
      "display_name" : "Zaigham Ali Anjum",
      "link" : "https://stackoverflow.com/users/26509502/zaigham-ali-anjum"
    },
    "creation_date" : 1743293282,
    "last_activity_date" : 1743293282,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140278156,
    "post_id" : 79544042,
    "body" : "Bad query, no <code>FROM</code> clause?",
    "score" : 0,
    "owner" : {
      "account_id" : 10364565,
      "reputation" : 5027,
      "user_id" : 7644018,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/yE50W.png?s=256",
      "display_name" : "Paul T.",
      "link" : "https://stackoverflow.com/users/7644018/paul-t"
    },
    "creation_date" : 1743293017,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}