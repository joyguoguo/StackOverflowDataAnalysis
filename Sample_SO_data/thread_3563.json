{
  "question" : {
    "question_id" : 79540446,
    "title" : "What is the appropriate value of the jvm -Xss parameter?",
    "body" : "<p>How does the -Xss play a key role in java program?</p>\n<p>The size of the stack directly affects the program running.</p>\n<ol>\n<li>As I know -Xss decides the thread stack size of jvm, includ local variables, operand stacks, dynamic link information, return addresses and so on.</li>\n<li>Usually in my local development environment, I usually set -Xss 4M.</li>\n</ol>\n<p>I ran a simple recursive program, and it StackOverflowError.</p>\n<pre><code>public class StackOverflowErrorExample {\n\n    private static int count = 0;\n\n    public static void recursiveFunction() {\n        count++;\n        recursiveFunction(); // recursive\n    }\n\n    public static void main(String[] args) {\n        try {\n            recursiveFunction(); \n        } catch (StackOverflowError e) {\n            System.out.println(&quot;overflow: &quot; + count);\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n",
    "tags" : [ "java", "jvm", "stack-overflow" ],
    "owner" : {
      "account_id" : 27649284,
      "reputation" : 1,
      "user_id" : 21104533,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/7d13053907a845189953be897846654f?s=256&d=identicon&r=PG",
      "display_name" : "MoXi",
      "link" : "https://stackoverflow.com/users/21104533/moxi"
    },
    "is_answered" : true,
    "view_count" : 76,
    "answer_count" : 1,
    "score" : 0,
    "last_activity_date" : 1743142349,
    "creation_date" : 1743131511,
    "link" : "https://stackoverflow.com/questions/79540446/what-is-the-appropriate-value-of-the-jvm-xss-parameter",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79540503,
    "question_id" : 79540446,
    "body" : "<blockquote>\n<p>What is the appropriate value of the jvm -Xss parameter?</p>\n</blockquote>\n<p>It depends.  But typically, you wouldn't set it at all.</p>\n<blockquote>\n<p>How does the -Xss play a key role in java program?</p>\n</blockquote>\n<p>The role is that is sets the default stack size for threads.  Whether it is a &quot;key&quot; role depends on the application.  However:</p>\n<ul>\n<li>if the stack size is too small, some (otherwise correct<sup>1</sup>) programs will fail</li>\n<li>if the stack size is too large you will waste memory, especially if you have many threads.</li>\n</ul>\n<p>Note that there will be stack for each application thread, and unless the thread is created with an explicit stack size (i.e. using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html#Thread-java.lang.ThreadGroup-java.lang.Runnable-java.lang.String-long-\" rel=\"nofollow noreferrer\">this constructor</a>) the <code>-Xss</code> value (or its default) will be used for each thread's stack.</p>\n<blockquote>\n<p>The size of the stack directly affects the program running.</p>\n</blockquote>\n<p>In some cases.  In most cases the default stack size (i.e. what you get if you don't specify <code>-Xss</code>) is just fine.  It depends on the application.</p>\n<p>Finally, your test code is going overflow the stack no matter what <code>-Xss</code> is set to.  It is simply a pathological program ... and it is not useful for deciding what <code>-Xss</code> a typical <em>real</em> application requires.</p>\n<hr />\n<p><sup>1 - Correctness is nuanced.  For example, given that we know that Java implementations don't implement tail-call elimination, it is debatable whether it is correct to implement traversal of a linked list using recursion.  If you do, and the list is large, and the stack isn't large enough, then the application will SOE.</sup></p>\n",
    "score" : 1,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 47283,
      "reputation" : 723428,
      "user_id" : 139985,
      "user_type" : "registered",
      "accept_rate" : 69,
      "profile_image" : "https://www.gravatar.com/avatar/147c5a9cc1feec049c50da791ac7d144?s=256&d=identicon&r=PG",
      "display_name" : "Stephen C",
      "link" : "https://stackoverflow.com/users/139985/stephen-c"
    },
    "creation_date" : 1743135280,
    "last_activity_date" : 1743139944,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140272251,
    "post_id" : 79540446,
    "body" : "In general, the most appropriate setting is no setting.  Use the default.",
    "score" : 2,
    "owner" : {
      "account_id" : 47283,
      "reputation" : 723428,
      "user_id" : 139985,
      "user_type" : "registered",
      "accept_rate" : 69,
      "profile_image" : "https://www.gravatar.com/avatar/147c5a9cc1feec049c50da791ac7d144?s=256&d=identicon&r=PG",
      "display_name" : "Stephen C",
      "link" : "https://stackoverflow.com/users/139985/stephen-c"
    },
    "creation_date" : 1743134296,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140272208,
    "post_id" : 79540446,
    "body" : "-Xss4M overflow count : 216555 in my computer.",
    "score" : 0,
    "owner" : {
      "account_id" : 27649284,
      "reputation" : 1,
      "user_id" : 21104533,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/7d13053907a845189953be897846654f?s=256&d=identicon&r=PG",
      "display_name" : "MoXi",
      "link" : "https://stackoverflow.com/users/21104533/moxi"
    },
    "creation_date" : 1743132312,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}