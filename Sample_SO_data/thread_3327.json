{
  "question" : {
    "question_id" : 79555758,
    "title" : "Weblogic 14.1.2.0.0 does not display logs in the console with log4j2",
    "body" : "<p>I’m using <strong>WebLogic 14.1.2.0.0</strong> and trying to configure <strong>Log4j2</strong> for logging in my application, but logs are not showing up in the console.</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n  &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n  &lt;version&gt;2.20.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n  &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n  &lt;version&gt;2.20.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<hr />\n<pre><code>@Stateless\n@GetTypeQualifierV2\npublic class GetTypeUserEvent implements EventTypeUserHandler {\n\n    private static final Logger LOGGER = LogManager.getLogger(GetTypeUserEvent.class);\n\n    @Override\n    public void handle(Object event) {\n        LOGGER.info(&quot;GetTypeUserEvent.handle() called with event: {}&quot;, event);\n    }\n}\n</code></pre>\n<hr />\n<h3><code>/src/main/resources/log4j2.xml</code></h3>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration status=&quot;WARN&quot;&gt;\n  &lt;Appenders&gt;\n    &lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\n      &lt;PatternLayout pattern=&quot;%d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n&quot; /&gt;\n    &lt;/Console&gt;\n  &lt;/Appenders&gt;\n  &lt;Loggers&gt;\n    &lt;Root level=&quot;info&quot;&gt;\n      &lt;AppenderRef ref=&quot;Console&quot;/&gt;\n    &lt;/Root&gt;\n  &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n<hr />\n<h3><code>startWebLogic.cmd</code></h3>\n<pre><code>set &quot;JAVA_OPTIONS=%JAVA_OPTIONS% -Dweblogic.log.Log4jLoggingEnabled=true&quot;\n</code></pre>\n<hr />\n<p>How could configure Log4j2to work properly on Weblogic 14.1.2.0.0?</p>\n<p>I've tried forcing it to activate in startWeblogic.cmd and also in setDomainEnv.cmd or setDomainEnv.sh and it still doesn't work.</p>\n",
    "tags" : [ "java", "log4j2", "weblogic14c" ],
    "owner" : {
      "account_id" : 41193643,
      "reputation" : 1,
      "user_id" : 30169326,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/7cc8d6a4f26f3eb97f0abff751a83ba8?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Jose Villacres",
      "link" : "https://stackoverflow.com/users/30169326/jose-villacres"
    },
    "is_answered" : true,
    "view_count" : 360,
    "answer_count" : 2,
    "score" : 0,
    "last_activity_date" : 1743923902,
    "creation_date" : 1743781008,
    "link" : "https://stackoverflow.com/questions/79555758/weblogic-14-1-2-0-0-does-not-display-logs-in-the-console-with-log4j2",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79556330,
    "question_id" : 79555758,
    "body" : "<p>For application-only Log4j2 Logging in WebLogic</p>\n<p>Include the below in your pom.xml:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n  &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n  &lt;version&gt;2.20.0&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n  &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n  &lt;version&gt;2.20.0&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;!-- For proper servlet lifecycle integration --&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n  &lt;artifactId&gt;log4j-web&lt;/artifactId&gt;\n  &lt;version&gt;2.20.0&lt;/version&gt;\n  &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Make sure you have the log4j2 config file in below location</p>\n<pre><code># log4j2.xml should go into classes folder of webapp\nmyapp.war/\n├── WEB-INF/\n│   ├── classes/\n│   │   └── log4j2.xml    \n│   └── web.xml           \n</code></pre>\n<p>Register Log4j lifecycle listener in web.xml (for WARs)</p>\n<pre><code>&lt;listener&gt;\n  &lt;listener-class&gt;org.apache.logging.log4j.web.Log4jServletContextListener&lt;/listener-class&gt;\n&lt;/listener&gt;\n</code></pre>\n<p>Test code</p>\n<pre><code>import org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.Logger;\n\npublic class MyServlet {\n    private static final Logger logger = LogManager.getLogger(MyServlet.class);\n\n    public void doSomething() {\n        logger.info(&quot;Log4j2 is working inside WebLogic!&quot;);\n    }\n}\n</code></pre>\n",
    "score" : 0,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 7645025,
      "reputation" : 440,
      "user_id" : 5795975,
      "user_type" : "registered",
      "profile_image" : "https://lh6.googleusercontent.com/-6KwPUS4RnyA/AAAAAAAAAAI/AAAAAAAAC8w/auZqreI45x0/s256-rj/photo.jpg",
      "display_name" : "Vijay",
      "link" : "https://stackoverflow.com/users/5795975/vijay"
    },
    "creation_date" : 1743805933,
    "last_activity_date" : 1743805933,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "answer_id" : 79556910,
    "question_id" : 79555758,
    "body" : "<pre class=\"lang-none prettyprint-override\"><code>&lt;container-descriptor&gt;\n    &lt;prefer-application-packages&gt;\n      &lt;package-name&gt;org.apache.logging.log4j&lt;/package-name&gt;\n    &lt;/prefer-application-packages&gt;\n&lt;/container-descriptor&gt;\n</code></pre>\n<p>I added this to <code>weblogic.xml</code> and it worked for me.</p>\n",
    "score" : 0,
    "is_accepted" : true,
    "owner" : {
      "account_id" : 41193643,
      "reputation" : 1,
      "user_id" : 30169326,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/7cc8d6a4f26f3eb97f0abff751a83ba8?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Jose Villacres",
      "link" : "https://stackoverflow.com/users/30169326/jose-villacres"
    },
    "creation_date" : 1743853292,
    "last_activity_date" : 1743923902,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ ],
  "answer_comments" : { }
}