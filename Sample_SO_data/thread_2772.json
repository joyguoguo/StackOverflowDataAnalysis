{
  "question" : {
    "question_id" : 79596643,
    "title" : "App crashing before newCall func in dialog layout",
    "body" : "<p>As I understand it, the problem is in blocking the thread, but if I add a separate thread, the call is simply ignored, help me run it in a separate thread</p>\n<p>private void showDialog(){\nint random = ThreadLocalRandom.current().nextInt(0, 28);</p>\n<pre><code>    String[] randomPhrase = getResources().getStringArray(R.array.random_phrase);\n    String[] randomPhraseErr = getResources().getStringArray(R.array.random_phrase_err);\n\n    Dialog dialogAI = new Dialog(this, R.style.DialogStyle);\n\n    dialogAI.setContentView(R.layout.custom_dialog_ai);\n    dialogAI.getWindow().setBackgroundDrawableResource(R.drawable.bg_cyrcle_window);\n\n    TypeWriterView typeWriterView = dialogAI.findViewById(R.id.typeWriter_openai);\n    AppCompatButton appCompatButton = dialogAI.findViewById(R.id.btn_generate);\n    SearchView searchView_ai = dialogAI.findViewById(R.id.searchView_ai);\n\n\n    typeWriterView.setCharacterDelay(30);\n    typeWriterView.animateText(&quot;ИИ:\\n&quot; + randomPhrase[random]);\n\n    appCompatButton.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            String searchViewText = searchView_ai.getQuery().toString();\n\n            if (searchViewText.isEmpty()) {\n                int random_ = ThreadLocalRandom.current().nextInt(0, 10);\n\n                typeWriterView.animateText(&quot;ИИ:\\n&quot; + randomPhraseErr[random_]);\n            }\n            else\n            {\n                Request request = new Request.Builder().url(getURL).build();\n\n                clientOpenAI.newCall(request).enqueue(new Callback() {\n                    @Override\n                    public void onFailure(@NonNull Call call, @NonNull IOException e) {\n                        e.printStackTrace();\n                    }\n\n                    @Override\n                    public void onResponse(@NonNull Call call, @NonNull Response response) throws IOException {\n                        runOnUiThread(new Runnable() {\n                            public void run() {\n                                try {\n                                    typeWriterView.animateText(&quot;ИИ: &quot; + response.body().string());\n                                } catch (IOException e) {\n                                    throw new RuntimeException(e);\n                                }\n                            }\n                        });\n                    }\n                });\n            }\n        }\n    });\n\n    dialogAI.show();\n}\n</code></pre>\n",
    "tags" : [ "java", "android" ],
    "owner" : {
      "account_id" : 41607385,
      "reputation" : 1,
      "user_id" : 30368941,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/18cbc88e6927ccea5a831e93831e9ef4?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Egor Levashov",
      "link" : "https://stackoverflow.com/users/30368941/egor-levashov"
    },
    "is_answered" : false,
    "view_count" : 24,
    "answer_count" : 0,
    "score" : 0,
    "last_activity_date" : 1745849223,
    "creation_date" : 1745849223,
    "link" : "https://stackoverflow.com/questions/79596643/app-crashing-before-newcall-func-in-dialog-layout",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ ],
  "question_comments" : [ ],
  "answer_comments" : { }
}