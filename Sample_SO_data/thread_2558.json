{
  "question" : {
    "question_id" : 79612455,
    "title" : "application.properties file define Map&lt;List&lt;String&gt;, List&lt;String&gt;&gt;",
    "body" : "<p>Need to define  <code>Map&lt;List&lt;String&gt;, List&lt;String&gt;&gt;</code> in application.properties.</p>\n<p>I tried</p>\n<pre><code>settinsToRolesMap={'setting1,setting2,setting3':'userGroup1,userGroup2,userGroup3'], 'setting4,setting5,setting6':'userGroup4,userGroup5,userGroup6'}\n</code></pre>\n<p>and</p>\n<pre><code>settinsToRolesMap={['setting1,setting2,setting3']:['userGroup1,userGroup2,userGroup3'], ['setting4,setting5,setting6']:['userGroup4,userGroup5,userGroup6']}\n</code></pre>\n<p>got <code>org.springframework.beans.ConversionNotSupportedException: Failed to convert value of type 'java.lang.String' to required type 'java.util.Map'</code></p>\n",
    "tags" : [ "java", "spring", "spring-boot" ],
    "owner" : {
      "account_id" : 15192407,
      "reputation" : 353,
      "user_id" : 10979419,
      "user_type" : "registered",
      "profile_image" : "https://lh4.googleusercontent.com/-gO5J8gMKmDQ/AAAAAAAAAAI/AAAAAAAAAGk/Mj6njKnZAAY/s256-rj/photo.jpg",
      "display_name" : "Ivan Karotki",
      "link" : "https://stackoverflow.com/users/10979419/ivan-karotki"
    },
    "is_answered" : true,
    "view_count" : 75,
    "closed_date" : 1746765592,
    "answer_count" : 2,
    "score" : -7,
    "last_activity_date" : 1746771278,
    "creation_date" : 1746709759,
    "link" : "https://stackoverflow.com/questions/79612455/application-properties-file-define-mapliststring-liststring",
    "closed_reason" : "Not suitable for this site"
  },
  "answers" : [ {
    "answer_id" : 79612510,
    "question_id" : 79612455,
    "body" : "<p>You <strong>can't directly define a <code>Map&lt;List&lt;String&gt;, List&lt;String&gt;&gt;</code></strong> in <code>application.properties</code>, because Spring Boot only supports basic property binding for maps like <code>Map&lt;String, String&gt;</code> or <code>Map&lt;String, List&lt;String&gt;&gt;</code>. Complex key types like <code>List&lt;String&gt;</code> as <strong>keys</strong> are not supported in <code>application.properties</code></p>\n<p>.</p>\n",
    "score" : 1,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 18239208,
      "reputation" : 647,
      "user_id" : 13276541,
      "user_type" : "registered",
      "profile_image" : "https://lh3.googleusercontent.com/a-/AOh14GgPsMth9rUGvp9lxK_Nky2OaBid5MNfuotaqiF9Bg=k-s256",
      "display_name" : "Ahmed Mera",
      "link" : "https://stackoverflow.com/users/13276541/ahmed-mera"
    },
    "creation_date" : 1746711319,
    "last_activity_date" : 1746711319,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "answer_id" : 79612964,
    "question_id" : 79612455,
    "body" : "<p>You can atcually define a <code>Map&lt;List&lt;String&gt;, List&lt;String&gt;&gt;</code> in a properties file. In your case it's not working because there are a few syntax errors. To correctly inject the property you need to use <code>@Value</code> and some SpEL.</p>\n<h3>Properties file</h3>\n<p>In your first snippet you correctly defined the curly brackets for the map, but then you used no brackets for the inner lists. Also, there is an unexpected square bracket in there.</p>\n<p>Instead in your second snippet, you properly defined the map within curly brackets, but then you used the wrong brackets for the inner lists. Both maps and lists require curly brackets for their definition.</p>\n<p>Here is the correct definition:</p>\n<pre><code>map={{'setting1','setting2','setting3'}:{'userGroup1','userGroup2','userGroup3'},{'setting4','setting5','setting6'}:{'userGroup4','userGroup5','userGroup6'}}\n</code></pre>\n<h3>Config Class</h3>\n<p>Assuming that the properties file is called <code>application.properties</code>, an example of a <code>@Configuration</code> class injecting the map could look the following way.</p>\n<p>Breaking down the example, all the heavy lifting happens in the <code>@Value</code> annotation. Every SpEL expression must start with a <code>#</code> and be enclosed within curly brackets, like so <code>#{&lt;expr&gt;}</code>. Inside the expression we simply refer to the property, and just like that the property is correctly injected into the method's argument.</p>\n<pre><code>@Configuration\n@PropertySource(&quot;classpath:application.properties&quot;)\npublic class AppConfig {\n\n    @Bean\n    public MyBean myBean(@Value(&quot;#{${map}}&quot;) Map&lt;List&lt;String&gt;, List&lt;String&gt;&gt; map) {\n        return new MyBean(map);\n    }\n}\n</code></pre>\n",
    "score" : 1,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 41852294,
      "reputation" : 71,
      "user_id" : 30479593,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/eda27b16bff70c66463896e640a51d87?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "gilly",
      "link" : "https://stackoverflow.com/users/30479593/gilly"
    },
    "creation_date" : 1746728738,
    "last_activity_date" : 1746771278,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ ],
  "answer_comments" : { }
}