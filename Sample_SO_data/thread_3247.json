{
  "question" : {
    "question_id" : 79562361,
    "title" : "Silently ignoring &quot;Could not locate named parameter&quot; for param in subquery and pagination",
    "body" : "<p>I'm running a JPA non-native query, which returns a custom object.</p>\n<pre><code>@Query(&quot;&quot;&quot;\n    SELECT\n    new path.to.CustomObject(\n        t,\n        (select id from users where name = :param1)\n        (select id from departments where name IN (:param2))\n    )\n    FROM timesheets t\n    WHERE status = :param3\n)\nPage&lt;CustomObject&gt; getAll(\n    @Param(&quot;param1&quot;) String param1,\n    @Param(&quot;param2&quot;) List&lt;String&gt; param2,\n    @Param(&quot;param3&quot;) String param3,\n    Pageable pageable\n)\n</code></pre>\n<p>When I run the query with default pagination (size = 10, page = 0), the logger will print:</p>\n<pre><code>o.s.d.j.r.q.QueryParameterSetter$ErrorHandling: Silently ignoring\njava.lang.IllegalArgumentException: Could not locate named parameter [param1], expecting one of [param3]\njava.lang.IllegalArgumentException: Could not locate named parameter [param2], expecting one of [param3]\n</code></pre>\n<p>But the query runs just fine and will return me the correct values, including the ones from the subqueries.\nIf I run the same query with more page size (size 30, page = 0) the query still runs fine and with no errors.\nIf I add a simple where condition below, for example:</p>\n<pre><code>[...]\nFROM timesheets t\nWHERE status = :param3\nAND :param1 = :param1\nAND :param2 = :param2\n</code></pre>\n<p>The error will only raise for <code>param2</code> because it's a List. It looks like the params used inside a subquery are ignored, but I can't understand why this simple trick doesn't also work for lists.</p>\n<p>I would like to avoid printing &quot;fake&quot; exceptions in the logging (since they don't actually block the execution), so I'm looking for either a workaround (like putting them in an always-true WHERE condition) or a way to prevent Spring from logging the silently ignored exceptions.</p>\n",
    "tags" : [ "java", "hibernate", "jpa", "hql" ],
    "owner" : {
      "account_id" : 16539707,
      "reputation" : 1574,
      "user_id" : 11961036,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/fc2c87c064e6f689f0be30cba54cc39d?s=256&d=identicon&r=PG",
      "display_name" : "Marco Frag Delle Monache",
      "link" : "https://stackoverflow.com/users/11961036/marco-frag-delle-monache"
    },
    "is_answered" : true,
    "view_count" : 228,
    "answer_count" : 1,
    "score" : 3,
    "last_activity_date" : 1744210137,
    "creation_date" : 1744123202,
    "link" : "https://stackoverflow.com/questions/79562361/silently-ignoring-could-not-locate-named-parameter-for-param-in-subquery-and-p",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79564663,
    "question_id" : 79562361,
    "body" : "<p>You can use below property in your application.properties to suppress verbose parameter binding logs in Spring Data JPA.</p>\n<p>This helps keep your logs clean by only showing errors during query parameter binding, which is especially useful in production environments.</p>\n<pre><code>logging.level.org.springframework.data.jpa.repository.query.QueryParameterSetter=ERROR\n</code></pre>\n",
    "score" : 2,
    "is_accepted" : true,
    "owner" : {
      "account_id" : 7645025,
      "reputation" : 440,
      "user_id" : 5795975,
      "user_type" : "registered",
      "profile_image" : "https://lh6.googleusercontent.com/-6KwPUS4RnyA/AAAAAAAAAAI/AAAAAAAAC8w/auZqreI45x0/s256-rj/photo.jpg",
      "display_name" : "Vijay",
      "link" : "https://stackoverflow.com/users/5795975/vijay"
    },
    "creation_date" : 1744210137,
    "last_activity_date" : 1744210137,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140316577,
    "post_id" : 79562361,
    "body" : "Works like a charm! Put it as answer so I&#39;ll mark it as solution, you deserve it @Vijay",
    "score" : 1,
    "owner" : {
      "account_id" : 16539707,
      "reputation" : 1574,
      "user_id" : 11961036,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/fc2c87c064e6f689f0be30cba54cc39d?s=256&d=identicon&r=PG",
      "display_name" : "Marco Frag Delle Monache",
      "link" : "https://stackoverflow.com/users/11961036/marco-frag-delle-monache"
    },
    "creation_date" : 1744209369,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140316542,
    "post_id" : 79562361,
    "body" : "Trying, but looks like exactly what I was looking for!",
    "score" : 0,
    "owner" : {
      "account_id" : 16539707,
      "reputation" : 1574,
      "user_id" : 11961036,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/fc2c87c064e6f689f0be30cba54cc39d?s=256&d=identicon&r=PG",
      "display_name" : "Marco Frag Delle Monache",
      "link" : "https://stackoverflow.com/users/11961036/marco-frag-delle-monache"
    },
    "creation_date" : 1744208991,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140316302,
    "post_id" : 79562361,
    "body" : "What about suppressing the logs with below.   logging.level.org.springframework.data.jpa.repository.query.&zwnj;&#8203;QueryParameterSetter&zwnj;&#8203;=ERROR",
    "score" : 1,
    "owner" : {
      "account_id" : 7645025,
      "reputation" : 440,
      "user_id" : 5795975,
      "user_type" : "registered",
      "profile_image" : "https://lh6.googleusercontent.com/-6KwPUS4RnyA/AAAAAAAAAAI/AAAAAAAAC8w/auZqreI45x0/s256-rj/photo.jpg",
      "display_name" : "Vijay",
      "link" : "https://stackoverflow.com/users/5795975/vijay"
    },
    "creation_date" : 1744206020,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140316248,
    "post_id" : 79562361,
    "body" : "Even if I put an always-true condition that actually compiles, it will not work. It keeps printing the error",
    "score" : 0,
    "owner" : {
      "account_id" : 16539707,
      "reputation" : 1574,
      "user_id" : 11961036,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/fc2c87c064e6f689f0be30cba54cc39d?s=256&d=identicon&r=PG",
      "display_name" : "Marco Frag Delle Monache",
      "link" : "https://stackoverflow.com/users/11961036/marco-frag-delle-monache"
    },
    "creation_date" : 1744205339,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140314942,
    "post_id" : 79562361,
    "body" : "@Vijay unfortunately, it doesn&#39;t work. It won&#39;t even start, because it cannot cast Object to Integer",
    "score" : 0,
    "owner" : {
      "account_id" : 16539707,
      "reputation" : 1574,
      "user_id" : 11961036,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/fc2c87c064e6f689f0be30cba54cc39d?s=256&d=identicon&r=PG",
      "display_name" : "Marco Frag Delle Monache",
      "link" : "https://stackoverflow.com/users/11961036/marco-frag-delle-monache"
    },
    "creation_date" : 1744185177,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140312738,
    "post_id" : 79562361,
    "body" : "For param2 can you try the below,   AND (:param2 IS NULL OR size(:param2) &gt;= 0)",
    "score" : 0,
    "owner" : {
      "account_id" : 7645025,
      "reputation" : 440,
      "user_id" : 5795975,
      "user_type" : "registered",
      "profile_image" : "https://lh6.googleusercontent.com/-6KwPUS4RnyA/AAAAAAAAAAI/AAAAAAAAC8w/auZqreI45x0/s256-rj/photo.jpg",
      "display_name" : "Vijay",
      "link" : "https://stackoverflow.com/users/5795975/vijay"
    },
    "creation_date" : 1744129714,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}