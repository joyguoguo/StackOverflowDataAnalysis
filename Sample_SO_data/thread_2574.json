{
  "question" : {
    "question_id" : 79611232,
    "title" : "How to implement swagger aggregator in API Gateway of Spring Boot Microservices (Cannot show endpoint after selecting any service)",
    "body" : "<p>I tried to implement <strong>swagger aggregator</strong> in my <strong>spring boot microservices</strong> examples.\nI can open <strong>swagger</strong> of <strong>api gateway</strong> through <code>http://localhost:8080/swagger-ui.html</code> and <strong>swagger</strong> of <strong>category service</strong> through <code>http://localhost:8082/swagger-ui.html</code> . I can see all endpoints of category service in <code>http://localhost:8082/swagger-ui.html</code> but even if I can select any service from dropdown , I cannot see any endpoints of defined service in <code>http://localhost:8080/swagger-ui.html</code>.</p>\n<p>How can I see its endpoints after selecting any service from dropdown through <code>http://localhost:8080/swagger-ui.html</code> ?</p>\n<p>Here is the pom.xml of api-gateway.yml</p>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n   &lt;artifactId&gt;springdoc-openapi-starter-webflux-ui&lt;/artifactId&gt;\n   &lt;version&gt;2.6.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Here is the pom.xml of category service</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n  &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\n  &lt;version&gt;2.6.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Here is api-gateway.yml shown below</p>\n<pre><code>spring:\n  cloud:\n    gateway:\n      discovery:\n        locator:\n          enabled: true\n          lower-case-service-id: true\n      routes:\n        - id: user-microservice\n          uri: lb://USER-MICROSERVICE\n          predicates:\n            - Path=/api/users/**\n        - id: category-microservice\n          uri: lb://CATEGORY-MICROSERVICE\n          predicates:\n            - Path=/api/categories/**\n</code></pre>\n<p>Here is api-gateway-dev.yml</p>\n<pre><code>springdoc:\n  swagger-ui:\n    path: /swagger-ui.html\n</code></pre>\n<p>Here is category-microservice-dev.yml</p>\n<pre><code>springdoc:\n  swagger-ui:\n    path: /swagger-ui.html\n</code></pre>\n<p>Here is the OpenApiConfig of api-gateway service</p>\n<pre><code>import org.springdoc.core.models.GroupedOpenApi;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\n@Configuration\npublic class OpenApiConfig {\n\n    @Bean\n    public GroupedOpenApi userMicroserviceApi() {\n        return GroupedOpenApi.builder()\n                .group(&quot;user-microservice&quot;)\n                .pathsToMatch(&quot;/api/users/**&quot;)\n                .build();\n    }\n\n    @Bean\n    public GroupedOpenApi categoryMicroserviceApi() {\n        return GroupedOpenApi.builder()\n                .group(&quot;category-microservice&quot;)\n                .pathsToMatch(&quot;/api/categories/**&quot;)\n                .build();\n    }\n}\n</code></pre>\n",
    "tags" : [ "java", "spring-boot", "swagger", "openapi", "api-gateway" ],
    "owner" : {
      "account_id" : 7531034,
      "reputation" : 2918,
      "user_id" : 5719229,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/6ce9838b80ca63bca34363ae64e500a1?s=256&d=identicon&r=PG",
      "display_name" : "Sercan Noyan Germiyanoğlu",
      "link" : "https://stackoverflow.com/users/5719229/sercan-noyan-germiyano%c4%9flu"
    },
    "is_answered" : true,
    "view_count" : 402,
    "answer_count" : 1,
    "score" : 2,
    "last_activity_date" : 1746765359,
    "creation_date" : 1746643234,
    "link" : "https://stackoverflow.com/questions/79611232/how-to-implement-swagger-aggregator-in-api-gateway-of-spring-boot-microservices",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79611706,
    "question_id" : 79611232,
    "body" : "<p>We need to have the below configuration for the individual microservices as a sample</p>\n<pre><code>springdoc:\n  swagger-ui:\n    path: /swagger-ui.html\n    urls:\n      - name: category-service\n        url: http://localhost:8082/v3/api-docs\n      - name: user-service\n        url: http://localhost:8081/v3/api-docs\n</code></pre>\n<p>This tells the Swagger UI in your API Gateway to offer dropdown options for these external services. Make sure those services (<code>category</code> and <code>user</code>) expose <code>/v3/api-docs</code>.</p>\n",
    "score" : 1,
    "is_accepted" : true,
    "owner" : {
      "account_id" : 2883564,
      "reputation" : 84,
      "user_id" : 2473907,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/c8863e8c6f259b2e48f0f9e22d5015dd?s=256&d=identicon&r=PG",
      "display_name" : "user2473907",
      "link" : "https://stackoverflow.com/users/2473907/user2473907"
    },
    "creation_date" : 1746676764,
    "last_activity_date" : 1746679272,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ ],
  "answer_comments" : {
    "79611706" : [ {
      "comment_id" : 140408594,
      "post_id" : 79611706,
      "body" : "I defined it in api-gateway.yml but I still cannot see any endpoints of defined service.",
      "score" : 0,
      "owner" : {
        "account_id" : 7531034,
        "reputation" : 2918,
        "user_id" : 5719229,
        "user_type" : "registered",
        "profile_image" : "https://www.gravatar.com/avatar/6ce9838b80ca63bca34363ae64e500a1?s=256&d=identicon&r=PG",
        "display_name" : "Sercan Noyan Germiyanoğlu",
        "link" : "https://stackoverflow.com/users/5719229/sercan-noyan-germiyano%c4%9flu"
      },
      "creation_date" : 1746725614,
      "content_license" : "CC BY-SA 4.0"
    } ]
  }
}