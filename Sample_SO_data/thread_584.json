{
  "question" : {
    "question_id" : 79791380,
    "title" : "Access non-static methods from Jasper reports",
    "body" : "<p>I was recently tasked to clean an old repo which includes the following Jasper report:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;jasperReport xmlns=&quot;http://jasperreports.sourceforge.net/jasperreports&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd&quot; name=&quot;Main Report&quot; pageWidth=&quot;842&quot; pageHeight=&quot;595&quot; orientation=&quot;Landscape&quot; whenNoDataType=&quot;AllSectionsNoDetail&quot; columnWidth=&quot;802&quot; leftMargin=&quot;20&quot; rightMargin=&quot;20&quot; topMargin=&quot;20&quot; bottomMargin=&quot;20&quot; uuid=&quot;4123fb0b-673b-4db3-9fe3-29adda726395&quot;&gt;\n    &lt;import value=&quot;org.thmasker.jasper.accessor.StatusJasperAccessor&quot;/&gt;\n    &lt;columnHeader&gt;\n        &lt;band height=&quot;25&quot; splitType=&quot;Stretch&quot;&gt;\n            &lt;property name=&quot;com.jaspersoft.studio.unit.height&quot; value=&quot;px&quot;/&gt;\n            &lt;staticText&gt;\n                &lt;reportElement mode=&quot;Opaque&quot; x=&quot;339&quot; y=&quot;0&quot; width=&quot;84&quot; height=&quot;20&quot; forecolor=&quot;#FFFFFF&quot; backcolor=&quot;#0D9DDB&quot; uuid=&quot;44984c48-65ae-4d88-afb1-5567a8ff122d&quot;&gt;\n                    &lt;property name=&quot;net.sf.jasperreports.export.xls.auto.fit.column&quot; value=&quot;true&quot;/&gt;\n                    &lt;property name=&quot;com.jaspersoft.studio.unit.width&quot; value=&quot;px&quot;/&gt;\n                    &lt;property name=&quot;com.jaspersoft.studio.unit.height&quot; value=&quot;px&quot;/&gt;\n                    &lt;property name=&quot;com.jaspersoft.studio.unit.y&quot; value=&quot;px&quot;/&gt;\n                    &lt;property name=&quot;com.jaspersoft.studio.unit.x&quot; value=&quot;px&quot;/&gt;\n                &lt;/reportElement&gt;\n                &lt;box&gt;\n                    &lt;pen lineStyle=&quot;Solid&quot; lineColor=&quot;#0D9DDB&quot;/&gt;\n                    &lt;topPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#0D9DDB&quot;/&gt;\n                    &lt;leftPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#0D9DDB&quot;/&gt;\n                    &lt;bottomPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#0D9DDB&quot;/&gt;\n                    &lt;rightPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#0D9DDB&quot;/&gt;\n                &lt;/box&gt;\n                &lt;textElement textAlignment=&quot;Center&quot;&gt;\n                    &lt;font size=&quot;8&quot;/&gt;\n                &lt;/textElement&gt;\n                &lt;text&gt;&lt;![CDATA[ID #]]&gt;&lt;/text&gt;\n            &lt;/staticText&gt;\n        &lt;/band&gt;\n    &lt;/columnHeader&gt;\n    &lt;detail&gt;\n        &lt;band height=&quot;15&quot; splitType=&quot;Stretch&quot;&gt;\n            &lt;property name=&quot;com.jaspersoft.studio.unit.height&quot; value=&quot;px&quot;/&gt;\n            &lt;textField textAdjust=&quot;StretchHeight&quot;&gt;\n                &lt;reportElement positionType=&quot;Float&quot; stretchType=&quot;ElementGroupHeight&quot; x=&quot;339&quot; y=&quot;-5&quot; width=&quot;84&quot; height=&quot;15&quot; uuid=&quot;8a4cef1f-0fa3-4abf-994f-b0bf11d4a156&quot;&gt;\n                    &lt;property name=&quot;net.sf.jasperreports.export.xls.auto.fit.column&quot; value=&quot;true&quot;/&gt;\n                    &lt;property name=&quot;com.jaspersoft.studio.unit.width&quot; value=&quot;px&quot;/&gt;\n                    &lt;property name=&quot;com.jaspersoft.studio.unit.height&quot; value=&quot;px&quot;/&gt;\n                    &lt;property name=&quot;com.jaspersoft.studio.unit.x&quot; value=&quot;px&quot;/&gt;\n                    &lt;property name=&quot;com.jaspersoft.studio.unit.leftIndent&quot; value=&quot;px&quot;/&gt;\n                    &lt;property name=&quot;com.jaspersoft.studio.unit.spacingBefore&quot; value=&quot;px&quot;/&gt;\n                &lt;/reportElement&gt;\n                &lt;box&gt;\n                    &lt;pen lineColor=&quot;#0D9DDB&quot;/&gt;\n                    &lt;topPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#0D9DDB&quot;/&gt;\n                    &lt;leftPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#0D9DDB&quot;/&gt;\n                    &lt;bottomPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#0D9DDB&quot;/&gt;\n                    &lt;rightPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#0D9DDB&quot;/&gt;\n                &lt;/box&gt;\n                &lt;textElement verticalAlignment=&quot;Justified&quot;&gt;\n                    &lt;font size=&quot;8&quot;/&gt;\n                    &lt;paragraph leftIndent=&quot;3&quot; spacingBefore=&quot;3&quot;/&gt;\n                &lt;/textElement&gt;\n                &lt;textFieldExpression&gt;&lt;![CDATA[StatusJasperAccessor.getStatus()]]&gt;&lt;/textFieldExpression&gt;\n            &lt;/textField&gt;\n        &lt;/band&gt;\n    &lt;/detail&gt;\n&lt;/jasperReport&gt;\n</code></pre>\n<p>and this is the corresponding <code>StatusJasperAccessor</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@RequiredArgsConstructor\npublic class StatusJasperAccessor implements Serializable {\n\n  private static StatusService statusService;\n\n  private final StatusService tStatusService;\n\n  @PostConstruct\n  public void init() {\n    statusService = tStatusService;\n  }\n\n  @Autowired\n  public static String getStatus() {\n      return statusService.getStatus();\n  }\n\n}\n</code></pre>\n<p>Now, I'm trying to get rid of this awful piece of code, but I can't make any alternative work. How can I make this work on the XML file?</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@RequiredArgsConstructor\npublic class StatusJasperAccessor implements Serializable {\n\n  private final StatusService statusService;\n\n  @Autowired\n  public String getStatus() {\n      return statusService.getStatus();\n  }\n\n}\n</code></pre>\n",
    "tags" : [ "java", "spring", "spring-boot", "jasper-reports" ],
    "owner" : {
      "account_id" : 13299918,
      "reputation" : 660,
      "user_id" : 9601720,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/5b100b700e1dfc241325589fd704c25a?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "thmasker",
      "link" : "https://stackoverflow.com/users/9601720/thmasker"
    },
    "is_answered" : true,
    "view_count" : 45,
    "answer_count" : 1,
    "score" : 0,
    "last_activity_date" : 1760606615,
    "creation_date" : 1760543939,
    "link" : "https://stackoverflow.com/questions/79791380/access-non-static-methods-from-jasper-reports",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79791976,
    "question_id" : 79791380,
    "body" : "<p>Found a solution:</p>\n<p>I need to add this in the report XML:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>\n&lt;import value=&quot;org.thmasker.jasper.accessor.StatusJasperAccessor&quot;/&gt;\n&lt;parameter name=&quot;statusAccessor&quot; class=&quot;org.thmasker.jasper.accessor.StatusJasperAccessor&quot;/&gt;\n</code></pre>\n<p>and use it with:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;textFieldExpression&gt;&lt;![CDATA[$P{statusAccessor}.getStatus()]]&gt;&lt;/textFieldExpression&gt;\n</code></pre>\n<p>Accessor can be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@RequiredArgsConstructor\npublic class StatusJasperAccessor implements Serializable {\n\n  private final StatusService statusService;\n\n  @Autowired\n  public String getStatus() {\n      return statusService.getStatus();\n  }\n\n}\n</code></pre>\n<p>and I need to also add this bean as a parameter before filling the report:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Autowired\nStatusJasperAccessor accessor;\n\nMap&lt;String, Object&gt; params = new HashMap&lt;&gt;();\nparams.put(&quot;statusAccessor&quot;, accessor);\n\nJasperPrint jp = JasperFillManager.fillReport(jasperReport, params, dataSource);\n</code></pre>\n",
    "score" : 0,
    "is_accepted" : true,
    "owner" : {
      "account_id" : 13299918,
      "reputation" : 660,
      "user_id" : 9601720,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/5b100b700e1dfc241325589fd704c25a?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "thmasker",
      "link" : "https://stackoverflow.com/users/9601720/thmasker"
    },
    "creation_date" : 1760606615,
    "last_activity_date" : 1760606615,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ ],
  "answer_comments" : { }
}