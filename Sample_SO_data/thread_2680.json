{
  "question" : {
    "question_id" : 79603303,
    "title" : "How can I process elements in reverse order across different collection types?",
    "body" : "<p>The &quot;Sequenced Collections&quot; feature in Java 21+, introduced in <a href=\"https://openjdk.org/jeps/431\" rel=\"nofollow noreferrer\">JEP 431</a>, provides a uniform way to handle collections with a defined encounter order. How can I leverage this feature to process elements in reverse order, regardless of the specific collection implementation (e.g., <code>List</code>, <code>Set</code>, <code>Map</code>)?</p>\n",
    "tags" : [ "java", "collections", "java-21" ],
    "owner" : {
      "account_id" : 2179728,
      "reputation" : 81041,
      "user_id" : 10819573,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/MWKel.jpg?s=256",
      "display_name" : "Arvind Kumar Avinash",
      "link" : "https://stackoverflow.com/users/10819573/arvind-kumar-avinash"
    },
    "is_answered" : true,
    "view_count" : 158,
    "answer_count" : 1,
    "score" : 3,
    "last_activity_date" : 1746784825,
    "creation_date" : 1746185724,
    "link" : "https://stackoverflow.com/questions/79603303/how-can-i-process-elements-in-reverse-order-across-different-collection-types",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79603304,
    "question_id" : 79603303,
    "body" : "<p>The Sequenced Collections feature introduced with Java 21 added new interfaces to the Collections Framework:</p>\n<ul>\n<li><p><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/SequencedCollection.html\" rel=\"nofollow noreferrer\">SequencedCollection</a></p>\n</li>\n<li><p><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/SequencedSet.html\" rel=\"nofollow noreferrer\">SequencedSet</a></p>\n</li>\n<li><p><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/SequencedMap.html\" rel=\"nofollow noreferrer\">SequencedMap</a></p>\n</li>\n</ul>\n<p>These interfaces unify the handling of collections that have a defined encounter order, allowing for consistent operations like accessing the first and last elements or <strong>processing elements in reverse order</strong>. This feature enhances the consistency and expressiveness of the Java Collections Framework, making it easier to perform common operations across different collection types. Existing collection implementations like <code>LinkedList</code>, <code>LinkedHashSet</code>, and <code>LinkedHashMap</code> have been retrofitted to implement these new interfaces.</p>\n<p>Here is an example of how we can process elements in reverse order across different collection types:</p>\n<pre><code>import java.util.*;\n\nclass Main {\n    public static void main(String[] args) {\n        // An example for SequencedCollection (e.g. LinkedList)\n        SequencedCollection&lt;String&gt; sequencedList = new LinkedList&lt;&gt;();\n        sequencedList.add(&quot;Mango&quot;);\n        sequencedList.add(&quot;Orange&quot;);\n        sequencedList.add(&quot;Apple&quot;);\n\n        System.out.println(&quot;Reversed SequencedCollection:&quot;);\n        for (String item : sequencedList.reversed()) {\n            System.out.println(item);\n        }\n\n        // Another example for SequencedCollection\n        SequencedCollection&lt;String&gt; sequencedList2 = List.of(&quot;Mango&quot;, &quot;Orange&quot;, &quot;Apple&quot;);\n        System.out.println(&quot;Another reversed SequencedCollection:&quot;);\n        for (String item : sequencedList2.reversed()) {\n            System.out.println(item);\n        }\n\n        // An example for SequencedSet (e.g. LinkedHashSet)\n        SequencedSet&lt;String&gt; sequencedSet = new LinkedHashSet&lt;&gt;();\n        sequencedSet.add(&quot;Mango&quot;);\n        sequencedSet.add(&quot;Orange&quot;);\n        sequencedSet.add(&quot;Apple&quot;);\n\n        System.out.println(&quot;Reversed SequencedSet:&quot;);\n        for (String item : sequencedSet.reversed()) {\n            System.out.println(item);\n        }\n\n        // An example for SequencedMap (e.g. LinkedHashMap)\n        SequencedMap&lt;Integer, String&gt; sequencedMap = new LinkedHashMap&lt;&gt;();\n        sequencedMap.put(1, &quot;Mango&quot;);\n        sequencedMap.put(2, &quot;Orange&quot;);\n        sequencedMap.put(3, &quot;Apple&quot;);\n\n        System.out.println(&quot;Reversed SequencedMap:&quot;);\n        for (Map.Entry&lt;Integer, String&gt; entry : sequencedMap.reversed().entrySet()) {\n            System.out.println(entry.getKey() + &quot;: &quot; + entry.getValue());\n        }\n\n        // Another example for SequencedMap\n        SequencedMap&lt;Integer, String&gt; sequencedMap2 = new TreeMap&lt;&gt;();\n        sequencedMap2.put(1, &quot;Mango&quot;);\n        sequencedMap2.put(2, &quot;Orange&quot;);\n        sequencedMap2.put(3, &quot;Apple&quot;);\n        System.out.println(&quot;Sorted by keys in natural (ascending) order:&quot;);\n        for (Map.Entry&lt;Integer, String&gt; entry : sequencedMap2.entrySet()) {\n            System.out.println(entry.getKey() + &quot;: &quot; + entry.getValue());\n        }\n        System.out.println(&quot;Sorted by keys in descending order:&quot;);\n        for (Map.Entry&lt;Integer, String&gt; entry : sequencedMap2.reversed().entrySet()) {\n            System.out.println(entry.getKey() + &quot;: &quot; + entry.getValue());\n        }\n    }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Reversed SequencedCollection:\nApple\nOrange\nMango\nAnother reversed SequencedCollection:\nApple\nOrange\nMango\nReversed SequencedSet:\nApple\nOrange\nMango\nReversed SequencedMap:\n3: Apple\n2: Orange\n1: Mango\nSorted by keys in natural (ascending) order:\n1: Mango\n2: Orange\n3: Apple\nSorted by keys in descending order:\n3: Apple\n2: Orange\n1: Mango\n</code></pre>\n",
    "score" : 7,
    "is_accepted" : true,
    "owner" : {
      "account_id" : 2179728,
      "reputation" : 81041,
      "user_id" : 10819573,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/MWKel.jpg?s=256",
      "display_name" : "Arvind Kumar Avinash",
      "link" : "https://stackoverflow.com/users/10819573/arvind-kumar-avinash"
    },
    "creation_date" : 1746185724,
    "last_activity_date" : 1746784825,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ ],
  "answer_comments" : {
    "79603304" : [ {
      "comment_id" : 140410479,
      "post_id" : 79603304,
      "body" : "Thanks, @Holger, for the valuable feedback, as you have always done. I&#39;ve added more examples to the answer now.",
      "score" : 1,
      "owner" : {
        "account_id" : 2179728,
        "reputation" : 81041,
        "user_id" : 10819573,
        "user_type" : "registered",
        "profile_image" : "https://i.sstatic.net/MWKel.jpg?s=256",
        "display_name" : "Arvind Kumar Avinash",
        "link" : "https://stackoverflow.com/users/10819573/arvind-kumar-avinash"
      },
      "creation_date" : 1746784824,
      "content_license" : "CC BY-SA 4.0"
    }, {
      "comment_id" : 140410370,
      "post_id" : 79603304,
      "body" : "I’d add some different examples (or change the examples), to use for example <code>ArrayList</code> or <code>TreeMap</code>, to avoid the impression that only <code>Linked…</code> implementations would do.",
      "score" : 1,
      "owner" : {
        "account_id" : 3211603,
        "reputation" : 300981,
        "user_id" : 2711488,
        "user_type" : "registered",
        "profile_image" : "https://i.sstatic.net/t2hoD.jpg?s=256",
        "display_name" : "Holger",
        "link" : "https://stackoverflow.com/users/2711488/holger"
      },
      "creation_date" : 1746782836,
      "content_license" : "CC BY-SA 4.0"
    }, {
      "comment_id" : 140401475,
      "post_id" : 79603304,
      "body" : "A very informative writeup on <b>Sequenced Collections</b> and good quality code as always.",
      "score" : 1,
      "owner" : {
        "account_id" : 262968,
        "reputation" : 790407,
        "user_id" : 548225,
        "user_type" : "registered",
        "accept_rate" : 90,
        "profile_image" : "https://i.sstatic.net/iVKcbRoj.jpg?s=256",
        "display_name" : "anubhava",
        "link" : "https://stackoverflow.com/users/548225/anubhava"
      },
      "creation_date" : 1746554724,
      "content_license" : "CC BY-SA 4.0"
    } ]
  }
}