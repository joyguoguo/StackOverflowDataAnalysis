{
  "question" : {
    "question_id" : 79734097,
    "title" : "Is the File class designed to be overridden?",
    "body" : "<p>I came across a class extending <code>java.io.File</code>. While this looked very peculiar to me, I couldn't find any documentation of whether the <code>File</code> class is meant to be overridden.</p>\n<p>Note that the class is not <code>final</code>, at least not explicitly <em>preventing</em> developers from overriding the class.</p>\n<p>Is there any official Javadoc or JEP providing information of whether this class was designed to be overridden? If yes, where?</p>\n",
    "tags" : [ "java", "java-io" ],
    "owner" : {
      "account_id" : 238684,
      "reputation" : 23306,
      "user_id" : 507738,
      "user_type" : "registered",
      "accept_rate" : 71,
      "profile_image" : "https://i.sstatic.net/7ghSp.jpg?s=256",
      "display_name" : "MC Emperor",
      "link" : "https://stackoverflow.com/users/507738/mc-emperor"
    },
    "is_answered" : true,
    "view_count" : 217,
    "closed_date" : 1755098238,
    "answer_count" : 3,
    "score" : -3,
    "last_activity_date" : 1755155709,
    "creation_date" : 1755076430,
    "link" : "https://stackoverflow.com/questions/79734097/is-the-file-class-designed-to-be-overridden",
    "closed_reason" : "Opinion-based"
  },
  "answers" : [ {
    "answer_id" : 79734116,
    "question_id" : 79734097,
    "body" : "<blockquote>\n<p>&quot;Is there any official Javadoc or JEP providing information of whether this class was designed to be overridden?&quot;</p>\n</blockquote>\n<p>AFAIK, No.</p>\n<p>But that doesn't mean that it <em>shouldn't</em> be extended.</p>\n<p>And conversely, it doesn't mean that extending is <em>always</em> advisable.</p>\n<p>It would depend on the context.</p>\n<hr />\n<blockquote>\n<p>... this looked very peculiar to me ...</p>\n</blockquote>\n<p>Peculiar is in the eye of the beholder :-)  And we don't know what you are looking at.</p>\n<p><strong>UPDATE</strong> - you commented thus:</p>\n<blockquote>\n<p>Well, I'm looking at a subclass of <code>File</code> which overrides the <code>lastModified()</code> method to return something other than <code>File</code> would do.</p>\n</blockquote>\n<p>Depending on what the method <em>does</em> return, it may not even violate the Liskov Subsitution Principle.  But either way, there are use-cases where it is best to &quot;hold your nose&quot; and violate the LSP.  This could be one of them.  (I'm assuming there was a reason why adding a new method didn't work.)</p>\n<p>However (IMO) there <em>still</em> isn't enough context for us to judge whether the example of extending <code>File</code> that you have found is justifiable.  And such a judgement would be a matter of opinion anyway.</p>\n",
    "score" : 6,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 47283,
      "reputation" : 723428,
      "user_id" : 139985,
      "user_type" : "registered",
      "accept_rate" : 69,
      "profile_image" : "https://www.gravatar.com/avatar/147c5a9cc1feec049c50da791ac7d144?s=256&d=identicon&r=PG",
      "display_name" : "Stephen C",
      "link" : "https://stackoverflow.com/users/139985/stephen-c"
    },
    "creation_date" : 1755077266,
    "last_activity_date" : 1755155709,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "answer_id" : 79734107,
    "question_id" : 79734097,
    "body" : "<p>This class already has a number of subclasses which look specific to one or the other operating system. This suggests that you can override it, but that you should really know what you are doing.</p>\n<p>Subclasses include:</p>\n<ul>\n<li>Anonymous created by <code>javax.swing.filechooser.WindowsFileSystemView.createFileSystemRoot()</code></li>\n<li><code>sun.awt.shell.ShellFolder</code> and <code>sun.awt.shell.DefaultShellFolder</code></li>\n<li><code>javax.swing.filechooser.FileSystemView.FileSystemRoot</code></li>\n</ul>\n",
    "score" : 2,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 55989,
      "reputation" : 19037,
      "user_id" : 167745,
      "user_type" : "registered",
      "accept_rate" : 76,
      "profile_image" : "https://i.sstatic.net/wBebv.jpg?s=256",
      "display_name" : "Stewart",
      "link" : "https://stackoverflow.com/users/167745/stewart"
    },
    "creation_date" : 1755076943,
    "last_activity_date" : 1755076943,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "answer_id" : 79734464,
    "question_id" : 79734097,
    "body" : "<p>I don't know what your particular usecase is to know if it's right or not.  But I can think of several reasons you may want to do this. For example, you may be developing something like a virtual filesystem, where multiple files exist inside one file.  You wish to be able to pass references around that treat parts of it like files, but that don't use the filesystem behaviors because those aren't appropriate to parts of a file.  For example, you may want to do something like this if you're writing a zip file decompression and navigation app.</p>\n<p>Now if they're doing this as a wrapper around (or in place of) normal File objects for the base filesystem, I would expect it's one of three things:</p>\n<ul>\n<li>bad code</li>\n<li>a workaround for a bug or some legacy data in the system</li>\n<li>some code trying to make filesystem X work like filesystem Y for legacy reasons.  Perhaps an OS migration in the past?</li>\n</ul>\n<p>The last two should probably be migrated off of eventually, but may have been the easiest way to fix something in the moment.</p>\n",
    "score" : 0,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 1790714,
      "reputation" : 94810,
      "user_id" : 1631193,
      "user_type" : "registered",
      "accept_rate" : 71,
      "profile_image" : "https://www.gravatar.com/avatar/ac9dfee58394495fa69f12f58a928be3?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Gabe Sechan",
      "link" : "https://stackoverflow.com/users/1631193/gabe-sechan"
    },
    "creation_date" : 1755098241,
    "last_activity_date" : 1755098241,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140664592,
    "post_id" : 79734097,
    "body" : "A generalization is the class <b><code>Path</code></b> which can hold some &quot;FileSystem&quot; like zip file or FTP directory and allows interoperationality between file systems. That also makes for a more clear separation if you want to adapt <code>File</code>.",
    "score" : 0,
    "owner" : {
      "account_id" : 960307,
      "reputation" : 110397,
      "user_id" : 984823,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/Z2KYN.jpg?s=256",
      "display_name" : "Joop Eggen",
      "link" : "https://stackoverflow.com/users/984823/joop-eggen"
    },
    "creation_date" : 1755156176,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140664586,
    "post_id" : 79734097,
    "body" : "@XavierPedraza Given NIO followed over a decade and a half after <code>File</code>, it was not designed to be thrown out by it...",
    "score" : 0,
    "owner" : {
      "account_id" : 213468,
      "reputation" : 110282,
      "user_id" : 466862,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/d873f397779db38cd510d9ee5416fd43?s=256&d=identicon&r=PG",
      "display_name" : "Mark Rotteveel",
      "link" : "https://stackoverflow.com/users/466862/mark-rotteveel"
    },
    "creation_date" : 1755155944,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140663855,
    "post_id" : 79734097,
    "body" : "The File class is designed to be <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/file/Files.html\" rel=\"nofollow noreferrer\">thrown out and replaced with NIO</a>. That being said, File does not fit the typical SPI model which would otherwise suggest you may extend it.",
    "score" : 0,
    "owner" : {
      "account_id" : 14914414,
      "reputation" : 1185,
      "user_id" : 10808904,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/Ts8fIsJj.png?s=256",
      "display_name" : "Xavier Pedraza",
      "link" : "https://stackoverflow.com/users/10808904/xavier-pedraza"
    },
    "creation_date" : 1755116924,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140663163,
    "post_id" : 79734097,
    "body" : "Being a Java 1.0 class with a number of design flaws (such as I/O methods that return false or null instead of throwing an exception), I wouldn’t be surprised to learn that File being non-final was simply an oversight.",
    "score" : 1,
    "owner" : {
      "account_id" : 2053598,
      "reputation" : 44936,
      "user_id" : 1831987,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/38b1c37530189ec4471a43a618e33f67?s=256&d=identicon&r=PG",
      "display_name" : "VGR",
      "link" : "https://stackoverflow.com/users/1831987/vgr"
    },
    "creation_date" : 1755098474,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140662663,
    "post_id" : 79734097,
    "body" : "@VGR, I&#39;m not sure which of the two points you think is incorrect, nor what implication the class you refer to (which I have extended many times) has. Could you clarify this?",
    "score" : 0,
    "owner" : {
      "account_id" : 10843443,
      "reputation" : 916,
      "user_id" : 20882864,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/CCQCy.jpg?s=256",
      "display_name" : "Marce Puente",
      "link" : "https://stackoverflow.com/users/20882864/marce-puente"
    },
    "creation_date" : 1755089446,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140662642,
    "post_id" : 79734097,
    "body" : "@MarcePuente Not even remotely true.  For example, <a href=\"https://docs.oracle.com/en/java/javase/24/docs/api/java.desktop/javax/swing/table/DefaultTableCellRenderer.html\" rel=\"nofollow noreferrer\">this class</a>.",
    "score" : 5,
    "owner" : {
      "account_id" : 2053598,
      "reputation" : 44936,
      "user_id" : 1831987,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/38b1c37530189ec4471a43a618e33f67?s=256&d=identicon&r=PG",
      "display_name" : "VGR",
      "link" : "https://stackoverflow.com/users/1831987/vgr"
    },
    "creation_date" : 1755089013,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140662608,
    "post_id" : 79734097,
    "body" : "Hello MC, the only classes that are designed to be extended are abstract classes. You can extend the others... or not, depending on your criteria/needs.",
    "score" : 0,
    "owner" : {
      "account_id" : 10843443,
      "reputation" : 916,
      "user_id" : 20882864,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/CCQCy.jpg?s=256",
      "display_name" : "Marce Puente",
      "link" : "https://stackoverflow.com/users/20882864/marce-puente"
    },
    "creation_date" : 1755088411,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140662225,
    "post_id" : 79734097,
    "body" : "@StephenC Well, that&#39;s a pity.",
    "score" : 0,
    "owner" : {
      "account_id" : 238684,
      "reputation" : 23306,
      "user_id" : 507738,
      "user_type" : "registered",
      "accept_rate" : 71,
      "profile_image" : "https://i.sstatic.net/7ghSp.jpg?s=256",
      "display_name" : "MC Emperor",
      "link" : "https://stackoverflow.com/users/507738/mc-emperor"
    },
    "creation_date" : 1755077199,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140662218,
    "post_id" : 79734097,
    "body" : "&quot;Is there any official Javadoc or JEP providing information of whether this class was designed to be overridden?&quot; - No.",
    "score" : 2,
    "owner" : {
      "account_id" : 47283,
      "reputation" : 723428,
      "user_id" : 139985,
      "user_type" : "registered",
      "accept_rate" : 69,
      "profile_image" : "https://www.gravatar.com/avatar/147c5a9cc1feec049c50da791ac7d144?s=256&d=identicon&r=PG",
      "display_name" : "Stephen C",
      "link" : "https://stackoverflow.com/users/139985/stephen-c"
    },
    "creation_date" : 1755077003,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : {
    "79734116" : [ {
      "comment_id" : 140662436,
      "post_id" : 79734116,
      "body" : "<i>&quot;And we don&#39;t know what you are looking at.&quot;</i> — Well, I&#39;m looking at a subclass of <code>File</code> which overrides the <code>lastModified()</code> method to return something other than <code>File</code> would do. But I dind&#39;t want my question to focus on that specific case, but rather on a more generic level.",
      "score" : 0,
      "owner" : {
        "account_id" : 238684,
        "reputation" : 23306,
        "user_id" : 507738,
        "user_type" : "registered",
        "accept_rate" : 71,
        "profile_image" : "https://i.sstatic.net/7ghSp.jpg?s=256",
        "display_name" : "MC Emperor",
        "link" : "https://stackoverflow.com/users/507738/mc-emperor"
      },
      "creation_date" : 1755083567,
      "content_license" : "CC BY-SA 4.0"
    } ]
  }
}