{
  "question" : {
    "question_id" : 79762868,
    "title" : "Migrate AntPathRequestMatcher to PathPatternRequestMatcher",
    "body" : "<p>I have this code which I want to migrate:</p>\n<pre><code>private RequestMatcher[] permittedAntMatchers() {\n    return Stream.concat(\n                    &quot;/admin/&quot;, &quot;*/admin/&quot;\n            )\n            .map(AntPathRequestMatcher::antMatcher)\n            .toArray(RequestMatcher[]::new);\n  }\n</code></pre>\n<p>I migrated it to this:</p>\n<pre><code>private RequestMatcher[] permittedAntMatchers() {\n        return Stream.concat(\n                        &quot;/admin/&quot;, &quot;*/admin/&quot;\n                )\n                .map(PathPatternRequestMatcher::new)\n                .toArray(RequestMatcher[]::new);\n      }\n</code></pre>\n<p>But I get error:</p>\n<pre><code>'PathPatternRequestMatcher(org.springframework.web.util.pattern.PathPattern)' has private access in 'org.springframework.security.web.servlet.util.matcher.PathPatternRequestMatcher'\n</code></pre>\n<p>What is the proper way to migrate the code?</p>\n",
    "tags" : [ "java", "spring-security" ],
    "owner" : {
      "account_id" : 965625,
      "reputation" : 914,
      "user_id" : 1103606,
      "user_type" : "registered",
      "accept_rate" : 51,
      "profile_image" : "https://www.gravatar.com/avatar/0d93cc650b93939ea91066fcb5aefae0?s=256&d=identicon&r=PG",
      "display_name" : "Peter Penzov",
      "link" : "https://stackoverflow.com/users/1103606/peter-penzov"
    },
    "is_answered" : true,
    "view_count" : 753,
    "answer_count" : 1,
    "score" : 1,
    "last_activity_date" : 1759565918,
    "creation_date" : 1757676529,
    "link" : "https://stackoverflow.com/questions/79762868/migrate-antpathrequestmatcher-to-pathpatternrequestmatcher",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79763116,
    "question_id" : 79762868,
    "body" : "<p>There is no public contsructor in <code>PathPatternRequestMatcher</code> that takes a <code>String</code> argument so you need to do the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private RequestMatcher[] permittedAntMatchers() {\n    return Stream.of(new String[] {&quot;/admin/&quot;, &quot;*/admin/&quot;})\n        .map(path -&gt; PathPatternRequestMatcher.withDefaults().matcher(path))\n        .toArray(RequestMatcher[]::new);\n}\n\n</code></pre>\n",
    "score" : 1,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 10941198,
      "reputation" : 5803,
      "user_id" : 8041003,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/cAZ4d.jpg?s=256",
      "display_name" : "John Williams",
      "link" : "https://stackoverflow.com/users/8041003/john-williams"
    },
    "creation_date" : 1757691122,
    "last_activity_date" : 1759565918,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ ],
  "answer_comments" : {
    "79763116" : [ {
      "comment_id" : 140783407,
      "post_id" : 79763116,
      "body" : "which is to say....    <code>new OrRequestMatcher(Stream.of(new String[] {&quot;&#47;admin&#47;&quot;, &quot;*&#47;admin&#47;&quot;})          .map(path -&gt; PathPatternRequestMatcher.withDefaults().matcher(path))          .toArray(RequestMatcher[]::new))</code>      To replace your antmatcher with a single (or) requestmatcher",
      "score" : 1,
      "owner" : {
        "account_id" : 1317274,
        "reputation" : 1274,
        "user_id" : 1263867,
        "user_type" : "registered",
        "accept_rate" : 100,
        "profile_image" : "https://i.sstatic.net/twFsa.jpg?s=256",
        "display_name" : "Koos Gadellaa",
        "link" : "https://stackoverflow.com/users/1263867/koos-gadellaa"
      },
      "creation_date" : 1759912329,
      "content_license" : "CC BY-SA 4.0"
    } ]
  }
}