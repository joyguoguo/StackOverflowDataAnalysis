{
  "question" : {
    "question_id" : 79543529,
    "title" : "Logback creates new file log for every @Scheduled call",
    "body" : "<p>I am trying to create a logging file for my Spring scheduler app, but logback keeps creating a new file every time the scheduler starts.\nI want a single file from the time when the scheduler starts to when it stops.</p>\n<p>Scheduler.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Scheduled(fixedRate = 5000)\npublic void schedule() {\n    log.info(&quot;Starting log...&quot;);\n\n    this.callSomething()\n}\n</code></pre>\n<p>application.yml</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>logging:\n  file:\n    name: &quot;application&quot;\n    path: &quot;logs/&quot;\n  logback:\n    rollingpolicy:\n      max-history: 90\n      file-name-pattern: logs/${logging.file.name}.%d{yyyy-MM-dd_HH-mm-ss}.%i.log\n      max-file-size: 10MB\n  level:\n    root: info\n</code></pre>\n<p>The results are:</p>\n<pre class=\"lang-none prettyprint-override\"><code>application.2025-03-29_17-50-02.0.log\napplication.2025-03-29_18-07-58.0.log\napplication.2025-03-29_18-08-03.0.log\napplication.2025-03-29_18-08-08.0.log\napplication.log\n</code></pre>\n<p>Besides the pattern-named logs, the &quot;application.log&quot; also gets created as the application shuts down.</p>\n<p>How can I have the logs written in a single file?</p>\n",
    "tags" : [ "java", "spring", "logback", "slf4j" ],
    "owner" : {
      "user_type" : "does_not_exist",
      "display_name" : "user10261018"
    },
    "is_answered" : false,
    "view_count" : 59,
    "answer_count" : 2,
    "score" : 1,
    "last_activity_date" : 1743332996,
    "creation_date" : 1743265103,
    "link" : "https://stackoverflow.com/questions/79543529/logback-creates-new-file-log-for-every-scheduled-call",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79543628,
    "question_id" : 79543529,
    "body" : "<p>The behaviour you face is due to two misconfigurations:</p>\n<ul>\n<li><p>Your rolling policy includes a timestamp down to seconds.</p>\n</li>\n<li><p>You don't use <code>append: true</code>, so a new file is created every time the application restarts.</p>\n</li>\n</ul>\n<p>This should work better:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>file-name-pattern: logs/${logging.file.name}.%d{yyyy-MM-dd}.%i.log\n</code></pre>\n",
    "score" : 0,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 4647011,
      "reputation" : 45072,
      "user_id" : 3764965,
      "user_type" : "registered",
      "accept_rate" : 94,
      "profile_image" : "https://i.sstatic.net/7O3Pe.jpg?s=256",
      "display_name" : "Nikolas",
      "link" : "https://stackoverflow.com/users/3764965/nikolas"
    },
    "creation_date" : 1743268828,
    "last_activity_date" : 1743268828,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "answer_id" : 79544490,
    "question_id" : 79543529,
    "body" : "<p>By default the application.log and application-xxxx.log will created because that is specified in the application.properties due to logging.file.name and logging.logback.filenamepattern,when you start the scheduler capture the currentdatetime ,pass the currentdate time as a parameter to create a file and forwardingly write the logging statements there,before the scheduler stops capture the currentdatetime again and rename that file</p>\n",
    "score" : -1,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 5720066,
      "reputation" : 5,
      "user_id" : 4518781,
      "user_type" : "registered",
      "profile_image" : "https://lh5.googleusercontent.com/-f2XEKegD1aI/AAAAAAAAAAI/AAAAAAAAACU/Sp6wKc6qPaQ/s256-rj/photo.jpg",
      "display_name" : "Steffi Das",
      "link" : "https://stackoverflow.com/users/4518781/steffi-das"
    },
    "creation_date" : 1743332872,
    "last_activity_date" : 1743332872,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ ],
  "answer_comments" : {
    "79543628" : [ {
      "comment_id" : 140277799,
      "post_id" : 79543628,
      "body" : "This configuration for the file-name-pattern doesn&#39;t work. Log files with the given pattern are not being created anymore, but instead a single one is created with the name &quot;application&quot; in the root of the app, not even in the &quot;logs&quot; folder",
      "score" : 0,
      "owner" : {
        "user_type" : "does_not_exist",
        "display_name" : "user10261018"
      },
      "creation_date" : 1743279195,
      "content_license" : "CC BY-SA 4.0"
    } ]
  }
}