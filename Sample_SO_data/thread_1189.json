{
  "question" : {
    "question_id" : 79733880,
    "title" : "AWS X-Ray trace ID appears inconsistently for Spring Boot 3.4.3 Lambda (Java 17, X-Ray SDK 2.19.0)",
    "body" : "<p>I have a Spring Boot 3 Lambda behind API Gateway. Sometimes the Lambda REPORT line shows an X-Ray trace:\n<a href=\"https://i.sstatic.net/1K9ycmT3.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>…but on later calls to the same endpoint, the X-Ray line is missing. I need to understand why it’s inconsistent and how to make traces show up reliably (at least while testing).</p>\n<p>Environment\nSpring Boot: 3.4.3\nJava: 17\nAWS X-Ray Java SDK: 2.19.0\nDeployment: AWS Lambda (API Gateway → aws-serverless-java-container-springboot3)</p>\n<p>Tracing: Enabled in Lambda (Active), API Gateway stage tracing enabled</p>\n",
    "tags" : [ "java", "spring-boot", "aws-lambda", "api-gateway", "aws-xray" ],
    "owner" : {
      "account_id" : 11938738,
      "reputation" : 9,
      "user_id" : 9014323,
      "user_type" : "registered",
      "profile_image" : "https://lh5.googleusercontent.com/-VhIuYSR0720/AAAAAAAAAAI/AAAAAAAAEjQ/ISnHtVAYDkY/s256-rj/photo.jpg",
      "display_name" : "sahil desai",
      "link" : "https://stackoverflow.com/users/9014323/sahil-desai"
    },
    "is_answered" : false,
    "view_count" : 57,
    "answer_count" : 0,
    "score" : 0,
    "last_activity_date" : 1755062485,
    "creation_date" : 1755062485,
    "link" : "https://stackoverflow.com/questions/79733880/aws-x-ray-trace-id-appears-inconsistently-for-spring-boot-3-4-3-lambda-java-17",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ ],
  "question_comments" : [ {
    "comment_id" : 140689859,
    "post_id" : 79733880,
    "body" : "Hey Shailesh, DO we need to set the sample rules ? I dod not set any sample rules in Java app",
    "score" : 0,
    "owner" : {
      "account_id" : 11938738,
      "reputation" : 9,
      "user_id" : 9014323,
      "user_type" : "registered",
      "profile_image" : "https://lh5.googleusercontent.com/-VhIuYSR0720/AAAAAAAAAAI/AAAAAAAAEjQ/ISnHtVAYDkY/s256-rj/photo.jpg",
      "display_name" : "sahil desai",
      "link" : "https://stackoverflow.com/users/9014323/sahil-desai"
    },
    "creation_date" : 1756107344,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140662667,
    "post_id" : 79733880,
    "body" : "what are Sampling Rules set for X-Ray?",
    "score" : 0,
    "owner" : {
      "account_id" : 43292295,
      "reputation" : 1,
      "user_id" : 31175894,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/e5d4ac8a00328dcf5c5a30d1328a8041?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "shailesh patil",
      "link" : "https://stackoverflow.com/users/31175894/shailesh-patil"
    },
    "creation_date" : 1755089522,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}