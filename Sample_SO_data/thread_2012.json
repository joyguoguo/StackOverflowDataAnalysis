{
  "question" : {
    "question_id" : 79655450,
    "title" : "Why does my child entity not persist @ManyToOne relations properly in Spring Boot?",
    "body" : "<p>I'm building a turn-based system using Java with Spring Boot and MySQL. The <code>Turno</code> entity has two <code>@ManyToOne</code> relationships: one with <code>Cliente</code>, and one with <code>Servicio</code>.</p>\n<p>When I do a POST request to create a new Turno, the basic data is saved, but the <code>cliente_id</code> and <code>servicio_id</code> fields remain null in the database.</p>\n<p>Here’s the JSON I’m sending:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n   &quot;descripcion&quot;: &quot;consulta medica&quot;,\n   &quot;fechaProgramada&quot;: &quot;2025-06-10&quot;,\n   &quot;cliente&quot;: { &quot;id&quot;: 1 },\n   &quot;servicio&quot;: { &quot;id&quot;: 2 }\n}\n</code></pre>\n<p>And here’s the entity:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ManyToOne\n@JoinColumn(name = &quot;cliente_id&quot;)\nprivate Cliente cliente;\n\n@ManyToOne\n@JoinColumn(name = &quot;servicio_id&quot;)\nprivate Servicio servicio;\n</code></pre>\n<p>The <code>Cliente</code> and <code>Servicio</code> with IDs 1 and 2 already exist in the database. Why are they not getting saved as relations in the <code>Turno</code> entity? Do I need to fetch the full objects before assigning them, or is there something else I’m missing?</p>\n<p>I'm sending a JSON from Postman that includes <code>cliente</code> and <code>servicio</code> objects with only their <code>id</code>, expecting JPA to automatically link them when saving the <code>Turno</code>. I expected the <code>cliente_id</code> and <code>servicio_id</code> columns to be filled in the database, but they are saved as <code>null</code>.</p>\n",
    "tags" : [ "java", "spring-boot" ],
    "owner" : {
      "account_id" : 41072283,
      "reputation" : 108,
      "user_id" : 30106021,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/jtZDIDjF.webp?s=256",
      "display_name" : "VibesAR",
      "link" : "https://stackoverflow.com/users/30106021/vibesar"
    },
    "is_answered" : false,
    "view_count" : 97,
    "answer_count" : 1,
    "score" : 1,
    "last_activity_date" : 1749466265,
    "creation_date" : 1749188597,
    "link" : "https://stackoverflow.com/questions/79655450/why-does-my-child-entity-not-persist-manytoone-relations-properly-in-spring-boo",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79658755,
    "question_id" : 79655450,
    "body" : "<p>first of all you have to provide more code snippets for better answer, ORMs work with entity, so you must fetch the corresponding entity and set on the turn object, or you can create a new object of for example Client and set the client_id on id and then set client on turn object, Hibernate works with primary key (default is id). note that annotate mandatory relations by @NotNull and also optional=false (for auto generating table by jpa) hope it helps</p>\n",
    "score" : 0,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 16403791,
      "reputation" : 92,
      "user_id" : 11848940,
      "user_type" : "registered",
      "profile_image" : "https://lh5.googleusercontent.com/-1FdoATNm5-I/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdq5FQiPxzjBtdEJucA2CkqMMC3lg/s256-rj/photo.jpg",
      "display_name" : "Shervin Zadsoroor",
      "link" : "https://stackoverflow.com/users/11848940/shervin-zadsoroor"
    },
    "creation_date" : 1749466265,
    "last_activity_date" : 1749466265,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140495362,
    "post_id" : 79655450,
    "body" : "It&#39;s unclear how the entity is being prepared on the Spring side before you persist it.  The cliente and servicio IDs are enough information to do (this part of) that job, but they cannot be used directly.  The corresponding entities would need to be loaded and assigned to the new <code>Turno</code>.",
    "score" : 0,
    "owner" : {
      "account_id" : 2792262,
      "reputation" : 190832,
      "user_id" : 2402272,
      "user_type" : "registered",
      "accept_rate" : 85,
      "profile_image" : "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=256&d=identicon&r=PG",
      "display_name" : "John Bollinger",
      "link" : "https://stackoverflow.com/users/2402272/john-bollinger"
    },
    "creation_date" : 1749302576,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140492562,
    "post_id" : 79655450,
    "body" : "May be you have not created the FK relation in the Turno entity while creating the db table . just check create table query if you have defined FKs for these entities in Turno. Also if hibernate.hbm2ddl.auto=update or create is not set in property then you need to create table via script just check how are you creating the table.",
    "score" : 0,
    "owner" : {
      "account_id" : 14524152,
      "reputation" : 27,
      "user_id" : 10491006,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/142dacf9a360a1025e2d5ed368427e5a?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Vinay Vishwkarma",
      "link" : "https://stackoverflow.com/users/10491006/vinay-vishwkarma"
    },
    "creation_date" : 1749199803,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140492185,
    "post_id" : 79655450,
    "body" : "Please provide enough code so others can better understand or reproduce the problem.",
    "score" : 0,
    "owner" : {
      "account_id" : -1,
      "reputation" : 1,
      "user_id" : -1,
      "user_type" : "moderator",
      "profile_image" : "https://www.gravatar.com/avatar/a007be5a61f6aa8f3e85ae2fc18dd66e?s=256&d=identicon&r=PG",
      "display_name" : "Community",
      "link" : "https://stackoverflow.com/users/-1/community"
    },
    "creation_date" : 1749190606,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}