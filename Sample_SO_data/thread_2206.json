{
  "question" : {
    "question_id" : 79638820,
    "title" : "Common Load Balancer For Spring boot Micro serivce Projects Using AWS EKS and ELB",
    "body" : "<p>Currently I am working on migration from monolithic application into microservice oriented architecture using spring boot , hibernate , docker and kubernetes technological stack. My backend contains 10 projects with 120 microservice end points totally. Each springboot project having average of 10-12 end points. And I am trying to deploy these all end points using AWS EKS cluster and need to use load balancer ELB.</p>\n<p>Confusion on Common LB</p>\n<p>If I need to get all of these microservice using <code>loadbalancer-ip/domain/module/end-point</code>, How can I setup common load balancer in my EKS cluster.</p>\n<p>Preparation</p>\n<p>Currently I am trying to implement application load balancer method by adding <code>ingress</code> in my deployment yml files. So Do I need to add 10 different ingress for my 10 springboot project or Can I directly add <code>target</code> group by login in AWS Console -&gt; <code>ELB configuration</code>?</p>\n<p>I am totally confused here. Can anyone suggest any documentations to read Or guide me to resolve this easier way?</p>\n<p>Update</p>\n<p>Asset , Communications, Admin are 3 separate spring boot projects.I divided project according to my project. Each project contains different end points.</p>\n<p>And i need like the following for ex\nLoadbalancer-ip:port1/asset/loadasset\nLoadbalancer-ip:port2/communication/loademails\nLoadbalancer-ip:port3/admin/loadadmin</p>\n<p>Like these i need to have. So even if end points are in separate springboot project, i should get under a common load balancer and in URL i can separate according to different domains. Since i created projects according to project domains</p>\n",
    "tags" : [ "java", "amazon-web-services", "spring-boot", "amazon-eks", "amazon-elb" ],
    "owner" : {
      "account_id" : 11827466,
      "reputation" : 1688,
      "user_id" : 8655052,
      "user_type" : "registered",
      "accept_rate" : 100,
      "profile_image" : "https://www.gravatar.com/avatar/2a84239167eb54108821e2abe83acea6?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Mr.DevEng",
      "link" : "https://stackoverflow.com/users/8655052/mr-deveng"
    },
    "is_answered" : true,
    "view_count" : 126,
    "answer_count" : 1,
    "score" : -1,
    "last_activity_date" : 1748364139,
    "creation_date" : 1748258216,
    "link" : "https://stackoverflow.com/questions/79638820/common-load-balancer-for-spring-boot-micro-serivce-projects-using-aws-eks-and-el",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79639274,
    "question_id" : 79638820,
    "body" : "<p>You can use a single Application Load Balancer (ALB) for all your Spring Boot microservices deployed on AWS EKS by configuring a shared Ingress Controller, such as the AWS ALB Ingress Controller (now called AWS Load Balancer Controller).</p>\n<p><strong>Recommended Setup</strong></p>\n<p><strong>1.Install the AWS Load Balancer Controller</strong></p>\n<ul>\n<li><p>It integrates with your Kubernetes cluster and manages ALB provisioning.</p>\n</li>\n<li><p>Follow the official AWS guide: <a href=\"https://docs.aws.amazon.com/eks/latest/userguide/aws-load-balancer-controller.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/eks/latest/userguide/aws-load-balancer-controller.html</a></p>\n</li>\n</ul>\n<p><strong>2. Use One Ingress per Service (with Shared ALB)</strong></p>\n<ul>\n<li><p>You don’t need to define 10 different LoadBalancers.</p>\n</li>\n<li><p>Instead, define <strong>multiple Ingress resources</strong>, each with the <strong>same <code>alb.ingress.kubernetes.io/group.name</code></strong> annotation.</p>\n</li>\n<li><p>Example:</p>\n</li>\n</ul>\n<pre><code>apiVersion: networking.k8s.io/v1\nkind: Ingress\nmetadata:\n  name: service-a-ingress\n  annotations:\n    alb.ingress.kubernetes.io/group.name: my-shared-alb\n    alb.ingress.kubernetes.io/scheme: internet-facing\nspec:\n  rules:\n    - host: my-alb.example.com\n      http:\n        paths:\n          - path: /service-a\n            pathType: Prefix\n            backend:\n              service:\n                name: service-a\n                port:\n                  number: 80\n</code></pre>\n<p><strong>3.Use Path-Based Routing</strong></p>\n<ul>\n<li>This allows you to route traffic like:</li>\n</ul>\n<pre><code>my-alb.example.com/service-a → microservice A\nmy-alb.example.com/service-b → microservice B\n</code></pre>\n",
    "score" : 1,
    "is_accepted" : true,
    "owner" : {
      "account_id" : 41322704,
      "reputation" : 26,
      "user_id" : 30235225,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/oVRk3OA4.jpg?s=256",
      "display_name" : "rlNkoo",
      "link" : "https://stackoverflow.com/users/30235225/rlnkoo"
    },
    "creation_date" : 1748276301,
    "last_activity_date" : 1748276301,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140463335,
    "post_id" : 79638820,
    "body" : "@rjdkolb- yes i added as update. Can u please have a look? And thank you for your response",
    "score" : 0,
    "owner" : {
      "account_id" : 11827466,
      "reputation" : 1688,
      "user_id" : 8655052,
      "user_type" : "registered",
      "accept_rate" : 100,
      "profile_image" : "https://www.gravatar.com/avatar/2a84239167eb54108821e2abe83acea6?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Mr.DevEng",
      "link" : "https://stackoverflow.com/users/8655052/mr-deveng"
    },
    "creation_date" : 1748363889,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140460117,
    "post_id" : 79638820,
    "body" : "I don&#39;t understand &quot;If I need to get all of these microservice using loadbalancer-ip/domain/module/end-point&quot;. Can you give an example here?",
    "score" : 0,
    "owner" : {
      "account_id" : 135407,
      "reputation" : 12096,
      "user_id" : 338249,
      "user_type" : "registered",
      "accept_rate" : 100,
      "profile_image" : "https://i.sstatic.net/XAKMR.jpg?s=256",
      "display_name" : "rjdkolb",
      "link" : "https://stackoverflow.com/users/338249/rjdkolb"
    },
    "creation_date" : 1748273787,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}