{
  "question" : {
    "question_id" : 79680091,
    "title" : "Making JPopupMenu stick — or things to that effect",
    "body" : "<p>I want to implement a text search feature for my <code>JTextArea</code>.</p>\n<p>Here's my attempt. The search field does appear and does work, however, being a popup, it is hidden any time I scroll (or, say, click outside of it). Instead, it should stick to the upper left corner of the scroller. I may add some &quot;Close&quot; button later, it's not a problem. Search fields like Google Chrome's were my inspiration.</p>\n<p>Note, if I make it a regular <code>add()</code>ed <code>Component</code>, it gets tricky. <code>JScrollPane</code> already has a <code>LayoutManager</code> that, to the best of my knowledge, does not support any &quot;sticky&quot; behavior. Replacing it with something different may interfere with <code>JScrollPane</code>'s normal functions.</p>\n<p>I do want the search field to overlay with the text area like that, as opposed to it being in the <code>NORTH</code> section of a <code>BorderLayout</code>-managed container, for example.</p>\n<p>Java 8.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.swing.AbstractAction;\nimport javax.swing.Action;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JPopupMenu;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTextArea;\nimport javax.swing.JTextField;\nimport javax.swing.KeyStroke;\nimport javax.swing.SwingUtilities;\nimport javax.swing.WindowConstants;\nimport javax.swing.event.PopupMenuEvent;\nimport java.awt.BorderLayout;\nimport java.awt.Container;\nimport java.awt.Dimension;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.KeyEvent;\n\npublic class TextAreaSearchDemo {\n\n    static JPanel mainPanel;\n    static JTextField searchField;\n    static JPopupMenu searchPopup;\n\n    public static void main(String[] args) {\n        Container mainPanel = createMainPanel();\n        JFrame frame = new JFrame(&quot;Text Area Search Demo&quot;);\n        frame.setContentPane(mainPanel);\n        frame.setLocationRelativeTo(null);\n        frame.pack();\n        frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n        frame.setVisible(true);\n    }\n\n    static JPanel createMainPanel() {\n        mainPanel = new JPanel(new BorderLayout());\n        mainPanel.add(createScroller());\n        createSearchPopup();\n        return mainPanel;\n    }\n\n    static JScrollPane createScroller() {\n        JScrollPane scroller = new JScrollPane();\n        scroller.setPreferredSize(new Dimension(500, 400));\n        scroller.setViewportView(createTextArea());\n        return scroller;\n    }\n\n    static JTextArea createTextArea() {\n        JTextArea textArea = new JTextArea();\n        textArea.setWrapStyleWord(true);\n        textArea.setLineWrap(true);\n        textArea.setEditable(false);\n        textArea.setText(createText());\n\n        textArea.getInputMap().put(KeyStroke.getKeyStroke(KeyEvent.VK_F, KeyEvent.CTRL_DOWN_MASK), &quot;search&quot;);\n        textArea.getActionMap().put(&quot;search&quot;, createSearchAction());\n        return textArea;\n    }\n\n    static private String createText() {\n        return &quot;Lorem ipsum dolor sit amet, consectetur adipiscing elit. &quot; +\n                &quot;Maecenas bibendum, nulla a tempus volutpat, enim magna scelerisque enim, &quot; +\n                &quot;et tempor erat urna vel lorem. Curabitur tristique, tortor sit amet bibendum tempus, &quot; +\n                &quot;elit tellus semper justo, a semper ligula eros nec lectus. Donec lorem risus, posuere &quot; +\n                &quot;at aliquet eget, aliquet eget mi. Proin viverra erat vehicula fringilla auctor. &quot; +\n                &quot;Morbi eleifend nisl vitae eros hendrerit posuere. Ut porta tortor eu quam iaculis, vitae &quot; +\n                &quot;luctus risus elementum. Phasellus ac bibendum eros. Nam quis magna non elit semper luctus quis &quot; +\n                &quot;non odio. Sed iaculis risus non odio pulvinar, eu maximus felis eleifend. Aliquam aliquam augue &quot; +\n                &quot;aliquam leo ullamcorper rhoncus. Suspendisse at nibh ante.&quot;;\n    }\n\n    private static Action createSearchAction() {\n        return new AbstractAction() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                searchPopup.show(mainPanel, 0, 0);\n            }\n        };\n    }\n\n    private static void createSearchPopup() {\n        searchPopup = new JPopupMenu();\n        searchPopup.add(createSearchTextField());\n        searchPopup.addPopupMenuListener(new PopupMenuAdapter() {\n            @Override\n            public void popupMenuWillBecomeVisible(PopupMenuEvent e) {\n                SwingUtilities.invokeLater(() -&gt; searchField.requestFocus());\n            }\n\n            @Override\n            public void popupMenuWillBecomeInvisible(PopupMenuEvent e) {\n                searchField.setText(&quot;&quot;);\n            }\n        });\n    }\n\n    private static JTextField createSearchTextField() {\n        searchField = new JTextField(10);\n        searchField.addActionListener(e -&gt; search(searchField.getText()));\n        return searchField;\n    }\n\n    private static void search(String text) {\n        System.out.println(&quot;Searching for &quot; + text);\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.swing.event.PopupMenuEvent;\nimport javax.swing.event.PopupMenuListener;\n\npublic class PopupMenuAdapter implements PopupMenuListener {\n    @Override\n    public void popupMenuWillBecomeVisible(PopupMenuEvent e) {\n\n    }\n\n    @Override\n    public void popupMenuWillBecomeInvisible(PopupMenuEvent e) {\n\n    }\n\n    @Override\n    public void popupMenuCanceled(PopupMenuEvent e) {\n\n    }\n}\n</code></pre>\n<p><a href=\"https://i.sstatic.net/DkbPx4EZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/DkbPx4EZ.png\" alt=\"search field appearing in the upper left corner of a JTextArea\" /></a></p>\n",
    "tags" : [ "java", "swing" ],
    "owner" : {
      "account_id" : 10187542,
      "reputation" : 2683,
      "user_id" : 20692967,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/NZSXm.jpg?s=256",
      "display_name" : "Sergey Zolotarev",
      "link" : "https://stackoverflow.com/users/20692967/sergey-zolotarev"
    },
    "is_answered" : false,
    "view_count" : 65,
    "answer_count" : 1,
    "score" : 0,
    "last_activity_date" : 1750941317,
    "creation_date" : 1750924224,
    "link" : "https://stackoverflow.com/questions/79680091/making-jpopupmenu-stick-or-things-to-that-effect",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79680506,
    "question_id" : 79680091,
    "body" : "<p>This works.</p>\n<p>This implementation relies on the <code>JLayer</code> class as opposed to <code>JPopupMenu</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.swing.JFrame;\nimport javax.swing.JLayer;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTextArea;\nimport javax.swing.KeyStroke;\nimport javax.swing.WindowConstants;\nimport java.awt.BorderLayout;\nimport java.awt.Container;\nimport java.awt.Dimension;\nimport java.awt.FlowLayout;\nimport java.awt.event.KeyEvent;\n\npublic class TextAreaSearchDemo {\n\n    static JPanel mainPanel;\n    static JTextArea textArea;\n    static TextSearchField textSearchField;\n    static JScrollPane scroller;\n\n    public static void main(String[] args) {\n        Container mainPanel = createMainPanel();\n        JFrame frame = new JFrame(&quot;Text Area Search Demo&quot;);\n        frame.setContentPane(mainPanel);\n        frame.setLocationRelativeTo(null);\n        frame.pack();\n        frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n        frame.setVisible(true);\n    }\n\n    static JPanel createMainPanel() {\n        mainPanel = new JPanel(new BorderLayout());\n        mainPanel.add(createScrollerLayer());\n        return mainPanel;\n    }\n\n    static JLayer&lt;JScrollPane&gt; createScrollerLayer() {\n        JLayer&lt;JScrollPane&gt; scrollerLayer = new JLayer&lt;&gt;();\n        scrollerLayer.setView(createScroller());\n        JPanel glassPane = scrollerLayer.getGlassPane();\n        glassPane.setVisible(true);\n        glassPane.setLayout(new FlowLayout(FlowLayout.LEADING, 2, 2));\n        glassPane.add(createTextSearchField());\n        return scrollerLayer;\n    }\n\n    static JScrollPane createScroller() {\n        scroller = new JScrollPane();\n        scroller.setPreferredSize(new Dimension(500, 400));\n        scroller.setViewportView(createTextArea());\n        return scroller;\n    }\n\n    static JTextArea createTextArea() {\n        textArea = new JTextArea();\n        textArea.setWrapStyleWord(true);\n        textArea.setLineWrap(true);\n        textArea.setEditable(false);\n        textArea.setText(createText());\n\n        textArea.getInputMap().put(KeyStroke.getKeyStroke(KeyEvent.VK_F, KeyEvent.CTRL_DOWN_MASK), &quot;search&quot;);\n        textArea.getActionMap().put(&quot;search&quot;, Actions.fromRunnable(() -&gt; textSearchField.setVisible(true)));\n        return textArea;\n    }\n\n    static private String createText() {\n        String loremIpsum = &quot;Lorem ipsum dolor sit amet, consectetur adipiscing elit. &quot; +\n                &quot;Maecenas bibendum, nulla a tempus volutpat, enim magna scelerisque enim, &quot; +\n                &quot;et tempor erat urna vel lorem. Curabitur tristique, tortor sit amet bibendum tempus, &quot; +\n                &quot;elit tellus semper justo, a semper ligula eros nec lectus. Donec lorem risus, posuere &quot; +\n                &quot;at aliquet eget, aliquet eget mi. Proin viverra erat vehicula fringilla auctor. &quot; +\n                &quot;Morbi eleifend nisl vitae eros hendrerit posuere. Ut porta tortor eu quam iaculis, vitae &quot; +\n                &quot;luctus risus elementum. Phasellus ac bibendum eros. Nam quis magna non elit semper luctus quis &quot; +\n                &quot;non odio. Sed iaculis risus non odio pulvinar, eu maximus felis eleifend. Aliquam aliquam augue &quot; +\n                &quot;aliquam leo ullamcorper rhoncus. Suspendisse at nibh ante. &quot;;\n        // it's Java 8 with no repeat(), also you may not like Apache imports\n        return loremIpsum + loremIpsum + loremIpsum + loremIpsum + loremIpsum;\n    }\n\n    private static TextSearchField createTextSearchField() {\n        textSearchField = TextSearchField.forTextArea(textArea);\n        textSearchField.addCloseButton();\n        textSearchField.setVisible(false);\n        return textSearchField;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.swing.AbstractButton;\nimport javax.swing.JButton;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.JTextArea;\nimport javax.swing.JTextField;\nimport javax.swing.JToggleButton;\nimport javax.swing.KeyStroke;\nimport javax.swing.SwingUtilities;\nimport javax.swing.event.DocumentEvent;\nimport javax.swing.text.BadLocationException;\nimport javax.swing.text.DefaultHighlighter;\nimport javax.swing.text.Highlighter;\nimport java.awt.Color;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.awt.Insets;\nimport java.awt.event.ComponentAdapter;\nimport java.awt.event.ComponentEvent;\nimport java.awt.event.KeyEvent;\nimport java.util.LinkedList;\nimport java.util.ListIterator;\nimport java.util.concurrent.atomic.AtomicInteger;\nimport java.util.function.Supplier;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic class TextSearchField extends JPanel {\n\n    private JTextField searchField;\n    private JLabel matchLabel;\n    private final JTextArea textArea;\n    private final Highlighter highlighter;\n    private final Highlighter.HighlightPainter painter = new DefaultHighlighter.DefaultHighlightPainter(Color.YELLOW);\n    private Matcher matcher;\n    private JToggleButton caseSensitivityToggle;\n    private Match currentMatch;\n    private ListIterator&lt;Match&gt; matchIterator;\n    private final LinkedList&lt;Match&gt; matches = new LinkedList&lt;&gt;();\n    private GridBagConstraints constraints;\n\n    private TextSearchField(JTextArea textArea) {\n        super(new GridBagLayout());\n        this.textArea = textArea;\n        this.highlighter = textArea.getHighlighter();\n        addComponents();\n        addComponentListener(createComponentListener());\n    }\n\n    private void addComponents() {\n        constraints = new GridBagConstraints();\n        constraints.insets = new Insets(2,2, 2, 2);\n        constraints.weightx = 1;\n        constraints.fill = GridBagConstraints.HORIZONTAL;\n        add(createSearchTextField(), constraints);\n        add(createMatchLabel(), constraints);\n        constraints.weightx = 0;\n        constraints.weighty = 1;\n        constraints.fill = GridBagConstraints.VERTICAL;\n        add(createPreviousButton(), constraints);\n        add(createNextButton(), constraints);\n        add(createCaseSensitivityToggle(), constraints);\n    }\n\n    public static TextSearchField forTextArea(JTextArea textArea) {\n        return new TextSearchField(textArea);\n    }\n\n    public void addCloseButton() {\n        JButton closeButton = createCloseButton();\n        add(closeButton);\n    }\n\n    private JButton createCloseButton() {\n        JButton closeButton = button(&quot;x&quot;);\n        closeButton.setForeground(Color.RED);\n        closeButton.addActionListener(e -&gt; setVisible(false));\n        return closeButton;\n    }\n\n    public void add(JButton button) {\n        super.add(button, constraints);\n    }\n\n    private JButton createPreviousButton() {\n        JButton previousButton = button(&quot;↑&quot;);\n        previousButton.addActionListener(e -&gt; highlightPreviousMatch());\n        return previousButton;\n    }\n\n    private JButton button(String text) {\n        return button(JButton::new, text);\n    }\n\n    private &lt;T extends AbstractButton&gt; T button(Supplier&lt;T&gt; buttonSupplier, String text) {\n        T button = buttonSupplier.get();\n        button.setText(text);\n        button.setMargin(new Insets(0,2,0,2));\n        return button;\n    }\n\n    private JButton createNextButton() {\n        JButton nextButton = button(&quot;↓&quot;);\n        nextButton.addActionListener(e -&gt; highlightNextMatch());\n        return nextButton;\n    }\n\n    private JLabel createMatchLabel() {\n        matchLabel = new JLabel();\n        return matchLabel;\n    }\n\n    private JToggleButton createCaseSensitivityToggle() {\n        caseSensitivityToggle = button(JToggleButton::new, &quot;Cc&quot;);\n        caseSensitivityToggle.addActionListener(e -&gt; findFirstMatch());\n        return caseSensitivityToggle;\n    }\n\n    private JTextField createSearchTextField() {\n        searchField = new JTextField(10);\n        searchField.addActionListener(e -&gt; highlightNextMatch());\n\n        searchField.getInputMap().put(KeyStroke.getKeyStroke(KeyEvent.VK_ENTER, KeyEvent.SHIFT_DOWN_MASK), &quot;findPreviousMatch&quot;);\n        searchField.getActionMap().put(&quot;findPreviousMatch&quot;, Actions.fromRunnable(this::highlightPreviousMatch));\n\n        searchField.getDocument().addDocumentListener(new DocumentAdapter() {\n            @Override\n            public void insertUpdate(DocumentEvent e) {\n                findFirstMatch();\n            }\n\n            @Override\n            public void removeUpdate(DocumentEvent e) {\n                findFirstMatch();\n            }\n        });\n        return searchField;\n    }\n\n    private void findFirstMatch() {\n        findMatches();\n        highlightNextMatch();\n    }\n\n    private void findMatches() {\n        matches.clear();\n        if (!searchField.getText().isEmpty()) fillMatches();\n        matchIterator = matches.listIterator();\n    }\n\n    private void fillMatches() {\n        initPatternMatcher();\n        AtomicInteger counter = new AtomicInteger(1);\n        while (matcher.find()) matches.add(Match.of(counter, matcher));\n    }\n\n    private void initPatternMatcher() {\n        String searchText = searchField.getText();\n        Pattern pattern = caseSensitivityToggle.isSelected() ?\n                Pattern.compile(searchText) :\n                Pattern.compile(searchText, Pattern.CASE_INSENSITIVE);\n        matcher = pattern.matcher(textArea.getText());\n    }\n\n    private void highlightPreviousMatch() {\n        if (noPreviousMatches()) return;\n        Match previousMatch = findPreviousMatch();\n        highlighter.removeAllHighlights();\n        highlightMatch(previousMatch);\n        updateMatchLabel(previousMatch);\n    }\n\n    private boolean noPreviousMatches() {\n        return !matches.isEmpty() &amp;&amp; !matchIterator.hasPrevious();\n    }\n\n    private void highlightNextMatch() {\n        if (noMoreMatches()) return;\n        Match nextMatch = findNextMatch();\n        highlighter.removeAllHighlights();\n        highlightMatch(nextMatch);\n        updateMatchLabel(nextMatch);\n    }\n\n    private Match findNextMatch() {\n        Match nextMatch = moveIteratorForward();\n        if (nextMatch == currentMatch) nextMatch = moveIteratorForward();\n        currentMatch = nextMatch;\n        return nextMatch;\n    }\n\n    private Match findPreviousMatch() {\n        Match previousMatch = moveIteratorBack();\n        if (previousMatch == currentMatch) previousMatch = moveIteratorBack();\n        currentMatch = previousMatch;\n        return previousMatch;\n    }\n\n    private Match moveIteratorForward() {\n        return matchIterator.hasNext() ? matchIterator.next() : Match.NONE;\n    }\n\n    private Match moveIteratorBack() {\n        return matchIterator.hasPrevious() ? matchIterator.previous() : Match.NONE;\n    }\n\n    private boolean noMoreMatches() {\n        return !matches.isEmpty() &amp;&amp; !matchIterator.hasNext();\n    }\n\n    private void updateMatchLabel(Match match) {\n        String matchLabelText = createMatchLabelText(match);\n        matchLabel.setText(matchLabelText);\n    }\n\n    private String createMatchLabelText(Match match) {\n        return String.format(&quot;%s/%s&quot;, match.getIndex(), matches.size());\n    }\n\n    private void highlightMatch(Match match) {\n        if (!isMatchValid(match)) return;\n        doHighlightMatch(match);\n    }\n\n    private boolean isMatchValid(Match match) {\n        return match.getStart() &gt;= 0 &amp;&amp; match.getEnd() &gt;= 0;\n    }\n\n    private void doHighlightMatch(Match match) {\n        try {\n            highlighter.addHighlight(match.getStart(), match.getEnd(), painter);\n        } catch (BadLocationException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    private ComponentAdapter createComponentListener() {\n        return new ComponentAdapter() {\n            @Override\n            public void componentShown(ComponentEvent e) {\n                SwingUtilities.invokeLater(() -&gt; searchField.requestFocus());\n            }\n\n            @Override\n            public void componentHidden(ComponentEvent e) {\n                searchField.setText(&quot;&quot;);\n                highlighter.removeAllHighlights();\n            }\n        };\n    }\n\n    static class Match {\n\n        static final Match NONE = of(-1, -1);\n        int index;\n        int start;\n        int end;\n\n        private Match(AtomicInteger counter, int start, int end) {\n            if (counter != null) this.index = counter.getAndIncrement();\n            this.start = start;\n            this.end = end;\n        }\n\n        public static Match of(AtomicInteger counter, Matcher matcher) {\n            return of(counter, matcher.start(), matcher.end());\n        }\n\n        public static Match of(int start, int end) {\n            return of(null, start, end);\n        }\n\n        public static Match of(AtomicInteger counter, int start, int end) {\n            return new Match(counter, start, end);\n        }\n\n        public int getIndex() {\n            return index;\n        }\n\n        public int getStart() {\n            return start;\n        }\n\n        public int getEnd() {\n            return end;\n        }\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.swing.AbstractAction;\nimport javax.swing.Action;\nimport java.awt.event.ActionEvent;\n\npublic class Actions {\n\n    private Actions() {\n    }\n\n    public static Action fromRunnable(Runnable actionRunnable) {\n        return new AbstractAction() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                actionRunnable.run();\n            }\n        };\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.swing.event.DocumentEvent;\nimport javax.swing.event.DocumentListener;\n\npublic abstract class DocumentAdapter implements DocumentListener {\n    @Override\n    public void insertUpdate(DocumentEvent e) {\n\n    }\n\n    @Override\n    public void removeUpdate(DocumentEvent e) {\n\n    }\n\n    @Override\n    public void changedUpdate(DocumentEvent e) {\n\n    }\n}\n</code></pre>\n<p><a href=\"https://i.sstatic.net/gYVcEkmI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/gYVcEkmI.png\" alt=\"text area with search field in the upper left corner\" /></a></p>\n",
    "score" : 0,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 10187542,
      "reputation" : 2683,
      "user_id" : 20692967,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/NZSXm.jpg?s=256",
      "display_name" : "Sergey Zolotarev",
      "link" : "https://stackoverflow.com/users/20692967/sergey-zolotarev"
    },
    "creation_date" : 1750941317,
    "last_activity_date" : 1750941317,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140555248,
    "post_id" : 79680091,
    "body" : "@SergeyZolotarev You may also use <code>PopupFactory</code> class instead of creation of a new JPopupMenu",
    "score" : 0,
    "owner" : {
      "account_id" : 2259314,
      "reputation" : 11357,
      "user_id" : 1989769,
      "user_type" : "registered",
      "accept_rate" : 45,
      "profile_image" : "https://i.sstatic.net/37IMZ.jpg?s=256",
      "display_name" : "Sergiy Medvynskyy",
      "link" : "https://stackoverflow.com/users/1989769/sergiy-medvynskyy"
    },
    "creation_date" : 1751361669,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140544546,
    "post_id" : 79680091,
    "body" : "@JannikS. can you refactor my solution using the <code>JLayeredPane</code>? I added a <code>JLayeredPane</code> instead of a <code>JLayer</code>, but nothing gets visible at all. I created the pane like so: <code>JLayeredPane layeredPane = new JLayeredPane(); layeredPane.add(createScroller(), JLayeredPane.DEFAULT_LAYER); layeredPane.add(createTextSearchField(), JLayeredPane.PALETTE_LAYER);</code>)",
    "score" : 0,
    "owner" : {
      "account_id" : 10187542,
      "reputation" : 2683,
      "user_id" : 20692967,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/NZSXm.jpg?s=256",
      "display_name" : "Sergey Zolotarev",
      "link" : "https://stackoverflow.com/users/20692967/sergey-zolotarev"
    },
    "creation_date" : 1750946888,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140543904,
    "post_id" : 79680091,
    "body" : "@SergeyZolotarev A <code>JDialog</code> can be as “non-bulky”, as you want. Just call <code>setUndecorated(true)</code> on it before opening for the first time.",
    "score" : 3,
    "owner" : {
      "account_id" : 3211603,
      "reputation" : 300981,
      "user_id" : 2711488,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/t2hoD.jpg?s=256",
      "display_name" : "Holger",
      "link" : "https://stackoverflow.com/users/2711488/holger"
    },
    "creation_date" : 1750934679,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140543898,
    "post_id" : 79680091,
    "body" : "@JannikS. it&#39;s worth considering, thank you. I found a way to implement it with the use of <code>JLayer</code>. <code>JLayeredPane</code>, I think, would be an even better idea",
    "score" : 0,
    "owner" : {
      "account_id" : 10187542,
      "reputation" : 2683,
      "user_id" : 20692967,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/NZSXm.jpg?s=256",
      "display_name" : "Sergey Zolotarev",
      "link" : "https://stackoverflow.com/users/20692967/sergey-zolotarev"
    },
    "creation_date" : 1750934399,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140543417,
    "post_id" : 79680091,
    "body" : "@JustanotherJavaprogrammer it&#39;s way too bulky. I really don&#39;t want all that <code>Window</code> paraphernalia",
    "score" : 0,
    "owner" : {
      "account_id" : 10187542,
      "reputation" : 2683,
      "user_id" : 20692967,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/NZSXm.jpg?s=256",
      "display_name" : "Sergey Zolotarev",
      "link" : "https://stackoverflow.com/users/20692967/sergey-zolotarev"
    },
    "creation_date" : 1750924767,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140543406,
    "post_id" : 79680091,
    "body" : "Maybe you should use a JDialog instead, since the popup menu seems hard to control.",
    "score" : 0,
    "owner" : {
      "account_id" : 8362430,
      "reputation" : 856,
      "user_id" : 6280255,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/579e86ed5089abcb535b4e05ead3f6f6?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Just another Java programmer",
      "link" : "https://stackoverflow.com/users/6280255/just-another-java-programmer"
    },
    "creation_date" : 1750924594,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}