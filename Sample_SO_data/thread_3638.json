{
  "question" : {
    "question_id" : 79535338,
    "title" : "Check what screen a NavHost is currently on",
    "body" : "<p>Is there a way to know what screen a NavHost is currently on using the new Navigation in Jetpack compose,</p>\n<p>The route of the backstackentry returns the serialized form of the screen but I haven't found any way to convert it back into a screen object</p>\n<p>For example - If we have an object MainScreen <code>navController.currentBackStackEntry.destination.route</code> returns <code>&lt;package&gt;.MainScreen</code> instead of the MainScreen object,</p>\n<p>I know we can use <code>toRoute&lt;MainScreen&gt;</code> to get back the screen object but I need a way to get the object regardless of which screen the user is on,</p>\n<p>I need to know this so I can update a FAB and a Top Bar in my scaffold dynamically based on the current route,</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val navController = rememberNavController()\nval backStackEntry = navController.currentBackStackEntryAsState()\n// How can I make this line generic to work with all screens\nval route = backStackEntry.value.toRoute&lt;MainScreen&gt;()\nScaffold(floatingActionButton = {\n   if (route == MainScreen){\n       ...\n   } else if (route == DetailScreen){\n       ...\n   }\n}) { innerPadding -&gt;\n    NavHost(\n        navController,\n        modifier = Modifier.padding(innerPadding),\n        startDestination = MainScreen)\n    {\n        ....\n    }\n\n}\n</code></pre>\n",
    "tags" : [ "java", "android", "kotlin", "android-studio", "android-jetpack-navigation" ],
    "owner" : {
      "account_id" : 21262621,
      "reputation" : 11,
      "user_id" : 15643240,
      "user_type" : "registered",
      "profile_image" : "https://lh3.googleusercontent.com/a-/AOh14Gjui8jQaqxvcZ6cKFkw_aAIR5woT580fZbicupGbg=k-s256",
      "display_name" : "alof",
      "link" : "https://stackoverflow.com/users/15643240/alof"
    },
    "is_answered" : true,
    "view_count" : 116,
    "closed_date" : 1742965744,
    "answer_count" : 1,
    "score" : 1,
    "last_activity_date" : 1742962511,
    "creation_date" : 1742959865,
    "link" : "https://stackoverflow.com/questions/79535338/check-what-screen-a-navhost-is-currently-on",
    "closed_reason" : "Duplicate"
  },
  "answers" : [ {
    "answer_id" : 79535381,
    "question_id" : 79535338,
    "body" : "<p>So as far as I understand you want to get the current route/screen, I think you can do it just like a normal nav getting first destination and then route <a href=\"https://developer.android.com/reference/androidx/navigation/NavDestination#getRoute()\" rel=\"nofollow noreferrer\">getRoute</a>, something like this:</p>\n<pre><code>val navBackStackEntry by navController.currentBackStackEntryAsState()\nval currentRoute = navBackStackEntry?.destination?.route\n</code></pre>\n",
    "score" : 1,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 12081012,
      "reputation" : 29,
      "user_id" : 8832753,
      "user_type" : "registered",
      "profile_image" : "https://lh5.googleusercontent.com/-bBh6dE8ctsk/AAAAAAAAAAI/AAAAAAAAAa0/HWSrXFLA2Vs/s256-rj/photo.jpg",
      "display_name" : "Jordan R. A.",
      "link" : "https://stackoverflow.com/users/8832753/jordan-r-a"
    },
    "creation_date" : 1742962386,
    "last_activity_date" : 1742962511,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140263781,
    "post_id" : 79535338,
    "body" : "<a href=\"https://developer.android.com/reference/kotlin/androidx/navigation/NavDestination#(androidx.navigation.NavDestination).hasRoute()\" rel=\"nofollow noreferrer\"><code>hasRoute</code></a> is the method you are looking for - e.g., <code>if (backStackEntry.value?.destination?.hasRoute&lt;MainScreen&gt;() == true)</code>.",
    "score" : 0,
    "owner" : {
      "account_id" : 1849514,
      "reputation" : 201355,
      "user_id" : 1676363,
      "user_type" : "registered",
      "accept_rate" : 100,
      "profile_image" : "https://www.gravatar.com/avatar/44dac57d3bb65805bc3df4409d019c83?s=256&d=identicon&r=PG",
      "display_name" : "ianhanniballake",
      "link" : "https://stackoverflow.com/users/1676363/ianhanniballake"
    },
    "creation_date" : 1742965803,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140263661,
    "post_id" : 79535338,
    "body" : "Once you know what route you are on, what are you trying to do with it? Please show your code (with the missing line that you don&#39;t know what to write).",
    "score" : 0,
    "owner" : {
      "account_id" : 1849514,
      "reputation" : 201355,
      "user_id" : 1676363,
      "user_type" : "registered",
      "accept_rate" : 100,
      "profile_image" : "https://www.gravatar.com/avatar/44dac57d3bb65805bc3df4409d019c83?s=256&d=identicon&r=PG",
      "display_name" : "ianhanniballake",
      "link" : "https://stackoverflow.com/users/1676363/ianhanniballake"
    },
    "creation_date" : 1742960639,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : {
    "79535381" : [ {
      "comment_id" : 140265802,
      "post_id" : 79535381,
      "body" : "You shouldn&#39;t be looking at the <code>route</code> at all - <code>hasRoute&lt;Your class&gt;()</code> is the right API, as per the duplicate question.",
      "score" : 0,
      "owner" : {
        "account_id" : 1849514,
        "reputation" : 201355,
        "user_id" : 1676363,
        "user_type" : "registered",
        "accept_rate" : 100,
        "profile_image" : "https://www.gravatar.com/avatar/44dac57d3bb65805bc3df4409d019c83?s=256&d=identicon&r=PG",
        "display_name" : "ianhanniballake",
        "link" : "https://stackoverflow.com/users/1676363/ianhanniballake"
      },
      "creation_date" : 1742996567,
      "content_license" : "CC BY-SA 4.0"
    }, {
      "comment_id" : 140263825,
      "post_id" : 79535381,
      "body" : "I see what you mean, I now that the destination?.route returns the class name + package name, so maybe you can compare against qualifiedName like this: <code>Home::class.qualifiedName</code>something like: <code>currentRoute.startsWith(Home::class.qualifiedName.toString()&zwnj;&#8203;))</code>",
      "score" : 1,
      "owner" : {
        "account_id" : 12081012,
        "reputation" : 29,
        "user_id" : 8832753,
        "user_type" : "registered",
        "profile_image" : "https://lh5.googleusercontent.com/-bBh6dE8ctsk/AAAAAAAAAAI/AAAAAAAAAa0/HWSrXFLA2Vs/s256-rj/photo.jpg",
        "display_name" : "Jordan R. A.",
        "link" : "https://stackoverflow.com/users/8832753/jordan-r-a"
      },
      "creation_date" : 1742967079,
      "content_license" : "CC BY-SA 4.0"
    }, {
      "comment_id" : 140263747,
      "post_id" : 79535381,
      "body" : "That works but it requires us to use a string for the composable which I was trying to avoid because using this I lose the type safety that the navigation update provided",
      "score" : 0,
      "owner" : {
        "account_id" : 21262621,
        "reputation" : 11,
        "user_id" : 15643240,
        "user_type" : "registered",
        "profile_image" : "https://lh3.googleusercontent.com/a-/AOh14Gjui8jQaqxvcZ6cKFkw_aAIR5woT580fZbicupGbg=k-s256",
        "display_name" : "alof",
        "link" : "https://stackoverflow.com/users/15643240/alof"
      },
      "creation_date" : 1742963853,
      "content_license" : "CC BY-SA 4.0"
    }, {
      "comment_id" : 140263733,
      "post_id" : 79535381,
      "body" : "But you can compare agains the route you define in the composable in the NavHost. composable(Routes.MainScreen.route) {    MainScreen() }   And then you can compare against this in the Scaffold like: if(Routes.MainScreen.route)  why do you need the object?",
      "score" : 0,
      "owner" : {
        "account_id" : 12081012,
        "reputation" : 29,
        "user_id" : 8832753,
        "user_type" : "registered",
        "profile_image" : "https://lh5.googleusercontent.com/-bBh6dE8ctsk/AAAAAAAAAAI/AAAAAAAAAa0/HWSrXFLA2Vs/s256-rj/photo.jpg",
        "display_name" : "Jordan R. A.",
        "link" : "https://stackoverflow.com/users/8832753/jordan-r-a"
      },
      "creation_date" : 1742963347,
      "content_license" : "CC BY-SA 4.0"
    }, {
      "comment_id" : 140263718,
      "post_id" : 79535381,
      "body" : "But this returns the string form of the route, I need the object with which we would navigate to this screen like MainScreen, DetailScreen etc so I can check which screen the user is on",
      "score" : 0,
      "owner" : {
        "account_id" : 21262621,
        "reputation" : 11,
        "user_id" : 15643240,
        "user_type" : "registered",
        "profile_image" : "https://lh3.googleusercontent.com/a-/AOh14Gjui8jQaqxvcZ6cKFkw_aAIR5woT580fZbicupGbg=k-s256",
        "display_name" : "alof",
        "link" : "https://stackoverflow.com/users/15643240/alof"
      },
      "creation_date" : 1742962940,
      "content_license" : "CC BY-SA 4.0"
    } ]
  }
}