{
  "question" : {
    "question_id" : 79623702,
    "title" : "Hilt Aggregation on multiple module",
    "body" : "<p>I am working on a large project with over 200 modules, and each module has its own Hilt module with @InstallIn(SingletonComponent::class). While analyzing the CI logs, I noticed that a large number of HiltAggregated files are being generated, which significantly impacts build performance due to compilation ripple effects.  To optimize this, I attempted to consolidate all the child modules into a single parent module like this:</p>\n<pre><code>@Module(includes = [\n    UtilWrapperModule::class, DateModule::class, DeviceModule::class, UserLifecycleModule::class, ...\n])\n\n@InstallIn(SingletonComponent::class)\nobject FeatureModule\n\nUtilWrapperModule is missing an @InstallIn annotation. If this was intentional, see https://dagger.dev/hilt/flags#disable-install-in-check for how to disable this check.\n[Hilt] Processing did not complete. See error above for details.\n</code></pre>\n<p>What Iâ€™ve Tried:</p>\n<ol>\n<li>Consolidating all child modules into a single parent module\n(FeatureModule) and removing @InstallIn from the child modules.</li>\n<li>Reviewing the Hilt documentation to disable the @InstallIn check,\nbut I am unsure if this is the best approach.</li>\n</ol>\n<p>My Goal:</p>\n<ol>\n<li>Reduce the number of HiltAggregated files generated during\ncompilation.</li>\n<li>Avoid recompilation ripple effects caused by having @InstallIn in\nevery child module.</li>\n<li>Improve build performance without breaking the\ndependency injection setup.</li>\n</ol>\n<p>Question:</p>\n<p>What is the best approach to achieve this optimization? Should I disable the @InstallIn check for child modules, or is there a better way to consolidate Hilt modules in a large project like this?</p>\n",
    "tags" : [ "java", "android", "kotlin", "dagger-hilt", "dagger" ],
    "owner" : {
      "account_id" : 11008048,
      "reputation" : 1129,
      "user_id" : 8086401,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/DH9gZ.jpg?s=256",
      "display_name" : "Yakubu",
      "link" : "https://stackoverflow.com/users/8086401/yakubu"
    },
    "is_answered" : false,
    "view_count" : 84,
    "answer_count" : 0,
    "score" : 0,
    "last_activity_date" : 1747322660,
    "creation_date" : 1747322660,
    "link" : "https://stackoverflow.com/questions/79623702/hilt-aggregation-on-multiple-module",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ ],
  "question_comments" : [ ],
  "answer_comments" : { }
}