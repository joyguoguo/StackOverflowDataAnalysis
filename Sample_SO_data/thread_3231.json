{
  "question" : {
    "question_id" : 79563105,
    "title" : "Custom pom.xml in module (using a profile)",
    "body" : "<p>I am building a module into two distinct packages. Once into an app and anther time as a library. For the library I am only building a sub set of the module. Currently I have two poms: one for the app (pom.xml) and one for the lib (pom-lib.xml). That works fine when I build with <code>mvn -f pom-lib.xml</code> inside the module itself.</p>\n<p>However, when building this from a parent, using <code>profiles</code> and a <code>module</code> I cannot select which pom to use.</p>\n<p>There is a reason why the pom.xml does not build the library (a simple answer would be switch the poms: pom-app.xml and a default pom.xml to build the lib).</p>\n<p>Alternatively I could refactor the two poms into one a separate the targets using profiles there (passing the sub profile).</p>\n<p>Is there a way that I can tell a module in the master pom, which child pom to use for a module? By default it will always use the pom.xml file.</p>\n",
    "tags" : [ "java", "maven", "module", "pom.xml" ],
    "owner" : {
      "account_id" : 1763824,
      "reputation" : 81,
      "user_id" : 1610193,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/cg211.jpg?s=256",
      "display_name" : "jschober",
      "link" : "https://stackoverflow.com/users/1610193/jschober"
    },
    "is_answered" : false,
    "view_count" : 31,
    "answer_count" : 0,
    "score" : 0,
    "last_activity_date" : 1744148755,
    "creation_date" : 1744148755,
    "link" : "https://stackoverflow.com/questions/79563105/custom-pom-xml-in-module-using-a-profile",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ ],
  "question_comments" : [ {
    "comment_id" : 140374372,
    "post_id" : 79563105,
    "body" : "Not a bad idea. I won&#39;t take that much I guess. Hm...",
    "score" : 0,
    "owner" : {
      "account_id" : 1763824,
      "reputation" : 81,
      "user_id" : 1610193,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/cg211.jpg?s=256",
      "display_name" : "jschober",
      "link" : "https://stackoverflow.com/users/1610193/jschober"
    },
    "creation_date" : 1745781311,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140366649,
    "post_id" : 79563105,
    "body" : "It&#39;s never too late for quality adding refactorings :-) and as far as I understand, do you already have a kind of submodule structure. Otherwiese you wouldn&#39;t be able to build from parent. So just copy that module, register the copy in parents pom.xml, clean up both by separating the code and add the libs artifact coordinates as dependency to the app. That&#39;s it.",
    "score" : 0,
    "owner" : {
      "account_id" : 11555562,
      "reputation" : 569,
      "user_id" : 8466853,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/cd7f72b426ce3c46739900b8ba014e26?s=256&d=identicon&r=PG",
      "display_name" : "Arno",
      "link" : "https://stackoverflow.com/users/8466853/arno"
    },
    "creation_date" : 1745517799,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140365747,
    "post_id" : 79563105,
    "body" : "@Arno that&#39;s what I should have done and create a lib and a app sub project. Too late for that now. So, in short there is no way that I can actually specify the pom in a module (I could use sections using profiles in one pom - but that&#39;ll be just a massive pom)",
    "score" : 0,
    "owner" : {
      "account_id" : 1763824,
      "reputation" : 81,
      "user_id" : 1610193,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/cg211.jpg?s=256",
      "display_name" : "jschober",
      "link" : "https://stackoverflow.com/users/1610193/jschober"
    },
    "creation_date" : 1745502959,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140349390,
    "post_id" : 79563105,
    "body" : "In a real multimodule build you have one pom.xml of the parent, containing all modules and one pom.xml for each module. If you only want to build a single module as lib, switch into that directory and start a <code>maven clean build</code>. Follow this for more details: <a href=\"https://www.baeldung.com/maven-multi-module\" rel=\"nofollow noreferrer\">baeldung.com/maven-multi-module</a>  And of course, separate the lib sources from the app into single modules, where the app depends on the lib module.",
    "score" : 0,
    "owner" : {
      "account_id" : 11555562,
      "reputation" : 569,
      "user_id" : 8466853,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/cd7f72b426ce3c46739900b8ba014e26?s=256&d=identicon&r=PG",
      "display_name" : "Arno",
      "link" : "https://stackoverflow.com/users/8466853/arno"
    },
    "creation_date" : 1745016841,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140315394,
    "post_id" : 79563105,
    "body" : "In general never make modules etc. via profile or different pom files... better make a separete supplemental module...",
    "score" : 0,
    "owner" : {
      "account_id" : 112317,
      "reputation" : 98425,
      "user_id" : 296328,
      "user_type" : "registered",
      "accept_rate" : 60,
      "profile_image" : "https://i.sstatic.net/DSpH6.jpg?s=256",
      "display_name" : "khmarbaise",
      "link" : "https://stackoverflow.com/users/296328/khmarbaise"
    },
    "creation_date" : 1744192130,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140313726,
    "post_id" : 79563105,
    "body" : "Could you please also attach the pom files?",
    "score" : 1,
    "owner" : {
      "account_id" : 14482834,
      "reputation" : 5468,
      "user_id" : 10461625,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/fgo5D.jpg?s=256",
      "display_name" : "PatPanda",
      "link" : "https://stackoverflow.com/users/10461625/patpanda"
    },
    "creation_date" : 1744148822,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}