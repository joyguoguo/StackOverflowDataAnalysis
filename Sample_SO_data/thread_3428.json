{
  "question" : {
    "question_id" : 79550077,
    "title" : "AWS MQTT Client sdk v2 java using IAM credentials",
    "body" : "<p>I'm migrating AWS SDK for java from v1 to v2. Earlier I was instantiating the <code>AWSIotMqttClient</code> like</p>\n<pre><code>Credentials cred = awsService.generateTempIAMCredentialsForIOT();\n\n// AWS IAM credentials could be retrieved from AWS Cognito, STS etc.\nIOTMqttClient client = new IOTMqttClient(iotEndpoint, clientId, cred.accessKeyId(),\n    cred.secretAccessKey(), cred.sessionToken(), this);\n</code></pre>\n<p>the sdk-v2 doesn't seem to have any way to use IAM credentials for <code>MqttClientConnection</code> or <code>Mqtt5Client</code>.</p>\n<p>Does anyone know a possible way to accomplish this via sdk-v2?</p>\n<p>Thanks</p>\n",
    "tags" : [ "java", "amazon-web-services", "spring-boot", "sdk", "aws-iot" ],
    "owner" : {
      "account_id" : 26500260,
      "reputation" : 346,
      "user_id" : 20137324,
      "user_type" : "registered",
      "profile_image" : "https://lh3.googleusercontent.com/a-/ACNPEu9gh1uXd3_rVXdy7ZE06ptfFxq8cxKKHBX86NtJfw=k-s256",
      "display_name" : "Mradul Singhal",
      "link" : "https://stackoverflow.com/users/20137324/mradul-singhal"
    },
    "is_answered" : true,
    "view_count" : 53,
    "answer_count" : 1,
    "score" : 0,
    "last_activity_date" : 1743594363,
    "creation_date" : 1743582072,
    "link" : "https://stackoverflow.com/questions/79550077/aws-mqtt-client-sdk-v2-java-using-iam-credentials",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79550527,
    "question_id" : 79550077,
    "body" : "<p>AWS SDK in general has a good way for looking for configuration with minimal intervention / configuration from the developer, as long as you make sure you have the necessary configuration in place, either it's giving necessary IAM Policy access or having temporary credentials placed in a config file.</p>\n<p>Please have a deep dive into</p>\n<p><a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/credentials.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/credentials.html</a></p>\n<p>Which basically suggests you don't need to specify anything if you assign the right policy to the resource you are running your code at.</p>\n",
    "score" : 1,
    "is_accepted" : true,
    "owner" : {
      "account_id" : 8061240,
      "reputation" : 106,
      "user_id" : 6076712,
      "user_type" : "registered",
      "accept_rate" : 80,
      "profile_image" : "https://www.gravatar.com/avatar/4fb3c1e3d3b6b042b4868040c931b933?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "M.Elfeky",
      "link" : "https://stackoverflow.com/users/6076712/m-elfeky"
    },
    "creation_date" : 1743594363,
    "last_activity_date" : 1743594363,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140289381,
    "post_id" : 79550077,
    "body" : "Show your <code>pom.xml</code> , or <code>build.gralde</code>, and version of Java, etc. Let&#39;s show full content of Java class , before go to your problem. We need context of your problem first.",
    "score" : 0,
    "owner" : {
      "account_id" : 4597208,
      "reputation" : 1,
      "user_id" : 3728901,
      "user_type" : "registered",
      "accept_rate" : 58,
      "profile_image" : "https://www.gravatar.com/avatar/8621a1f0563a46ea809098b960d7923f?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Vy Do",
      "link" : "https://stackoverflow.com/users/3728901/vy-do"
    },
    "creation_date" : 1743582321,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}