{
  "question" : {
    "question_id" : 79577801,
    "title" : "Docker lombock mvn package cannot find symbol, constructor cannot be applied to given types",
    "body" : "<pre><code>root\n  src\n  pom.xml\n  Dockerfile\n  docker-compose.yaml\n</code></pre>\n<p><strong>Dockerfile</strong></p>\n<pre><code>FROM openjdk:22-ea-19-jdk-bookworm\n\n# Install tools\nRUN apt update &amp;&amp; apt install -y maven vim\n\n# Set working directory\nWORKDIR /app\n\n# Copy all project files at once\nCOPY . .\n\n# Build the project (download dependencies and compile)\nRUN mvn clean package -DskipTests\n\n# Expose port\nEXPOSE 8082\n\n# Run the jar\nCMD [&quot;java&quot;, &quot;-jar&quot;, &quot;target/myapp.jar&quot;]\n</code></pre>\n<p>When I run</p>\n<pre><code>docker build -t myappimage . \n</code></pre>\n<p>It fails at <code>mvn clean package</code> with the compilation errors like:</p>\n<pre><code>45.79 [INFO] Recompiling the module because of changed dependency.\n45.83 [INFO] Compiling 55 source files with javac [debug parameters release 21] \nto target/classes\n52.75 [INFO] -------------------------------------------------------------\n52.76 [ERROR] COMPILATION ERROR : \n52.76 [INFO] -------------------------------------------------------------\n52.76 [ERROR] /app/src/main/java/com/myapp/DataInitializer.java:\n[37,38] constructor DogBreed in class com.myapp.dog.entity.DogBreed cannot \nbe applied to given types;\n52.76   required: no arguments\n52.76   found:    &lt;nulltype&gt;,com.myapp.dog.DogBreedEnum\n52.76   reason: actual and formal argument lists differ in length\n52.76 [ERROR] /app/src/main/java/com/myapp/DataInitializer.java:\n[38,33] incompatible types: inference variable T has incompatible bounds\n52.76     equality constraints: com.myapp.dog.entity.DogBreed\n52.76     lower bounds: java.lang.Object\n52.76 [ERROR] /app/src/main/java/com/myapp/DataInitializer.java:\n[49,25] constructor Person in class com.myapp.Person \ncannot be applied to given types;\n52.76   required: no arguments\n52.76   found:    &lt;nulltype&gt;,java.lang.String,int,int\n52.76   reason: actual and formal argument lists differ in length\n</code></pre>\n<p>I use <code>lombock</code> for creating constructors for my entities, could that be the reason?</p>\n<pre><code>@Entity\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n</code></pre>\n<p>Also after the constructor errors come these</p>\n<pre><code>52.85 [ERROR] /app/src/main/java/com/myapp/dog/service/DogService.java:[122,36]\n cannot find symbol\n52.85 [ERROR]   symbol:   method getIsGood()\n52.85 [ERROR]   location: variable dog of type com.myapp.dog.entity.Dog\n</code></pre>\n<p>Meanwhile if I simply do <code>mvn package</code> without using Docker, it produces a <code>jar</code> just fine. And I can run it with <code>java -jar myapp.jar</code> fine as well.</p>\n",
    "tags" : [ "java", "spring-boot", "docker", "maven", "lombok" ],
    "owner" : {
      "account_id" : 6099767,
      "reputation" : 5261,
      "user_id" : 4759176,
      "user_type" : "registered",
      "accept_rate" : 74,
      "profile_image" : "https://i.sstatic.net/0U1e5.jpg?s=256",
      "display_name" : "parsecer",
      "link" : "https://stackoverflow.com/users/4759176/parsecer"
    },
    "is_answered" : true,
    "view_count" : 125,
    "answer_count" : 1,
    "score" : 2,
    "last_activity_date" : 1744829066,
    "creation_date" : 1744825539,
    "link" : "https://stackoverflow.com/questions/79577801/docker-lombock-mvn-package-cannot-find-symbol-constructor-cannot-be-applied-to",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79577904,
    "question_id" : 79577801,
    "body" : "<p>Inside Docker, Maven runs in a clean, headless environment. If Lombok isn't properly configured as an annotation processor, Maven won't generate constructors or getters.</p>\n<p>In your situation, it looks like Lombok annotations are not being processed during the Docker build.</p>\n<p>Please, make sure that your <code>pom.xml</code> has a correct Lombok configuration (see <a href=\"https://projectlombok.org/setup/maven\" rel=\"nofollow noreferrer\">docs</a>), especially the required annotation processor paths:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;version&gt;1.18.38&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;annotationProcessorPaths&gt;\n                    &lt;path&gt;\n                        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;version&gt;1.18.38&lt;/version&gt;\n                    &lt;/path&gt;\n                &lt;/annotationProcessorPaths&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n",
    "score" : 3,
    "is_accepted" : true,
    "owner" : {
      "account_id" : 16043894,
      "reputation" : 913,
      "user_id" : 11579604,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/z1aaG.png?s=256",
      "display_name" : "Patrycja Wegrzynowicz",
      "link" : "https://stackoverflow.com/users/11579604/patrycja-wegrzynowicz"
    },
    "creation_date" : 1744829066,
    "last_activity_date" : 1744829066,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140341901,
    "post_id" : 79577801,
    "body" : "Perhaps you are using other java version in pom.xml, than 22? I would also double check that Lombok is properly configured in the pom file: annotationProcessorPaths, etc",
    "score" : 0,
    "owner" : {
      "account_id" : 18586978,
      "reputation" : 3850,
      "user_id" : 15000097,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/yFl4M.jpg?s=256",
      "display_name" : "Georgii Lvov",
      "link" : "https://stackoverflow.com/users/15000097/georgii-lvov"
    },
    "creation_date" : 1744827201,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}