{
  "question" : {
    "question_id" : 79538493,
    "title" : "Is this enough for MapStruct to work in Spring Boot?",
    "body" : "<p>Is the following enough to make MapStruct work? When I tried to implement a MapStruct DTO, it was not working. How can I identify the issue?</p>\n<h3>My POM</h3>\n<p>I want to integrate MapStruct into Spring Boot in the <code>pom.xml</code> file as below.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.12.1&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;source&gt;${java.version}&lt;/source&gt;\n        &lt;target&gt;${java.version}&lt;/target&gt;\n        &lt;annotationProcessorPaths&gt;\n            &lt;path&gt;\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                &lt;version&gt;1.16.18&lt;/version&gt;\n            &lt;/path&gt;\n            &lt;!-- This is needed when using Lombok 1.18.16 and above --&gt;\n            &lt;path&gt;\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\n                &lt;version&gt;0.2.0&lt;/version&gt;\n            &lt;/path&gt;\n            &lt;!-- Mapstruct should follow the lombok path(s) --&gt;\n            &lt;path&gt;\n                &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n                &lt;version&gt;1.6.2&lt;/version&gt;\n            &lt;/path&gt;\n        &lt;/annotationProcessorPaths&gt;\n        &lt;compilerArgs&gt;\n            &lt;compilerArg&gt;\n                -Amapstruct.defaultComponentModel=spring\n            &lt;/compilerArg&gt;\n        &lt;/compilerArgs&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n",
    "tags" : [ "java", "spring-boot", "pom.xml", "mapstruct" ],
    "owner" : {
      "account_id" : 11305575,
      "reputation" : 1,
      "user_id" : 8290299,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/10291dbc4897d323f044588e9bfc7745?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Rajivjackz",
      "link" : "https://stackoverflow.com/users/8290299/rajivjackz"
    },
    "is_answered" : false,
    "view_count" : 126,
    "answer_count" : 2,
    "score" : 0,
    "last_activity_date" : 1746735973,
    "creation_date" : 1743069704,
    "link" : "https://stackoverflow.com/questions/79538493/is-this-enough-for-mapstruct-to-work-in-spring-boot",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79600117,
    "question_id" : 79538493,
    "body" : "<p>On the official website of MapStruct there is a <a href=\"https://mapstruct.org/documentation/stable/reference/html/#setup\" rel=\"nofollow noreferrer\">SetUp documentation</a>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>...\n&lt;properties&gt;\n    &lt;org.mapstruct.version&gt;1.6.3&lt;/org.mapstruct.version&gt;\n&lt;/properties&gt;\n...\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n        &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\n        &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n...\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.8.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;1.8&lt;/source&gt;\n                &lt;target&gt;1.8&lt;/target&gt;\n                &lt;annotationProcessorPaths&gt;\n                    &lt;path&gt;\n                        &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                        &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n                        &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\n                    &lt;/path&gt;\n                &lt;/annotationProcessorPaths&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n...\n</code></pre>\n<p>You can also find <a href=\"https://mapstruct.org/documentation/stable/reference/html/#configuration-options\" rel=\"nofollow noreferrer\">Configuration options</a> like:</p>\n<pre><code>&lt;compilerArgs&gt;\n    &lt;arg&gt;\n        -Amapstruct.defaultComponentModel=spring\n    &lt;/arg&gt;\n&lt;/compilerArgs&gt;\n</code></pre>\n<p>If your project uses Lombok you should also add the following <a href=\"https://mapstruct.org/documentation/stable/reference/html/#lombok\" rel=\"nofollow noreferrer\">lombok configurations for mapstruct</a>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>...\n&lt;properties&gt;\n    &lt;org.mapstruct.version&gt;1.6.3&lt;/org.mapstruct.version&gt;\n    &lt;org.projectlombok.version&gt;1.18.16&lt;/org.projectlombok.version&gt;\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n&lt;/properties&gt;\n...\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n        &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\n        &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- lombok dependency should not end up on classpath --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;version&gt;${org.projectlombok.version}&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n...\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.8.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;1.8&lt;/source&gt;\n                &lt;target&gt;1.8&lt;/target&gt;\n                &lt;annotationProcessorPaths&gt;\n                    &lt;path&gt;\n                        &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                        &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n                        &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\n                    &lt;/path&gt;\n                    &lt;path&gt;\n                        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;version&gt;${org.projectlombok.version}&lt;/version&gt;\n                    &lt;/path&gt;\n\n                    &lt;!-- additional annotation processor required as of Lombok 1.18.16 --&gt;\n                    &lt;path&gt;\n                        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                        &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\n                        &lt;version&gt;0.2.0&lt;/version&gt;\n                    &lt;/path&gt;\n                &lt;/annotationProcessorPaths&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n...\n</code></pre>\n",
    "score" : 0,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 18044315,
      "reputation" : 1775,
      "user_id" : 13115701,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/YjiT5Pfx.jpg?s=256",
      "display_name" : "Paul Marcelin Bejan",
      "link" : "https://stackoverflow.com/users/13115701/paul-marcelin-bejan"
    },
    "creation_date" : 1746008539,
    "last_activity_date" : 1746008539,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "answer_id" : 79613121,
    "question_id" : 79538493,
    "body" : "<p>You may need to add these two dependencies in the <code>&lt;dependencies&gt;</code> section as well, in addition to configuring them in the <code>annotationProcessorPaths</code> of the <code>maven-compiler-plugin</code>. While the compilation and annotation processing will work with just the <code>annotationProcessorPaths</code>, the generated implementation class of your mapper interface may not be resolved as a Spring bean during runtime if these dependencies are not available in the runtime classpath.</p>\n<p>By adding the following dependencies, you ensure that they are available in the runtime classpath as well, making the configuration more consistent and avoiding runtime issues.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n        &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n        &lt;version&gt;1.6.3&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\n        &lt;version&gt;0.2.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>The default configuration for MapStruct and Lombok, as described in the <a href=\"https://www.baeldung.com/java-mapstruct-lombok\" rel=\"nofollow noreferrer\">Baeldung article</a>, includes the following:</p>\n<pre class=\"lang-xml prettyprint-override\"><code> &lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n        &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\n        &lt;version&gt;1.6.3&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;version&gt;1.18.32&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n        &lt;annotationProcessorPaths&gt;\n            &lt;path&gt;\n                &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n                &lt;version&gt;1.6.3&lt;/version&gt;\n            &lt;/path&gt;\n            &lt;path&gt;\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                &lt;version&gt;1.18.32&lt;/version&gt;\n            &lt;/path&gt;\n            &lt;path&gt;\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\n                &lt;version&gt;0.2.0&lt;/version&gt;\n            &lt;/path&gt;\n        &lt;/annotationProcessorPaths&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n",
    "score" : 0,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 26624784,
      "reputation" : 1,
      "user_id" : 20242993,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/be99e9d725b201c6f5efd5868e7902c3?s=256&d=identicon&r=PG",
      "display_name" : "damlas",
      "link" : "https://stackoverflow.com/users/20242993/damlas"
    },
    "creation_date" : 1746735973,
    "last_activity_date" : 1746735973,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140384236,
    "post_id" : 79538493,
    "body" : "First You need to add mapstruct API dependency  and Second this is Your Lombok version is very old (1.16.18). Consider upgrading to a recent version (e.g., 1.18.32 as of 2024). Also check your java version 17 or 21. &lt;dependency&gt;     &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;     &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;     &lt;version&gt;1.6.2&lt;/version&gt; &lt;/dependency&gt;",
    "score" : 0,
    "owner" : {
      "account_id" : 10927511,
      "reputation" : 3218,
      "user_id" : 8031784,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/ikcJL.png?s=256",
      "display_name" : "Aniruddh Parihar",
      "link" : "https://stackoverflow.com/users/8031784/aniruddh-parihar"
    },
    "creation_date" : 1746019290,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140274546,
    "post_id" : 79538493,
    "body" : "You may wish to edit the question to say what happens when you run this configuration now. What does &quot;not working&quot; mean?",
    "score" : 3,
    "owner" : {
      "account_id" : 216950,
      "reputation" : 20182,
      "user_id" : 472495,
      "user_type" : "registered",
      "accept_rate" : 92,
      "profile_image" : "https://i.sstatic.net/4rtxd.png?s=256",
      "display_name" : "halfer",
      "link" : "https://stackoverflow.com/users/472495/halfer"
    },
    "creation_date" : 1743177984,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140274543,
    "post_id" : 79538493,
    "body" : "I&#39;ve retagged this question; you need to add a language and a framework to most questions, otherwise few readers will see it.",
    "score" : 0,
    "owner" : {
      "account_id" : 216950,
      "reputation" : 20182,
      "user_id" : 472495,
      "user_type" : "registered",
      "accept_rate" : 92,
      "profile_image" : "https://i.sstatic.net/4rtxd.png?s=256",
      "display_name" : "halfer",
      "link" : "https://stackoverflow.com/users/472495/halfer"
    },
    "creation_date" : 1743177925,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}