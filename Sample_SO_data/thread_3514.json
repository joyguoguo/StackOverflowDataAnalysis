{
  "question" : {
    "question_id" : 79544294,
    "title" : "Hibernate Genarate Query is unexpected",
    "body" : "<p>I have this relationship where I have campaign linked with campaign_planning using @OneToMany relation like this:</p>\n<pre><code>@Table(name = &quot;campaign&quot;)\npublic class Campaign implements Serializable {\n    @Id @Column(name = &quot;id&quot;, nullable = false)\n    private UUID id;\n\n    @ManyToOne(cascade = {CascadeType.REFRESH})\n    @JoinColumn(name = &quot;parent_id&quot;, updatable = false)\n    private Campaign parent;\n\n    @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY, mappedBy = &quot;parent&quot;, orphanRemoval = true)\n    @OrderBy(&quot;createTime&quot;)\n    private List&lt;Campaign&gt; campaigns;\n\n    @OneToOne(mappedBy = &quot;campaign&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\n    @PrimaryKeyJoinColumn\n    private ScheduleInfo scheduleInfo;\n\n    @OneToMany(mappedBy = &quot;superCampaign&quot;, fetch = FetchType.LAZY)\n    private List&lt;CampaignPlanning&gt; campaignPlanning;\n}\n\n\n@Table(name = &quot;campaign_planning&quot;)\npublic class CampaignPlanning implements Serializable {\n\n    @Id\n    private UUID id;\n\n    @OneToOne\n    @JoinColumn(name = &quot;campaign_id&quot;, insertable = false, updatable = false)\n    @NotFound(action = NotFoundAction.IGNORE)\n    private Campaign campaign;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;super_campaign_id&quot;, insertable = false, updatable = false)\n    private Campaign superCampaign;\n}\n</code></pre>\n<p>But when we run application &amp; try to get campaign_planinng, Even I set fetch = FetchType.LAZY on campaign_planning, it still included in my query.</p>\n<p>What could be the issue here?</p>\n<pre><code>select \n  campaignpl0_.*,\n  campaign1_.*,\n  campaign2_.*,  \n  schedulein3_.*,\nfrom \n  campaign_planning campaignpl0_ \n  left outer join campaign campaign1_ on campaignpl0_.campaign_id = campaign1_.id \n  left outer join campaign campaign2_ on campaign1_.parent_id = campaign2_.id \n  left outer join schedule_info schedulein3_ on campaign2_.id = schedulein3_.campaign_id \nwhere \n  campaignpl0_.super_campaign_id = ?\n</code></pre>\n",
    "tags" : [ "java", "spring", "hibernate" ],
    "owner" : {
      "account_id" : 7015598,
      "reputation" : 21,
      "user_id" : 5377064,
      "user_type" : "registered",
      "profile_image" : "https://lh4.googleusercontent.com/-iwSRAUfgKOc/AAAAAAAAAAI/AAAAAAAAAHc/CkdLeHdqJR0/s256-rj/photo.jpg",
      "display_name" : "Opt SD",
      "link" : "https://stackoverflow.com/users/5377064/opt-sd"
    },
    "is_answered" : false,
    "view_count" : 68,
    "answer_count" : 0,
    "score" : 0,
    "last_activity_date" : 1743330318,
    "creation_date" : 1743320304,
    "link" : "https://stackoverflow.com/questions/79544294/hibernate-genarate-query-is-unexpected",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ ],
  "question_comments" : [ {
    "comment_id" : 140281241,
    "post_id" : 79544294,
    "body" : "You get the planning, which has a non- lazy campaign, which has a non lazy campaign again (in the form of the parent), which also retrieve the schedule info. So at first sight I would say nothing is wrong with this it does exactly what you ask it to do (which might nog be what you expect but that is how you configured your mappings).",
    "score" : 0,
    "owner" : {
      "account_id" : 3192259,
      "reputation" : 126800,
      "user_id" : 2696260,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/qHEzx.png?s=256",
      "display_name" : "M. Deinum",
      "link" : "https://stackoverflow.com/users/2696260/m-deinum"
    },
    "creation_date" : 1743405650,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}