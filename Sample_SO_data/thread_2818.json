{
  "question" : {
    "question_id" : 79592976,
    "title" : "Hibernate Envers OneToOne relation class column is not audited properly",
    "body" : "<p>I have OrderReqeust entity and corresponding audit table &quot;order_request_aud&quot; for it. I'm trying to audit &quot;order_id&quot; column from OneToOne relation.</p>\n<p>In &quot;OrderReqeust&quot; I have OneToOne relation with Order entity and for some reason in audit table order_id is always empty (null).</p>\n<p>but in the iternal id column of &quot;order_request_aud&quot; table saved is actual order_id.</p>\n<p>is it possible to do somehow that the order_id in audit table will be also properly saved ?\n<a href=\"https://i.sstatic.net/QsKd1Pln.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/QsKd1Pln.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>CREATE TABLE order_request_aud\n(\n    id                bigint NOT NULL,\n    rev               integer REFERENCES rev_info (id),\n    REVEND            integer REFERENCES rev_info (id),\n    revtype           smallint,\n    revend_tstmp      timestamp,\n\n    order_id          bigint,\n    feedback_date     date,\n    order_id_mod      boolean,\n    feedback_date_mod boolean,\n\n    PRIMARY KEY (id, rev)\n);\n\n@Entity\n@Table(name = &quot;order_request&quot;)\n@Audited(withModifiedFlag = true)\n@AuditTable(value = &quot;order_request_aud&quot;)\n@NoArgsConstructor\npublic class OrderRequest {\n\n    @Id\n    private Long id;\n\n    @Audited(targetAuditMode = RelationTargetAuditMode.NOT_AUDITED)\n    @OneToOne(cascade = CascadeType.ALL, fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;id&quot;)\n    @MapsId\n    private Order order;\n\n    @Column(name = &quot;feedback_date&quot;)\n    private LocalDate feedbackDate;\n\n    @Column(name = &quot;title&quot;)\n    @NotAudited\n    private String title;\n\n    @Column(name = &quot;description&quot;)\n    @NotAudited\n    private String description;\n}\n\n@Entity\n@Table(name = &quot;order&quot;)\n@Getter\n@Setter\n@AuditTable(value=&quot;order_aud&quot;)\npublic class Order {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    private Long id;\n    \n    //....\n    \n}\n</code></pre>\n",
    "tags" : [ "java", "hibernate-envers", "spring-data-envers" ],
    "owner" : {
      "account_id" : 10473591,
      "reputation" : 954,
      "user_id" : 7720801,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/d4ccb860c7f6fa533f75bce122146a36?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "LDropl",
      "link" : "https://stackoverflow.com/users/7720801/ldropl"
    },
    "is_answered" : false,
    "view_count" : 48,
    "answer_count" : 0,
    "score" : 0,
    "last_activity_date" : 1745608428,
    "creation_date" : 1745599604,
    "link" : "https://stackoverflow.com/questions/79592976/hibernate-envers-onetoone-relation-class-column-is-not-audited-properly",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ ],
  "question_comments" : [ ],
  "answer_comments" : { }
}