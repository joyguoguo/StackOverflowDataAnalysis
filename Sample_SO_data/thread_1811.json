{
  "question" : {
    "question_id" : 79672801,
    "title" : "Using Gson fromJson() to Create Instances of Java Classes from JSON With Dynnamic @SerializedName Annotation Value",
    "body" : "<p>I have this JSON snippet. My problem is the key under transactions{} in this example it is set to &quot;Request ID 000002&quot;  However this is part of a response to an API request and that value will change.  It will always be what is between the [] in the &quot;found detail&quot; property, but I won't know what it is until I POST the request and receive the response.</p>\n<pre><code> &quot;response_state&quot; : {\n      &quot;filter_records_removed&quot; : 0,\n      &quot;filter_records_reviewed&quot; : 1,\n      &quot;filter_redaction&quot; : false,\n      &quot;found&quot; : 1,\n      &quot;found_detail&quot; : &quot;Found Records [Request ID 000002] available the time of query&quot;,\n      &quot;missing&quot; : 0,\n      &quot;results&quot; : true,\n            &quot;transactions&quot; : {\n                &quot;Request ID 000002&quot; : {\n            &quot;complete&quot; : false,\n            &quot;confirmed&quot; : false,\n            &quot;event_transaction_id&quot; : &quot;Request ID 000002&quot;,\n            &quot;event_type&quot; : &quot;software_update&quot;,\n            &quot;expiration_mark&quot; : false,\n            &quot;expiry&quot; : 1727559823240 \n}\n}\n\n</code></pre>\n<p>This is the Java Class.  I can't really define the value of the @SerializedName ahead of time like it is here in the example.</p>\n<pre><code>public class EFDTransactions {\n \n    @SerializedName(&quot;Request ID 000002&quot;)\n    @Expose private EFDTransaction transaction; \n    \n\n    public EFDTransactions() {\n        // TODO Auto-generated constructor stub\n    }\n\n    public EFDTransaction getTransaction() {\n        return transaction;\n    }\n\n    public void setTransaction(EFDTransaction transaction) {\n        this.transaction = transaction;\n    }\n\n</code></pre>\n<p>I am trying to create the class structure so that I can do something like this, where I have already created a JsonObject from the JSON string that was returned from the API request:</p>\n<pre><code>Gson rspgson = new GsonBuilder().excludeFieldsWithoutExposeAnnotation() \n                .create();//new Gson();\n//responsejobj is the JsonObject created from the JSON string that is the response\n        EFDTransactions trans = rspgson.fromJson(responsejobj,EFDTransactions.class);\n</code></pre>\n<p>Do I need to write a custom deserializer?  I found this thread on using Reflection to modify the @SerializedName annotation value. I have not tried it yet.  Is there another approach?</p>\n<p><a href=\"https://stackoverflow.com/questions/14268981/modify-a-class-definitions-annotation-string-parameter-at-runtime/14276270\">Modify a class definition&#39;s annotation string parameter at runtime</a></p>\n<p>I found this thread, but this isn't Java:\n<a href=\"https://stackoverflow.com/questions/58511235/set-dynamic-serializedname-annotation-for-gson-data-class\">Set Dynamic SerializedName annotation for Gson data class</a></p>\n<p>I found this thread and tried creating a Map, that did not work.  The map was null after the fromJson().  It works using the above class with the test known value for @SerializedName:\n<a href=\"https://stackoverflow.com/questions/69973850/set-dynamic-serializedname-annotation-in-android-java\">Set Dynamic SerializedName annotation in android java</a></p>\n<p>Here is the same class I created with a Map</p>\n<p>public class EFDTransactions {</p>\n<pre><code>@Expose public Map&lt;String, EFDTransaction&gt; transaction;\n\n\npublic EFDTransactions() {\n    // TODO Auto-generated constructor stub\n}\n\npublic Map&lt;String, EFDTransaction&gt; getTransaction() {\n    return transaction;\n}\n</code></pre>\n",
    "tags" : [ "java", "json", "gson" ],
    "owner" : {
      "account_id" : 1052371,
      "reputation" : 1234,
      "user_id" : 1055951,
      "user_type" : "registered",
      "accept_rate" : 78,
      "profile_image" : "https://www.gravatar.com/avatar/cc54eea970101df2fb300d22fe96e24a?s=256&d=identicon&r=PG",
      "display_name" : "crokett",
      "link" : "https://stackoverflow.com/users/1055951/crokett"
    },
    "is_answered" : false,
    "view_count" : 73,
    "answer_count" : 1,
    "score" : 0,
    "last_activity_date" : 1750467917,
    "creation_date" : 1750385218,
    "link" : "https://stackoverflow.com/questions/79672801/using-gson-fromjson-to-create-instances-of-java-classes-from-json-with-dynnami",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79674069,
    "question_id" : 79672801,
    "body" : "<p>I figured out the problem.  I had this where the RootObject class has an EFDTransaction class defined that then has the Map&lt;&gt; defined in it:</p>\n<pre><code>\n\npublic class RootObject {\n    \n    \n    @SerializedName(&quot;transactions&quot;) \n    @Expose private EFDTransactions transaction; \n    \n}\n\npublic class EFDTransactions {\n\n    @Expose public Map&lt;String, EFDTransaction&gt; transactions = new HashMap&lt;String, EFDTransaction&gt;();\n}\n\npublic class EFDEventTransaction {\n    \n    @SerializedName(&quot;complete&quot;) \n    @Expose private boolean complete; \n}\n</code></pre>\n<p>What I should have done is this where the Map&lt;&gt; is defined directly in the RootObject class</p>\n<pre><code>\n\npublic class RootObject {\n    \n    @SerializedName(&quot;transactions&quot;) \n    @Expose public Map&lt;String, EFDTransaction&gt; transactions = new HashMap&lt;String, EFDTransaction&gt;();\n    \n}\n</code></pre>\n<pre><code></code></pre>\n",
    "score" : 0,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 1052371,
      "reputation" : 1234,
      "user_id" : 1055951,
      "user_type" : "registered",
      "accept_rate" : 78,
      "profile_image" : "https://www.gravatar.com/avatar/cc54eea970101df2fb300d22fe96e24a?s=256&d=identicon&r=PG",
      "display_name" : "crokett",
      "link" : "https://stackoverflow.com/users/1055951/crokett"
    },
    "creation_date" : 1750467917,
    "last_activity_date" : 1750467917,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140529533,
    "post_id" : 79672801,
    "body" : "to be clear the Map variable name should be &quot;transactions&quot; and not &quot;transaction&quot;?  I just tried that, and it did not work.  The Map now declaration looks like this:  @Expose public Map&lt;String, EFDTransaction&gt; transactions;",
    "score" : 0,
    "owner" : {
      "account_id" : 1052371,
      "reputation" : 1234,
      "user_id" : 1055951,
      "user_type" : "registered",
      "accept_rate" : 78,
      "profile_image" : "https://www.gravatar.com/avatar/cc54eea970101df2fb300d22fe96e24a?s=256&d=identicon&r=PG",
      "display_name" : "crokett",
      "link" : "https://stackoverflow.com/users/1055951/crokett"
    },
    "creation_date" : 1750423525,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140528895,
    "post_id" : 79672801,
    "body" : "It is <code>transactions</code>, with an <code>s</code>. It should work with the map.",
    "score" : 0,
    "owner" : {
      "account_id" : 1601399,
      "reputation" : 638,
      "user_id" : 1482356,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/d6160b6e40d230fa92c6da8072b2f7e5?s=256&d=identicon&r=PG",
      "display_name" : "Peter Adrian",
      "link" : "https://stackoverflow.com/users/1482356/peter-adrian"
    },
    "creation_date" : 1750408285,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}