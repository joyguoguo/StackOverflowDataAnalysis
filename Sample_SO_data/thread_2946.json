{
  "question" : {
    "question_id" : 79583515,
    "title" : "Unable to Autowire JavaMailSender in Spring Boot 3.4.4 with Java 21 and MailDev",
    "body" : "<p>I'm currently working on a Spring Boot  3.4.4 application using Java 21. I'm trying to send emails using JavaMailSender, and I have <a href=\"https://maildev.github.io/maildev/\" rel=\"nofollow noreferrer\"><em>MailDev</em></a> running locally for development.</p>\n<p>However, I'm facing this error:</p>\n<blockquote>\n<p>Could not autowire. No beans of 'JavaMailSender' type found.</p>\n</blockquote>\n<p>Here's a quick overview of my setup:</p>\n<p>Java version: 21</p>\n<p>Spring Boot version: 3.4.4</p>\n<p>MailDev is running on:</p>\n<p>SMTP server: localhost:1025</p>\n<p>Web UI: http://localhost:1080</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  mail:\n    host: localhost\n    port: 1025\n    properties:\n      mail:\n        smtp:\n          auth: false\n          starttls:\n            enable: false\n</code></pre>\n<p>And in my EmailService class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\n@RequiredArgsConstructor\npublic class EmailService {\n\n    private final JavaMailSender mailSender;\n    private final SpringTemplateEngine templateEngine;\n\n    public void sendEmail(...) throws MessagingException {\n        MimeMessage mimeMessage = mailSender.createMimeMessage();\n        // ...\n        mailSender.send(mimeMessage);\n    }\n}\n</code></pre>\n<p>✅ MailDev is running correctly and I can access the web UI on localhost:1080.</p>\n<p>❌ But JavaMailSender is not being injected, and I can't send any email.</p>\n<p>Things I've tried:</p>\n<ul>\n<li>Confirmed that spring-boot-starter-mail is included in pom.xml</li>\n<li>Double-checked the port and host of MailDev</li>\n<li>Tried both constructor and field injection</li>\n<li>Confirmed MailDev is reachable on port 1025</li>\n</ul>\n<p>Question:</p>\n<p>How can I properly configure JavaMailSender to work with MailDev in a Spring Boot 3.4.4 app using Java 21?</p>\n<p>Is there something missing or incompatible between the versions?</p>\n",
    "tags" : [ "java", "spring-boot", "spring-boot-3" ],
    "owner" : {
      "account_id" : 41490765,
      "reputation" : 1,
      "user_id" : 30314432,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/dfb2e2d10917e04f75c96f19baadd959?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Chibani Mouhamed Ali",
      "link" : "https://stackoverflow.com/users/30314432/chibani-mouhamed-ali"
    },
    "is_answered" : false,
    "view_count" : 206,
    "answer_count" : 1,
    "score" : 0,
    "last_activity_date" : 1745169292,
    "creation_date" : 1745165082,
    "link" : "https://stackoverflow.com/questions/79583515/unable-to-autowire-javamailsender-in-spring-boot-3-4-4-with-java-21-and-maildev",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79583578,
    "question_id" : 79583515,
    "body" : "<p>If Spring Boot's auto-configuration isn't creating the <strong><code>JavaMailSender</code></strong> bean automatically (resulting in <strong><code>No beans of 'JavaMailSender' type found</code></strong>), you can manually configure it. This approach ensures the bean is properly initialized, especially when working with local SMTP servers like <strong>MailDev</strong>.</p>\n",
    "score" : -2,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 41490765,
      "reputation" : 1,
      "user_id" : 30314432,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/dfb2e2d10917e04f75c96f19baadd959?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Chibani Mouhamed Ali",
      "link" : "https://stackoverflow.com/users/30314432/chibani-mouhamed-ali"
    },
    "creation_date" : 1745169292,
    "last_activity_date" : 1745169292,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140356609,
    "post_id" : 79583515,
    "body" : "What doesn&#39;t work? Do yu get an error during startup? Is the bean not injected? Describe what is happening, that is all vague now. Please also show your dependencies that you are using.",
    "score" : 0,
    "owner" : {
      "account_id" : 3192259,
      "reputation" : 126800,
      "user_id" : 2696260,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/qHEzx.png?s=256",
      "display_name" : "M. Deinum",
      "link" : "https://stackoverflow.com/users/2696260/m-deinum"
    },
    "creation_date" : 1745302256,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140353097,
    "post_id" : 79583515,
    "body" : "If spring.mail.host and the relevant libraries (as defined by spring-boot-starter-mail) are available, a default JavaMailSender is created if none exists. (Ref: <a href=\"https://docs.spring.io/spring-boot/reference/io/email.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/reference/io/email.html</a>)",
    "score" : 0,
    "owner" : {
      "account_id" : 7754452,
      "reputation" : 1199,
      "user_id" : 5869325,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/21717b8e038253015328e95a4b2c01f1?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "aydinugur",
      "link" : "https://stackoverflow.com/users/5869325/aydinugur"
    },
    "creation_date" : 1745184620,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140352672,
    "post_id" : 79583515,
    "body" : "thank you ,I manually configured it. and it&#39;s injected",
    "score" : 0,
    "owner" : {
      "account_id" : 41490765,
      "reputation" : 1,
      "user_id" : 30314432,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/dfb2e2d10917e04f75c96f19baadd959?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Chibani Mouhamed Ali",
      "link" : "https://stackoverflow.com/users/30314432/chibani-mouhamed-ali"
    },
    "creation_date" : 1745169415,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140352598,
    "post_id" : 79583515,
    "body" : "Add <code>username: &#39;&#39;  password: &#39;&#39;</code> to email conifg yaml and check",
    "score" : 0,
    "owner" : {
      "account_id" : 7645025,
      "reputation" : 440,
      "user_id" : 5795975,
      "user_type" : "registered",
      "profile_image" : "https://lh6.googleusercontent.com/-6KwPUS4RnyA/AAAAAAAAAAI/AAAAAAAAC8w/auZqreI45x0/s256-rj/photo.jpg",
      "display_name" : "Vijay",
      "link" : "https://stackoverflow.com/users/5795975/vijay"
    },
    "creation_date" : 1745167314,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140352580,
    "post_id" : 79583515,
    "body" : "I fixed some of the formatting issues in your Question. Study my edits to learn.",
    "score" : 0,
    "owner" : {
      "account_id" : 322981,
      "reputation" : 346951,
      "user_id" : 642706,
      "user_type" : "registered",
      "accept_rate" : 58,
      "profile_image" : "https://i.sstatic.net/ZWEI3.jpg?s=256",
      "display_name" : "Basil Bourque",
      "link" : "https://stackoverflow.com/users/642706/basil-bourque"
    },
    "creation_date" : 1745166524,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}