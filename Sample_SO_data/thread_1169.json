{
  "question" : {
    "question_id" : 79735926,
    "title" : "Checkbox text not aligned with checkbox",
    "body" : "<p>I'm creating a GUI that includes a checkbox using Java, Swing, and GridBaglayout for the host JPanel. I cannot get the text to align with the checkbox; it's sitting too high:</p>\n<p><a href=\"https://i.sstatic.net/oTcfEVRA.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/oTcfEVRA.jpg\" alt=\"enter image description here\" /></a></p>\n<p>I'm running on Windows, using OpenJDK 24.0.1 and the IntelliJ IDE with a 4K monitor.</p>\n<p>Here is a minimum reproducable example:</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\n\npublic class Main {\n    public static void main(String[] args) {\n        /*=============\n        / Declarations\n        /=============*/\n        Color bgColor = Color.BLACK;\n\n        /*========================\n        / Create the master frame\n        /========================*/\n        JFrame frame = new JFrame();\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setTitle(&quot;Checkbox Alignment Test&quot;);\n        frame.getContentPane().setLayout(new BoxLayout(frame.getContentPane(), BoxLayout.Y_AXIS));\n        frame.setSize(200, 50);\n        frame.getContentPane().setBackground(bgColor);\n        frame.setLayout(new BorderLayout(0, 0));\n\n        /*========================\n        / Create the master panel\n        /========================*/\n        JPanel mainPanel = new JPanel();\n        mainPanel.setLayout(new BoxLayout(mainPanel, BoxLayout.Y_AXIS));\n        mainPanel.setLayout(new GridBagLayout());\n        mainPanel.setBackground(bgColor);\n        mainPanel.setPreferredSize(new Dimension(200, 50));\n\n        /*==================================================\n        / Create the widgets and add them to the main panel\n        /==================================================*/\n        Font normFont = new Font(&quot;Calibri&quot;, Font.PLAIN, 16);\n        GridBagConstraints gbc = new GridBagConstraints();\n\n        JCheckBox cbEnabled = new JCheckBox(&quot;Monitoring Enabled&quot;);\n        cbEnabled.setFont(normFont);\n        cbEnabled.setForeground(Color.BLACK);\n        cbEnabled.setFont(normFont);\n        cbEnabled.setVerticalAlignment(SwingConstants.CENTER);\n        gbc.ipadx = 5;\n        gbc.ipady = 5;\n        gbc.insets = new Insets(1, 5, 1, 5);\n        gbc.fill = GridBagConstraints.NONE;\n        gbc.anchor = GridBagConstraints.WEST;\n        gbc.gridx = 0;\n        gbc.gridy = 0;\n        gbc.gridwidth = 1;\n        gbc.weightx = .25;\n        mainPanel.add(cbEnabled, gbc);\n\n        /*=====================================================\n        / Add the main panel to the frame and make it visible.\n        /=====================================================*/\n        frame.add(mainPanel);\n        frame.pack();\n        frame.setLocationRelativeTo(null); // Center the frame\n        frame.setVisible(true);\n\n        while (true) {\n\n        }\n    }\n}\n</code></pre>\n<p>I've tried changing the settings for gbc.ipady, gbc.fill, gbc.anchor, and the vertical size of the JCheckBox itself - nothing seems to work.  What am I missing?</p>\n",
    "tags" : [ "java", "swing", "jcheckbox" ],
    "owner" : {
      "account_id" : 13778033,
      "reputation" : 63,
      "user_id" : 9943879,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/e65447a6f5031b9a435a2e647b048db2?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "BillR",
      "link" : "https://stackoverflow.com/users/9943879/billr"
    },
    "is_answered" : true,
    "view_count" : 105,
    "answer_count" : 1,
    "score" : 1,
    "last_activity_date" : 1755303603,
    "creation_date" : 1755208033,
    "link" : "https://stackoverflow.com/questions/79735926/checkbox-text-not-aligned-with-checkbox",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79736909,
    "question_id" : 79735926,
    "body" : "<p>Following Marce Puente's advice, I commented out the .setFont statement and the text is now aligned.  Thanks!</p>\n",
    "score" : 1,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 13778033,
      "reputation" : 63,
      "user_id" : 9943879,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/e65447a6f5031b9a435a2e647b048db2?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "BillR",
      "link" : "https://stackoverflow.com/users/9943879/billr"
    },
    "creation_date" : 1755303603,
    "last_activity_date" : 1755303603,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140671512,
    "post_id" : 79735926,
    "body" : "The &quot;while (true)&quot; statement is just for the example.  The duplicate font setting was also an artifact of quickly throwing together minimal example code.  As I stated earlier, the setFont() call was the culprit.",
    "score" : 0,
    "owner" : {
      "account_id" : 13778033,
      "reputation" : 63,
      "user_id" : 9943879,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/e65447a6f5031b9a435a2e647b048db2?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "BillR",
      "link" : "https://stackoverflow.com/users/9943879/billr"
    },
    "creation_date" : 1755440602,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140669546,
    "post_id" : 79735926,
    "body" : "I believe the problem is the <code>Font</code>, try removing <b>both</b> calls to <code>setFont()</code> (two times? mininmal?) -- I can reproduce the problem using <code>Calibri</code>; not happening with <code>Dialog</code> or <code>Monospaced</code> (for example)",
    "score" : 1,
    "owner" : {
      "account_id" : 31180,
      "reputation" : 29752,
      "user_id" : 85421,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/kKvXH.gif?s=256",
      "display_name" : "user85421",
      "link" : "https://stackoverflow.com/users/85421/user85421"
    },
    "creation_date" : 1755331961,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140669542,
    "post_id" : 79735926,
    "body" : "<code>while (true) { }</code> ?? Is that really needed? (<b>minimal</b>?) (is setting the Layout Manager two times also needed/minimal?)",
    "score" : 0,
    "owner" : {
      "account_id" : 31180,
      "reputation" : 29752,
      "user_id" : 85421,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/kKvXH.gif?s=256",
      "display_name" : "user85421",
      "link" : "https://stackoverflow.com/users/85421/user85421"
    },
    "creation_date" : 1755331602,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140669206,
    "post_id" : 79735926,
    "body" : "I edited the post and added sample code that anyone should be able to run.  Hopefully that answers all the questions asked by respondents above.",
    "score" : 0,
    "owner" : {
      "account_id" : 13778033,
      "reputation" : 63,
      "user_id" : 9943879,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/e65447a6f5031b9a435a2e647b048db2?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "BillR",
      "link" : "https://stackoverflow.com/users/9943879/billr"
    },
    "creation_date" : 1755303374,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140668210,
    "post_id" : 79735926,
    "body" : "unable to reproduce it using a <code>JPanel</code> with plain <code>GridBagLayout</code> being displayed on a  <code>JOptionPane</code> (<a href=\"https://i.sstatic.net/MBfc3oRp.png\" rel=\"nofollow noreferrer\">screenshot</a> from jshell) -- hard to help since we cannot see the code regarding the panel, that is, how it is being created and displayed; posted code is <b>not</b> the problem -- as already suggested, include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>",
    "score" : 0,
    "owner" : {
      "account_id" : 31180,
      "reputation" : 29752,
      "user_id" : 85421,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/kKvXH.gif?s=256",
      "display_name" : "user85421",
      "link" : "https://stackoverflow.com/users/85421/user85421"
    },
    "creation_date" : 1755266170,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140667921,
    "post_id" : 79735926,
    "body" : "Hello Bill, <b>gbc</b> has nothing to do with the problem you mention, since it controls where the component will be drawn on the screen, but not how it will be drawn. Something similar happens with <b>SetPreferredSize()</b>. I suspect that the problem stems from configuring the <i>Font</i> object used by the application (some fonts do not respect the standard format). If so, you can change the font, or you can try using: <b>cbEnabled.setVerticalTextPosition( SwingConstants.TOP );</b>. Perhaps with that small modification, it will be aligned.",
    "score" : 0,
    "owner" : {
      "account_id" : 10843443,
      "reputation" : 916,
      "user_id" : 20882864,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/CCQCy.jpg?s=256",
      "display_name" : "Marce Puente",
      "link" : "https://stackoverflow.com/users/20882864/marce-puente"
    },
    "creation_date" : 1755258810,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140667654,
    "post_id" : 79735926,
    "body" : "@JustanotherJavaprogrammer I think this line of code in the question means that the OP is <b>not</b> <i>using a jlabel together with a jcheckbox</i>: <code>JCheckBox cbEnabled = new JCheckBox(&quot;Monitoring Enabled&quot;)</code>",
    "score" : 1,
    "owner" : {
      "account_id" : 2485939,
      "reputation" : 20969,
      "user_id" : 2164365,
      "user_type" : "registered",
      "accept_rate" : 40,
      "profile_image" : "https://i.sstatic.net/RKSgV.png?s=256",
      "display_name" : "Abra",
      "link" : "https://stackoverflow.com/users/2164365/abra"
    },
    "creation_date" : 1755250406,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140667120,
    "post_id" : 79735926,
    "body" : "@XavierPedraza <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/gridbag.html\" rel=\"nofollow noreferrer\">GridBagLayout</a> uses the components&#39; preferred sizes to determine how big the cells should be, so I doubt whether explicitly setting the preferred size will cause the problem that the OP is describing.",
    "score" : 0,
    "owner" : {
      "account_id" : 2485939,
      "reputation" : 20969,
      "user_id" : 2164365,
      "user_type" : "registered",
      "accept_rate" : 40,
      "profile_image" : "https://i.sstatic.net/RKSgV.png?s=256",
      "display_name" : "Abra",
      "link" : "https://stackoverflow.com/users/2164365/abra"
    },
    "creation_date" : 1755230242,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140667106,
    "post_id" : 79735926,
    "body" : "I haven’t been able to reproduce this behavior.  Please edit your question and give us a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> so we can see the problem for ourselves.  Also, it might be useful to know what version of Java you’re using.",
    "score" : 2,
    "owner" : {
      "account_id" : 2053598,
      "reputation" : 44936,
      "user_id" : 1831987,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/38b1c37530189ec4471a43a618e33f67?s=256&d=identicon&r=PG",
      "display_name" : "VGR",
      "link" : "https://stackoverflow.com/users/1831987/vgr"
    },
    "creation_date" : 1755229554,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140666748,
    "post_id" : 79735926,
    "body" : "Even with the SetPreferredSize commented out, it does the exact same thing.",
    "score" : 0,
    "owner" : {
      "account_id" : 13778033,
      "reputation" : 63,
      "user_id" : 9943879,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/e65447a6f5031b9a435a2e647b048db2?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "BillR",
      "link" : "https://stackoverflow.com/users/9943879/billr"
    },
    "creation_date" : 1755209488,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140666736,
    "post_id" : 79735926,
    "body" : "Mixing hardcoded dimensions with a dynamic layout like GridBagLayout typically doesn&#39;t go well. The idea is that you allocate a rect of grid cells to each element and the element goes along for the ride.",
    "score" : 4,
    "owner" : {
      "account_id" : 14914414,
      "reputation" : 1185,
      "user_id" : 10808904,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/Ts8fIsJj.png?s=256",
      "display_name" : "Xavier Pedraza",
      "link" : "https://stackoverflow.com/users/10808904/xavier-pedraza"
    },
    "creation_date" : 1755208908,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}