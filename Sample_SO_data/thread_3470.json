{
  "question" : {
    "question_id" : 79547402,
    "title" : "Placing a red dot badge on a NavigationView MenuItem near the menu icon",
    "body" : "<p>To place a red dot badge on <code>NavigationView</code>'s <code>MenuItem</code>, this is what I have performed.</p>\n<pre><code>&lt;!-- res/layout/badged_settings_menu.xml --&gt;\n&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;&gt;\n\n    &lt;!-- This TextView will serve as the badge --&gt;\n    &lt;TextView\n        android:id=&quot;@+id/menu_badge&quot;\n        android:layout_width=&quot;16dp&quot;\n        android:layout_height=&quot;16dp&quot;\n        android:background=&quot;@drawable/badge_background&quot;\n        android:gravity=&quot;center&quot;\n        android:visibility=&quot;visible&quot; /&gt;\n&lt;/FrameLayout&gt;\n\n&lt;!-- res/drawable/badge_background.xml --&gt;\n&lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:shape=&quot;oval&quot;&gt;\n    &lt;solid android:color=&quot;#F44336&quot; /&gt; &lt;!-- Red color --&gt;\n&lt;/shape&gt;\n\nprivate void updateSettingsMenuBadge() {\n    if (navigationView != null) {\n        Menu menu = navigationView.getMenu();\n\n        MenuItem settingsMenuItem = menu.findItem(R.id.nav_settings);\n\n        // Inflate the custom action view if not already set\n        if (settingsMenuItem.getActionView() == null) {\n            settingsMenuItem.setActionView(R.layout.badged_settings_menu);\n        }\n    }\n}\n</code></pre>\n<p>This is how it looks like.</p>\n<p><a href=\"https://i.sstatic.net/Cfypd0rk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/Cfypd0rk.png\" alt=\"enter image description here\" /></a></p>\n<p>However, what I wish to achieve, is to place the red dot near the Settings icon (gear icon)</p>\n<p>May I know, how I can achieve so?</p>\n<p>Thanks.</p>\n",
    "tags" : [ "java", "android" ],
    "owner" : {
      "account_id" : 27431,
      "reputation" : 42852,
      "user_id" : 72437,
      "user_type" : "registered",
      "accept_rate" : 86,
      "profile_image" : "https://i.sstatic.net/ay0Dg.jpg?s=256",
      "display_name" : "Cheok Yan Cheng",
      "link" : "https://stackoverflow.com/users/72437/cheok-yan-cheng"
    },
    "is_answered" : false,
    "view_count" : 120,
    "answer_count" : 1,
    "score" : 0,
    "last_activity_date" : 1743616377,
    "creation_date" : 1743462083,
    "link" : "https://stackoverflow.com/questions/79547402/placing-a-red-dot-badge-on-a-navigationview-menuitem-near-the-menu-icon",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79548138,
    "question_id" : 79547402,
    "body" : "<h3><strong>1. Updated XML Layout for Badge (<code>res/layout/badged_settings_menu.xml</code>)</strong></h3>\n<p>Make sure the red dot (badge) is properly positioned relative to the settings icon.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n     android:layout_width=&quot;wrap_content&quot;\n     android:layout_height=&quot;wrap_content&quot;&gt;\n      &lt;!-- Settings Icon (Placeholder for your actual icon if needed) --&gt;\n     &lt;ImageView\n         android:id=&quot;@+id/menu_icon&quot;\n         android:layout_width=&quot;24dp&quot;\n         android:layout_height=&quot;24dp&quot;\n         android:src=&quot;@drawable/ic_settings&quot; /&gt;\n      &lt;!-- Red Dot Badge --&gt;\n     &lt;TextView\n         android:id=&quot;@+id/menu_badge&quot;\n         android:layout_width=&quot;10dp&quot;\n         android:layout_height=&quot;10dp&quot;\n         android:layout_gravity=&quot;end|top&quot;\n         android:layout_marginEnd=&quot;2dp&quot;\n         android:layout_marginTop=&quot;2dp&quot;\n         android:background=&quot;@drawable/badge_background&quot;\n         android:visibility=&quot;gone&quot; /&gt;\n &lt;/FrameLayout&gt;\n</code></pre>\n<hr />\n<h3><strong>2. Badge Background (<code>res/drawable/badge_background.xml</code>)</strong></h3>\n<p>This ensures the red dot appears as expected.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n     android:shape=&quot;oval&quot;&gt;\n     &lt;solid android:color=&quot;#F44336&quot; /&gt;\n &lt;!-- Red color --&gt;\n     &lt;size android:width=&quot;10dp&quot; android:height=&quot;10dp&quot;/&gt;\n     &lt;corners android:radius=&quot;5dp&quot;/&gt;\n &lt;/shape&gt;\n</code></pre>\n<hr />\n<h3><strong>3. Java/Kotlin Code for Badge Handling</strong></h3>\n<p>Modify your method to make the badge visible when needed.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void updateSettingsMenuBadge(boolean showBadge) {\n     if (navigationView != null) {\n         Menu menu = navigationView.getMenu();\n         MenuItem settingsMenuItem = menu.findItem(R.id.nav_settings);\n          // Inflate custom action view if not set\n         if (settingsMenuItem.getActionView() == null) {\n             settingsMenuItem.setActionView(R.layout.badged_settings_menu);\n         }\n          View actionView = settingsMenuItem.getActionView();\n         TextView badge = actionView.findViewById(R.id.menu_badge);\n          if (showBadge) {\n             badge.setVisibility(View.VISIBLE);\n         } else {\n             badge.setVisibility(View.GONE);\n         }\n          actionView.setOnClickListener(v -&gt; navigationView.performItemAction(settingsMenuItem, 0));\n     }\n }\n</code></pre>\n<pre class=\"lang-kotlin prettyprint-override\"><code>private fun updateSettingsMenuBadge(showBadge: Boolean) {\n     navigationView?.menu?.findItem(R.id.nav_settings)?.let { settingsMenuItem -&gt;\n         if (settingsMenuItem.actionView == null) {\n             settingsMenuItem.actionView = LayoutInflater.from(this).inflate(R.layout.badged_settings_menu, null)\n         }\n          val actionView = settingsMenuItem.actionView\n         val badge = actionView.findViewById&lt;TextView&gt;(R.id.menu_badge)\n          badge.visibility = if (showBadge) View.VISIBLE else View.GONE\n          actionView.setOnClickListener {             navigationView?.performItemAction(settingsMenuItem, 0)\n         }\n     }\n }\n</code></pre>\n<hr />\n<h3><strong>4. Call <code>updateSettingsMenuBadge(true)</code> When Needed</strong></h3>\n<p>Use it when you want to <strong>show</strong> or <strong>hide</strong> the red dot:</p>\n<pre class=\"lang-java prettyprint-override\"><code>updateSettingsMenuBadge(true);  // Show badge\nupdateSettingsMenuBadge(false); // Hide badge\n</code></pre>\n",
    "score" : 0,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 39748073,
      "reputation" : 1,
      "user_id" : 29431236,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/206b0eb0b9db35467a143ac4f1a0caea?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Shailaja tripathi",
      "link" : "https://stackoverflow.com/users/29431236/shailaja-tripathi"
    },
    "creation_date" : 1743497440,
    "last_activity_date" : 1743616377,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ ],
  "answer_comments" : { }
}