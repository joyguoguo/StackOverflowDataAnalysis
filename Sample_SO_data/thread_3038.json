{
  "question" : {
    "question_id" : 79575870,
    "title" : "Testing failing because of java.lang.AssertionError: Activity never becomes requested state",
    "body" : "<p>I am new to instrumented tests and I am not able to have my very first test class to run. It is failing with this error:</p>\n<blockquote>\n<p>java.lang.AssertionError: Activity never becomes requested state\n&quot;[RESUMED, DESTROYED, STARTED, CREATED]&quot; (last lifecycle transition =\n&quot;PRE_ON_CREATE&quot;)</p>\n</blockquote>\n<p>The test class is very simple, just contains a method to test a <code>Fragment</code> method that validates if the <code>EditText</code> are empty:</p>\n<pre><code>@RunWith(AndroidJUnit4.class)\npublic class CiudadFormularioFragmentInstrumentedTest {\n    private FragmentScenario&lt;CityFormFragment&gt; fragmentScenario;\n\n    @Before\n    public void setUp() {\n        // Launch the fragment\n        fragmentScenario = FragmentScenario.launchInContainer(CityFormFragment.class);\n    }\n\n    @Test\n    public void testValidate() {\n        this.fragmentScenario.onFragment(CityFormFragment -&gt; {\n            assertTrue(CityFormFragment.validate());\n        });\n    }\n}\n</code></pre>\n<p>The <code>validate()</code> method:</p>\n<pre><code>protected boolean validate() {\n    boolean valid = true;\n    for (int i = 0; i &lt; this.mandatory.size(); i++) {\n        View view = this.mandatory.get(i);\n        if (view instanceof EditText) {\n            if (TextUtils.isEmpty(((EditText) view).getText())) {\n                ((EditText) view).setError(this.getResources()\n                        .getString(R.string.missing_data));\n                valid = false;\n            }\n        }\n    }\n    return valid;\n}\n</code></pre>\n<p>Why test is failing with above error? I checked other posts with same error, but can't make mine to work.</p>\n<p>By the way, I am running the test in an emulator.</p>\n",
    "tags" : [ "java", "android", "testing", "android-fragments", "android-testing" ],
    "owner" : {
      "account_id" : 26950443,
      "reputation" : 89,
      "user_id" : 21021740,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/b44f784994bca3b38b999c1365083a2a?s=256&d=identicon&r=PG",
      "display_name" : "xerez",
      "link" : "https://stackoverflow.com/users/21021740/xerez"
    },
    "is_answered" : false,
    "view_count" : 33,
    "answer_count" : 0,
    "score" : 0,
    "last_activity_date" : 1744743883,
    "creation_date" : 1744743883,
    "link" : "https://stackoverflow.com/questions/79575870/testing-failing-because-of-java-lang-assertionerror-activity-never-becomes-requ",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ ],
  "question_comments" : [ ],
  "answer_comments" : { }
}