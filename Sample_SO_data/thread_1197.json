{
  "question" : {
    "question_id" : 79732885,
    "title" : "Why is there increase in APK size after upgrading to Android 15, AGP 8.8.1 and Kotlin 2.0 and why is the androidx.compose.* not being obfuscated?",
    "body" : "<p>[\nI am migrating my project to support Android 15, updating both the target SDK and compile SDK to 35. After upgrading to AGP 8.8.1 and Kotlin 2.0, we noticed an increase of ~2.4 MB in the release APK size.</p>\n<p>Upon inspection, it appears that a specific folder androidx.compose.** is no longer being obfuscated by R8/ProGuard. This results in larger class/method names and potentially unused code being retained.]</p>\n<p><a href=\"https://i.sstatic.net/jyAVn01F.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/jyAVn01F.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>    release {\n    minifyEnabled true\n    debuggable false\n    shrinkResources true\n    proguardFiles proguard-rules.pro\n}\n\n\n    proguard-rules.pro is empty \n</code></pre>\n<p>In older apk with AGP &lt; 7 , Kotlin 1.9.0, target SDK 34 it is working as expected.</p>\n<p>Let me know if you need more details ?</p>\n",
    "tags" : [ "java", "android", "kotlin", "android-studio", "android-jetpack-compose" ],
    "owner" : {
      "account_id" : 16488490,
      "reputation" : 46,
      "user_id" : 11913106,
      "user_type" : "registered",
      "profile_image" : "https://lh4.googleusercontent.com/-UrTnAQykwyE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdj1lgzxK8TByjGTCu6h8PujpnaLw/s256-rj/photo.jpg",
      "display_name" : "vijay kumar",
      "link" : "https://stackoverflow.com/users/11913106/vijay-kumar"
    },
    "is_answered" : false,
    "view_count" : 106,
    "closed_date" : 1754996361,
    "answer_count" : 0,
    "score" : 2,
    "last_activity_date" : 1755010509,
    "creation_date" : 1754987609,
    "link" : "https://stackoverflow.com/questions/79732885/why-is-there-increase-in-apk-size-after-upgrading-to-android-15-agp-8-8-1-and-k",
    "closed_reason" : "Needs details or clarity"
  },
  "answers" : [ ],
  "question_comments" : [ {
    "comment_id" : 140661574,
    "post_id" : 79732885,
    "body" : "Release build is getting generated.",
    "score" : 0,
    "owner" : {
      "account_id" : 16488490,
      "reputation" : 46,
      "user_id" : 11913106,
      "user_type" : "registered",
      "profile_image" : "https://lh4.googleusercontent.com/-UrTnAQykwyE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdj1lgzxK8TByjGTCu6h8PujpnaLw/s256-rj/photo.jpg",
      "display_name" : "vijay kumar",
      "link" : "https://stackoverflow.com/users/11913106/vijay-kumar"
    },
    "creation_date" : 1755053885,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140661558,
    "post_id" : 79732885,
    "body" : "With an empty <code>proguard-rules.pro</code>, this app won&#39;t run away, which makes it unlikely, that any of these release builds ever worked. How would you have built them?",
    "score" : 0,
    "owner" : {
      "account_id" : 263656,
      "reputation" : 79593,
      "user_id" : 549372,
      "user_type" : "registered",
      "accept_rate" : 100,
      "profile_image" : "https://www.gravatar.com/avatar/430cfd8b3056a0425f950cb1c6abd208?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Martin Zeitler",
      "link" : "https://stackoverflow.com/users/549372/martin-zeitler"
    },
    "creation_date" : 1755052550,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140659493,
    "post_id" : 79732885,
    "body" : "I m migrating my project to Android 15.  target SDK to 35",
    "score" : 0,
    "owner" : {
      "account_id" : 16488490,
      "reputation" : 46,
      "user_id" : 11913106,
      "user_type" : "registered",
      "profile_image" : "https://lh4.googleusercontent.com/-UrTnAQykwyE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdj1lgzxK8TByjGTCu6h8PujpnaLw/s256-rj/photo.jpg",
      "display_name" : "vijay kumar",
      "link" : "https://stackoverflow.com/users/11913106/vijay-kumar"
    },
    "creation_date" : 1754989593,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140659455,
    "post_id" : 79732885,
    "body" : "&quot;After upgrading to AGP 8.8.1 and Kotlin 2.0&quot; - from what versions before-hand?",
    "score" : 0,
    "owner" : {
      "account_id" : 9115426,
      "reputation" : 27200,
      "user_id" : 6782707,
      "user_type" : "registered",
      "accept_rate" : 100,
      "profile_image" : "https://www.gravatar.com/avatar/2425200c04f326a53ef0085b703369d6?s=256&d=identicon&r=PG",
      "display_name" : "Edric",
      "link" : "https://stackoverflow.com/users/6782707/edric"
    },
    "creation_date" : 1754988635,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140659441,
    "post_id" : 79732885,
    "body" : "Why is there an increase in APK size after upgrading to AGP 8.8.1 and Kotlin 2.0, and why is the androidx.compose.** package not being obfuscated?",
    "score" : 0,
    "owner" : {
      "account_id" : 16488490,
      "reputation" : 46,
      "user_id" : 11913106,
      "user_type" : "registered",
      "profile_image" : "https://lh4.googleusercontent.com/-UrTnAQykwyE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdj1lgzxK8TByjGTCu6h8PujpnaLw/s256-rj/photo.jpg",
      "display_name" : "vijay kumar",
      "link" : "https://stackoverflow.com/users/11913106/vijay-kumar"
    },
    "creation_date" : 1754988325,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140659433,
    "post_id" : 79732885,
    "body" : "What is the question?",
    "score" : 0,
    "owner" : {
      "account_id" : 5168089,
      "reputation" : 28374,
      "user_id" : 4137489,
      "user_type" : "registered",
      "accept_rate" : 100,
      "profile_image" : "https://www.gravatar.com/avatar/14f5bdcc5bb815c8a6144b0f2e923ac9?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "marstran",
      "link" : "https://stackoverflow.com/users/4137489/marstran"
    },
    "creation_date" : 1754988172,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}