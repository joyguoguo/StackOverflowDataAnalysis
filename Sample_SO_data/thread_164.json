{
  "question" : {
    "question_id" : 79830299,
    "title" : "Springboot custom validator in Service class is executed twice",
    "body" : "<p>I created a custom validator called @UniqueElementsById which I am applying as an annotation to Service method parameter like:</p>\n<pre><code>public interface MenuDetailService {\n  List&lt;MenuDetail&gt; createMenuDetails(@UniqueElementsById List&lt;MenuDetail&gt; menuDetails);\n}\n\n@Service\n@Validated\npublic class DefaultMenuDetailService implements MenuDetailService {\n  @Override\n  @Transactional(transactionManager = CommonConfig.ENTITY_PACKAGE)\n  public List&lt;MenuDetail&gt; createMenuDetails(@NotEmpty @UniformSourceId @UniqueElementsById List&lt;MenuDetail&gt; menuDetails) {\n  /*\n               ommited code for brevity\n  */\n  }\n}\n</code></pre>\n<p>The problem is, when I put a breakpoint in the isValid method of my custom validator, I notice that it is being executed twice (both execution occurs at the transfer from Controller to Service, before first line of createMenuDetails). Also, inspecting the stack trace of 1st and 2nd execution, I can see the following difference:\n<a href=\"https://i.sstatic.net/DdoVBt34.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/DdoVBt34.png\" alt=\"enter image description here\" /></a></p>\n<p>Is this expected? I have ran out of ideas on how to make it execute only once.\nPlease help and thanks in advance.</p>\n",
    "tags" : [ "java", "spring", "spring-boot", "jakarta-validation" ],
    "owner" : {
      "account_id" : 6280829,
      "reputation" : 317,
      "user_id" : 5489294,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/0a50a3238ce3c4f5f33f82c49997dc68?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Guppy_00",
      "link" : "https://stackoverflow.com/users/5489294/guppy-00"
    },
    "is_answered" : false,
    "view_count" : 100,
    "answer_count" : 1,
    "score" : 1,
    "last_activity_date" : 1764237735,
    "creation_date" : 1764126846,
    "link" : "https://stackoverflow.com/questions/79830299/springboot-custom-validator-in-service-class-is-executed-twice",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ ],
  "question_comments" : [ ],
  "answer_comments" : { }
}