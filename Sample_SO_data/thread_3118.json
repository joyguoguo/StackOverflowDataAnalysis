{
  "question" : {
    "question_id" : 79570971,
    "title" : "Request failed with status code 500 while making authorization",
    "body" : "<p>Good evening everyone, hope this message finds you well! Wondering if there's any changes need to be done to the following lines of code as it's returning the following exceptions(provided in output section). Your support is highly appreciated.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface AuthService {\n  @PostMapping(\n    value = &quot;/oauth/token&quot;,\n    consumes = MediaType.APPLICATION_FORM_URLENCODED_VALUE,\n    // consumes = {&quot;application/x-www-form-urlencoded&quot;},\n    produces = MediaType.APPLICATION_JSON_VALUE\n    // produces = {&quot;application/json&quot;}\n  )\n  LoginResponse authenticate(\n    @RequestParam(name = &quot;grant_type&quot;) String grantType,\n    @RequestParam String username,\n    @RequestParam String password,\n    @RequestBody String reqBody\n  );\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>[AuthService#authenticate(String, String, String, String)]:\n[\n  {\n    &quot;error&quot;: &quot;invalid_request&quot;,\n    &quot;error_description&quot;: &quot;Missing form parameter: grant_type&quot;\n  }\n]\nwith root cause feign.FeignException$BadRequest: [400 Bad Request] during [POST]\n</code></pre>\n<p>Tried the following multiple options to resolve the issue. But no luck favoured. Your guidance is highly appreciated.</p>\n<p>Option1: changed <code>content-type=application/x-www-form-urlencoded</code>in <code>AuthService.java</code></p>\n<pre><code>14:53:16.258 [http-nio-8090-exec-2] ERROR org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].[dispatcherServlet] - \n  Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception \n  [Request processing failed; nested exception is feign.FeignException$BadRequest: \n    [400 Bad Request] during [POST] to https call [AuthService#authenticate(String,String,String,String)]: \n      [\n        {\n          &quot;error&quot;: &quot;invalid_request&quot;,\n          &quot;error_description&quot;: &quot;Missing form parameter: grant_type&quot;\n        }\n      ]\n  ] \n  with root cause\nfeign.FeignException$BadRequest: [400 Bad Request] during [POST] to https call [AuthService#authenticate(String,String,String,String)]:\n  [\n    {\n      &quot;error&quot;: &quot;invalid_request&quot;,\n      &quot;error_description&quot;: &quot;Missing form parameter: grant_type&quot;\n    }\n  ]\n</code></pre>\n<p>Option2:</p>\n<p>obsrevations: Tried the following to resolve the <code>grant_type</code> issue. But no luck favoured:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PostMapping(\n  value = &quot;/oauth/token&quot;,\n  // consumes = MediaType.APPLICATION_FORM_URLENCODED_VALUE,\n  consumes = {&quot;application/x-www-form-urlencoded&quot;},\n  // produces = MediaType.APPLICATION_JSON_VALUE,\n  produces = {&quot;application/json&quot;}\n)\n</code></pre>\n<p>Output:</p>\n<pre><code>02:29:32.547 [http-nio-8090-exec-4] ERROR org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].[dispatcherServlet] - \n  Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception \n  [Request processing failed; nested exception is feign.FeignException$BadRequest: \n    [400 Bad Request] during [POST] to [https]: \n      [\n        {\n          &quot;error&quot;: &quot;invalid_request&quot;,\n          &quot;error_description&quot;: &quot;Missing form parameter: grant_type&quot;\n        }\n      ]\n  ] with root cause\nfeign.FeignException$BadRequest: [400 Bad Request] during [POST] to [https:] [AuthService#authenticate(String,String,String,String)]:\n  [\n    {\n      &quot;error&quot;: &quot;invalid_request&quot;,\n      &quot;error_description&quot;: &quot;Missing form parameter: grant_type&quot;\n    }\n  ]\n    at feign.FeignException.clientErrorStatus(FeignException.java:213) ~[feign-core-11.8.jar!/:?]\n</code></pre>\n",
    "tags" : [ "java", "oauth-2.0", "authorization" ],
    "owner" : {
      "account_id" : 41364665,
      "reputation" : 11,
      "user_id" : 30254997,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/f14b788f17368f3be56943dea231fc55?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "user30254997",
      "link" : "https://stackoverflow.com/users/30254997/user30254997"
    },
    "is_answered" : false,
    "view_count" : 61,
    "answer_count" : 0,
    "score" : 0,
    "last_activity_date" : 1745398212,
    "creation_date" : 1744494042,
    "link" : "https://stackoverflow.com/questions/79570971/request-failed-with-status-code-500-while-making-authorization",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ ],
  "question_comments" : [ ],
  "answer_comments" : { }
}