{
  "question" : {
    "question_id" : 79673965,
    "title" : "sqlite database not loading in minecraft forge mod",
    "body" : "<p>so I have a project of creating a minecraft mod and it's pretty ambisious but unfortunatly I encountred an error while trying to loop throught sqlite3 database elements.\nthere is the error: (btw this mod is on Minecraft 1.21.4 forge/gradle)</p>\n<p><code>SQL Exception: No suitable driver found for jdbc:sqlite:C:\\my\\sqlite\\db\\path</code></p>\n<p>there is my gradle.build file:</p>\n<pre><code>plugins {\n    id 'eclipse'\n    id 'idea'\n    id 'maven-publish'\n    id 'net.minecraftforge.gradle' version '[6.0.24,6.2)'\n}\n\nversion = mod_version\ngroup = mod_group_id\n\nbase {\n    archivesName = mod_id\n}\n\njava.toolchain.languageVersion = JavaLanguageVersion.of(21)\n\nprintln &quot;Java: ${System.getProperty 'java.version'}, JVM: ${System.getProperty 'java.vm.version'} (${System.getProperty 'java.vendor'}), Arch: ${System.getProperty 'os.arch'}&quot;\nminecraft {\n    mappings channel: mapping_channel, version: mapping_version\n    \n    reobf = false\n    copyIdeResources = true\n\n    runs {\n        configureEach {\n            workingDirectory project.file('run')\n\n            property 'forge.logging.markers', 'REGISTRIES'\n\n            property 'forge.logging.console.level', 'debug'\n        }\n\n        client {\n\n            property 'forge.enabledGameTestNamespaces', mod_id\n        }\n\n        server {\n            property 'forge.enabledGameTestNamespaces', mod_id\n            args '--nogui'\n        }\n\n        gameTestServer {\n            property 'forge.enabledGameTestNamespaces', mod_id\n        }\n\n        data {\n            workingDirectory project.file('run-data')\n\n            args '--mod', mod_id, '--all', '--output', file('src/generated/resources/'), '--existing', file('src/main/resources/')\n        }\n    }\n}\n\nsourceSets.main.resources { srcDir 'src/generated/resources' }\n\nrepositories {\n    mavenCentral()\n    maven { url 'https://repo1.maven.org/maven2' }\n    maven { url 'https://jitpack.io' }\n}\n\ndependencies {\n    minecraft &quot;net.minecraftforge:forge:${minecraft_version}-${forge_version}&quot;\n    implementation 'net.java.dev.jna:jna:5.13.0'\n    implementation 'org.xerial:sqlite-jdbc:3.50.1.0'\n}\n\ntasks.named('processResources', ProcessResources).configure {\n    var replaceProperties = [\n            minecraft_version: minecraft_version, minecraft_version_range: minecraft_version_range,\n            forge_version: forge_version, forge_version_range: forge_version_range,\n            loader_version_range: loader_version_range,\n            mod_id: mod_id, mod_name: mod_name, mod_license: mod_license, mod_version: mod_version,\n            mod_authors: mod_authors, mod_description: mod_description,\n    ]\n    inputs.properties replaceProperties\n\n    filesMatching(['META-INF/mods.toml', 'pack.mcmeta']) {\n        expand replaceProperties + [project: project]\n    }\n}\n\ntasks.named('jar', Jar).configure {\n    manifest {\n        attributes([\n            'Specification-Title'     : mod_id,\n            'Specification-Vendor'    : mod_authors,\n            'Specification-Version'   : '1', // We are version 1 of ourselves\n            'Implementation-Title'    : project.name,\n            'Implementation-Version'  : project.jar.archiveVersion,\n            'Implementation-Vendor'   : mod_authors\n        ])\n    }\n}\n\npublishing {\n    publications {\n        register('mavenJava', MavenPublication) {\n            artifact jar\n        }\n    }\n    repositories {\n        maven {\n            url &quot;file://${project.projectDir}/mcmodsrepo&quot;\n        }\n    }\n}\n\ntasks.withType(JavaCompile).configureEach {\n    options.encoding = 'UTF-8'\n}\n\nidea.module { downloadJavadoc = downloadSources = true }\neclipse {\n    synchronizationTasks 'genEclipseRuns'\n}\nsourceSets.each {\n    def dir = layout.buildDirectory.dir(&quot;sourcesSets/$it.name&quot;)\n    it.output.resourcesDir = dir\n    it.java.destinationDirectory = dir\n}\n</code></pre>\n<p>I tried using this to load jdbc but it didn't work either:</p>\n<pre><code>try {\n    Class.forName(&quot;org.sqlite.JDBC&quot;);\n    LOGGER.info(&quot;SQLite JDBC driver loaded!&quot;);\n} catch (ClassNotFoundException e) {\n    LOGGER.error(&quot;Failed to load SQLite JDBC driver: &quot;+e.getMessage());\n}\n</code></pre>\n<p>there is the code that connect to the database:</p>\n<pre><code>        String url = &quot;jdbc:sqlite:&quot; + dbPath;\n        LOGGER.info(&quot;sql url: &quot;+ url);\n        String urley = &quot;&quot;;\n\n        try (Connection conn = DriverManager.getConnection(url);\n             Statement stmt = conn.createStatement();\n             ResultSet rs = stmt.executeQuery(&quot;SELECT username, id, type FROM players&quot;)) {\n            LOGGER.info(&quot;running...&quot;);\n            while (rs.next()) {\n                try {....\n</code></pre>\n",
    "tags" : [ "java", "sqlite", "jdbc", "forge" ],
    "owner" : {
      "account_id" : 42157637,
      "reputation" : 1,
      "user_id" : 30620132,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/7b4542fd47f1f71b0fee2712113c5a79?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "saka baka",
      "link" : "https://stackoverflow.com/users/30620132/saka-baka"
    },
    "is_answered" : false,
    "view_count" : 91,
    "answer_count" : 1,
    "score" : -1,
    "last_activity_date" : 1750457575,
    "creation_date" : 1750454322,
    "link" : "https://stackoverflow.com/questions/79673965/sqlite-database-not-loading-in-minecraft-forge-mod",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79674001,
    "question_id" : 79673965,
    "body" : "<p>You're getting this error because Forge's classloader doesn't properly detect the SQLite JDBC driver. To fix it:<br />\nExplicitly instantiate the driver:<br />\n<code>new org.sqlite.JDBC(); // Instead of Class.forName(&quot;org.sqlite.JDBC&quot;)</code><br />\nUse runtimeOnly in your build.gradle:</p>\n<pre><code>dependencies {\n    runtimeOnly 'org.xerial:sqlite-jdbc:3.50.1.0'\n}\n</code></pre>\n<p><em>(Optional but recommended)</em> <strong>Shade the driver into your mod</strong> to avoid classloader issues:</p>\n<pre><code>configurations { shadow }\ndependencies {\n    shadow 'org.xerial:sqlite-jdbc:3.50.1.0'\n}\n\ntask shadowJar(type: ShadowJar) {\n    configurations = [project.configurations.shadow]\n    archiveClassifier.set('shaded')\n    relocate 'org.sqlite', 'your.mod.shaded.sqlite'\n}\n\njar.finalizedBy(shadowJar)\n</code></pre>\n<p>Then use:<br />\n<code>new your.mod.shaded.sqlite.JDBC();</code></p>\n",
    "score" : 0,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 42477094,
      "reputation" : 79,
      "user_id" : 30771822,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/IeCjKsWk.jpg?s=256",
      "display_name" : "Jaddad Zakaria",
      "link" : "https://stackoverflow.com/users/30771822/jaddad-zakaria"
    },
    "creation_date" : 1750457575,
    "last_activity_date" : 1750457575,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140530825,
    "post_id" : 79673965,
    "body" : "&quot;No driver&quot; errors usually mean you have to install an OS component that includes the appropriate driver. This problem may not be a code issue.",
    "score" : 0,
    "owner" : {
      "account_id" : 36499544,
      "reputation" : 706,
      "user_id" : 27770843,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/Jpiy4sl2.png?s=256",
      "display_name" : "Nanigashi",
      "link" : "https://stackoverflow.com/users/27770843/nanigashi"
    },
    "creation_date" : 1750464697,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : {
    "79674001" : [ {
      "comment_id" : 140531309,
      "post_id" : 79674001,
      "body" : "yo wassup thank you for your answer but the issue is when i try to make the load the library on runtime only it give compiler error and when i try to use implementation it simply don&#39;t detect",
      "score" : 0,
      "owner" : {
        "account_id" : 42157637,
        "reputation" : 1,
        "user_id" : 30620132,
        "user_type" : "registered",
        "profile_image" : "https://www.gravatar.com/avatar/7b4542fd47f1f71b0fee2712113c5a79?s=256&d=identicon&r=PG&f=y&so-version=2",
        "display_name" : "saka baka",
        "link" : "https://stackoverflow.com/users/30620132/saka-baka"
      },
      "creation_date" : 1750501570,
      "content_license" : "CC BY-SA 4.0"
    } ]
  }
}