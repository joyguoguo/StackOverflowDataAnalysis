{
  "question" : {
    "question_id" : 79818351,
    "title" : "When scrolling to bottom of recycle view the linear layout blinks",
    "body" : "<p>I have a setup where there is a linear layout that acts like a header and below the linear layout there is a recycle view. And what happens is that when the you scroll up and down the linear layout also scrolls with the recycler view.</p>\n<p>This is my Layout:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n    &lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n        tools:context=&quot;.HomeFragment&quot;&gt;\n    \n        &lt;TextView\n            android:visibility=&quot;gone&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginTop=&quot;50dp&quot;\n            android:text=&quot;No Profiles Found&quot;\n            android:textSize=&quot;25dp&quot;\n            android:textStyle=&quot;bold&quot;\n            android:textAlignment=&quot;center&quot;\n            android:id=&quot;@+id/noProfilesText&quot;\n            android:fontFamily=&quot;@font/quicksandvariablefont&quot;\n            android:textColor=&quot;#9E9E9E&quot;&gt;\n    \n    \n        &lt;/TextView&gt;\n    \n        &lt;LinearLayout\n            android:orientation=&quot;vertical&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:clipChildren=&quot;false&quot;\n            android:clipToPadding=&quot;false&quot;&gt;\n    \n            &lt;LinearLayout\n                android:id=&quot;@+id/viewedHomeLL&quot;\n                android:layout_marginTop=&quot;2dp&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:paddingTop=&quot;15dp&quot;\n                android:paddingBottom=&quot;15dp&quot;\n                android:orientation=&quot;vertical&quot;&gt;\n    \n                &lt;TextView\n                    android:id=&quot;@+id/text1&quot;\n                    android:layout_marginLeft=&quot;25dp&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:text=&quot;Profiles Who Viewed You&quot;\n                    android:textColor=&quot;#000000&quot;\n                    android:fontFamily=&quot;@font/robotovariablefont&quot;\n                    android:textSize=&quot;12dp&quot;\n                    android:layout_marginBottom=&quot;8dp&quot;&gt;\n    \n    \n                &lt;/TextView&gt;\n    \n                &lt;androidx.recyclerview.widget.RecyclerView\n                    android:id=&quot;@+id/homeRV&quot;\n                    android:scrollbars=&quot;none&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:orientation=&quot;horizontal&quot;\n                    android:paddingTop=&quot;10dp&quot;&gt;\n    \n                &lt;/androidx.recyclerview.widget.RecyclerView&gt;\n    \n    \n    \n            &lt;/LinearLayout&gt;\n    \n    \n    \n    \n            &lt;androidx.recyclerview.widget.RecyclerView\n    \n                android:id=&quot;@+id/recycleviewHome&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;match_parent&quot;\n                android:clipToPadding=&quot;true&quot;&gt;\n    \n            &lt;/androidx.recyclerview.widget.RecyclerView&gt;\n    \n        &lt;/LinearLayout&gt;\n    \n    \n    \n    \n    &lt;/FrameLayout&gt;\n</code></pre>\n<p>This is my scrolling code:</p>\n<pre><code>    homeViewedLL = (LinearLayout) view.findViewById(R.id.viewedHomeLL);\nfloat density = getResources().getDisplayMetrics().density;\n\n    final int[] totalScrollY = {0};\n    final boolean[] headerCollapsed = {false};\n\n    recycleviewHome.addOnScrollListener(new RecyclerView.OnScrollListener() {\n        @Override\n        public void onScrollStateChanged(RecyclerView recyclerView, int newState) {\n            super.onScrollStateChanged(recyclerView, newState);\n        }\n\n        @Override\n        public void onScrolled(RecyclerView recyclerView, int dx, int dy) {\n            super.onScrolled(recyclerView, dx, dy);\n\n            int maxCollapsePx = (int) (homeViewedLL.getHeight() * density); // how much the header can move up\n            totalScrollY[0] += dy;\n            totalScrollY[0] = Math.max(0, Math.min(totalScrollY[0], maxCollapsePx));\n\n            // Move header up (translation is smoother than changing margin)\n            homeViewedLL.setTranslationY(-totalScrollY[0]);\n\n            // Detect when header is fully collapsed\n            if (totalScrollY[0] &gt;= maxCollapsePx &amp;&amp; !headerCollapsed[0]) {\n                headerCollapsed[0] = true;\n            }\n            // Detect when header expands again\n            else if (totalScrollY[0] &lt; maxCollapsePx &amp;&amp; headerCollapsed[0]) {\n                headerCollapsed[0] = false;\n            }\n        }\n    });\n</code></pre>\n<p>So when I scroll to the bottom the linear layout (id = viewedHomeLL) blinks and shows the layout. I read that this may be due to the clip to padding and clip to children is set to false but I need this behaviour so that the header moves up and down when scrolling the recycler view at the bottom of the layout.</p>\n<p>Is there a way to fix this?</p>\n<p>Let me know if you need more information.</p>\n",
    "tags" : [ "java", "android" ],
    "owner" : {
      "account_id" : 198763,
      "reputation" : 2527,
      "user_id" : 443626,
      "user_type" : "registered",
      "accept_rate" : 70,
      "profile_image" : "https://www.gravatar.com/avatar/1ba1aed46f15b9daaf993f4b2ec1d04e?s=256&d=identicon&r=PG",
      "display_name" : "redoc01",
      "link" : "https://stackoverflow.com/users/443626/redoc01"
    },
    "is_answered" : false,
    "view_count" : 78,
    "answer_count" : 0,
    "score" : 0,
    "last_activity_date" : 1763050474,
    "creation_date" : 1762993111,
    "link" : "https://stackoverflow.com/questions/79818351/when-scrolling-to-bottom-of-recycle-view-the-linear-layout-blinks",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ ],
  "question_comments" : [ {
    "comment_id" : 140853700,
    "post_id" : 79818351,
    "body" : "<code>linear layout blinks</code> can you upload GIF for the same ?",
    "score" : 0,
    "owner" : {
      "account_id" : 1958727,
      "reputation" : 8288,
      "user_id" : 1761003,
      "user_type" : "registered",
      "accept_rate" : 82,
      "profile_image" : "https://i.sstatic.net/LP1KmHdr.jpg?s=256",
      "display_name" : "Maveňツ",
      "link" : "https://stackoverflow.com/users/1761003/mave%c5%88%e3%83%84"
    },
    "creation_date" : 1763106248,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}