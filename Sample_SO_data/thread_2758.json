{
  "question" : {
    "question_id" : 79597291,
    "title" : "Intellij IDEA, WIldfly 36.0.0 and IPV6",
    "body" : "<p>I have configure wildfly-36.0.0.Final to use IPv6. I added the IPv4/6 flag options to  JAVA_OPS in $WILDFLY_ROOT/bin/standalone.config and change $WILDFLY_ROOT/standalone/configuration/standalone.xml to use my workstation's IPv6 address. From the console it runs up fine. I can log in to the administation portal and upload and deploy ear and war archeves no problem at all.</p>\n<p>However, if I try to start the server from within IntelliJ IDEA there is some kind of connection error. The WIldfly start up logging shows the same things as I am seeing from the console start. And from the browser I can contect to the admin portal and everything seams to be be working. But there is not much to check - I haven't even configure MariaDB as the database.</p>\n<p>But when I try to shut wildfly via the stop button in Intellij IDEA I get the following error:</p>\n<pre><code>Application Server was not connected before run configuration stop, reason: com.intellij.javaee.process.common.WrappedException: java.io.IOException: java.lang.RuntimeException: java.net.URISyntaxException: Expected port number at index 34: remote+http://[xxxx:yyyy:zzzz::3e]]:9990\n</code></pre>\n<p>Please note there is an extra bracket at the end of the IPv6 address adn the address being reported is missing the first four nibbles and a colon. This happens however I configure IntelliJ IDEA to connect (vi DNS name, IPv6 with square brackets, or IPv6 without; so I don't think it was a typo on my part, plus I have double and triple checked).</p>\n<p>When started from the console these are the IP ports I see:</p>\n<pre><code>tcp6       0      0 2a0e:xxxx:yyyy:zzzz::3e:9990 :::*                    LISTEN      61541/java          \ntcp6       0      0 127.0.0.1:37141         :::*                    LISTEN      61770/java          \ntcp6       0      0 2a0e:xxxx:yyyy:zzzz::3e:8443 :::*                    LISTEN      61541/java          \ntcp6       0      0 2a0e:xxxx:yyyy:zzzz::3e:8080 :::*                    LISTEN      61541/java          \n</code></pre>\n<p>And when started from Wildfly these are the ports:</p>\n<pre><code>tcp6       0      0 2a0e:xxxx:yyyy:zzzz::3e:9990 :::*                    LISTEN      64148/java          \ntcp6       0      0 2a0e:xxxx:yyyy:zzzz::3e:8443 :::*                    LISTEN      64148/java          \ntcp6       0      0 127.0.0.1:39295         :::*                    LISTEN      62268/java          \ntcp6       0      0 2a0e:xxxx:yyyy:zzzz::3e:8080 :::*                    LISTEN      64148/java          \ntcp6       0      0 127.0.0.1:58786         127.0.0.1:33071         ESTABLISHED 64072/java          \n</code></pre>\n<p>So IntelliJ IDEA seams to make some kind of connection over an IPv4 localhost address, but there still seams to be something missing. What I don't know. I just followed: <code>https://docs.wildfly.org/36/Admin_Guide.html#ipv4-versus-ipv6</code></p>\n<p>Of course, if I remove the IPv6 configure everything goes back to working as expected.</p>\n<p>Any help and advice greatful received.</p>\n<p><strong>FIXED</strong></p>\n<p>After doing a clean re-install of Wildfly and then configuing the <code>VM options:</code> field in the Server tab to contain the following:</p>\n<pre><code>-Djava.net.preferIPv4Stack=false\n-Djava.net.preferIPv6Stack=true\n-Djboss.bind.address.management=[2a0e:xxxx:yyyy:zzzz::3e]\n-Djboss.bind.address=[2a0e:xxxx:yyyy:zzzz::3e]\n</code></pre>\n<p>it works just as expect. Must have been a PEBKC error on my part.</p>\n",
    "tags" : [ "java", "intellij-idea", "wildfly", "ipv6" ],
    "owner" : {
      "account_id" : 1603398,
      "reputation" : 1248,
      "user_id" : 1484000,
      "user_type" : "registered",
      "accept_rate" : 65,
      "profile_image" : "https://www.gravatar.com/avatar/d7e6f1a0bdfa70f42294c308aaa54eb4?s=256&d=identicon&r=PG",
      "display_name" : "Dobbo",
      "link" : "https://stackoverflow.com/users/1484000/dobbo"
    },
    "is_answered" : false,
    "view_count" : 74,
    "closed_date" : 1746112308,
    "answer_count" : 0,
    "score" : 2,
    "last_activity_date" : 1745957047,
    "creation_date" : 1745874340,
    "link" : "https://stackoverflow.com/questions/79597291/intellij-idea-wildfly-36-0-0-and-ipv6",
    "closed_reason" : "Not suitable for this site"
  },
  "answers" : [ ],
  "question_comments" : [ {
    "comment_id" : 140387332,
    "post_id" : 79597291,
    "body" : "Please post your answer as an answer.",
    "score" : 0,
    "owner" : {
      "account_id" : 6128339,
      "reputation" : 4277,
      "user_id" : 4779472,
      "user_type" : "registered",
      "accept_rate" : 89,
      "profile_image" : "https://www.gravatar.com/avatar/2c3cae7cf943d84f4f6e300f01cf4b2a?s=256&d=identicon&r=PG",
      "display_name" : "Rohit Gupta",
      "link" : "https://stackoverflow.com/users/4779472/rohit-gupta"
    },
    "creation_date" : 1746112299,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140387210,
    "post_id" : 79597291,
    "body" : "If you cannot reproduce your problem, perhaps you should delete this Question.",
    "score" : 0,
    "owner" : {
      "account_id" : 322981,
      "reputation" : 346951,
      "user_id" : 642706,
      "user_type" : "registered",
      "accept_rate" : 58,
      "profile_image" : "https://i.sstatic.net/ZWEI3.jpg?s=256",
      "display_name" : "Basil Bourque",
      "link" : "https://stackoverflow.com/users/642706/basil-bourque"
    },
    "creation_date" : 1746109792,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140381659,
    "post_id" : 79597291,
    "body" : "@ehsavoie I&#39;m embarrassed to report that I can&#39;t reproduce my error. I&#39;ve been working on getting the datasources configuration working (using jet the jboss-cli interface) and to make sure things where kosher  Now it works just as expected. Thanks for you time.",
    "score" : 0,
    "owner" : {
      "account_id" : 1603398,
      "reputation" : 1248,
      "user_id" : 1484000,
      "user_type" : "registered",
      "accept_rate" : 65,
      "profile_image" : "https://www.gravatar.com/avatar/d7e6f1a0bdfa70f42294c308aaa54eb4?s=256&d=identicon&r=PG",
      "display_name" : "Dobbo",
      "link" : "https://stackoverflow.com/users/1484000/dobbo"
    },
    "creation_date" : 1745956628,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140378890,
    "post_id" : 79597291,
    "body" : "Could you get a stack trace maybe in intellij logs ? I&#39;m wondering how they invoke the shutdown on WildFly",
    "score" : 1,
    "owner" : {
      "account_id" : 1491171,
      "reputation" : 3617,
      "user_id" : 1398228,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/gX5hy.png?s=256",
      "display_name" : "ehsavoie",
      "link" : "https://stackoverflow.com/users/1398228/ehsavoie"
    },
    "creation_date" : 1745908096,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}