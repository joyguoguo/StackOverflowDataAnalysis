{
  "question" : {
    "question_id" : 79636509,
    "title" : "SOAP service with CXF 4.0.6 and Java11 - Upgrade Failed",
    "body" : "<p>I have below build.gradle file in my application. And my application has already Generated Java classes with cxf 3.5.4 and application is running fine for more than a year. Now I need to upgrade the cxf version to 4.0.6 cause of some vulnerabilities in 3.5.5. When I try to upgrade to 4.0.6, all hell break loose and compilation error came. Once i fixed it, build is successful, but code gives runtime error while creating the endpoint of soap service. I am using OpenJDK-11. Can someone help on this.</p>\n<p>Below are the dependencies and error stackTrace</p>\n<pre><code>dependencies {\n\n    implementation 'org.apache.logging.log4j:log4j-slf4j-impl:2.17.1'\n\n    implementation 'org.projectlombok:lombok:1.18.8'\n\n    implementation 'org.asynchttpclient:async-http-client:2.12.3'\n\n    implementation 'javax.jws:javax.jws-api:1.1'\n\n    implementation &quot;jakarta.annotation:jakarta.annotation-api:1.3.5&quot;\n    implementation (&quot;jakarta.xml.ws:jakarta.xml.ws-api:2.3.3&quot;){\n        exclude group: 'org.apache.logging.log4j', module:'log4j-slf4j-impl'\n    }\n    implementation &quot;jakarta.xml.bind:jakarta.xml.bind-api:2.3.3&quot;\n\n    implementation 'javax.xml.ws:jaxws-api:2.3.1'\n\n    implementation 'com.sun.xml.messaging.saaj:saaj-impl:1.5.3'\n    implementation 'javax.xml.soap:javax.xml.soap-api:1.4.0'\n    implementation 'javax.xml.soap:saaj-api:1.3.5'\n\n    implementation 'com.sun.org.apache.xml.internal:resolver:20050927'\n\n    implementation 'io.netty:netty-codec-http2:4.1.100.Final'\n\n    implementation 'org.apache.cxf:cxf-rt-frontend-jaxws:4.0.6'\n    implementation 'org.apache.cxf:cxf-rt-transports-http:4.0.6'\n    implementation 'org.apache.cxf:cxf-rt-ws-security:4.0.6'\n    implementation 'org.apache.cxf:cxf-rt-frontend-jaxrs:4.0.6'\n\n    implementation 'org.json:json:20211205'\n}\n</code></pre>\n<p>Error Stacktrace</p>\n<pre><code>javax.xml.ws.WebServiceException: Provider com.sun.xml.internal.ws.spi.ProviderImpl not found\n    at javax.xml.ws.spi.FactoryFinder$1.createException(FactoryFinder.java:61)\n    at javax.xml.ws.spi.FactoryFinder$1.createException(FactoryFinder.java:58)\n    at javax.xml.ws.spi.ServiceLoaderUtil.newInstance(ServiceLoaderUtil.java:103)\n    at javax.xml.ws.spi.FactoryFinder.find(FactoryFinder.java:112)\n    at javax.xml.ws.spi.Provider.provider(Provider.java:96)\n    at javax.xml.ws.Service.&lt;init&gt;(Service.java:112)\n    at com.bundle.generated.Services.&lt;init&gt;(Services.java:109)\n    at com.bundle.Services.callingMethod.ServicePort(ServiceBundle.java:137)\n    at com.bundle.Services.ServiceBundle.execute(ServiceBundle.java:64)\n    at org.example.IntegrationTestInvoke.main(IntegrationTestInvoke.java:60)\nCaused by: java.lang.ClassNotFoundException: com.sun.xml.internal.ws.spi.ProviderImpl\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n    at javax.xml.ws.spi.ServiceLoaderUtil.nullSafeLoadClass(ServiceLoaderUtil.java:90)\n    at javax.xml.ws.spi.ServiceLoaderUtil.safeLoadClass(ServiceLoaderUtil.java:123)\n    at javax.xml.ws.spi.ServiceLoaderUtil.newInstance(ServiceLoaderUtil.java:101)\n    ... 7 more\n</code></pre>\n",
    "tags" : [ "java", "jakarta-ee", "soap", "cxf", "java-11" ],
    "owner" : {
      "account_id" : 16684032,
      "reputation" : 307,
      "user_id" : 12058407,
      "user_type" : "registered",
      "profile_image" : "https://lh3.googleusercontent.com/a-/AAuE7mBlzdy8QooEx1GzVwp8jm3fFxdEbfkXNC_QaA44=k-s256",
      "display_name" : "Balaji211",
      "link" : "https://stackoverflow.com/users/12058407/balaji211"
    },
    "is_answered" : false,
    "view_count" : 70,
    "answer_count" : 0,
    "score" : 0,
    "last_activity_date" : 1748070660,
    "creation_date" : 1748070660,
    "link" : "https://stackoverflow.com/questions/79636509/soap-service-with-cxf-4-0-6-and-java11-upgrade-failed",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ ],
  "question_comments" : [ {
    "comment_id" : 140458522,
    "post_id" : 79636509,
    "body" : "I am trying to consume the existing SOAP service. For that, I am trying to generate java classes based on wsdl. And using port class/interface, will call the required SOAP method. With &#39;org.apache.cxf:cxf-rt-frontend-jaxws:3.5.5&#39; series, it worked fire. Issue came while upgrading the version to 4.0.6. Seems I need to re-generate the java classes. But I couldn&#39;t find proper script to do that with new versions.",
    "score" : 0,
    "owner" : {
      "account_id" : 16684032,
      "reputation" : 307,
      "user_id" : 12058407,
      "user_type" : "registered",
      "profile_image" : "https://lh3.googleusercontent.com/a-/AAuE7mBlzdy8QooEx1GzVwp8jm3fFxdEbfkXNC_QaA44=k-s256",
      "display_name" : "Balaji211",
      "link" : "https://stackoverflow.com/users/12058407/balaji211"
    },
    "creation_date" : 1748240229,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}