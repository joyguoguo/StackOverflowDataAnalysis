{
  "question" : {
    "question_id" : 79712579,
    "title" : "Read user input in app generated by jpackage",
    "body" : "<p>I am using <code>jpackage</code> to convert a Java application into an executable .app file.</p>\n<p>When running on macOS, as shown below, the application cannot read user input.</p>\n<pre><code>open -n /Applications/MyApp.app\n</code></pre>\n<p>The application can read user input if it is run as</p>\n<pre><code>open -n /Applications/MyApp.app/Contents/MacOS/MyApp.app\n</code></pre>\n<p>This is the code to read user input (using batch script is not applicable here)</p>\n<pre><code>BufferedReader reader = new BufferedReader(new InputStreamReader(System.in));\nwhile (true) {\n   String line = reader.readLine();\n   // process the string line here\n}\n</code></pre>\n<p>What needs to be done to read user input when launching an application using <code>open -n /Applications/MyApp.app</code> (or another convenient command) ?</p>\n",
    "tags" : [ "java", "macos", "user-input", "jpackage" ],
    "owner" : {
      "account_id" : 30350704,
      "reputation" : 131,
      "user_id" : 23259272,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/4fd8b0cb93495ec69c852a3f9c8d2cf8?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Evgeny",
      "link" : "https://stackoverflow.com/users/23259272/evgeny"
    },
    "is_answered" : true,
    "view_count" : 49,
    "answer_count" : 1,
    "score" : 0,
    "last_activity_date" : 1753306359,
    "creation_date" : 1753305740,
    "link" : "https://stackoverflow.com/questions/79712579/read-user-input-in-app-generated-by-jpackage",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79712585,
    "question_id" : 79712579,
    "body" : "<p>Use Terminal to Launch the Executable</p>\n<p>Instead of using open, you can directly invoke the executable file within the app bundle:\nbash</p>\n<p><code>/Applications/MyApp.app/Contents/MacOS/MyApp</code></p>\n<p>This ensures the application attaches to the terminal and can read user input.\ni hope*</p>\n",
    "score" : 1,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 37478296,
      "reputation" : 26,
      "user_id" : 28266276,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/mLvfrGCD.jpg?s=256",
      "display_name" : "TITKOV",
      "link" : "https://stackoverflow.com/users/28266276/titkov"
    },
    "creation_date" : 1753306359,
    "last_activity_date" : 1753306359,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140619028,
    "post_id" : 79712579,
    "body" : "You should ask yourself what  exactly you are trying to read.",
    "score" : 0,
    "owner" : {
      "account_id" : 21867978,
      "reputation" : 3141,
      "user_id" : 16157878,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/vYe95.jpg?s=256",
      "display_name" : "soundflix",
      "link" : "https://stackoverflow.com/users/16157878/soundflix"
    },
    "creation_date" : 1753471042,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : {
    "79712585" : [ {
      "comment_id" : 140705059,
      "post_id" : 79712585,
      "body" : "@TITKOV If your app must be launched like a normal Mac app (Finder/Dock), don’t use stdin. Replace the BufferedReader code with a small Swing/JavaFX (or even AWT) dialog to capture inputt",
      "score" : 1,
      "owner" : {
        "account_id" : 37478296,
        "reputation" : 26,
        "user_id" : 28266276,
        "user_type" : "registered",
        "profile_image" : "https://i.sstatic.net/mLvfrGCD.jpg?s=256",
        "display_name" : "TITKOV",
        "link" : "https://stackoverflow.com/users/28266276/titkov"
      },
      "creation_date" : 1756645073,
      "content_license" : "CC BY-SA 4.0"
    }, {
      "comment_id" : 140705058,
      "post_id" : 79712585,
      "body" : "@TITKOV 1) osascript -e &#39;tell application &quot;Terminal&quot;    do script &quot;/Applications/MyApp.app/Contents/MacOS/MyApp&quot;    activate  end tell&#39;  2) Create MyApp.command (make it executable with chmod +x) anywhere (e.g., alongside the .app) with: #!/bin/bash  /Applications/MyApp.app/Contents/MacOS/MyApp  read -n 1 -s -p &quot;Press any key to close...&quot;   Double-clicking MyApp.command opens a Terminal window and runs the app.",
      "score" : 0,
      "owner" : {
        "account_id" : 37478296,
        "reputation" : 26,
        "user_id" : 28266276,
        "user_type" : "registered",
        "profile_image" : "https://i.sstatic.net/mLvfrGCD.jpg?s=256",
        "display_name" : "TITKOV",
        "link" : "https://stackoverflow.com/users/28266276/titkov"
      },
      "creation_date" : 1756645046,
      "content_license" : "CC BY-SA 4.0"
    }, {
      "comment_id" : 140705056,
      "post_id" : 79712585,
      "body" : "@Evgeny On macOS, when you start a .app via Finder / Dock / open, it launches as a GUI app with no controlling terminal. That means stdin is not attached to a TTY (often /dev/null), so readLine() will block and you won’t be able to read from the keyboard. There isn’t a flag in jpackage that makes a GUI app suddenly get a terminal.",
      "score" : 1,
      "owner" : {
        "account_id" : 37478296,
        "reputation" : 26,
        "user_id" : 28266276,
        "user_type" : "registered",
        "profile_image" : "https://i.sstatic.net/mLvfrGCD.jpg?s=256",
        "display_name" : "TITKOV",
        "link" : "https://stackoverflow.com/users/28266276/titkov"
      },
      "creation_date" : 1756644984,
      "content_license" : "CC BY-SA 4.0"
    }, {
      "comment_id" : 140613393,
      "post_id" : 79712585,
      "body" : "This works, the app is connected to the OS terminal and allows reading user input.    Is there a way to collect user input when the app is launched, by clicking on its icon in the Dock or by running it as <code>&#47;Applications&#47;MyApp.app</code>?",
      "score" : 0,
      "owner" : {
        "account_id" : 30350704,
        "reputation" : 131,
        "user_id" : 23259272,
        "user_type" : "registered",
        "profile_image" : "https://www.gravatar.com/avatar/4fd8b0cb93495ec69c852a3f9c8d2cf8?s=256&d=identicon&r=PG&f=y&so-version=2",
        "display_name" : "Evgeny",
        "link" : "https://stackoverflow.com/users/23259272/evgeny"
      },
      "creation_date" : 1753307097,
      "content_license" : "CC BY-SA 4.0"
    } ]
  }
}