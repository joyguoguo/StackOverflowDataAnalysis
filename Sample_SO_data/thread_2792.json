{
  "question" : {
    "question_id" : 79595089,
    "title" : "How can I query the name of the currently loading asset in LibGDX?",
    "body" : "<p>I am using LibGDX's AssetManager like this in my <code>create()</code> method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nASSETS = new AssetManager();\nFileHandle assetHandle = Gdx.files.internal(&quot;assets.txt&quot;);\nString text = assetHandle.readString();\nString[] lines = text.split(&quot;\\n&quot;);\nfor (String line : lines) {\n    \n    ASSETS.load(line, Texture.class);\n\n}\n</code></pre>\n<p>In my <code>render()</code> method I want to be able to output/query the name of the asset i am loading, such as</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (!ASSETS.update()){\n    System.out.println(&quot;Currently Loading&quot; + assetName);\n}\n</code></pre>\n<p>Is there a way to do this, as we can already query the progress, or would I manually have to guess which asset is loading?</p>\n<p>I have tried the <code>.peek()</code> method such as this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String currentAsset;\n    try{ //the first frame is &quot;peeking&quot; an empty array\n\n        currentAsset = ASSETS.getAssetNames().peek(); \n\n\n       } catch (Exception e){\n           currentAsset=&quot;Unknown&quot;;\n       }\n\nSystem.out.println(&quot;Loading asset: &quot; + currentAsset);\n</code></pre>\n<p>Which appears in the console to output only around 5-10 unique names, even though my <code>assets.txt</code> has around 1000 entries.</p>\n",
    "tags" : [ "java", "libgdx", "loading", "assets" ],
    "owner" : {
      "account_id" : 32066381,
      "reputation" : 23,
      "user_id" : 24870065,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/b4ece7a113918992a02cb9e6f4a5feee?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Alexander Cowgill",
      "link" : "https://stackoverflow.com/users/24870065/alexander-cowgill"
    },
    "is_answered" : true,
    "view_count" : 69,
    "answer_count" : 1,
    "score" : 2,
    "last_activity_date" : 1745953758,
    "creation_date" : 1745761064,
    "link" : "https://stackoverflow.com/questions/79595089/how-can-i-query-the-name-of-the-currently-loading-asset-in-libgdx",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79599069,
    "question_id" : 79595089,
    "body" : "<p>The <code>AssetManager</code> does expose what it <em>is about to</em> load, but you can find out what it just <em>has loaded</em> (by jumping through some hoops).</p>\n<p>If you want to use <code>peek</code> on <code>AssetManager.getAssetNames()</code> you can,  but you need to keep track of the loaded items yourself, as the <code>getAssetNames</code> returns the keys of a <code>ObjectMap</code> and that is not ordered.\nYou can do that by sor</p>\n<pre><code>ObjectSet&lt;String&gt; loadedAssets = new ObjectSet&lt;&gt;();\n\n...\n\nif (!ASSETS.update()) {\n   var assetManagerAssets = ASSETS.getAssetNames();\n   for(var name : assetManagerAssets) {\n      if (!loadedAssets.contains(name)) {\n         // Consider name as just have been loaded, print it or display it or whatever\n      }  \n   } \n   loadedAssets.addAll(assetManagerAssets);\n}\n</code></pre>\n<p>You can also utilize the fact that <code>AssetManager</code> logs whenever it has loaded an asset. By setting a logger where you override the <code>info(String message)</code> method you can intercept it:</p>\n<pre><code>ASSETS.setLogger(new Logger(&quot;&quot;, Logger.INFO) {\n    @Override\n    public void info(String message) {\n       // Message contains the loaded resource, you might need to do some string parsing \n    }\n} \n</code></pre>\n<p>This will catch things about to be loaded.</p>\n",
    "score" : 0,
    "is_accepted" : true,
    "owner" : {
      "account_id" : 233979,
      "reputation" : 1246,
      "user_id" : 499837,
      "user_type" : "registered",
      "accept_rate" : 60,
      "profile_image" : "https://i.sstatic.net/gtCU1.png?s=256",
      "display_name" : "bornander",
      "link" : "https://stackoverflow.com/users/499837/bornander"
    },
    "creation_date" : 1745953758,
    "last_activity_date" : 1745953758,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ ],
  "answer_comments" : { }
}