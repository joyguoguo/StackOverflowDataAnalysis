{
  "question" : {
    "question_id" : 79829352,
    "title" : "java.lang.ClassNotFoundException: okio.Buffer when using OkHttp inside Eclipse plugin (OSGi)",
    "body" : "<p>I am developing an <strong>Eclipse plugin</strong> (OSGi environment) and trying to use <strong>OkHttp 4.11.0</strong> to send HTTP requests. However, I get the following runtime error:</p>\n<blockquote>\n<p>java.lang.ClassNotFoundException: okio.Buffer cannot be found by eclipseai.plugin_1.0.0</p>\n</blockquote>\n<p><strong>Minimal Reproducible Example (MRE)</strong></p>\n<pre><code>package eclipseai.test;\n\nimport okhttp3.OkHttpClient;\nimport okhttp3.Request;\nimport okhttp3.Response;\nimport java.io.IOException;\n\npublic class OkHttpTest {\n\n    public static void main(String[] args) throws IOException {\n        OkHttpClient client = new OkHttpClient(); // ClassNotFoundException occurs here\n        Request request = new Request.Builder()\n                .url(&quot;https://www.google.com&quot;)\n                .build();\n\n        Response response = client.newCall(request).execute();\n        System.out.println(response.body().string());\n    }\n}\n</code></pre>\n<p><strong>How to reproduce inside an Eclipse plugin (OSGi)</strong></p>\n<ol>\n<li><p>Create a new Eclipse plugin project (e.g., <code>eclipseai.plugin</code>).</p>\n</li>\n<li><p>Add these JARs to a <code>library/</code> folder in the plugin:</p>\n<ul>\n<li><p><code>okhttp-4.11.0.jar</code></p>\n</li>\n<li><p><code>okio-3.4.0.jar</code></p>\n</li>\n<li><p><code>kotlin-stdlib-2.2.21.jar</code></p>\n</li>\n</ul>\n</li>\n<li><p>Add them to <strong>MANIFEST.MF</strong> <code>Bundle-ClassPath</code>:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Bundle-ClassPath: .,\n library/okhttp-4.11.0.jar,\n library/okio-3.4.0.jar,\n library/kotlin-stdlib-2.2.21.jar\n</code></pre>\n</li>\n<li><p>Add them to <strong>build.properties</strong> <code>bin.includes</code>:</p>\n<pre class=\"lang-none prettyprint-override\"><code>bin.includes = plugin.xml, META-INF/, .,\n               library/okhttp-4.11.0.jar,\n               library/okio-3.4.0.jar,\n               library/kotlin-stdlib-2.2.21.jar\n</code></pre>\n</li>\n<li><p>Run the plugin â†’ <strong>ClassNotFoundException</strong> occurs on <code>okio.Buffer</code>.</p>\n</li>\n</ol>\n<hr />\n<p>How can I correctly include OkHttp and Okio in an Eclipse plugin so that <code>okio.Buffer</code> is properly loaded without causing <code>ClassNotFoundException</code>?</p>\n",
    "tags" : [ "java", "eclipse", "eclipse-plugin", "okhttp", "osgi-bundle" ],
    "owner" : {
      "account_id" : 44790492,
      "reputation" : 1,
      "user_id" : 31937198,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/4af97202229854b28b20c9d15eda3dc3?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "kiruba T",
      "link" : "https://stackoverflow.com/users/31937198/kiruba-t"
    },
    "is_answered" : false,
    "view_count" : 109,
    "answer_count" : 2,
    "score" : 0,
    "last_activity_date" : 1764137392,
    "creation_date" : 1764051975,
    "link" : "https://stackoverflow.com/questions/79829352/java-lang-classnotfoundexception-okio-buffer-when-using-okhttp-inside-eclipse-p",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ ],
  "question_comments" : [ ],
  "answer_comments" : { }
}