{
  "question" : {
    "question_id" : 79713515,
    "title" : "AspectJ non-reweavable warning",
    "body" : "<p>After configuring AspectJ LTW in Spring Boot application everything works as expected, except the errors appearing in log regularly:</p>\n<blockquote>\n<p>[LaunchedClassLoader@4bb4de6a] error at com/xyz/tool/service/MyClass.java::0 class\ncom.xyz.MyClass is already woven and has not been built in reweavable\nmode [Xlint:nonReweavableTypeEncountered]</p>\n</blockquote>\n<p>It sounds confusing because I can't get why re-weaving could be triggered at all, I would rather expect that a class should be woven just once. Any clue?</p>\n<p><strong>UPDATE</strong></p>\n<p>Tried to gather up the minimal example, first the aspect itself:</p>\n<pre><code>@Aspect\npublic class ExecTimeMonitor {\n\n    @Around(&quot;execution(* com.xyz.tool.controller.MainController.performOperation(..))&quot;)\n    public Object wrapMainMethod(ProceedingJoinPoint joinPoint) throws Throwable {\n        ...\n        long start = getNow();\n        ResponseEntity&lt;OperationResultDto&gt; resEntity = (ResponseEntity&lt;OperationResultDto&gt;) joinPoint.proceed();\n        long execTime = getNow() - start;\n        ...\n        return resEntity;\n    }\n\n    @Around(&quot;execution(static * com.xyz.swig.Kernel.*(..)) || execution(public * com.xyz.tool.service.*.*(..)) &quot;)\n    public Object wrapInnerMethod(ProceedingJoinPoint joinPoint) throws Throwable {\n        ...\n        long start = getNow();\n        Object result = joinPoint.proceed();\n        long execTime = getNow() - start;\n        ...\n        return result;        \n    }\n\n} \n</code></pre>\n<p>Then the aop.xml:</p>\n<pre><code>&lt;aspectj&gt;\n    &lt;weaver&gt;\n        &lt;include within=&quot;com.xyz..*&quot;/&gt;\n    &lt;/weaver&gt;\n    &lt;aspects&gt;\n        &lt;aspect name=&quot;com.xyz.tool.profiling.ExecTimeMonitor&quot;/&gt;\n    &lt;/aspects&gt;\n&lt;/aspectj&gt;\n</code></pre>\n<p>LTW is enabled with the following configuration:</p>\n<pre><code>@EnableAspectJAutoProxy\n@EnableLoadTimeWeaving\n@Configuration\npublic class AopConfig {\n}\n</code></pre>\n<p>My JVM starts with 2 agents as it was advised by @kriegaex :</p>\n<pre><code>java -javaagent:aspectjweaver-1.9.24.jar -javaagent:spring-instrument-6.1.21.jar -jar app.jar\n</code></pre>\n<p>Indeed, it was the only approach that made the aspect work in my Spring app.</p>\n",
    "tags" : [ "java", "spring", "spring-boot", "aspectj", "load-time-weaving" ],
    "owner" : {
      "account_id" : 4576229,
      "reputation" : 1271,
      "user_id" : 3714601,
      "user_type" : "registered",
      "accept_rate" : 43,
      "profile_image" : "https://www.gravatar.com/avatar/d6d2d77ac6734d63354d84a5e44f6906?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "user3714601",
      "link" : "https://stackoverflow.com/users/3714601/user3714601"
    },
    "is_answered" : false,
    "view_count" : 90,
    "answer_count" : 0,
    "score" : 0,
    "last_activity_date" : 1754289137,
    "creation_date" : 1753366286,
    "link" : "https://stackoverflow.com/questions/79713515/aspectj-non-reweavable-warning",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ ],
  "question_comments" : [ {
    "comment_id" : 140619720,
    "post_id" : 79713515,
    "body" : "This still does not qualify as an <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a>, because it is incomplete. Just publish a minimal, complete reproducer on GitHub. Then probably, it really is an easy question. But if I cannot reproduce it, it is not. Garbage in, garbage out.",
    "score" : 0,
    "owner" : {
      "account_id" : 1087271,
      "reputation" : 68569,
      "user_id" : 1082681,
      "user_type" : "registered",
      "accept_rate" : 90,
      "profile_image" : "https://i.sstatic.net/lDK9h.png?s=256",
      "display_name" : "kriegaex",
      "link" : "https://stackoverflow.com/users/1082681/kriegaex"
    },
    "creation_date" : 1753512124,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140617742,
    "post_id" : 79713515,
    "body" : "@kriegaex, sorry, I thought it&#39;s rather an easy question to clarify on my misunderstanding of re-weaving, didn&#39;t want to overload it with too much details. Just added a minimal example as required",
    "score" : 0,
    "owner" : {
      "account_id" : 4576229,
      "reputation" : 1271,
      "user_id" : 3714601,
      "user_type" : "registered",
      "accept_rate" : 43,
      "profile_image" : "https://www.gravatar.com/avatar/d6d2d77ac6734d63354d84a5e44f6906?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "user3714601",
      "link" : "https://stackoverflow.com/users/3714601/user3714601"
    },
    "creation_date" : 1753439755,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140616702,
    "post_id" : 79713515,
    "body" : "Please learn <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask a question on SO</a> and provide a <a href=\"https://stackoverflow.com/help/mcve\">minimal, complete, and verifiable example</a>. Thank you.",
    "score" : 0,
    "owner" : {
      "account_id" : 1087271,
      "reputation" : 68569,
      "user_id" : 1082681,
      "user_type" : "registered",
      "accept_rate" : 90,
      "profile_image" : "https://i.sstatic.net/lDK9h.png?s=256",
      "display_name" : "kriegaex",
      "link" : "https://stackoverflow.com/users/1082681/kriegaex"
    },
    "creation_date" : 1753404730,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}