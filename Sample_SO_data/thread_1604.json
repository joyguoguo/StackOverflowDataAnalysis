{
  "question" : {
    "question_id" : 79691770,
    "title" : "java.lang.NoClassDefFoundError at runtime for class of locally installed repo ONLY when called in JavaFX app",
    "body" : "<p>I am creating a JavaFX app with several dependencies installed via maven. One of the dependencies is a third party JAR (modified version of the org.llrp.ltk lib for RFID) which does not have a publicly hosted maven repo, so I installed it locally. This works just fine, not only can i verify its correctly installed, my project also compiles correctly with the dependency. <strong>The code using classes from this dependency also runs perfectly fine when executed from a standard main() method within the same project.</strong> However, when I call it from a JavaFX app code within the same project, I get this error:</p>\n<pre><code>Exception in thread &quot;JavaFX Application Thread&quot; java.lang.NoClassDefFoundError: org/llrp/ltk/net/LLRPEndpoint\n    at java.base/java.lang.ClassLoader.defineClass1(Native Method)\n    at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1027)\n    at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:862)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:760)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:681)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:639)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526)\n...\nCaused by: java.lang.ClassNotFoundException: org.llrp.ltk.net.LLRPEndpoint\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526)\n    ... 56 more\n</code></pre>\n<p>The JavaFX app runs perfectly fine otherwise, it only happens when i click a button where an action is performed using one of the classes. I start the JavaFX app using the maven plugin via:</p>\n<pre><code>mvn javafx:run\n</code></pre>\n<p>The locally installed repo is referenced in my pom.xml like this:</p>\n<pre><code>&lt;dependencies&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n  &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n  &lt;version&gt;${javafx.version}&lt;/version&gt;\n&lt;/dependency&gt;\n\n  &lt;dependency&gt;\n      &lt;groupId&gt;org.testng&lt;/groupId&gt;\n      &lt;artifactId&gt;testng&lt;/artifactId&gt;\n      &lt;version&gt;7.11.0&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n  &lt;/dependency&gt;\n\n  &lt;dependency&gt;\n      &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n      &lt;artifactId&gt;testcontainers&lt;/artifactId&gt;\n      &lt;version&gt;1.19.3&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n  &lt;/dependency&gt;\n\n  &lt;dependency&gt;\n      &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n      &lt;version&gt;1.19.3&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n  &lt;/dependency&gt;\n\n  &lt;dependency&gt;\n      &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n      &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n      &lt;version&gt;1.19.3&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n  &lt;/dependency&gt;\n\n  &lt;dependency&gt;\n      &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n      &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n      &lt;version&gt;42.7.3&lt;/version&gt;\n  &lt;/dependency&gt;\n\n  &lt;dependency&gt;\n      &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\n      &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n      &lt;version&gt;6.6.13.Final&lt;/version&gt;\n  &lt;/dependency&gt;\n  &lt;!-- This is the locally installed library --&gt;\n  &lt;dependency&gt;\n      &lt;groupId&gt;org.impinj.reader&lt;/groupId&gt;\n      &lt;artifactId&gt;reader-impinj&lt;/artifactId&gt;\n      &lt;version&gt;10.34.0&lt;/version&gt;\n  &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>This is the build section for the maven plugin:</p>\n<pre><code>&lt;build&gt;\n&lt;plugins&gt;\n  &lt;!-- Compiler plugin --&gt;\n  &lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.11.0&lt;/version&gt;\n    &lt;configuration&gt;\n      &lt;release&gt;21&lt;/release&gt;\n    &lt;/configuration&gt;\n  &lt;/plugin&gt;\n\n  &lt;plugin&gt;\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n      &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n      &lt;version&gt;0.0.8&lt;/version&gt;\n      &lt;configuration&gt;\n          &lt;mainClass&gt;com.example.App&lt;/mainClass&gt;\n      &lt;/configuration&gt;\n      &lt;executions&gt;\n          &lt;execution&gt;\n              &lt;id&gt;run&lt;/id&gt;\n              &lt;configuration&gt;\n                  &lt;mainClass&gt;com.example.App&lt;/mainClass&gt;\n              &lt;/configuration&gt;\n          &lt;/execution&gt;\n          &lt;execution&gt;\n              &lt;id&gt;debug&lt;/id&gt;\n              &lt;configuration&gt;\n                  &lt;mainClass&gt;com.example.App&lt;/mainClass&gt;\n                  &lt;options&gt;\n                      &lt;option&gt;-agentlib:jdwp=transport=dt_socket,server=y,suspend=y,address=*:8000&lt;/option&gt;\n                  &lt;/options&gt;\n              &lt;/configuration&gt;\n          &lt;/execution&gt;\n      &lt;/executions&gt;\n  &lt;/plugin&gt;\n&lt;/plugins&gt;\n</code></pre>\n  \n<p>Im using Java 21 LTS with JavaFX 21. I tried adding some additional classpath info in the pom.xml build section and adding maven dependency plugins, but to no avail. It seems like only when running as a JavaFX app, this third party lib is not properly included in the classpath - even if it doesnt cause compile errors. Does anyone understand why and how I can fix this?</p>\n",
    "tags" : [ "java", "maven", "javafx", "classpath" ],
    "owner" : {
      "account_id" : 2243576,
      "reputation" : 539,
      "user_id" : 1977508,
      "user_type" : "registered",
      "accept_rate" : 50,
      "profile_image" : "https://www.gravatar.com/avatar/2447e30ae1ae75b851c564198987c007?s=256&d=identicon&r=PG",
      "display_name" : "Furious Gamer",
      "link" : "https://stackoverflow.com/users/1977508/furious-gamer"
    },
    "is_answered" : false,
    "view_count" : 70,
    "answer_count" : 1,
    "score" : 0,
    "last_activity_date" : 1751813643,
    "creation_date" : 1751807196,
    "link" : "https://stackoverflow.com/questions/79691770/java-lang-noclassdeffounderror-at-runtime-for-class-of-locally-installed-repo-on",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79691849,
    "question_id" : 79691770,
    "body" : "<p>I solved it myself by using the maven exec plugin and launching the javafx app via a main method instead:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n    &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.1.0&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;mainClass&gt;com.example.Main&lt;/mainClass&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>Calling the launch of the application class like so in the main method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    try {\n        //...\n        javafx.application.Application.launch(com.example.App.class, args);\n        //...\n    } catch (Exception e) {\n        //...\n    } \n}\n</code></pre>\n<p>Running it with the following command:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>mvn compile exec:java\n</code></pre>\n",
    "score" : 0,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 2243576,
      "reputation" : 539,
      "user_id" : 1977508,
      "user_type" : "registered",
      "accept_rate" : 50,
      "profile_image" : "https://www.gravatar.com/avatar/2447e30ae1ae75b851c564198987c007?s=256&d=identicon&r=PG",
      "display_name" : "Furious Gamer",
      "link" : "https://stackoverflow.com/users/1977508/furious-gamer"
    },
    "creation_date" : 1751813643,
    "last_activity_date" : 1751813643,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ ],
  "answer_comments" : {
    "79691849" : [ {
      "comment_id" : 140610312,
      "post_id" : 79691849,
      "body" : "These modifications will use JavaFX in an <a href=\"https://stackoverflow.com/questions/67854139/javafx-warning-unsupported-javafx-configuration-classes-were-loaded-from-unna\">unsupported configuration</a>, loading JavaFX from the classpath rather than the module path.  That said, as long as the configuration works for you, then fine.  Your other option is to modify the exec plugin flags to load JavaFX from the module path (see linked question).  Another execution mechanism which ensures JavaFX is on the module path (like the JavaFX maven plugin run target) could also be used.",
      "score" : 0,
      "owner" : {
        "account_id" : 1180113,
        "reputation" : 160457,
        "user_id" : 1155209,
        "user_type" : "registered",
        "profile_image" : "https://www.gravatar.com/avatar/5192e7cbcf2f72a847d6fb0d1552f049?s=256&d=identicon&r=PG",
        "display_name" : "jewelsea",
        "link" : "https://stackoverflow.com/users/1155209/jewelsea"
      },
      "creation_date" : 1753220927,
      "content_license" : "CC BY-SA 4.0"
    } ]
  }
}