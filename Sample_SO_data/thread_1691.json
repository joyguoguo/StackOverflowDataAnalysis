{
  "question" : {
    "question_id" : 79683873,
    "title" : "auto.offset.reset default for Spring Kafka",
    "body" : "<p>The doc clearly says <code>auto.offset.reset</code> defaults to <code>latest</code>.</p>\n<blockquote>\n<p><code>auto.offset.reset</code>: Defines the behavior of the consumer when there is no committed position (which occurs when the group is first initialized) or when an offset is out of range. You can choose either to reset the position to the “earliest” offset or the “latest” offset (<strong>the default</strong>).</p>\n<p><em><a href=\"https://docs.confluent.io/platform/current/clients/consumer.html\" rel=\"nofollow noreferrer\">Kafka Consumer for Confluent Platform</a></em></p>\n</blockquote>\n<p>However, this setup</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Bean\n    public ConsumerFactory&lt;String, User&gt; consumerFactory() {\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\n        props.put(\n                ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG,\n                bootstrapAddress);\n        props.put(ConsumerConfig.GROUP_ID_CONFIG, &quot;1&quot;);\n        props.put(\n                ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG,\n                StringDeserializer.class);\n        props.put(\n                ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG,\n                JsonDeserializer.class);\n        return new DefaultKafkaConsumerFactory&lt;&gt;(\n                props,\n                new StringDeserializer(),\n                new JsonDeserializer&lt;&gt;(User.class));\n    }\n</code></pre>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!-- Spring Boot 3.4.5 --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>seems to ensure even old messages are consumed. I started up my server almost a week after the message was produced (just below the default TTL). I can't believe Spring would override Kafka's native defaults.</p>\n<p>What is the property's default when consuming from a Kafka topic via Spring Kafka?</p>\n",
    "tags" : [ "java", "apache-kafka", "spring-kafka" ],
    "owner" : {
      "account_id" : 10187542,
      "reputation" : 2683,
      "user_id" : 20692967,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/NZSXm.jpg?s=256",
      "display_name" : "Sergey Zolotarev",
      "link" : "https://stackoverflow.com/users/20692967/sergey-zolotarev"
    },
    "is_answered" : true,
    "view_count" : 142,
    "answer_count" : 1,
    "score" : 1,
    "last_activity_date" : 1751230368,
    "creation_date" : 1751212882,
    "link" : "https://stackoverflow.com/questions/79683873/auto-offset-reset-default-for-spring-kafka",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79683905,
    "question_id" : 79683873,
    "body" : "<p>Yep, Spring Kafka changes that behavior unless you explicitly configure it.</p>\n<p>In Spring, the <strong><code>JsonDeserializer</code></strong> (used in your setup) <strong>sets <code>auto.offset.reset=earliest</code> by default unless you override it</strong>. Yes. As you read it.</p>\n<p>This is not coming from Kafka's native default, and it's injected quietly by how Spring Kafka configures deserializers.</p>\n<p>Also, check these out: <a href=\"https://stackoverflow.com/questions/67303169/should-i-set-kafka-auto-offset-reset-to-earliest-or-latest?utm_source=chatgpt.com\">Should I set Kafka auto.offset.reset to earliest or latest?</a></p>\n<p><a href=\"https://docs.spring.io/spring-kafka/reference/\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-kafka/reference/</a></p>\n<hr />\n<p>You'll have to explicitly set it via:</p>\n<pre><code>props.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;latest&quot;);\n</code></pre>\n<h3></h3>\n",
    "score" : 1,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 2465829,
      "reputation" : 13577,
      "user_id" : 2148953,
      "user_type" : "registered",
      "accept_rate" : 96,
      "profile_image" : "https://i.sstatic.net/DVHoP84E.jpg?s=256",
      "display_name" : "aran",
      "link" : "https://stackoverflow.com/users/2148953/aran"
    },
    "creation_date" : 1751216162,
    "last_activity_date" : 1751230368,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ ],
  "answer_comments" : { }
}