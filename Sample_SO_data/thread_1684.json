{
  "question" : {
    "question_id" : 79684841,
    "title" : "How to include external (non-mod) dependencies inside the .jar of a Minecraft Fabric mod (1.21.4)?",
    "body" : "<p>I'm developing a Minecraft mod for version 1.21.4 using the Fabric mod loader and Gradle as the build system.</p>\n<p>I've added a regular Java library as a dependency using <code>implementation</code> in my <code>build.gradle</code>. The project compiles fine, but when I run Minecraft with the generated <code>.jar</code>, I get a <code>ClassNotFoundException</code> — the external library is not included in the final <code>.jar</code> file.</p>\n<p>Here’s a simplified snippet of my <code>build.gradle</code>:</p>\n<pre><code>dependencies {\n    minecraft &quot;com.mojang:minecraft:${project.minecraft_version}&quot;\n    mappings &quot;net.fabricmc:yarn:${project.yarn_mappings}:v2&quot;\n    modImplementation &quot;net.fabricmc:fabric-loader:${project.loader_version}&quot;\n    implementation(&quot;se.michaelthelin.spotify:spotify-web-api-java:9.2.0&quot;)\n    modImplementation &quot;net.fabricmc.fabric-api:fabric-api:${project.fabric_version}&quot;\n}\n</code></pre>\n<p>I only want to bundle the <code>&quot;se.michaelthelin.spotify&quot;</code> external Java library inside the final <code>.jar</code> of my mod. All Fabric mods should remain separate (as expected by the loader).</p>\n<p>I used the <code>Shadow</code> plugin, but it includes all dependencies, even <strong>Fabric-related</strong> ones. This causes conflicts and exceptions at runtime because Fabric doesn't expect its mods to be bundled like that.</p>\n",
    "tags" : [ "java", "gradle", "intellij-idea", "minecraft", "minecraft-fabric" ],
    "owner" : {
      "account_id" : 27453035,
      "reputation" : 43,
      "user_id" : 20944949,
      "user_type" : "registered",
      "profile_image" : "https://lh3.googleusercontent.com/a/AEdFTp7R4n8xDzRb51JoHHaY8haehaX3k0n3sfyB9EYD=k-s256",
      "display_name" : "Andrearoma2",
      "link" : "https://stackoverflow.com/users/20944949/andrearoma2"
    },
    "is_answered" : false,
    "view_count" : 466,
    "answer_count" : 2,
    "score" : 1,
    "last_activity_date" : 1763383415,
    "creation_date" : 1751290283,
    "link" : "https://stackoverflow.com/questions/79684841/how-to-include-external-non-mod-dependencies-inside-the-jar-of-a-minecraft-fa",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79713814,
    "question_id" : 79684841,
    "body" : "<p>I think you might want to declare your dependency with api configuration?</p>\n<pre><code>    api(&quot;se.michaelthelin.spotify:spotify-web-api-java:9.2.0&quot;)\n</code></pre>\n",
    "score" : 0,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 2976047,
      "reputation" : 146,
      "user_id" : 2527075,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/8baa21583454e5bfa300c45e1143199f?s=256&d=identicon&r=PG",
      "display_name" : "Silvan Van Leeuwen",
      "link" : "https://stackoverflow.com/users/2527075/silvan-van-leeuwen"
    },
    "creation_date" : 1753380970,
    "last_activity_date" : 1753380970,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "answer_id" : 79822310,
    "question_id" : 79684841,
    "body" : "<p>use this line</p>\n<pre><code>include(&quot;se.michaelthelin.spotify:spotify-web-api-java:9.2.0&quot;)\n</code></pre>\n<p>this line will pack the lib or mod to the final jar file</p>\n",
    "score" : 0,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 37128265,
      "reputation" : 1,
      "user_id" : 28090301,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/c825291ec8a7ee8b29673ce7c9b37c88?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "黑雪公主",
      "link" : "https://stackoverflow.com/users/28090301/%e9%bb%91%e9%9b%aa%e5%85%ac%e4%b8%bb"
    },
    "creation_date" : 1763383320,
    "last_activity_date" : 1763383415,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ ],
  "answer_comments" : { }
}