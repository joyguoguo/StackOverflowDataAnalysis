{
  "question" : {
    "question_id" : 79723409,
    "title" : "Could not resolve androidx.activity:activity:1.2.3",
    "body" : "<p>I am upgrading my java android project to match the new minimum APK 35 and billing 7.0.0, I am almost done, there is just the billing I can't get to work, my build works fine with <code>'com.android.billingclient:billing:6.0.0'</code> but crashes with version 7.0.0 or 8.0.0, can anyone help me out?  The new requirement is minimum 7.0.0.  here is the error I get :</p>\n<pre><code> Could not resolve all artifacts for configuration 'classpath'.\n    Could not resolve androidx.activity:activity:1.2.3.\n     Required by:\n         root project :  com.android.billingclient:billing:7.0.0\n       No matching variant of androidx.activity:activity:1.2.3 was found. The consumer was configured to find a library for use during runtime, compatible with Java 21, packaged as a jar, and its dependencies declared externally, as well as attribute 'org.gradle.plugin.api-version' with value '8.13' but:\n          - Variant 'releaseApiPublication' declares a library, and its dependencies declared externally:\n              - Incompatible because this component declares a component for use during compile-time, with the library elements 'aar' and the consumer needed a component for use during runtime, packaged as a jar\n              - Other compatible attributes:\n                  - Doesn't say anything about its target Java version (required compatibility with Java 21)\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '8.13')\n          - Variant 'releaseRuntimePublication' declares a library for use during runtime, and its dependencies declared externally:\n              - Incompatible because this component declares a component, with the library elements 'aar' and the consumer needed a component, packaged as a jar\n              - Other compatible attributes:\n                  - Doesn't say anything about its target Java version (required compatibility with Java 21)\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '8.13')\n          - Variant 'sourcesElements' declares a component for use during runtime, and its dependencies declared externally:\n              - Incompatible because this component declares documentation and the consumer needed a library\n              - Other compatible attributes:\n                  - Doesn't say anything about its elements (required them packaged as a jar)\n                  - Doesn't say anything about its target Java version (required compatibility with Java 21)\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '8.13')\n   &gt; Could not resolve androidx.activity:activity:1.0.0.\n     Required by:\n         root project : &gt; com.android.billingclient:billing:7.0.0 &gt; com.google.android.gms:play-services-base:18.3.0 &gt; androidx.fragment:fragment:1.1.0\n      &gt; No matching variant of androidx.activity:activity:1.2.3 was found. The consumer was configured to find a library for use during runtime, compatible with Java 21, packaged as a jar, and its dependencies declared externally, as well as attribute 'org.gradle.plugin.api-version' with value '8.13' but:\n          - Variant 'releaseApiPublication' declares a library, and its dependencies declared externally:\n              - Incompatible because this component declares a component for use during compile-time, with the library elements 'aar' and the consumer needed a component for use during runtime, packaged as a jar\n              - Other compatible attributes:\n                  - Doesn't say anything about its target Java version (required compatibility with Java 21)\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '8.13')\n          - Variant 'releaseRuntimePublication' declares a library for use during runtime, and its dependencies declared externally:\n              - Incompatible because this component declares a component, with the library elements 'aar' and the consumer needed a component, packaged as a jar\n              - Other compatible attributes:\n                  - Doesn't say anything about its target Java version (required compatibility with Java 21)\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '8.13')\n          - Variant 'sourcesElements' declares a component for use during runtime, and its dependencies declared externally:\n              - Incompatible because this component declares documentation and the consumer needed a library\n              - Other compatible attributes:\n                  - Doesn't say anything about its elements (required them packaged as a jar)\n                  - Doesn't say anything about its target Java version (required compatibility with Java 21)\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '8.13')\n\n* Try:\n&gt; No matching variant errors are explained in more detail at https://docs.gradle.org/8.13/userguide/variant_model.html#sub:variant-no-match.\n&gt; Review the variant matching algorithm at https://docs.gradle.org/8.13/userguide/variant_attributes.html#sec:abm_algorithm.\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n&gt; Get more help at https://help.gradle.org.\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 9.0.\nYou can use '--warning-mode all' to show the individual deprecation warnings and determine if they come from your own scripts or plugins.\nFor more on this, please refer to https://docs.gradle.org/8.13/userguide/command_line_interface.html#sec:command_line_warnings in the Gradle documentation.\nBUILD FAILED in 684ms\n</code></pre>\n<p>here is my build.gradle:</p>\n<pre><code>buildscript {\n    repositories {\n        jcenter()\n        google()\n        mavenCentral()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:8.11.1'\n        classpath 'com.android.billingclient:billing:7.0.0'\n        classpath 'com.google.gms:google-services:4.3.14'\n    }\n}\n\nallprojects {\n    repositories {\n        jcenter()\n        google()\n        mavenCentral()\n        maven { url 'https://maven.google.com/' }\n        maven { url 'https://jitpack.io' }\n    }\n}\n</code></pre>\n<p>and my app/build.gradle:</p>\n<pre><code>apply plugin: 'com.android.application'\n\nandroid {\n    compileSdk 35\n\n    defaultConfig {\n        applicationId &quot;*******&quot;\n        minSdkVersion 21\n        targetSdk 35\n        multiDexEnabled true\n        compileOptions {\n            sourceCompatibility JavaVersion.VERSION_17\n            targetCompatibility JavaVersion.VERSION_17\n        }\n        lintOptions {\n            checkReleaseBuilds false\n            // Or, if you prefer, you can continue to check for errors in release builds,\n            // but continue the build even when errors are found:\n            abortOnError false\n        }\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled true\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-project.txt'\n        }\n    }\n    namespace '******'\n}\n\ndependencies {\n    implementation 'androidx.core:core:1.12.0'\n    implementation 'com.android.billingclient:billing:7.0.0'\n\n    implementation 'androidx.appcompat:appcompat:1.1.0'\n    implementation 'com.android.support:multidex:1.0.3'\n    implementation 'androidx.legacy:legacy-support-v4:1.0.0'\n    implementation 'androidx.gridlayout:gridlayout:1.0.0'\n    implementation 'pl.droidsonroids.gif:android-gif-drawable:1.2.18'\n    implementation files('lib/App42MultiPlayerGamingSDK.jar')\n    implementation 'com.anjlab.android.iab.v3:library:2.0.3'\n    implementation 'androidx.constraintlayout:constraintlayout:1.1.3'\n    implementation 'com.google.android.material:material:1.0.0'\n    implementation 'com.github.bumptech.glide:glide:4.7.1'\n    implementation 'de.hdodenhof:circleimageview:1.3.0'\n    implementation 'com.android.support:recyclerview-v7:27.0.0'\n    implementation 'androidx.media:media:1.0.0'\n    implementation 'com.github.Abhi347:NoobCameraFlash:0.2.0'\n\n    // Google\n    implementation 'com.google.android.gms:play-services-auth:16.0.1'\n\n    //Worker\n    implementation 'androidx.startup:startup-runtime:1.1.1'\n    implementation &quot;androidx.lifecycle:lifecycle-process:2.5.1&quot;\n    implementation &quot;androidx.annotation:annotation:1.4.0&quot;\n    implementation &quot;androidx.work:work-runtime:2.8.1&quot;\n    implementation &quot;androidx.work:work-runtime-ktx:2.8.1&quot;\n    implementation &quot;io.coil-kt:coil-compose:2.4.0&quot;\n}\napply plugin: 'com.google.gms.google-services'\n</code></pre>\n",
    "tags" : [ "java", "android" ],
    "owner" : {
      "account_id" : 9179459,
      "reputation" : 359,
      "user_id" : 6823899,
      "user_type" : "registered",
      "accept_rate" : 100,
      "profile_image" : "https://www.gravatar.com/avatar/cb3bf9cda4451a5027e3cab6f207f6dc?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Phil",
      "link" : "https://stackoverflow.com/users/6823899/phil"
    },
    "is_answered" : true,
    "view_count" : 93,
    "answer_count" : 1,
    "score" : 2,
    "last_activity_date" : 1754147399,
    "creation_date" : 1754143493,
    "link" : "https://stackoverflow.com/questions/79723409/could-not-resolve-androidx-activityactivity1-2-3",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79723452,
    "question_id" : 79723409,
    "body" : "<p><code>com.android.billingclient:billing:7.0.0</code> supplies code that you build against, such as <code>BillingClient</code>. Hence, it goes in the <code>implementation</code> section of your <code>app</code> module's Gradle build file.</p>\n<p>The <code>classpath</code> entry in the <code>buildscript</code> <code>dependencies</code> of your top-level Gradle build file is for Gradle plugins and similar tools. AFAIK, <code>com.android.billingclient:billing:7.0.0</code> does not supply any of those. So, comment out or remove the <code>classpath 'com.android.billingclient:billing:7.0.0'</code> line in that top-level Gradle build file.</p>\n",
    "score" : 1,
    "is_accepted" : true,
    "owner" : {
      "account_id" : 39846,
      "reputation" : 1011205,
      "user_id" : 115145,
      "user_type" : "registered",
      "accept_rate" : 84,
      "profile_image" : "https://i.sstatic.net/wDnd8.png?s=256",
      "display_name" : "CommonsWare",
      "link" : "https://stackoverflow.com/users/115145/commonsware"
    },
    "creation_date" : 1754147399,
    "last_activity_date" : 1754147399,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140637493,
    "post_id" : 79723409,
    "body" : "Omg you are a genious, that&#39;s it, it compiles now! thank you so much, I would of search for ever!  Wierd that it worked just fine like that for all the previous version (I used this app for years), you can write your comment as an answer so I can mark it as resolved if you want",
    "score" : 0,
    "owner" : {
      "account_id" : 9179459,
      "reputation" : 359,
      "user_id" : 6823899,
      "user_type" : "registered",
      "accept_rate" : 100,
      "profile_image" : "https://www.gravatar.com/avatar/cb3bf9cda4451a5027e3cab6f207f6dc?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Phil",
      "link" : "https://stackoverflow.com/users/6823899/phil"
    },
    "creation_date" : 1754145872,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140637486,
    "post_id" : 79723409,
    "body" : "You have <code>classpath &#39;com.android.billingclient:billing:7.0.0&#39;</code> in your <code>buildscript</code> <code>dependencies</code> block. You also have it referenced as <code>implementation &#39;com.android.billingclient:billing:7.0.0&#39;</code> in your <code>app</code> module&#39;s <code>dependencies</code>. That is very unusual. Are you certain that the first one belongs there?",
    "score" : 1,
    "owner" : {
      "account_id" : 39846,
      "reputation" : 1011205,
      "user_id" : 115145,
      "user_type" : "registered",
      "accept_rate" : 84,
      "profile_image" : "https://i.sstatic.net/wDnd8.png?s=256",
      "display_name" : "CommonsWare",
      "link" : "https://stackoverflow.com/users/115145/commonsware"
    },
    "creation_date" : 1754145406,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}