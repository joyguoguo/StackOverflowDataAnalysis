{
  "question" : {
    "question_id" : 79835251,
    "title" : "How to check the online/offline status of a POS Printer in Java?",
    "body" : "<p>I am developing a Java application that prints receipts to a DGT POS Printer Speed Line 300-UL. The printer is connected via Ethernet (network), not USB.</p>\n<p>I want to implement a feature where the application checks if the printer is online before sending a print job, so that if the printer is offline, the user (cashier) receives a warning and the order is not lost.</p>\n<p>Currently, I am using <code>PrintServiceLookup.lookupPrintServices()</code> in Java to get the printer by name, but I cannot reliably determine if the printer is online. The printer’s name is detected correctly, but there is no status information.</p>\n<p>I have considered:</p>\n<ul>\n<li>Using WMIC or querying the Windows printer port → doesn’t work reliably for this printer.</li>\n<li>Sending a small test print to check if the printer is reachable → works, but I wonder if there is a cleaner way.</li>\n</ul>\n<p>My questions:</p>\n<ul>\n<li>Is there a way in Java to check the online/offline status of a network POS printer by name?</li>\n<li>Is there a method to reliably get the printer IP from Java if only the printer name is known?</li>\n<li>Are there any best practices for POS Ethernet printers to verify connectivity before printing?</li>\n</ul>\n<p>I am specifically targeting DGT POS Printer Speed Line 300-UL, but general solutions for Ethernet POS printers in Java are also welcome.</p>\n<p>Thanks in advance!</p>\n<p>My print function</p>\n<pre><code>public static void printToPOSInvoice(ObservableList&lt;PrinterRules&gt; printRules, long orderHeader_id, Preferences preferences) {\n    System.out.println(&quot;Print to pos&quot;);\n\n    //  Checking if POS printing is enabled at all\n    if (!preferences.getBoolean(Functions.POSSTATUS, false)) {\n        return; // Exit if POS is disabled\n    }\n\n    try {\n        OrderHeader aos = OrderHeaderService.orderHeaderService.getById(orderHeader_id);\n        Table tempTable = TablesServices.tablesServices.getById(aos.getTable_id());\n        if (tempTable == null) {\n            tempTable = new Table(0, &quot;&quot;, 0, &quot;&quot;, 1, &quot;&quot;);\n        }\n        final Table table = tempTable;\n\n        Map&lt;String, List&lt;CartItem&gt;&gt; groupsToPrint =\n                PrintGroupService.groupItemsByPrinter(printRules, CartFunctions.cartList);\n\n        // WE START WITH THE ITERATION FOR PRINTING\n        groupsToPrint.forEach((printerName, items) -&gt; {\n\n            try {\n                // 1. CHECKING THE EXISTENCE OF A PRINTER\n                PrintService service = PrintRulesService.getPrintServiceByName(printerName);\n                if (service == null) {\n                    throw new RuntimeException(\n                            &quot;Printer '&quot; + printerName + &quot;' is not found. Check name or driver.&quot;\n                    );\n                }\n                System.out.println(&quot;Printer is found: &quot; + printerName);\n\n                // --- Text and data generation  ---\n                String text = PrintRulesService.printRulesService.generatePrintTextInvoice(aos, items);\n\n                byte[] data = PrintRulesService.concat(\n                        PrintRulesService.INIT,\n                        PrintRulesService.ALIGN_CENTER,\n                        PrintRulesService.LARGE_ON,\n                        PrintRulesService.BOLD_ON,\n                        PrintRulesService.text(&quot;==== NARUDZBA ====\\n&quot;),\n                        // ... other data (abbreviated for clarity) ...\n                        PrintRulesService.text(text),\n                        PrintRulesService.LF, PrintRulesService.LF,\n                        PrintRulesService.ALIGN_CENTER,\n                        QRGenerator.generateQRForOrder(aos, null),\n                        PrintRulesService.LF, PrintRulesService.LF,\n                        PrintRulesService.ALIGN_CENTER,\n                        PrintRulesService.text(&quot;==== Hvala! ====\\n&quot;),\n                        PrintRulesService.LF, PrintRulesService.LF,\n                        PrintRulesService.LF, PrintRulesService.LF,\n                        PrintRulesService.LF,\n                        PrintRulesService.CUT\n                );\n                // ----------------------------------------------------\n                // 3) Sending bytes to POS printer\n                PrintRulesService.printBytes(printerName, data);\n\n            } catch (RuntimeException re) {\n                // Catches errors when searching for printers\n                Dialogs.showOKDialog(\n                        PrintRulesService.class,\n                        &quot;Preparation Error&quot;,\n                        &quot;An error occurred while preparing the print job for '&quot; + printerName + &quot;':\\n&quot; + re.getMessage()\n\n                );\n            } catch (Exception e) {\n                // Catches all I/O and PrintService errors from PrintRulesService.printBytes(printerName, data)\n                Dialogs.showOKDialog(\n                        PrintRulesService.class,\n                        &quot;Error from POS printer: &quot; + printerName,\n                        &quot;**Printer is OFFLINE or unavailable!**\\n\\n An error occurred while printing to '&quot; + printerName + &quot;':\\n&quot; + e.getMessage()                    );\n            }\n        }); //\n\n    } catch (Exception e) {\n        // Catch errors outside the loop (e.g., retrieving OrderHeader or TablesServices)\n\n        Dialogs.showOKDialog(\n                PrintRulesService.class,\n                &quot;General System Error&quot;,\n                &quot;A general error occurred before printing.:\\n&quot; + e.getMessage()\n        );\n    }\n}\n</code></pre>\n<p>And printBytes function:</p>\n<pre><code>public static void printBytes(String printerName, byte[] bytes) {\n    try {\n        // 1. Get a printer\n        PrintService service = getPrintServiceByName(printerName);\n\n        // \uD83D\uDD34Printer does not exist → throw an error !!!\n        if (service == null) {\n            System.out.println(&quot;Printer '&quot; + printerName + &quot;' not found or not ON.&quot;);\n            throw new RuntimeException(&quot;Printer '&quot; + printerName + &quot;' not found or not ON.&quot;);\n        }\n\n        // 2. Preparing for printing\n        DocPrintJob job = service.createPrintJob();\n        DocFlavor flavor = DocFlavor.BYTE_ARRAY.AUTOSENSE;\n        Doc doc = new SimpleDoc(bytes, flavor, null);\n\n        // 3. try print\n        job.print(doc, null);\n\n    } catch (Exception e) {\n        System.out.println(e.getMessage());\n        // \uD83D\uDD34 Any error goes further to printToPOSInvoice\n        throw new RuntimeException(&quot;Error sending data to POS printer: &quot; + e.getMessage(), e);\n    }\n}\n</code></pre>\n",
    "tags" : [ "java", "javafx", "point-of-sale", "network-printers" ],
    "owner" : {
      "account_id" : 17216137,
      "reputation" : 31,
      "user_id" : 16906770,
      "user_type" : "registered",
      "profile_image" : "https://lh3.googleusercontent.com/a-/AOh14GgOH3WFftUyR1aByIB3WVxfGvPxGUZKqYPkQ8ES=k-s256",
      "display_name" : "Armin Brkić",
      "link" : "https://stackoverflow.com/users/16906770/armin-brki%c4%87"
    },
    "is_answered" : false,
    "view_count" : 58,
    "answer_count" : 0,
    "score" : 0,
    "last_activity_date" : 1764655974,
    "creation_date" : 1764620132,
    "link" : "https://stackoverflow.com/questions/79835251/how-to-check-the-online-offline-status-of-a-pos-printer-in-java",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ ],
  "question_comments" : [ {
    "comment_id" : 140883821,
    "post_id" : 79835251,
    "body" : "Does <code>PrinterState state = service.getAttribute(PrinterState.class);</code> provide useful information?",
    "score" : 0,
    "owner" : {
      "account_id" : 2053598,
      "reputation" : 44936,
      "user_id" : 1831987,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/38b1c37530189ec4471a43a618e33f67?s=256&d=identicon&r=PG",
      "display_name" : "VGR",
      "link" : "https://stackoverflow.com/users/1831987/vgr"
    },
    "creation_date" : 1764697199,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140883106,
    "post_id" : 79835251,
    "body" : "Please check the documentation for the control command system supported by the printer you are planning to use. If it supports ESC/POS commands, check whether it also supports the <a href=\"https://download4.epson.biz/sec_pubs/pos/reference_en/escpos/dle_eot.html\" rel=\"nofollow noreferrer\">DLE EOT</a> command. If it does, sending the three bytes DLE EOT 0x01 (<code>0x10, 0x04, 0x01</code>) should return one byte of status data from the printer.",
    "score" : 1,
    "owner" : {
      "account_id" : 12359629,
      "reputation" : 4400,
      "user_id" : 9014308,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/240981a43e5c9f40bdcff3de43505093?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "kunif",
      "link" : "https://stackoverflow.com/users/9014308/kunif"
    },
    "creation_date" : 1764675007,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140882200,
    "post_id" : 79835251,
    "body" : "It&#39;s probably worth trying some standard network techniques. Do you have the technical manual?",
    "score" : 0,
    "owner" : {
      "account_id" : 22124137,
      "reputation" : 4244,
      "user_id" : 16376827,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/1ImPw.png?s=256",
      "display_name" : "g00se",
      "link" : "https://stackoverflow.com/users/16376827/g00se"
    },
    "creation_date" : 1764624527,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}