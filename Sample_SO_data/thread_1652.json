{
  "question" : {
    "question_id" : 79687660,
    "title" : "How to render j3d into svg",
    "body" : "<p>I have a project where geometries are rendered on screen or into BufferedImage using the <code>javax.media.j3d</code> library in combination with <code>jogl</code>.\nNow i would like to export the projected image as SVG instead of a rastered image and i am wondering how to proceed.</p>\n<p>I have taken a look at the code of <a href=\"https://www.jfree.org/jfreesvg/\" rel=\"nofollow noreferrer\">jFreeSVG</a>, here the Graphics object is replaced/subclassed by an instance that transforms the draw/fill commands into svg code. This approach looks very straightforward, the drawing of Rectangles, Strings, etc is simply redirected to SVG code instead of a pixel-device.</p>\n<p>Unfortunately, I don't really know where in the j3d-world I'll be able to intercept the graphics output before it is rendered to screen or buffer. There is a J3DGraphics2D Object, but i can't see how i could replace it with a subclassed version that redirects to svg (there's only a getter-method but none to set the graphics object).</p>\n<p>Has anybody played around with this before, or can give me a hint how to intercept the rendering process in order to transform the drawXY() and fillXY() calls into SVG code?</p>\n<p><strong>Edit:</strong></p>\n<p>I made a test program to try out this approach. It does not work!</p>\n<ul>\n<li>Decompiled j3d</li>\n<li>Edited <code>J3DGraphics2DImpl</code> in order to remove the <code>final</code>attribute</li>\n<li>Subclassed <code>J3DGraphics2DImpl</code> and replaced the <code>offScreenGraphics2D</code> object with one of type <code>SVGGraphics2D</code></li>\n<li>Create a scene, add some objects, display on screen (works) render off-screen into svg (does not work)</li>\n</ul>\n<p><strong>I wrongly assumed, that the rendering of the scene finally is reduced to <code>drawXY()</code> and <code>fillXY()</code> methods of the <code>J3DGraphics2DImpl</code>, but these are never touched. The rendering is executed in a Render-class which renders directly into a buffer.</strong> If I want to get svg-paths I would have to dig much deeper into j3d. At the moment this is not an option since I have no source code available (decompiling the whole library creates a mess of errors) and not the time to understand how j3d really works.</p>\n<p>I suppose it would be easier (not simple) to iterate the objects i want to render and transform their outlines into svg-paths and shapes. The hardest part here would be to compute which ones are visible and in which order they are. (That's actually what j3d is for, but it seems to closed up to be extendable to svg)</p>\n",
    "tags" : [ "java", "svg", "graphics", "3d", "vector-graphics" ],
    "owner" : {
      "account_id" : 12448976,
      "reputation" : 473,
      "user_id" : 9064287,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/731f1bf7c821cb7c18a9e3dae3685cf2?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "nhaggen",
      "link" : "https://stackoverflow.com/users/9064287/nhaggen"
    },
    "is_answered" : false,
    "view_count" : 92,
    "answer_count" : 0,
    "score" : 0,
    "last_activity_date" : 1752739553,
    "creation_date" : 1751468833,
    "link" : "https://stackoverflow.com/questions/79687660/how-to-render-j3d-into-svg",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ ],
  "question_comments" : [ {
    "comment_id" : 140565649,
    "post_id" : 79687660,
    "body" : "Well, You <i>were</i> clear afaics: <i>Now i would like to export the projected image as SVG instead of a rastered image</i>. I&#39;m assuming that &#39;projected image&#39; is in the form of a <code>BufferedImage</code>",
    "score" : 0,
    "owner" : {
      "account_id" : 22124137,
      "reputation" : 4243,
      "user_id" : 16376827,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/1ImPw.png?s=256",
      "display_name" : "g00se",
      "link" : "https://stackoverflow.com/users/16376827/g00se"
    },
    "creation_date" : 1751649841,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140565600,
    "post_id" : 79687660,
    "body" : "Sorry, if I was not clear. The BufferedImage is what is already implemented, but now i want to move to SVG instead.",
    "score" : 0,
    "owner" : {
      "account_id" : 12448976,
      "reputation" : 473,
      "user_id" : 9064287,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/731f1bf7c821cb7c18a9e3dae3685cf2?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "nhaggen",
      "link" : "https://stackoverflow.com/users/9064287/nhaggen"
    },
    "creation_date" : 1751647872,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140565151,
    "post_id" : 79687660,
    "body" : "Well that&#39;s something different. I though you said you were starting with a <code>BufferedImage</code>?",
    "score" : 0,
    "owner" : {
      "account_id" : 22124137,
      "reputation" : 4243,
      "user_id" : 16376827,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/1ImPw.png?s=256",
      "display_name" : "g00se",
      "link" : "https://stackoverflow.com/users/16376827/g00se"
    },
    "creation_date" : 1751636734,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140565059,
    "post_id" : 79687660,
    "body" : "If by &quot;library&quot; you mean jFreeSVG, then you must be mistaken. jFreeSVG does generate SVG code from basic AWT draw commands. As far as i&#39;ve read the docs, jFreeSVG does the same as SVG generator module of Batik",
    "score" : 0,
    "owner" : {
      "account_id" : 12448976,
      "reputation" : 473,
      "user_id" : 9064287,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/731f1bf7c821cb7c18a9e3dae3685cf2?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "nhaggen",
      "link" : "https://stackoverflow.com/users/9064287/nhaggen"
    },
    "creation_date" : 1751634568,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140564738,
    "post_id" : 79687660,
    "body" : "Then I don&#39;t <i>think</i> that library will do it for you. Try Batik",
    "score" : 0,
    "owner" : {
      "account_id" : 22124137,
      "reputation" : 4243,
      "user_id" : 16376827,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/1ImPw.png?s=256",
      "display_name" : "g00se",
      "link" : "https://stackoverflow.com/users/16376827/g00se"
    },
    "creation_date" : 1751626469,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140564690,
    "post_id" : 79687660,
    "body" : "That is the point, I want to generate SVG code from a 3D scene",
    "score" : 0,
    "owner" : {
      "account_id" : 12448976,
      "reputation" : 473,
      "user_id" : 9064287,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/731f1bf7c821cb7c18a9e3dae3685cf2?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "nhaggen",
      "link" : "https://stackoverflow.com/users/9064287/nhaggen"
    },
    "creation_date" : 1751625282,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140564613,
    "post_id" : 79687660,
    "body" : "Are you aware that library (afaics) only inlines the image, or links it as an external image to the svg? IOW, it doesn&#39;t vectorize it",
    "score" : 0,
    "owner" : {
      "account_id" : 22124137,
      "reputation" : 4243,
      "user_id" : 16376827,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/1ImPw.png?s=256",
      "display_name" : "g00se",
      "link" : "https://stackoverflow.com/users/16376827/g00se"
    },
    "creation_date" : 1751623119,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140561214,
    "post_id" : 79687660,
    "body" : "An example of such a rendered Image can be found <a href=\"https://i.ibb.co/3Y084m09/td-example-Img.png\" rel=\"nofollow noreferrer\">here</a>. FYI, I have already tried to convert the raster-image into SVG, the result is not satisfying.",
    "score" : 0,
    "owner" : {
      "account_id" : 12448976,
      "reputation" : 473,
      "user_id" : 9064287,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/731f1bf7c821cb7c18a9e3dae3685cf2?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "nhaggen",
      "link" : "https://stackoverflow.com/users/9064287/nhaggen"
    },
    "creation_date" : 1751531556,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140559289,
    "post_id" : 79687660,
    "body" : "<i>... or into BufferedImage</i>. Have you got an example of such an image you can link to? (obvs. after saving it to file)",
    "score" : 0,
    "owner" : {
      "account_id" : 22124137,
      "reputation" : 4243,
      "user_id" : 16376827,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/1ImPw.png?s=256",
      "display_name" : "g00se",
      "link" : "https://stackoverflow.com/users/16376827/g00se"
    },
    "creation_date" : 1751473672,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}