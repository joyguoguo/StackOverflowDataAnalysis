{
  "question" : {
    "question_id" : 79537872,
    "title" : "ParallelFlux - Parallel Execution with multiple downstream API calls",
    "body" : "<p>I have 3 input IDs, which should be processed parallely. For that I have used ParallelFlux as below.</p>\n<p>For every ID, there are 2 downstream API calls(mono1 and mono2 as below) that needs to be parallely invoked as well.</p>\n<p>Will it be possible projectReactor?</p>\n<p>I tried with following code. With parallel flux, each id will be processed with different threads. But the downstream calls will be sequential with same assigned thread.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Flux.fromIterable(idList)\n    .parallel()\n    .runOn(Schedulers.boundedElastic()\n    .flatMap(id -&gt; Mono.fromCallable(()-&gt; Pair.of(id, getInfoByID(id))))\n    .sequential()\n    .collect(Collector.toList()).block();\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>private Info getInfoByID(String id){\n      var mono1= api1.getDetails();\n      var mono2= api2.getDetails();\n      Mono.zip(mono1, mono2)\n      .map(tuple2 -&gt; {\n       …………\n       }).block();\n}\n</code></pre>\n<p>Thanks</p>\n",
    "tags" : [ "java", "project-reactor" ],
    "owner" : {
      "account_id" : 12855015,
      "reputation" : 41,
      "user_id" : 9298630,
      "user_type" : "registered",
      "profile_image" : "https://lh5.googleusercontent.com/-A5nx9Lwh2D0/AAAAAAAAAAI/AAAAAAAAALk/dwH5csTwfUI/s256-rj/photo.jpg",
      "display_name" : "Indunil Rathnayake",
      "link" : "https://stackoverflow.com/users/9298630/indunil-rathnayake"
    },
    "is_answered" : false,
    "view_count" : 61,
    "answer_count" : 0,
    "score" : 0,
    "last_activity_date" : 1743533879,
    "creation_date" : 1743052299,
    "link" : "https://stackoverflow.com/questions/79537872/parallelflux-parallel-execution-with-multiple-downstream-api-calls",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ ],
  "question_comments" : [ {
    "comment_id" : 140281295,
    "post_id" : 79537872,
    "body" : "It is a little hard to understand, because according to your code what I see is that all the ids are processed in the same Threads type boundedElastic. those ids, and then you process other things sequentially (is that what you want?).  Do you always want to collect everything in a list ?",
    "score" : 0,
    "owner" : {
      "account_id" : 9808985,
      "reputation" : 194,
      "user_id" : 7267818,
      "user_type" : "registered",
      "accept_rate" : 57,
      "profile_image" : "https://i.sstatic.net/xDbzS.jpg?s=256",
      "display_name" : "0x52",
      "link" : "https://stackoverflow.com/users/7267818/0x52"
    },
    "creation_date" : 1743406615,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140281250,
    "post_id" : 79537872,
    "body" : "Modifying some of your code to make it work, in a single thread boundedElastic executes the getInfoByID method, do you have the same actual result ?   <code>2025-03-31T09:19:46.206+02:00 INFO --- [oundedElastic-1] reactor.Mono.StreamCollector.1 : | onNext([[(4,Info[id=4, name=4-test]), (1,Info[id=1, name=1-test]), (2,Info[id=2, name=2-test]), (3,Info[id=3, name=3-test]))])</code>",
    "score" : 0,
    "owner" : {
      "account_id" : 9808985,
      "reputation" : 194,
      "user_id" : 7267818,
      "user_type" : "registered",
      "accept_rate" : 57,
      "profile_image" : "https://i.sstatic.net/xDbzS.jpg?s=256",
      "display_name" : "0x52",
      "link" : "https://stackoverflow.com/users/7267818/0x52"
    },
    "creation_date" : 1743405784,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}