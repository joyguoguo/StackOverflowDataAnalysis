{
  "question" : {
    "question_id" : 79721833,
    "title" : "How does Visual Studio Code compile Java code?",
    "body" : "<p>For example, there is a base class HelloWorld.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>package main;\n\npublic class HelloWorld {\n    public static void main(String[] args) {\n        \n    }\n    \n}\n</code></pre>\n<p>When I first run the program with &quot;Run Java&quot;, the following command appears in the terminal:</p>\n<pre><code>&amp; 'C:\\Program Files\\Java\\jdk-23\\bin\\java.exe' '@C:\\Users\\User\\AppData\\Local\\Temp\\cp_9ml7m3ovzvunqyna5xgx27y4b.argfile' 'main.HelloWorld' \n</code></pre>\n<p>when secondly:</p>\n<pre><code>  c:; cd 'c:\\Users\\User\\VStudioPorjects\\Hello'; &amp; 'C:\\Program Files\\Java\\jdk-23\\bin\\java.exe' '@C:\\Users\\User\\AppData\\Local\\Temp\\cp_9ml7m3ovzvunqyna5xgx27y4b.argfile' 'main.HelloWorld' \n</code></pre>\n<p>Where:</p>\n<p><code>cd 'c:\\Users\\User\\VStudioPorjects\\Hello';</code> - change directory to my project.</p>\n<p><code>C:\\Program Files\\Java\\jdk-23\\bin\\java.exe</code> - path to the file that runs the already compiled class.</p>\n<p><code>@C:\\\\Users\\\\User\\\\AppData\\\\Local\\\\Temp\\\\cp_9ml7m3ovzvunqyna5xgx27y4b.argfile</code> - argfile that keep different libraries.</p>\n<p><code>main.HelloWorld</code> - class with package.</p>\n<p>How does compilation happen? Where is <code>javac</code>? Why is <code>Hello.class</code> file created when the class is first run, but when it is deleted and run again, the file is not re-created, and the error <code>java.lang.ClassNotFoundException: main.Hello</code> occurs?</p>\n<p>ps: I disabled <code>java.autobuild</code></p>\n<p>I tried to find an answer for my problem in the <a href=\"https://code.visualstudio.com/docs/languages/java\" rel=\"nofollow noreferrer\">VS Code web site</a> but didn't find anything.</p>\n<p>I read the readme from <strong>Language Support for Java(TM) by Red Hat</strong> but there was no explanation in it.</p>\n",
    "tags" : [ "java", "visual-studio-code" ],
    "owner" : {
      "account_id" : 32655623,
      "reputation" : 33,
      "user_id" : 25377987,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/5bbd5f7183ebfa7ed01d6c533c6e4ba7?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Shalapai2004",
      "link" : "https://stackoverflow.com/users/25377987/shalapai2004"
    },
    "is_answered" : true,
    "view_count" : 229,
    "answer_count" : 2,
    "score" : 2,
    "last_activity_date" : 1754831412,
    "creation_date" : 1753995357,
    "link" : "https://stackoverflow.com/questions/79721833/how-does-visual-studio-code-compile-java-code",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79721842,
    "question_id" : 79721833,
    "body" : "<p>VSC doesn't use javac, it uses the <a href=\"https://help.eclipse.org/latest/index.jsp?topic=%2Forg.eclipse.jdt.doc.user%2Ftasks%2Ftask-using_batch_compiler.htm\" rel=\"noreferrer\">Eclipse Java Compiler</a>.</p>\n<p>Specifically, it uses the <a href=\"https://microsoft.github.io/language-server-protocol/\" rel=\"noreferrer\">Language Server Protocol</a> to communicate with external processes called <em>language servers</em> which handle language specific tooling (code completion, compilation, etc). The RedHat extension uses the <a href=\"https://github.com/eclipse-jdtls/eclipse.jdt.ls\" rel=\"noreferrer\">JDT-LS</a> language server which in turn uses the Eclipse Compiler for Java (ECJ). This is an alternative compiler to javac that offers a different DOM API, better incremental compilation, additional warnings as well as additional capabilities and is optimized for use within IDEs. It doesn't run ECJ in a new process whenever you want to compile the application. Instead, there is one process and any compilations are done in that process.</p>\n<p>In addition to running ECJ by compiling via VSC (or the Eclipse IDE), you can also run it from the command-line. After downloading it, you can the compiler (which is just a Java application) with <code>java -jar</code> and add additional arguments at the end. As ECJ doesn't use the JDK it is running on as a baseline, you can add the jDK to the classpath/moduleoath.</p>\n<p>JDT-LS is also capable of using javac which <a href=\"https://github.com/redhat-developer/vscode-java/wiki/Javac%E2%80%90based-compilation-support\" rel=\"noreferrer\">can be used from VSC</a>. To switch to javac, you can set <code>java.jdt.ls.javac.enabled</code> to <code>on</code>. It would still use the JDT APIs but internally, EJC would be switched out by javac.<br />\nPlease note that even with this option, you probably won't see a command-line invocation for javac as it would still keep it in one process.</p>\n",
    "score" : 8,
    "is_accepted" : true,
    "owner" : {
      "account_id" : 15064163,
      "reputation" : 17100,
      "user_id" : 10871900,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/720202b6e19abc330dcd92e6a1254562?s=256&d=identicon&r=PG",
      "display_name" : "dan1st",
      "link" : "https://stackoverflow.com/users/10871900/dan1st"
    },
    "creation_date" : 1753996149,
    "last_activity_date" : 1753996874,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "answer_id" : 79722467,
    "question_id" : 79721833,
    "body" : "<p><em><strong>Please Note, there are a couple facts tied to this question that affect how it's answered.</strong></em></p>\n<hr />\n<ul>\n<li><p>To start, let me reiterate what's being asked,</p>\n<blockquote>\n<h6><em>&quot;How does Visual Studio Code compile Java code?&quot;</em></h6>\n</blockquote>\n</li>\n<li><p>The first answer that is going to come to mind for many developers is...</p>\n<blockquote>\n<h6><em>&quot;VS Code doesn't compile Java code?&quot;</em></h6>\n</blockquote>\n</li>\n</ul>\n<p>Honestly, that's the truth. VS Code isn't a compiler, <strong><code>EJC</code></strong> and <strong><code>Javac</code></strong> are Java compilers that compile Java code.</p>\n<p>VS Code adds support for EJC and Javac. <a href=\"https://devblogs.microsoft.com/java/annoucing-javac-support-in-visual-studio-code-java/\" rel=\"nofollow noreferrer\">Currently Javac support in VS Code is new, and it is only considered partially supported ATM</a>, but from what I gather, RedHat and Microsoft are working in tandem to increase support for Javac, because they feel it is suppirior to the EJC compiler.</p>\n<hr />\n<br>\n<h3>Two Compilers Requires an Answer for Both</h3>\n<p>VS Code having support for two compilers is one of the facts I mentioned at the top of this answer, the answer to this question is contingent on the compiler your specifically referencing in your answer. I'll try to reference both, as a solution to the conundrum.</p>\n<p>Java has always required IDE/Editor support that is implemented somewhat uniquely. Java's great success has lead other technologies to implement some of the ideas that Java pioneered, so now Java isn't so unique in the way that its compilers and language-tools work, but that doesn't change that its a bit more complex under the hood when it comes to compilation than other languages that have been developed through the decades along side it, like C++ for example.</p>\n<hr />\n<br>\n<h3>JAVA Compiler (Javac)</h3>\n<p>Currently the <code>Javac</code> compiler is interfaced with, much like C++ compilers are interfaced with by development environments. The compiler implements command-line interface, then the CLI exeucutable is put in a directory whose path is added to the Operating Systems PATH variable (or some might recognize it as <code>$PATH</code>).</p>\n<hr />\n<br>\n<h4>Eclipse Compiler for Java (EJC)</h4>\n<p>ECJ has been supported for several more years by VS Code, and its implementation feels much more like how Java compilers are traditionally supported in an editor &amp;/or IDE environment. ECJ does not require the same system env variable PATH config that Javac does, however, Javac will likely drop the system env var PATH config soon, and will be implemented much the same way ECJ is <em>(</em><strong>*</strong><em>I'll come back to this topic after this excerpt).</em> VS Code implements the <a href=\"https://microsoft.github.io/language-server-protocol/\" rel=\"nofollow noreferrer\">&quot;The Microsoft Language Server Protocol&quot;</a> it workes in tandem w/ the Java language server, and VS Code extensions that add support for configuring EJC via VS Code settings. Thats how your able to set tasks, and building projects on save. I am not sure what all features VS Code implements for EJC, but its all done under the hood. I am sure EJC is bound to the EJC LS (language server) via an Eclipse developed and maintained API, but I havn't found where it is yet.</p>\n<blockquote>\n<h5>Returning to the comment I said I would come back to:</h5>\n<p><em>ECJ does not require the same system env variable PATH config that</em> <br />\n<em>Javac does, however, Javac will likely drop the system <code>$PATH</code> config</em> <br />\n<em>soon, and will be implemented much the same way ECJ is being w/ an LSP.</em></p>\n</blockquote>\n<p>Javac has an API thats is specifically for binding the Java compiler to tooling, like the LSP language servers used by VS Code. This is a perfect example for this question, because even though much of what I am writing write now is prematue, its been easy to find a lot of details in sources about how Java compilers are interfaced with, when a person is working with JAVA inside of VS Codee. <a href=\"https://docs.oracle.com/javase/10/docs/api/jdk.compiler-summary.html\" rel=\"nofollow noreferrer\">Javac API</a></p>\n<p>It also implements an interface for programmatic implemenation in the <code>javax.tools</code> package.</p>\n<p>Programmatic Interface</p>\n<p>Currently VS Code's language server uses the <a href=\"https://docs.oracle.com/javase/10/tools/javac.htm#JSWOR627\" rel=\"nofollow noreferrer\">Javac Command Interface</a> to offer support for it.</p>\n<p>However the API I mentioned above (the <a href=\"https://docs.oracle.com/javase/10/docs/api/jdk.compiler-summary.html\" rel=\"nofollow noreferrer\">Javac API</a>) will most likely be implemented, as it will garner full support for javac in VS Code, and will 99% likely be a far more powerful compiler than EJC.</p>\n<p>But anyway, that might sound complex, but that is the complex mechanics that JAVA has a history of implementing under the hood.</p>\n<p>There is actually a 3rd compiler called JIT (Just in time), and its built into the Java Runtime. The JIT compiler is a modern technology that's used by interpreted languages (which is technacly what Java is). The JIT compiler doesn't compiler your code when Javac or EJC does, it is used to predict what byte code needs to be compiled, then it compiles it, <em>just in time</em>.</p>\n<hr />\n<br>\n<h3>VS Code Language Servers for JAVA</h3>\n<ul>\n<li><h6>Java (EJC) - <a href=\"https://github.com/eclipse-jdtls/eclipse.jdt.ls\" rel=\"nofollow noreferrer\">EJC LSP Repo</a></h6>\n</li>\n<li><h6>Java (Javac) - <a href=\"https://github.com/georgewfraser/java-language-server\" rel=\"nofollow noreferrer\">Javac LSP Repo</a></h6>\n</li>\n</ul>\n<hr />\n<br>\n",
    "score" : 1,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 17230869,
      "reputation" : 12600,
      "user_id" : 12475483,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/zOk4qTi5.jpg?s=256",
      "display_name" : "JAYD3V",
      "link" : "https://stackoverflow.com/users/12475483/jayd3v"
    },
    "creation_date" : 1754049228,
    "last_activity_date" : 1754831412,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140634915,
    "post_id" : 79721833,
    "body" : "@aled That question is not relevant, because that option to run a .java file directly is not used here.",
    "score" : 0,
    "owner" : {
      "account_id" : 213468,
      "reputation" : 110282,
      "user_id" : 466862,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/d873f397779db38cd510d9ee5416fd43?s=256&d=identicon&r=PG",
      "display_name" : "Mark Rotteveel",
      "link" : "https://stackoverflow.com/users/466862/mark-rotteveel"
    },
    "creation_date" : 1754038348,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140634038,
    "post_id" : 79721833,
    "body" : "thanks @andrewJames for editing. English not my native language, so i made a lot of mistakes",
    "score" : 1,
    "owner" : {
      "account_id" : 32655623,
      "reputation" : 33,
      "user_id" : 25377987,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/5bbd5f7183ebfa7ed01d6c533c6e4ba7?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Shalapai2004",
      "link" : "https://stackoverflow.com/users/25377987/shalapai2004"
    },
    "creation_date" : 1753997184,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140634033,
    "post_id" : 79721833,
    "body" : "@aled i understand how work javac and java, i know that i can use java without compilation to run program, i just see that in terminal there is no javac although the code compilation is happening. So i asked i question how it is happening",
    "score" : 0,
    "owner" : {
      "account_id" : 32655623,
      "reputation" : 33,
      "user_id" : 25377987,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/5bbd5f7183ebfa7ed01d6c533c6e4ba7?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Shalapai2004",
      "link" : "https://stackoverflow.com/users/25377987/shalapai2004"
    },
    "creation_date" : 1753997000,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140634020,
    "post_id" : 79721833,
    "body" : "@aled They asked why they cannot see the javac command/how VSC does the compilation, they didn&#39;t really ask for how one can use javac from the command-line.",
    "score" : 2,
    "owner" : {
      "account_id" : 15064163,
      "reputation" : 17100,
      "user_id" : 10871900,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/720202b6e19abc330dcd92e6a1254562?s=256&d=identicon&r=PG",
      "display_name" : "dan1st",
      "link" : "https://stackoverflow.com/users/10871900/dan1st"
    },
    "creation_date" : 1753996389,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140634015,
    "post_id" : 79721833,
    "body" : "Questions in <a href=\"https://stackoverflow.com\">Stack Overflow</a> should be specific. You should open a new question for ecj.",
    "score" : 0,
    "owner" : {
      "account_id" : 372682,
      "reputation" : 26512,
      "user_id" : 721855,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/vZiox.png?s=256",
      "display_name" : "aled",
      "link" : "https://stackoverflow.com/users/721855/aled"
    },
    "creation_date" : 1753996255,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140634003,
    "post_id" : 79721833,
    "body" : "There will be no javac here because vscode uses ecj, now I want to understand how ecj works",
    "score" : 0,
    "owner" : {
      "account_id" : 32655623,
      "reputation" : 33,
      "user_id" : 25377987,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/5bbd5f7183ebfa7ed01d6c533c6e4ba7?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Shalapai2004",
      "link" : "https://stackoverflow.com/users/25377987/shalapai2004"
    },
    "creation_date" : 1753995918,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : {
    "79722467" : [ {
      "comment_id" : 140654092,
      "post_id" : 79722467,
      "body" : "I don&#39;t really want to (significantly) change the actual contents of other people&#39;s answers. IMO that is typically best done by the person who answered the question (especially when it comes to new answers).",
      "score" : 0,
      "owner" : {
        "account_id" : 15064163,
        "reputation" : 17100,
        "user_id" : 10871900,
        "user_type" : "registered",
        "profile_image" : "https://www.gravatar.com/avatar/720202b6e19abc330dcd92e6a1254562?s=256&d=identicon&r=PG",
        "display_name" : "dan1st",
        "link" : "https://stackoverflow.com/users/10871900/dan1st"
      },
      "creation_date" : 1754753599,
      "content_license" : "CC BY-SA 4.0"
    }, {
      "comment_id" : 140654086,
      "post_id" : 79722467,
      "body" : "@dan1st If you take a look at <a href=\"https://github.com/eclipse-jdtls/eclipse-jdt-core-incubator\" rel=\"nofollow noreferrer\">the repository where javac support for JDT(-LS) is developed</a>, you will see many people from Red Hat. Practically everything when it comes to interacting with the Java compiler and Java syntax (or even refactoring) happens via JDT-LS (which in turn uses javac or ECJ). Red Hat is the reason JDT-LS has javac-support (which is already based on the javac API).",
      "score" : 0,
      "owner" : {
        "account_id" : 15064163,
        "reputation" : 17100,
        "user_id" : 10871900,
        "user_type" : "registered",
        "profile_image" : "https://www.gravatar.com/avatar/720202b6e19abc330dcd92e6a1254562?s=256&d=identicon&r=PG",
        "display_name" : "dan1st",
        "link" : "https://stackoverflow.com/users/10871900/dan1st"
      },
      "creation_date" : 1754753317,
      "content_license" : "CC BY-SA 4.0"
    }, {
      "comment_id" : 140654083,
      "post_id" : 79722467,
      "body" : "Thank you for your edits. I just want to note the following for completeness (nothing wrong with your answer): VSC uses the same language server (JDT-LS), it just supports both javac and ECJ. If javac is enabled (it&#39;s the same with ECJ), it isn&#39;t just being used for compilation but also some other things (I think AST parsing and some other things). It doesn&#39;t even start javac when compiling the application - it calls the javac APIs within the language server process. Also since VSC also uses JDT-LS, note that the LSP link you shared for javac is not the one used by VSC.",
      "score" : 0,
      "owner" : {
        "account_id" : 15064163,
        "reputation" : 17100,
        "user_id" : 10871900,
        "user_type" : "registered",
        "profile_image" : "https://www.gravatar.com/avatar/720202b6e19abc330dcd92e6a1254562?s=256&d=identicon&r=PG",
        "display_name" : "dan1st",
        "link" : "https://stackoverflow.com/users/10871900/dan1st"
      },
      "creation_date" : 1754753085,
      "content_license" : "CC BY-SA 4.0"
    }, {
      "comment_id" : 140653715,
      "post_id" : 79722467,
      "body" : "I see what your saying, for some reason I thought you were saying that VS Code didn&#39;t offer support for Javac, which isn&#39;t true. However, what you were really saying is I lumped the JIT RT compiler in with the Javac  compiler, and they are not the same thing, but my answer implies that they are. Thats not what I was trying to imply but I think most people would read it the way you did. I&#39;ll remove that part. You could have edited it, I mean maybe you felt it is my responsability, but I am just saying, that I feel that would have been the right move so I wouldn&#39;t have been dumb n rolled it back",
      "score" : 0,
      "owner" : {
        "account_id" : 17230869,
        "reputation" : 12600,
        "user_id" : 12475483,
        "user_type" : "registered",
        "profile_image" : "https://i.sstatic.net/zOk4qTi5.jpg?s=256",
        "display_name" : "JAYD3V",
        "link" : "https://stackoverflow.com/users/12475483/jayd3v"
      },
      "creation_date" : 1754737169,
      "content_license" : "CC BY-SA 4.0"
    }, {
      "comment_id" : 140637006,
      "post_id" : 79722467,
      "body" : "Yes, RedHat worked on <a href=\"https://github.com/redhat-developer/vscode-java/wiki/Javac%E2%80%90based-compilation-support\" rel=\"nofollow noreferrer\">javac as an alternative backend for JDT-LS</a> (meaning it still uses JDT-LS) and you can enable it as an alternative option. But this doesn&#39;t change the fact that none of these is a JIT compiler. The JIT compiler optimizes the application <i>at runtime</i> and compiles it to machine-code (that&#39;s why it&#39;s a JIT (just-in-time) compiler).  The issue I have with your answer is that you say &quot;Java Jit Compiler (JAVAC)&quot;.",
      "score" : 0,
      "owner" : {
        "account_id" : 15064163,
        "reputation" : 17100,
        "user_id" : 10871900,
        "user_type" : "registered",
        "profile_image" : "https://www.gravatar.com/avatar/720202b6e19abc330dcd92e6a1254562?s=256&d=identicon&r=PG",
        "display_name" : "dan1st",
        "link" : "https://stackoverflow.com/users/10871900/dan1st"
      },
      "creation_date" : 1754119110,
      "content_license" : "CC BY-SA 4.0"
    }, {
      "comment_id" : 140636544,
      "post_id" : 79722467,
      "body" : "@AKUMAnoONI Okay so your kinda right, but I am kinda right too. However, your more right, because I spoke (that is to say I implied) that it was the default compiler. It certainly isn&#39;t. At the same time VS Code does offer partial support for it. Here is the article I read a year ago, and is the reason why I took the position I did. <a href=\"https://devblogs.microsoft.com/java/annoucing-javac-support-in-visual-studio-code-java/\" rel=\"nofollow noreferrer\">devblogs.microsoft.com/java/&hellip;</a>",
      "score" : 0,
      "owner" : {
        "account_id" : 17230869,
        "reputation" : 12600,
        "user_id" : 12475483,
        "user_type" : "registered",
        "profile_image" : "https://i.sstatic.net/zOk4qTi5.jpg?s=256",
        "display_name" : "JAYD3V",
        "link" : "https://stackoverflow.com/users/12475483/jayd3v"
      },
      "creation_date" : 1754082442,
      "content_license" : "CC BY-SA 4.0"
    }, {
      "comment_id" : 140636536,
      "post_id" : 79722467,
      "body" : "@dan1st Im pretty sure VS Code does use javac, as part of the new support they have added for java, compliments of Redhat, but I could be wrong I&#39;ll look it up.",
      "score" : 0,
      "owner" : {
        "account_id" : 17230869,
        "reputation" : 12600,
        "user_id" : 12475483,
        "user_type" : "registered",
        "profile_image" : "https://i.sstatic.net/zOk4qTi5.jpg?s=256",
        "display_name" : "JAYD3V",
        "link" : "https://stackoverflow.com/users/12475483/jayd3v"
      },
      "creation_date" : 1754082195,
      "content_license" : "CC BY-SA 4.0"
    }, {
      "comment_id" : 140635563,
      "post_id" : 79722467,
      "body" : "&quot;The software that compiles Java is the Java Jit Compiler (or JAVAC)&quot; - javac (or ECJ) is <b>not</b> the JIT compiler. Javac (and ECJ) compiles Java source code to class files while the JIT compiler optimizes the loaded code at runtime (and compiles it to machine-code) where necessary. Also, since VSC doesn&#39;t use javac, I <i>think</i> it might be possible to use it for many application without a JDK (only a JRE providing the classes to compile against) - at least that should be possible with Eclipse.",
      "score" : 1,
      "owner" : {
        "account_id" : 15064163,
        "reputation" : 17100,
        "user_id" : 10871900,
        "user_type" : "registered",
        "profile_image" : "https://www.gravatar.com/avatar/720202b6e19abc330dcd92e6a1254562?s=256&d=identicon&r=PG",
        "display_name" : "dan1st",
        "link" : "https://stackoverflow.com/users/10871900/dan1st"
      },
      "creation_date" : 1754056733,
      "content_license" : "CC BY-SA 4.0"
    } ]
  }
}