{
  "question" : {
    "question_id" : 79737251,
    "title" : "InjectionException on application shutdown",
    "body" : "<p>I have a label provider for my model tree view:</p>\n<pre><code>public class ModelTreeLabelProvider implements ILabelProvider {\n\n    @Inject\n    IWorkbench workbench;\n\n    @Override\n    public Image getImage(Object element) {\n        return workbench.getSharedImages().getImage(ISharedImages.IMG_OBJ_ELEMENT);\n    }\n[...]\n\n}\n</code></pre>\n<p>It does work nice and dandy, but on application exit I get an <code>InjectionException</code>. I assume because at that time the Workbench no longer exists.</p>\n<p>Actually I no longer use this class when the application is shutting down, so it is not a problem as is, just clutters up my log.</p>\n<p>How to get rid of this error?</p>\n<p>The first few lines of the stack trace:</p>\n<pre><code>org.eclipse.e4.core.di.InjectionException: org.eclipse.e4.core.di.InjectionException: Unable to process &quot;ModelTreeLabelProvider.workbench&quot;: no actual value was found for the argument &quot;IWorkbench&quot;.\n    at org.eclipse.e4.core.internal.di.MethodRequestor.execute(MethodRequestor.java:66)\n    at org.eclipse.e4.core.internal.di.InjectorImpl.processAnnotated(InjectorImpl.java:977)\n    at org.eclipse.e4.core.internal.di.InjectorImpl.processAnnotated(InjectorImpl.java:939)\n    at org.eclipse.e4.core.internal.di.InjectorImpl.uninject(InjectorImpl.java:182)\n</code></pre>\n",
    "tags" : [ "java", "dependency-injection", "eclipse-rcp" ],
    "owner" : {
      "account_id" : 1029918,
      "reputation" : 1506,
      "user_id" : 1038447,
      "user_type" : "registered",
      "accept_rate" : 31,
      "profile_image" : "https://www.gravatar.com/avatar/2b2c8669d88a7265252b6ede2f0ec677?s=256&d=identicon&r=PG",
      "display_name" : "&#193;rp&#225;d Magos&#225;nyi",
      "link" : "https://stackoverflow.com/users/1038447/%c3%81rp%c3%a1d-magos%c3%a1nyi"
    },
    "is_answered" : false,
    "view_count" : 68,
    "answer_count" : 0,
    "score" : 1,
    "last_activity_date" : 1755369260,
    "creation_date" : 1755354699,
    "link" : "https://stackoverflow.com/questions/79737251/injectionexception-on-application-shutdown",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ ],
  "question_comments" : [ {
    "comment_id" : 140670136,
    "post_id" : 79737251,
    "body" : "Aside from that since the IWorkbench value never changes you could inject the value in the Constructor rather than using field injection. Constructor injection does not set up the value change tracking and uninject processing like field injection.",
    "score" : 0,
    "owner" : {
      "account_id" : 3159259,
      "reputation" : 111552,
      "user_id" : 2670892,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/4iPV5.png?s=256",
      "display_name" : "greg-449",
      "link" : "https://stackoverflow.com/users/2670892/greg-449"
    },
    "creation_date" : 1755357136,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140670130,
    "post_id" : 79737251,
    "body" : "That stack trace looks like injector <code>uninject</code> trying to run a <code>@PreDestroy</code> annotated method",
    "score" : 0,
    "owner" : {
      "account_id" : 3159259,
      "reputation" : 111552,
      "user_id" : 2670892,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/4iPV5.png?s=256",
      "display_name" : "greg-449",
      "link" : "https://stackoverflow.com/users/2670892/greg-449"
    },
    "creation_date" : 1755356855,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}