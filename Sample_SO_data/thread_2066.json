{
  "question" : {
    "question_id" : 79651571,
    "title" : "Presenting a link to request to the next page in Spring controller",
    "body" : "<p>I have this controller:</p>\n<pre><code>// Gets a list of the latest listings, think like Ebay or Craigslist\n@ResponseBody\n@GetMapping(&quot;/listings&quot;)\npublic ResponseEntity&lt;List&lt;Listing&gt;&gt; getListings(@RequestParam(defaultValue = &quot;0&quot;, name=&quot;pageNumber&quot;) String pageNumber,\n                                                      @RequestParam(defaultValue = &quot;200&quot;) String pageSize) {\n    PageRequest page;\n    try {\n        page = PageRequest.of(Integer.parseInt(pageNumber), Integer.parseInt(pageSize),\n                Sort.by(Sort.Direction.DESC, &quot;id&quot;));\n    } catch (NumberFormatException _) {\n        throw new ResponseStatusException(HttpStatus.BAD_REQUEST, &quot;One or more parameters were not accepted.&quot;);\n    }\n\n    List&lt;Listing&gt; listings = listingsService.getListings(page);\n\n    return new ResponseEntity&lt;&gt;(Listings, HttpStatus.OK);\n}\n</code></pre>\n<p>My goal here is to embed a link to request the next page of data within the body of the response, something like this:</p>\n<pre><code>{\n  &quot;listings&quot;: { ... },\n  &quot;meta&quot;: {\n    &quot;paging&quot;: {\n      &quot;previous&quot;: &quot;https://myplace/?pageNumber=n-1&quot;,\n      &quot;next&quot;: &quot;https://myplace/?pageNumber=n+1&quot;\n    }\n  },\n}\n</code></pre>\n<p>But I'm not sure if I should use a feature of ResponseEntity, create a new object which extends a list of listings with these details, or I'm going about this wrong and should do something entirely differently. I need some advice on this.</p>\n",
    "tags" : [ "java", "spring", "spring-boot", "jpa" ],
    "owner" : {
      "account_id" : 9105585,
      "reputation" : 35,
      "user_id" : 6776165,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/8rokt.png?s=256",
      "display_name" : "Kral",
      "link" : "https://stackoverflow.com/users/6776165/kral"
    },
    "is_answered" : true,
    "view_count" : 80,
    "answer_count" : 1,
    "score" : 0,
    "last_activity_date" : 1749659145,
    "creation_date" : 1748967106,
    "link" : "https://stackoverflow.com/questions/79651571/presenting-a-link-to-request-to-the-next-page-in-spring-controller",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79662353,
    "question_id" : 79651571,
    "body" : "<p>I recommend using <code>Pageable</code> and <code>Page</code> from spring rather than managing this yourself.  Your controller would return a <code>Page&lt;Listing&gt;</code> (or a <code>ResponseEntity&lt;Page&lt;Listing&gt;&gt;</code> if you have other things to inject into the <code>ResponseEntity</code>).</p>\n<p>Without knowing how you're fetching your data, here's some updates to how this would work</p>\n<pre><code>@ResponseBody\n@GetMapping(&quot;/listings&quot;)\npublic Page&lt;Listing&gt; getListings(Pageable pageable) {\n    // fetch data.  Repositories will accept a &quot;Pageable&quot;, so something like this\n    Page&lt;Listing&gt; pageOfListings = listingRepository.findAll(pageable);\n    \n    // if you don't have a repository, you could also build your own Page\n    if(noRepositoryExists) {\n        pageOfListings = new PageImpl(listingsFetchedFromSomewhereElse, pageable, (Long) totalListingsAvailable);\n    }\n\n    return pageOfListings;\n}\n</code></pre>\n<p>If that's not a viable option you can create a wrapper for your <code>List&lt;Listing&gt;</code>  and return that instead</p>\n<pre><code>public class ListingPage {\n  private List&lt;Listing&gt; listings;\n  private PageInfo meta;\n}\n</code></pre>\n",
    "score" : 1,
    "is_accepted" : true,
    "owner" : {
      "account_id" : 929981,
      "reputation" : 721,
      "user_id" : 1224584,
      "user_type" : "registered",
      "accept_rate" : 57,
      "profile_image" : "https://www.gravatar.com/avatar/24f66ac4417d6d0e0d1c551359c1cf70?s=256&d=identicon&r=PG",
      "display_name" : "anztenney",
      "link" : "https://stackoverflow.com/users/1224584/anztenney"
    },
    "creation_date" : 1749659145,
    "last_activity_date" : 1749659145,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140484689,
    "post_id" : 79651571,
    "body" : "Pagination looks done, it seems just a matter of formating the return response so that it also returns the prev/next links for a linked list format result. The PageRequest gives you the full size, and you have the current offset/size from the page to know the current, previous and next offsets.  see <a href=\"https://docs.spring.io/spring-data/rest/reference/paging-and-sorting.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-data/rest/reference/&hellip;</a>",
    "score" : 1,
    "owner" : {
      "account_id" : 231721,
      "reputation" : 21335,
      "user_id" : 496099,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/efa7510cf47d7bd79e80486246e7e39e?s=256&d=identicon&r=PG",
      "display_name" : "Chris",
      "link" : "https://stackoverflow.com/users/496099/chris"
    },
    "creation_date" : 1748980162,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140484539,
    "post_id" : 79651571,
    "body" : "Probably this is XY Problem. I think you want to implement pagination. If so refer to <a href=\"https://stackoverflow.com/questions/32434058/how-to-implement-pagination-in-spring-boot-with-hibernate\" title=\"how to implement pagination in spring boot with hibernate\">stackoverflow.com/questions/32434058/&hellip;</a> and this helpful blog: <a href=\"https://medium.com/@rathoreabhi1990/simplifying-pagination-in-spring-boot-4e33c9ff4d07\" rel=\"nofollow noreferrer\">medium.com/@rathoreabhi1990/&hellip;</a>",
    "score" : 1,
    "owner" : {
      "account_id" : 16860149,
      "reputation" : 181,
      "user_id" : 12191150,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/fec9a6154254eb5fd901f4a0045c0b1f?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Yasin Ahmed",
      "link" : "https://stackoverflow.com/users/12191150/yasin-ahmed"
    },
    "creation_date" : 1748976712,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140484328,
    "post_id" : 79651571,
    "body" : "I plan to stick with the PagingAndSortingRepository implementation.",
    "score" : 0,
    "owner" : {
      "account_id" : 9105585,
      "reputation" : 35,
      "user_id" : 6776165,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/8rokt.png?s=256",
      "display_name" : "Kral",
      "link" : "https://stackoverflow.com/users/6776165/kral"
    },
    "creation_date" : 1748971873,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140484303,
    "post_id" : 79651571,
    "body" : "Here&#39;s how to do it in raw SQL: <a href=\"https://www.geeksforgeeks.org/sql-limit-clause/\" rel=\"nofollow noreferrer\">geeksforgeeks.org/sql-limit-clause</a>",
    "score" : 0,
    "owner" : {
      "account_id" : 1352170,
      "reputation" : 35259,
      "user_id" : 1291492,
      "user_type" : "registered",
      "accept_rate" : 100,
      "profile_image" : "https://www.gravatar.com/avatar/f914cd02166793195d9d950503f8f739?s=256&d=identicon&r=PG",
      "display_name" : "ControlAltDel",
      "link" : "https://stackoverflow.com/users/1291492/controlaltdel"
    },
    "creation_date" : 1748971513,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}