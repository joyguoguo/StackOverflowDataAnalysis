{
  "question" : {
    "question_id" : 79544806,
    "title" : "Could not find or load main class com.infolance.Main in .Jar file",
    "body" : "<p>Good morning, everyone.\nI'm having a problem, I've already created several .jar and never had this kind of problem, but with this one something isn't working right.</p>\n<p>I created a .Jar of my java program, I use IntelliJ, Gradle and JavaFX in the project. In the IDE everything works perfectly, but in the .Jar I got the following error:\nCould not find or load main class com.infolance.Main</p>\n<p>My build.gradle</p>\n<pre><code>plugins {\n    id 'java'\n    id 'application'\n    id 'org.openjfx.javafxplugin' version &quot;0.0.13&quot;\n    id 'org.beryx.jlink' version '2.12.0'\n    id 'com.gluonhq.gluonfx-gradle-plugin' version '1.0.19'\n    id 'com.github.johnrengelman.shadow' version '7.1.2'\n}\n\ngroup 'com.infolance'\nversion '1.6.4'\n\nsourceCompatibility = &quot;17&quot;\n\nrepositories {\n    mavenCentral()\n    maven {\n        url 'https://nexus.gluonhq.com/nexus/content/repositories/releases'\n    }\n    flatDir {\n        dirs 'libs'\n    }\n}\n\ndependencies {\n    implementation 'org.jetbrains:annotations:24.0.0'\n    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.8.1'\n    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.8.1'\n    implementation 'com.fazecast:jSerialComm:2.9.2'\n    implementation 'com.google.code.gson:gson:2.10.1'\n    implementation 'com.fasterxml.jackson.core:jackson-annotations:2.14.1'\n    implementation 'com.fasterxml.jackson.core:jackson-databind:2.14.1'\n    implementation 'com.fasterxml.jackson.core:jackson-core:2.14.1'\n    implementation 'com.fasterxml.jackson.datatype:jackson-datatype-jsr310:2.13.0'\n    implementation 'org.update4j:update4j:1.5.9'\n    compileOnly 'org.projectlombok:lombok:1.18.26'\n    annotationProcessor 'org.projectlombok:lombok:1.18.26'\n    implementation 'org.apache.httpcomponents:httpclient:4.5.13'\n    implementation 'com.github.wendykierp:JTransforms:3.0'\n    implementation 'org.apache.commons:commons-math3:3.6.1'\n    implementation 'io.github.typhon0:AnimateFX:1.2.4'\n    implementation 'com.jfoenix:jfoenix:9.0.1'\n    implementation 'com.gluonhq:charm-glisten:6.2.3'\n    implementation 'com.gluonhq:glisten-afterburner:2.1.0'\n    implementation 'io.github.mkpaz:atlantafx-base:2.0.1'\n    testImplementation 'org.assertj:assertj-core:3.24.2'\n    implementation 'fr.brouillard.oss:cssfx:11.5.1'\n    implementation 'org.kordamp.ikonli:ikonli-javafx:12.3.1'\n    implementation 'org.kordamp.ikonli:ikonli-material2-pack:12.3.1'\n    implementation 'org.kordamp.ikonli:ikonli-fontawesome-pack:12.3.1'\n    implementation 'com.microsoft.sqlserver:mssql-jdbc:12.8.1.jre11'\n    implementation 'mysql:mysql-connector-java:8.0.33'\n    testImplementation 'com.h2database:h2:1.3.148'\n    testCompileOnly 'org.projectlombok:lombok:1.18.26'\n    testAnnotationProcessor 'org.projectlombok:lombok:1.18.26'\n}\n\ntest {\n    systemProperty &quot;file.encoding&quot;, &quot;UTF-8&quot;\n    useJUnitPlatform()\n}\n\njavafx {\n    version = &quot;20.0.2&quot;\n    modules = ['javafx.swing', 'javafx.graphics', 'javafx.fxml', 'javafx.media', 'javafx.controls', 'javafx.web']\n}\n\napplication {\n    mainClass.set(&quot;com.infolance.Main&quot;)\n}\n\nshadowJar {\n    archiveClassifier.set('')\n    manifest {\n        attributes 'Main-Class': 'com.infolance.Main'\n    }\n}\n\njar {\n    from {\n        sourceSets.main.output\n        configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }\n    }\n    duplicatesStrategy = DuplicatesStrategy.EXCLUDE\n    manifest {\n        attributes 'Main-Class': 'com.infolance.Main'\n    }\n}\n\njlink {\n    options = ['--strip-debug', '--compress', '2', '--no-header-files', '--no-man-pages']\n    launcher {\n        name = 'Infolance'\n    }\n    moduleName = 'com.infolance'\n    mainClass = 'com.infolance.Main'\n}\n\ngluonfx {\n    attachConfig {\n        version = &quot;4.0.18&quot;\n        services 'display', 'lifecycle', 'statusbar', 'storage'\n    }\n}\n\ncompileJava.options.encoding = &quot;UTF-8&quot;\ncompileTestJava.options.encoding = &quot;UTF-8&quot;\n\ntasks.withType(JavaCompile) {\n    options.encoding = 'UTF-8'\n}\n</code></pre>\n<p>Here is the .jar structure opened in WinRar:\n<a href=\"https://i.sstatic.net/8221ZWcT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/8221ZWcT.png\" alt=\"enter image description here\" /></a></p>\n<p>And here she is in the IDE:</p>\n<p><a href=\"https://i.sstatic.net/tr26zIFy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/tr26zIFy.png\" alt=\"enter image description here\" /></a></p>\n<p>I tried adding the -cp command to force initialization and it didn't work either, the -jar always returns the same problem.\nThe build mode I'm using is Gradle/build/build:</p>\n<p><a href=\"https://i.sstatic.net/kemWk3b8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/kemWk3b8.png\" alt=\"enter image description here\" /></a></p>\n<p>A comment about the project that may be relevant, I created it copied from another project of mine and renamed the packages and class. and I made all the modifications to create a new project from this one already ready, I do not know if this may have affected the classpath.</p>\n",
    "tags" : [ "java" ],
    "owner" : {
      "account_id" : 12514783,
      "reputation" : 31,
      "user_id" : 23922769,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/kED9Xub8.jpg?s=256",
      "display_name" : "Matheus Markies",
      "link" : "https://stackoverflow.com/users/23922769/matheus-markies"
    },
    "is_answered" : false,
    "view_count" : 52,
    "answer_count" : 0,
    "score" : 0,
    "last_activity_date" : 1743348472,
    "creation_date" : 1743348472,
    "link" : "https://stackoverflow.com/questions/79544806/could-not-find-or-load-main-class-com-infolance-main-in-jar-file",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ ],
  "question_comments" : [ {
    "comment_id" : 140280309,
    "post_id" : 79544806,
    "body" : "( for a <i>normal</i>, non-JavaFX code, I would check if the file <code>Main.class</code> really is in the subdirectory <code>com&#47;infolance&#47;</code> in the JAR [not visible in posted screenshot]. I would try starting it with <code>java -cp Inforlance-1.6.4.jar com.infolance.Main</code> to see if there is some hidden error message. By the way, if using the <code>-jar</code> option, the <code>-cp</code> option [or similar] is ignored, the class path comes only from the <code>META-INF&#47;MANIFEST.MF</code> file- I would also check that entry, maybe an additional JAR file is required [entry key <code>Class-Path:</code>] )",
    "score" : 0,
    "owner" : {
      "account_id" : 31180,
      "reputation" : 29752,
      "user_id" : 85421,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/kKvXH.gif?s=256",
      "display_name" : "user85421",
      "link" : "https://stackoverflow.com/users/85421/user85421"
    },
    "creation_date" : 1743368761,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140280274,
    "post_id" : 79544806,
    "body" : "maybe you should add the <a href=\"https://stackoverflow.com/questions/tagged/javafx\">javafx</a> tag to the question - I suspect the problem is related to it - adding the <a href=\"https://stackoverflow.com/questions/tagged/gradle\">gradle</a> tag is also recommended (assuming you already <a href=\"https://stackoverflow.com/search?q=%5Bjavafx%5D+main+not+found\">searched this site</a> for similar problems as usggested by the <a href=\"https://stackoverflow.com/tour\">tour</a>)",
    "score" : 0,
    "owner" : {
      "account_id" : 31180,
      "reputation" : 29752,
      "user_id" : 85421,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/kKvXH.gif?s=256",
      "display_name" : "user85421",
      "link" : "https://stackoverflow.com/users/85421/user85421"
    },
    "creation_date" : 1743367503,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}