{
  "question" : {
    "question_id" : 79655335,
    "title" : "Cordova Android app is getting a compile Gradle error",
    "body" : "<p>I am in the process of upgrading my app environment from Cordova-CLI v11.1 to v12.0 and Cordova-Android v10.1.2 to v13.0</p>\n<p>What I have installed for the upgrade:</p>\n<ul>\n<li>Java JDK 17.0.14</li>\n<li>Gradle 7.6.5</li>\n<li>NodeJS 22.16.0</li>\n<li>cordova-cli v12.0</li>\n<li>cordova-android v13.0</li>\n</ul>\n<p>However, my app fails to compile with the following (conflicting) info:</p>\n<pre><code>&gt; Configure project :app\nstrippedNativeLibsDir is deprecated and no longer used. Please remove it from your build configuration.\n\n&gt; Task :app:mapDebugSourceSetPaths FAILED\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':app:mapDebugSourceSetPaths'.\n&gt; Error while evaluating property 'extraGeneratedResDir' of task ':app:mapDebugSourceSetPaths'.\n   &gt; Failed to calculate the value of task ':app:mapDebugSourceSetPaths' property 'extraGeneratedResDir'.\n      &gt; Querying the mapped value of provider(java.util.Set) before task ':app:processDebugGoogleServices' has completed is not supported\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n&gt; Get more help at https://help.gradle.org.\n\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 9.0.\n\nYou can use '--warning-mode all' to show the individual deprecation warnings and determine if they come from your own scripts or plugins.\n\nFor more on this, please refer to https://docs.gradle.org/8.7/userguide/command_line_interface.html#sec:command_line_warnings in the Gradle documentation.\n\nBUILD FAILED in 26s\n10 actionable tasks: 5 executed, 5 up-to-date\nCommand failed with exit code 1: c:\\Users\\rolin\\dev\\myApp\\platforms\\android\\tools\\gradlew.bat cdvBuildDebug\n[ERROR] An error occurred while running subprocess cordova.\n\n        cordova.cmd build android exited with exit code 1.\n\n        Re-running this command with the --verbose flag may provide more information.\n</code></pre>\n<p>How can I decipher this? I am confused because I have Gradle 7.6.5 installed, yet the error output shows references to <code>docs.gradle.org/8.7</code> and the line <code>Deprecated Gradle features were used in this build, making it incompatible with Gradle 9.0</code>.</p>\n<p>So what's happening? Is it trying to use 7.6.5, 8.7 or v9?</p>\n<h2>Update</h2>\n<p>I found this <a href=\"https://stackoverflow.com/questions/72224454/execution-failed-for-task-appmapdebugsourcesetpaths-error-while-evaluatin\">Execution failed for task &#39;:app:mapDebugSourceSetPaths&#39;. &gt; Error while evaluating property &#39;extraGeneratedResDir&#39; of task</a></p>\n<p>Which led me to /myApp/platforms/android/ build files</p>\n<p>In cdv-gradle-config.json, it lists:</p>\n<pre><code>{&quot;MIN_SDK_VERSION&quot;:24,\n&quot;SDK_VERSION&quot;:34,\n&quot;COMPILE_SDK_VERSION&quot;:34,\n**&quot;GRADLE_VERSION&quot;:&quot;8.7&quot;,**\n&quot;MIN_BUILD_TOOLS_VERSION&quot;:&quot;34.0.0&quot;,\n&quot;AGP_VERSION&quot;:&quot;8.3.0&quot;,\n&quot;KOTLIN_VERSION&quot;:&quot;1.9.24&quot;,\n&quot;ANDROIDX_APP_COMPAT_VERSION&quot;:&quot;1.6.1&quot;,\n&quot;ANDROIDX_WEBKIT_VERSION&quot;:&quot;1.6.0&quot;,\n&quot;ANDROIDX_CORE_SPLASHSCREEN_VERSION&quot;:&quot;1.0.0&quot;,\n&quot;GRADLE_PLUGIN_GOOGLE_SERVICES_VERSION&quot;:&quot;4.3.15&quot;,\n&quot;IS_GRADLE_PLUGIN_GOOGLE_SERVICES_ENABLED&quot;:false,\n&quot;IS_GRADLE_PLUGIN_KOTLIN_ENABLED&quot;:false,\n&quot;PACKAGE_NAMESPACE&quot;:&quot;com.myapp&quot;,\n&quot;JAVA_SOURCE_COMPATIBILITY&quot;:8,\n&quot;JAVA_TARGET_COMPATIBILITY&quot;:8,\n&quot;KOTLIN_JVM_TARGET&quot;:null}\n</code></pre>\n<p>And my <code>gradle --version</code> output is:</p>\n<pre><code>&gt;gradle --version\n\n------------------------------------------------------------\nGradle 7.6.5\n------------------------------------------------------------\n\nBuild time:   2025-06-04 13:02:22 UTC\nRevision:     13a09d0cc61025596acd4acf05d1980a79838906\n\nKotlin:       1.7.10\nGroovy:       3.0.13\nAnt:          Apache Ant(TM) version 1.10.13 compiled on January 4 2023\nJVM:          17.0.14 (Oracle Corporation 17.0.14+8-LTS-191)\nOS:           Windows 10 10.0 amd64\n</code></pre>\n<p>So I guess I see where the Gradle 8.7 is coming from, so is it not using my 7.6.5 install at all?</p>\n<h2>Update</h2>\n<p>In the <code>cdv-gradle-config.json</code> file I hard set `&quot;GRADLE_PLUGIN_GOOGLE_SERVICES_VERSION&quot;:&quot;4.4.2&quot;, and compiled my app again.  It still failed, but back in that JSON file the plugin version was set back to 4.3.15.</p>\n<p>Doing a deeper search in my project/platforms/android folder I only found two references to the <code>com.google.gms:google-services</code> version:</p>\n<ol>\n<li>In platforms\\android\\app\\build.gradle:  String gradlePluginGoogleServicesClassPath = &quot;com.google.gms:google-services:${cordovaConfig.GRADLE_PLUGIN_GOOGLE_SERVICES_VERSION}&quot;</li>\n<li>In platforms\\android\\cordova-plugin-firebasex\\myapp-build.gradle:  classpath 'com.google.gms:google-services:4.3.10'</li>\n</ol>\n<p>So I am not certain where 4.3.15 keeps getting reset or where to physically change the version to 4.4.2.</p>\n",
    "tags" : [ "java", "android", "cordova", "gradle" ],
    "owner" : {
      "account_id" : 2320281,
      "reputation" : 3196,
      "user_id" : 2036221,
      "user_type" : "registered",
      "accept_rate" : 23,
      "profile_image" : "https://www.gravatar.com/avatar/c505599576462ddf3cb1f61d4ca76a41?s=256&d=identicon&r=PG",
      "display_name" : "rolinger",
      "link" : "https://stackoverflow.com/users/2036221/rolinger"
    },
    "is_answered" : false,
    "view_count" : 111,
    "answer_count" : 0,
    "score" : 0,
    "last_activity_date" : 1754766605,
    "creation_date" : 1749174600,
    "link" : "https://stackoverflow.com/questions/79655335/cordova-android-app-is-getting-a-compile-gradle-error",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ ],
  "question_comments" : [ {
    "comment_id" : 140493264,
    "post_id" : 79655335,
    "body" : "@Robert - thanks.  Part of my confusion though is that cordova-android@12 upgrades to gradle@7.6.5, v13 makes no reference to a gradle upgrade, while v14 upgrades to gradle@8.3 - so I don&#39;t know where gradle@8.7 is coming from.  And more importantly, what versions are need specifically for cordova-android@13 ?",
    "score" : 0,
    "owner" : {
      "account_id" : 2320281,
      "reputation" : 3196,
      "user_id" : 2036221,
      "user_type" : "registered",
      "accept_rate" : 23,
      "profile_image" : "https://www.gravatar.com/avatar/c505599576462ddf3cb1f61d4ca76a41?s=256&d=identicon&r=PG",
      "display_name" : "rolinger",
      "link" : "https://stackoverflow.com/users/2036221/rolinger"
    },
    "creation_date" : 1749214570,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140492303,
    "post_id" : 79655335,
    "body" : "Android gradle projects usually make use of the gradle wrapper, so you don&#39;t need gradle installed at all. The wrapper will download the gradle version configured in the project, unpack and use it. Just make sure the used Java version is compatible with the used gradle version and it&#39;s plugins. If it doesn&#39;t work try an older Java LTS version (e.g. JDK 11 or 8).",
    "score" : 0,
    "owner" : {
      "account_id" : 50585,
      "reputation" : 43459,
      "user_id" : 150978,
      "user_type" : "registered",
      "accept_rate" : 78,
      "profile_image" : "https://www.gravatar.com/avatar/feadc214792e2581c3c750140e3eb2c7?s=256&d=identicon&r=PG",
      "display_name" : "Robert",
      "link" : "https://stackoverflow.com/users/150978/robert"
    },
    "creation_date" : 1749194093,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}