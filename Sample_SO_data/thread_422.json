{
  "question" : {
    "question_id" : 79807426,
    "title" : "Priority of Java&#39;s conditional ? : operator",
    "body" : "<p>The conditional <code>? :</code> operator in Java is right-associative.</p>\n<p>So the expression</p>\n<pre><code>a&lt;b ? c&lt;d ? 1 : 2 : 3 ;\n</code></pre>\n<p>is evaluated as</p>\n<pre><code>a&lt;b ? (c&lt;d ? 1 : 2) : 3 ;\n</code></pre>\n<p>Does this mean that the expression <code>(c&lt;d ? 1: 2)</code> is evaluated first or is the boolean <code>a&lt;b</code> evaluated and the expression <code>(c&lt;d ? 1: 2)</code> is only evaluated afterwards iff <code>a&lt;b</code> is true?</p>\n<p>In other words: assume <code>c&lt;d</code> is true, is the evaluation then:</p>\n<ol>\n<li><code>a&lt;b ? 1: 3;</code>                 or</li>\n<li><code>a&lt;b ? (c&lt;d ? 1 : 2) : 3 ;</code></li>\n</ol>\n",
    "tags" : [ "java", "operators", "operator-precedence", "expression-evaluation" ],
    "owner" : {
      "account_id" : 3434578,
      "reputation" : 91,
      "user_id" : 7729735,
      "user_type" : "registered",
      "profile_image" : "https://graph.facebook.com/666469372/picture?type=large",
      "display_name" : "Sebastian Mueller",
      "link" : "https://stackoverflow.com/users/7729735/sebastian-mueller"
    },
    "is_answered" : true,
    "view_count" : 155,
    "answer_count" : 7,
    "score" : 1,
    "last_activity_date" : 1762166592,
    "creation_date" : 1762124635,
    "link" : "https://stackoverflow.com/questions/79807426/priority-of-javas-conditional-operator",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79807457,
    "question_id" : 79807426,
    "body" : "<p>If you run <a href=\"https://onlinegdb.com/H4h7KQMcIo\" rel=\"nofollow noreferrer\">https://onlinegdb.com/H4h7KQMcIo</a> which uses <code>A() ? B() ? C() : D() : E()</code> it prints <code>A</code> first and then <code>B</code> and then <code>C</code></p>\n",
    "score" : 5,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 2524320,
      "reputation" : 9693,
      "user_id" : 2193968,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/1beed39f2b04409ff584a0af1d59325c?s=256&d=identicon&r=PG",
      "display_name" : "Jerry Jeremiah",
      "link" : "https://stackoverflow.com/users/2193968/jerry-jeremiah"
    },
    "creation_date" : 1762130611,
    "last_activity_date" : 1762130611,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "answer_id" : 79807598,
    "question_id" : 79807426,
    "body" : "<p>Java Language Specification <a href=\"https://docs.oracle.com/javase/specs/jls/se25/html/jls-15.html#jls-15.25-500\" rel=\"nofollow noreferrer\">15.25. Conditional Operator <code>? :</code></a> says:</p>\n<blockquote>\n<p>At run time, the first operand expression of the conditional expression is evaluated first. ...</p>\n<p>The resulting boolean value is then used to choose either the second or the third operand expression:</p>\n<p>If the value of the first operand is true, then the second operand expression is chosen.</p>\n<p>If the value of the first operand is false, then the third operand expression is chosen.</p>\n<p>The chosen operand expression is then evaluated and the resulting value is converted to ...</p>\n<p>The operand expression not chosen is not evaluated for that particular evaluation of the conditional expression</p>\n</blockquote>\n<p>That means:</p>\n<ul>\n<li>the condition is evaluated first,</li>\n<li>only one of the second or third operand is evaluated</li>\n</ul>\n<hr />\n<p>Note: the Conditional Operator (<code>? :</code>,) as its name suggest, is a normal operator, it is <strong>not</strong> only valid in assignments!<br />\nIt can be used in any expressions: assignment, array index, method arguments, conditionals [<code>if</code>, <code>for</code>, <code>switch</code>] ... (assignment is also an Expression, <code>=</code> is the <a href=\"https://docs.oracle.com/javase/specs/jls/se25/html/jls-15.html#jls-15.26.1\" rel=\"nofollow noreferrer\">Simple Assignment Operator</a>.)</p>\n",
    "score" : 4,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 31180,
      "reputation" : 29752,
      "user_id" : 85421,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/kKvXH.gif?s=256",
      "display_name" : "user85421",
      "link" : "https://stackoverflow.com/users/85421/user85421"
    },
    "creation_date" : 1762153279,
    "last_activity_date" : 1762155289,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "answer_id" : 79807454,
    "question_id" : 79807426,
    "body" : "<p>The first thing evaluated is <code>a&lt;b</code>. If (and only if) <code>a&lt;b</code> will <code>c&lt;d</code> be evaluated. If <code>a&gt;=b</code> it will not be evaluated at all and the expression will terminate with <code>3</code> being assigned. The ternary operator <code>? :</code> is only valid for assignment in Java.</p>\n",
    "score" : 2,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 3557625,
      "reputation" : 201916,
      "user_id" : 2970947,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/HLTev.png?s=256",
      "display_name" : "Elliott Frisch",
      "link" : "https://stackoverflow.com/users/2970947/elliott-frisch"
    },
    "creation_date" : 1762130053,
    "last_activity_date" : 1762130053,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "answer_id" : 79807760,
    "question_id" : 79807426,
    "body" : "<p>@marce-puente you have to be very careful with replacing the conditional ?: operator with if/else, because it can behave in subtle and potentially surprising ways.</p>\n<p>For example:</p>\n<pre><code>Number n = true ? Integer.valueOf(0) : Double.valueOf(0);\nSystem.out.println(n instanceof Integer);  // prints false\n</code></pre>\n<p><a href=\"https://ideone.com/C3PaoA\" rel=\"nofollow noreferrer\">ideone demo</a>; whereas:</p>\n<pre><code>Number n;\nif (true) {\n  n = Integer.valueOf(0);\n} else {\n  n = Double.valueOf(0);\n}\nSystem.out.println(n instanceof Integer);  // prints true\n</code></pre>\n<p><a href=\"https://ideone.com/iKLHMy\" rel=\"nofollow noreferrer\">ideone demo</a>.</p>\n<p>(If you've not seen this before, this behavior of the conditional ?: operator is because of binary numeric promotion)</p>\n<p>I would suggest that you don't want to focus on the semantics of the conditional ?: operator specifically, but rather remember <a href=\"https://docs.oracle.com/javase/specs/jls/se25/html/jls-15.html#jls-15.7\" rel=\"nofollow noreferrer\">the much simpler rule</a>:</p>\n<blockquote>\n<p>The Java programming language guarantees that the operands of operators appear to be evaluated in a specific evaluation order, namely, from left to right.</p>\n</blockquote>\n",
    "score" : 2,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 162699,
      "reputation" : 141035,
      "user_id" : 3788176,
      "user_type" : "registered",
      "accept_rate" : 54,
      "profile_image" : "https://www.gravatar.com/avatar/44c841338e1646af9a977f1fa0e23948?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Andy Turner",
      "link" : "https://stackoverflow.com/users/3788176/andy-turner"
    },
    "creation_date" : 1762166226,
    "last_activity_date" : 1762166592,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "answer_id" : 79807484,
    "question_id" : 79807426,
    "body" : "<p>Operator precedence and evaluation order are two different concepts. Try if you can keep them apart. Evaluation order is left to right regardless of precedence.</p>\n<p>So the latter:</p>\n<blockquote>\n<p>the boolean <code>a&lt;b</code> (is) evaluated and the expression <code>(c&lt;d ? 1: 2)</code> is only evaluated afterwards iff <code>a&lt;b</code> is true</p>\n</blockquote>\n<p>@EliottFrisch what do you mean that <code>? :</code> is only valid for assignment? I can pass <code>b ? m : n</code> to a method any time.</p>\n",
    "score" : 1,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 7612423,
      "reputation" : 87400,
      "user_id" : 5772882,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/8283c64511fa80afed5259d10850168f?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Anonymous",
      "link" : "https://stackoverflow.com/users/5772882/anonymous"
    },
    "creation_date" : 1762135964,
    "last_activity_date" : 1762136335,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "answer_id" : 79807504,
    "question_id" : 79807426,
    "body" : "<p>And associativity, operator precedence, and evaluation order are <em>three</em> different concepts.</p>\n",
    "score" : 1,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 71739,
      "reputation" : 311869,
      "user_id" : 207421,
      "user_type" : "registered",
      "accept_rate" : 82,
      "profile_image" : "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=256&d=identicon&r=PG",
      "display_name" : "user207421",
      "link" : "https://stackoverflow.com/users/207421/user207421"
    },
    "creation_date" : 1762139089,
    "last_activity_date" : 1762139089,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "answer_id" : 79807525,
    "question_id" : 79807426,
    "body" : "<p>The ternary operator is syntactic sugar and is used to simplify an <strong>if/else</strong> structure.   In this particular case, we have two nested ternary operators, so for analysis purposes, it is best to replace them with that structure:</p>\n<pre><code>if( a &lt; b ) {\n   return 3;\n}\nelse {\n   if( c &lt; d ) {\n      return 1;\n   }\n   else {\n      return 2; \n   }\n}\n</code></pre>\n",
    "score" : 0,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 10843443,
      "reputation" : 916,
      "user_id" : 20882864,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/CCQCy.jpg?s=256",
      "display_name" : "Marce Puente",
      "link" : "https://stackoverflow.com/users/20882864/marce-puente"
    },
    "creation_date" : 1762142534,
    "last_activity_date" : 1762142534,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ ],
  "answer_comments" : { }
}