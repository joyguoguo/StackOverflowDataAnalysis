{
  "question" : {
    "question_id" : 79591943,
    "title" : "Spock automatic logging",
    "body" : "<p>Due to some special need, I'd like to have test written in Spock be automatically logged in each sub-section.</p>\n<p>For example</p>\n<pre><code>class FooSpecification extends MyBaseSpecification {\n  def &quot;A test&quot;() {\n    given: &quot;some situation&quot;\n    // ....\n\n    and: &quot;another situation&quot;\n    // ....\n\n    when: &quot;doing xyz&quot;\n    // ....\n\n    then: &quot;checking 1&quot;\n    // ....\n\n    and: &quot;checking 2&quot;\n    // ....\n  }\n}\n</code></pre>\n<p>What I want is, when needed, I could ask Spock to do extra logging before/after each given/when/then/and step, for me to have clearer idea on time used for each step without need to manually add logging in each step.</p>\n<p>Are there good idea on how I could add such functionality? (I am using our own base <code>Specification</code> class for which extra functionality added, which I could further extend it for this functionality)</p>\n",
    "tags" : [ "java", "spock" ],
    "owner" : {
      "account_id" : 169237,
      "reputation" : 40334,
      "user_id" : 395202,
      "user_type" : "registered",
      "accept_rate" : 59,
      "profile_image" : "https://www.gravatar.com/avatar/c422b640dd62b019c125836b1059e231?s=256&d=identicon&r=PG",
      "display_name" : "Adrian Shum",
      "link" : "https://stackoverflow.com/users/395202/adrian-shum"
    },
    "is_answered" : true,
    "view_count" : 51,
    "answer_count" : 1,
    "score" : 2,
    "last_activity_date" : 1745621506,
    "creation_date" : 1745563631,
    "link" : "https://stackoverflow.com/questions/79591943/spock-automatic-logging",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79593409,
    "question_id" : 79591943,
    "body" : "<p>Spock 2.4-M5 introduced <code>IBlockListener</code>.<br />\nWith an instance of that which you register from an extension, you can listen to block being entered and exited.<br />\nIn there you can then write out any logging you want.</p>\n<p>But be aware that <code>and:</code> &quot;blocks&quot; are no real blocks.<br />\nThey are just a way to have a logical separation within one block that can have an own label in the sources.<br />\nAt runtime they are meaningless and do not count as separate block.<br />\nTheir label is merged with the label for the block it is in.</p>\n<p>So in your example you would get one <code>given</code> block entered and exited with two texts, one <code>when</code> block entered and exited, and one <code>then</code> block entered and exited with two texts.</p>\n<p>You can find more information at <a href=\"https://spockframework.org/spock/docs/2.4-M6/all_in_one.html#block-listener\" rel=\"nofollow noreferrer\">https://spockframework.org/spock/docs/2.4-M6/all_in_one.html#block-listener</a> and <a href=\"https://github.com/spockframework/spock/blob/91ab363a9ce1fd94c2e5471ee864747bbbb4be5d/spock-specs/src/test/groovy/org/spockframework/runtime/BlockListenerSpec.groovy#L65\" rel=\"nofollow noreferrer\">https://github.com/spockframework/spock/blob/91ab363a9ce1fd94c2e5471ee864747bbbb4be5d/spock-specs/src/test/groovy/org/spockframework/runtime/BlockListenerSpec.groovy#L65</a>.</p>\n",
    "score" : 3,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 288740,
      "reputation" : 39224,
      "user_id" : 589329,
      "user_type" : "registered",
      "accept_rate" : 40,
      "profile_image" : "https://www.gravatar.com/avatar/7badf6e89094b134dd4eb65792b7f734?s=256&d=identicon&r=PG",
      "display_name" : "Vampire",
      "link" : "https://stackoverflow.com/users/589329/vampire"
    },
    "creation_date" : 1745621506,
    "last_activity_date" : 1745621506,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ ],
  "answer_comments" : { }
}