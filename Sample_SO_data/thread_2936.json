{
  "question" : {
    "question_id" : 79584431,
    "title" : "Do Swing dialogs gain focus on opening?",
    "body" : "<p>Do Swing modal dialogs gain focus on opening?</p>\n<p>They should. However, no log message is ever printed if you execute the demo below. Why?</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.swing.JButton;\nimport javax.swing.JDialog;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.WindowConstants;\nimport java.awt.Component;\nimport java.awt.Container;\nimport java.awt.Dialog;\nimport java.awt.Dimension;\nimport java.awt.Frame;\nimport java.awt.event.WindowAdapter;\nimport java.awt.event.WindowEvent;\n\npublic class SimpleDialogDemo {\n\n    public static void main(String[] args) {\n        JFrame frame = new JFrame(&quot;Simple dialog demo&quot;);\n        Container mainPanel = createMainPanel(frame);\n        frame.setContentPane(mainPanel);\n        frame.setLocationRelativeTo(null);\n        frame.pack();\n        frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n        frame.setVisible(true);\n    }\n\n    private static Container createMainPanel(Frame owner) {\n        JPanel panel = new JPanel();\n        panel.add(createOpenButton(owner));\n        return panel;\n    }\n\n    private static Component createOpenButton(Frame owner) {\n        JButton button = new JButton(&quot;Open&quot;);\n        button.addActionListener(e -&gt; createDialog(owner).setVisible(true));\n        return button;\n    }\n\n    private static Component createDialog(Frame owner) {\n        JDialog dialog = new JDialog(owner);\n        dialog.setModalityType(Dialog.ModalityType.APPLICATION_MODAL);\n        dialog.setLocationRelativeTo(dialog.getOwner());\n        dialog.setContentPane(createDialogMainPanel());\n        dialog.pack();\n\n        dialog.addWindowListener(new WindowAdapter() {\n            @Override\n            public void windowGainedFocus(WindowEvent e) {\n                System.out.println(&quot;Dialog gained focus&quot;);\n            }\n        });\n        return dialog;\n    }\n\n    private static Container createDialogMainPanel() {\n        JPanel panel = new JPanel();\n        panel.setPreferredSize(new Dimension(150, 100));\n        return panel;\n    }\n}\n</code></pre>\n<p>The practical relevance for our project is one tricky bug. It involves key events still being processed by the dialog's underlying panel even after the dialog's been displayed. Debugging revealed the focus for some reason is still owned by the panel's child component (as shown by <code>FocusManager.getCurrentManager().geFocusOwner()</code>).</p>\n<p>Using Java 8, Windows 10.</p>\n",
    "tags" : [ "java", "swing", "java-8", "modal-dialog" ],
    "owner" : {
      "account_id" : 10187542,
      "reputation" : 2681,
      "user_id" : 20692967,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/NZSXm.jpg?s=256",
      "display_name" : "Sergey Zolotarev",
      "link" : "https://stackoverflow.com/users/20692967/sergey-zolotarev"
    },
    "is_answered" : false,
    "view_count" : 119,
    "answer_count" : 0,
    "score" : 0,
    "last_activity_date" : 1748393278,
    "creation_date" : 1745231437,
    "link" : "https://stackoverflow.com/questions/79584431/do-swing-dialogs-gain-focus-on-opening",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ ],
  "question_comments" : [ {
    "comment_id" : 140621612,
    "post_id" : 79584431,
    "body" : "The dialog windows should be run as modal dialogs. That makes event processing a lot easier, plus they know to take the focus from the application. They likely should not take the focus if some other application has the focus, but this can be dependent on OS, Window manager and other items.",
    "score" : 0,
    "owner" : {
      "account_id" : 5289146,
      "reputation" : 9940,
      "user_id" : 4222206,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/416696430ab23f397a5dbeda73e72896?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "queeg",
      "link" : "https://stackoverflow.com/users/4222206/queeg"
    },
    "creation_date" : 1753618463,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140354413,
    "post_id" : 79584431,
    "body" : "You need <code>dialog.addWindowFocusListener(new WindowAdapter() { ...</code>",
    "score" : 4,
    "owner" : {
      "account_id" : 22124137,
      "reputation" : 4243,
      "user_id" : 16376827,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/1ImPw.png?s=256",
      "display_name" : "g00se",
      "link" : "https://stackoverflow.com/users/16376827/g00se"
    },
    "creation_date" : 1745239765,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140354180,
    "post_id" : 79584431,
    "body" : "The parameter to method <code>addWindowListener</code> is <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/java/awt/event/WindowListener.html\" rel=\"nofollow noreferrer\">WindowListener</a> which <b><i>does not</i></b> declare method <code>windowGainedFocus</code>.",
    "score" : 3,
    "owner" : {
      "account_id" : 2485939,
      "reputation" : 20969,
      "user_id" : 2164365,
      "user_type" : "registered",
      "accept_rate" : 40,
      "profile_image" : "https://i.sstatic.net/RKSgV.png?s=256",
      "display_name" : "Abra",
      "link" : "https://stackoverflow.com/users/2164365/abra"
    },
    "creation_date" : 1745234516,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140354134,
    "post_id" : 79584431,
    "body" : "I guess this <i>focus</i> system solely refers to <code>Component</code>s inside <code>Container</code>s? <code>.windowActivated()</code> and <code>.windowDeactivated()</code> and all other <code>WindowAdapter</code>/<code>WindowListener</code> events will all be triggered correctly. (Even though the method name says <b>window</b>GainedFocus...",
    "score" : 0,
    "owner" : {
      "account_id" : 2182934,
      "reputation" : 2660,
      "user_id" : 1932011,
      "user_type" : "registered",
      "accept_rate" : 71,
      "profile_image" : "https://www.gravatar.com/avatar/612163480a1ccb4785fd647a003eefbb?s=256&d=identicon&r=PG",
      "display_name" : "JayC667",
      "link" : "https://stackoverflow.com/users/1932011/jayc667"
    },
    "creation_date" : 1745233240,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}