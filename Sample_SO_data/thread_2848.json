{
  "question" : {
    "question_id" : 79590435,
    "title" : "WebView in my Android app does not open the requested url",
    "body" : "<p>I have created an app that loades the site: <strong>adcpc.funwithpasswords.com</strong> and has the code that goes like this:</p>\n<pre><code>package com.flamenzaapps.adbits;\nimport android.graphics.Color;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.webkit.WebSettings;\nimport android.webkit.WebView;\nimport android.webkit.WebViewClient;\nimport android.widget.LinearLayout;\nimport androidx.appcompat.app.AppCompatActivity;\n\npublic class MainActivity extends AppCompatActivity {\n\n    WebView mainWebView;\n    LinearLayout layout;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        // Initialize main WebView\n        mainWebView = findViewById(R.id.webview);\n        layout = findViewById(R.id.layout);\n\n        // Enable JavaScript for main WebView\n        WebSettings mainWebSettings = mainWebView.getSettings();\n        mainWebSettings.setJavaScriptEnabled(true);\n        mainWebView.setWebViewClient(new WebViewClient());\n        mainWebView.loadUrl(&quot;https://www.adcpc.funwithpasswords.com&quot;);\n\n        // Set up a WebViewClient with URL loading handler\n        mainWebView.setWebViewClient(new WebViewClient() {\n            @Override\n            public boolean shouldOverrideUrlLoading(WebView view, String url) {\n                // When a link is clicked, open it in a new smaller WebView\n                openNewWebView(url);\n                return true;  // Prevent the default browser to open the link\n            }\n        });\n    }\n\n    // Function to create and display a new smaller WebView on the same page\n    private void openNewWebView(String url) {\n        // Log the URL for debugging\n        Log.d(&quot;WebView&quot;, &quot;Opening URL: &quot; + url);\n\n        // Create a new WebView\n        WebView newWebView = new WebView(this);\n\n        // Set up WebSettings for the new WebView\n        WebSettings webSettings = newWebView.getSettings();\n        webSettings.setJavaScriptEnabled(true);  // Enable JavaScript\n        newWebView.setWebViewClient(new WebViewClient() {\n            @Override\n            public void onReceivedError(WebView view, int errorCode, String description, String failingUrl) {\n                Log.e(&quot;WebView&quot;, &quot;Error loading URL: &quot; + description);\n            }\n        });\n\n        // Load the clicked URL in the new WebView\n        newWebView.loadUrl(url);\n\n        // Set layout parameters for the new WebView (make it smaller and position it)\n        LinearLayout.LayoutParams params = new LinearLayout.LayoutParams(\n                LinearLayout.LayoutParams.MATCH_PARENT,\n                600 // Fixed height for the smaller WebView\n        );\n        params.topMargin = 20;  // Optional: Add margin or positioning logic if needed\n        newWebView.setLayoutParams(params);\n\n        // Optionally set a background color for debugging visibility\n        newWebView.setBackgroundColor(Color.parseColor(&quot;#000000&quot;));\n\n        // Ensure the parent layout is properly initialized\n        LinearLayout layout = findViewById(R.id.layout);  // Make sure this ID is correct\n        if (layout != null) {\n            // Add the new WebView to the layout on the main UI thread\n            runOnUiThread(new Runnable() {\n                @Override\n                public void run() {\n                    layout.addView(newWebView);\n                    Log.d(&quot;WebView&quot;, &quot;Loaded URL: &quot; + url);\n                }\n            });\n        } else {\n            Log.e(&quot;WebView&quot;, &quot;Layout not found. Make sure layout is initialized.&quot;);\n        }\n\n\n    }\n}\n</code></pre>\n<p>in its <code>MainActivity.java</code> file. What I want here to do is:\nThere is <code>&lt;a&gt;</code> in the webpage which goes as:</p>\n<p><code>&lt;a href=&quot;https://www.google.com&quot; target=&quot;_blank&quot;&gt;Go to Google&lt;/a&gt;</code>\nWhenever i click on this link, this shall create a new <code>webview</code> and load the site <code>google.com</code> there. But such a thing does not happen. Only the logcat shows the message:</p>\n<p>Opening URL: <a href=\"https://www.google.com/\" rel=\"nofollow noreferrer\">https://www.google.com/</a></p>\n<p>Loaded URL: <a href=\"https://www.google.com/\" rel=\"nofollow noreferrer\">https://www.google.com/</a></p>\n<p>but in fact nothing is loaded. How to solve the problem? Advanced Thanks.</p>\n",
    "tags" : [ "java", "android" ],
    "owner" : {
      "account_id" : 15372879,
      "reputation" : 226,
      "user_id" : 15253587,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/6bd1dee560e1b5b9848f1d8f96f66284?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "M.Riyan",
      "link" : "https://stackoverflow.com/users/15253587/m-riyan"
    },
    "is_answered" : false,
    "view_count" : 63,
    "answer_count" : 0,
    "score" : 1,
    "last_activity_date" : 1745512892,
    "creation_date" : 1745493399,
    "link" : "https://stackoverflow.com/questions/79590435/webview-in-my-android-app-does-not-open-the-requested-url",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ ],
  "question_comments" : [ {
    "comment_id" : 140368398,
    "post_id" : 79590435,
    "body" : "Your new view may be outside the screen. Post also the activity layout or try with fixed size LinearLayout and WebView or test with setting the main WebView visibility to GONE after created new view.",
    "score" : 0,
    "owner" : {
      "account_id" : 6305344,
      "reputation" : 2904,
      "user_id" : 4898562,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/nrUML.jpg?s=256",
      "display_name" : "i_A_mok",
      "link" : "https://stackoverflow.com/users/4898562/i-a-mok"
    },
    "creation_date" : 1745571929,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}