{
  "question" : {
    "question_id" : 79614576,
    "title" : "Kubernetes pod gets restarted when Java object gets called",
    "body" : "<p>I'm new to Java development and trying to use the AWS SDK for route 53 service to fetch the hosted Zone name for specific URL .</p>\n<p>Below is the code snippet.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String url = &quot;abc.abc.abc.com&quot;;\nAmazonRoute53 route53Client = AmazonRoute53Client.builder().withRegion(&quot;us-east-1&quot;).build();\nRoute53Operation rt53 = new Route53Operation(route53Client, url);\nboolean success = false;\n\n//  &lt;&lt;some code &gt;&gt;\n\nif (proc1.exitValue() == 0) {\n    &lt;&lt;some code&gt;&gt;\n    success = true;\n}\n\nif (success) {\n    System.out.println(&quot;calling route 53 code&quot;);\n    System.out.println(&quot;calling route 53 code&quot;);\n    rt53.getHostedZoneofURL(url);\n}\n\nreturn ResponseEntity.ok(rt);\n</code></pre>\n<p>The strange behavior is, the pod gets restart when the <code>if(success)</code> executes. I don't understand why this is happening. If I remove this if, everything works fine. What could cause this problem and how do I fix it?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public String getHostedZoneofURL(String url) {\n    System.out.println(&quot;url is &quot; + url);\n    String hostedZone = &quot;testinggggggg&quot;;\n\n    return hostedZone;\n}\n</code></pre>\n",
    "tags" : [ "java", "aws-sdk-java" ],
    "owner" : {
      "account_id" : 2679463,
      "reputation" : 2914,
      "user_id" : 2315104,
      "user_type" : "registered",
      "accept_rate" : 42,
      "profile_image" : "https://www.gravatar.com/avatar/67897548b9d55c6e2f8e3171fa7ca20d?s=256&d=identicon&r=PG",
      "display_name" : "user2315104",
      "link" : "https://stackoverflow.com/users/2315104/user2315104"
    },
    "is_answered" : false,
    "view_count" : 45,
    "answer_count" : 0,
    "score" : 1,
    "last_activity_date" : 1746867146,
    "creation_date" : 1746810199,
    "link" : "https://stackoverflow.com/questions/79614576/kubernetes-pod-gets-restarted-when-java-object-gets-called",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ ],
  "question_comments" : [ {
    "comment_id" : 140413841,
    "post_id" : 79614576,
    "body" : "You&#39;re welcome)",
    "score" : 1,
    "owner" : {
      "account_id" : 38931631,
      "reputation" : 671,
      "user_id" : 29023248,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/WxoZEuKw.png?s=256",
      "display_name" : "Aleksey Bykov",
      "link" : "https://stackoverflow.com/users/29023248/aleksey-bykov"
    },
    "creation_date" : 1746892456,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140413836,
    "post_id" : 79614576,
    "body" : "Finally got the issue. It was due to this line (System.exit(1);) in catch (Exception e) { \t\t\t// TODO Auto-generated catch block \t\t\tSystem.out.println(e.getMessage()); \t\t\tSystem.exit(1); Thanks @AlekseyBykov for all your help",
    "score" : 1,
    "owner" : {
      "account_id" : 2679463,
      "reputation" : 2914,
      "user_id" : 2315104,
      "user_type" : "registered",
      "accept_rate" : 42,
      "profile_image" : "https://www.gravatar.com/avatar/67897548b9d55c6e2f8e3171fa7ca20d?s=256&d=identicon&r=PG",
      "display_name" : "user2315104",
      "link" : "https://stackoverflow.com/users/2315104/user2315104"
    },
    "creation_date" : 1746892402,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140412825,
    "post_id" : 79614576,
    "body" : "Try checking the pod status and the restart reason - <code>kubectl get pods</code> - and then - <code>kubectl describe pod &lt;pod-name&gt;</code>. The issue is most likely caused by this line - <code>proc1.exitValue()</code>.",
    "score" : 0,
    "owner" : {
      "account_id" : 38931631,
      "reputation" : 671,
      "user_id" : 29023248,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/WxoZEuKw.png?s=256",
      "display_name" : "Aleksey Bykov",
      "link" : "https://stackoverflow.com/users/29023248/aleksey-bykov"
    },
    "creation_date" : 1746845912,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140412433,
    "post_id" : 79614576,
    "body" : "please see UPDATE 1",
    "score" : 0,
    "owner" : {
      "account_id" : 2679463,
      "reputation" : 2914,
      "user_id" : 2315104,
      "user_type" : "registered",
      "accept_rate" : 42,
      "profile_image" : "https://www.gravatar.com/avatar/67897548b9d55c6e2f8e3171fa7ca20d?s=256&d=identicon&r=PG",
      "display_name" : "user2315104",
      "link" : "https://stackoverflow.com/users/2315104/user2315104"
    },
    "creation_date" : 1746824371,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140412423,
    "post_id" : 79614576,
    "body" : "Added try catch block , but no exception thrown . due to POD restart , there is no events in describe pod command . I have commented entire code in  rt53.getHostedZoneofURL(url) method and just printing string value . still the behavior is same . what to do",
    "score" : 0,
    "owner" : {
      "account_id" : 2679463,
      "reputation" : 2914,
      "user_id" : 2315104,
      "user_type" : "registered",
      "accept_rate" : 42,
      "profile_image" : "https://www.gravatar.com/avatar/67897548b9d55c6e2f8e3171fa7ca20d?s=256&d=identicon&r=PG",
      "display_name" : "user2315104",
      "link" : "https://stackoverflow.com/users/2315104/user2315104"
    },
    "creation_date" : 1746824133,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140412054,
    "post_id" : 79614576,
    "body" : "Well, it may be helpful to add try/catch around <code>rt53.getHostedZoneofURL(url)</code> and log any exceptions. Log what happens inside <code>rt53.getHostedZoneofURL(url)</code> and show that code. Also check the container logs and pod termination reason - <code>kubectl describe pod</code> - to see what caused the crash.",
    "score" : 0,
    "owner" : {
      "account_id" : 38931631,
      "reputation" : 671,
      "user_id" : 29023248,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/WxoZEuKw.png?s=256",
      "display_name" : "Aleksey Bykov",
      "link" : "https://stackoverflow.com/users/29023248/aleksey-bykov"
    },
    "creation_date" : 1746814464,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140412019,
    "post_id" : 79614576,
    "body" : "Ok.. but what that could be .....",
    "score" : 0,
    "owner" : {
      "account_id" : 2679463,
      "reputation" : 2914,
      "user_id" : 2315104,
      "user_type" : "registered",
      "accept_rate" : 42,
      "profile_image" : "https://www.gravatar.com/avatar/67897548b9d55c6e2f8e3171fa7ca20d?s=256&d=identicon&r=PG",
      "display_name" : "user2315104",
      "link" : "https://stackoverflow.com/users/2315104/user2315104"
    },
    "creation_date" : 1746813846,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140411848,
    "post_id" : 79614576,
    "body" : "The issue is probably inside this line - <code>rt53.getHostedZoneofURL(url);</code>",
    "score" : 0,
    "owner" : {
      "account_id" : 38931631,
      "reputation" : 671,
      "user_id" : 29023248,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/WxoZEuKw.png?s=256",
      "display_name" : "Aleksey Bykov",
      "link" : "https://stackoverflow.com/users/29023248/aleksey-bykov"
    },
    "creation_date" : 1746810746,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}