{
  "question" : {
    "question_id" : 79696161,
    "title" : "Have long text scroll to the right when using JTextField .setText()",
    "body" : "<p>I have a JTextField for displaying the path of a selected folder. It's intentionally disabled (as the folder is supposed to be chosen with a JFileChooser), and when the program starts, a default folder path is set as the text using setText().</p>\n<pre class=\"lang-java prettyprint-override\"><code>trainOutputFolderField = new JTextField(20);\ntrainOutputFolderField.setEnabled(false);\ntrainOutputFolderField.setText(getSourcePath()+&quot;training-output/&quot;);\ntrainGBPanel.add(trainOutputFolderField, b);\n</code></pre>\n<p>I would like it to automatically scroll to the right edge of the text when it's longer than the field, while otherwise remaining left-justified. This is what is does by default if you manually type into the text field, but it keeps it anchored to the left if you use setText().</p>\n<p><a href=\"https://i.sstatic.net/9ree3mKN.png\" rel=\"nofollow noreferrer\">Enabled JTextField text entry vs disabled JTextField setText</a></p>\n<p>I'd like the user to be able to see the end of the path in the disabled text field. Using setHorizontalAlignment() with either RIGHT or TRAILING doesn't seem to do anything, although that probably wasn't the solution to begin with since I want the text to remain left-justified when it's shorter than the field. Fiddling with the caret position didn't seem to do anything either.</p>\n<p>Any ideas?</p>\n<p>I went and actually set up the ActionListener with the aforementioned JFileChooser and when it sets the text through that it works exactly how I want it, so the problem only seems to occur when I set the text in the JFrame's initialization. I still need to display the folder path by default though, so I'm still looking for an answer.</p>\n<p>Here's a slimmed-down version of the JFrame's init with all the other components removed:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.swing.*;\n\nimport java.awt.FlowLayout;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.awt.Insets;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\npublic class MainFrame extends JFrame {\n    \n    public JTabbedPane tabbedPane;\n    public JPanel trainPanel;\n    public JPanel trainGBPanel;\n    \n    // There are more components, but I've removed them for demonstration\n    public JTextField trainOutputFolderField;\n    public JButton trainOutputFolderButton;\n    \n    public MainFrame() {\n        setTitle(&quot;Yeehaw&quot;);\n        setSize(500, 500);\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setLayout(new FlowLayout(FlowLayout.CENTER));\n        \n        tabbedPane = new JTabbedPane();\n        \n        trainPanel = new JPanel(new FlowLayout(FlowLayout.CENTER));\n        trainGBPanel = new JPanel(new GridBagLayout());     \n        GridBagConstraints b = new GridBagConstraints();\n        b.anchor = b.WEST;\n        b.gridy = 0;\n        b.gridx = 0;\n        b.insets = new Insets(5,5,5,5);\n        \n        trainGBPanel.add(new JLabel(&quot;Output folder&quot;), b);\n        b.gridx += 1;\n        b.gridwidth = 2;\n        trainOutputFolderField = new JTextField(20);\n        trainOutputFolderField.setEnabled(false);\n        trainOutputFolderField.setText(&quot;yeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeehaw&quot;);\n        trainGBPanel.add(trainOutputFolderField, b);\n        b.gridx += b.gridwidth;\n        b.gridwidth = 1;\n        trainOutputFolderButton = new JButton(&quot;Select&quot;);\n        trainOutputFolderButton.addActionListener(new FileChooserListener(this, trainOutputFolderField));\n        trainGBPanel.add(trainOutputFolderButton, b);\n        \n        trainPanel.add(trainGBPanel);\n        tabbedPane.add(&quot;TRAIN&quot;, trainPanel);\n        \n        this.add(tabbedPane);\n        this.setVisible(true);\n    }\n    \n    public class FileChooserListener implements ActionListener {\n        \n        public MainFrame mainFrame;\n        public JTextField textField;\n        \n        public FileChooserListener(MainFrame mainFrame, JTextField textField) {\n            this.mainFrame = mainFrame;\n            this.textField = textField;\n        }\n        \n        @Override\n        public void actionPerformed(ActionEvent e) {\n            // There's JFileChooser stuff in here, but I've removed it for simplicity\n            trainOutputFolderField.setText(params.trainOutputFolder);\n        }\n        \n    }\n}\n</code></pre>\n<p>Also, I'm on Windows 10 and the LookAndFeel is &quot;com.sun.java.swing.plaf.windows.WindowsLookAndFeel&quot;, if that means anything.</p>\n<hr />\n<p>Note: JayC667's comment did the trick!</p>\n",
    "tags" : [ "java", "swing", "jtextfield", "text-alignment", "settext" ],
    "owner" : {
      "account_id" : 42955714,
      "reputation" : 21,
      "user_id" : 31004646,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/568a616875488e3d1d7435213bd67416?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Holly LeBlond",
      "link" : "https://stackoverflow.com/users/31004646/holly-leblond"
    },
    "is_answered" : true,
    "view_count" : 103,
    "answer_count" : 1,
    "score" : 2,
    "last_activity_date" : 1752248744,
    "creation_date" : 1752089440,
    "link" : "https://stackoverflow.com/questions/79696161/have-long-text-scroll-to-the-right-when-using-jtextfield-settext",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79696255,
    "question_id" : 79696161,
    "body" : "<p>Just after running <code>setText(...)</code> use <code>setCaretPosition(...)</code>. If called with 0, the caret is in the beginning which will trigger the textfield to scroll left. If used with getText().length() the caret will be in the end and will trigger the textfield to scroll right.</p>\n<p><a href=\"https://docs.oracle.com/en/java/javase/24/docs/api/java.desktop/javax/swing/text/JTextComponent.html#setCaretPosition(int)\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/24/docs/api/java.desktop/javax/swing/text/JTextComponent.html#setCaretPosition(int)</a></p>\n<p>Update: Responding to your comment about the above not working, I created a minimum example. And despite I am not controlling the caret at all, I can see the JTextField is already scrolled to the right. I tried this also with a disabled field (<code>setEnabled(false)</code> and with a readonly textfield <code>setEditable(false)</code>). Then I added a timer to repeatedly set the caret position, so you can see the textfield switching back and forth.</p>\n<p>Maybe you should start looking at the JVM you are using. Here it is Ubuntu 24 LTS with OpenJDK 21.0.7+6-Ubuntu-0ubuntu124.04.</p>\n<pre><code>import javax.swing.Timer;\n\npublic class NewJFrame extends javax.swing.JFrame {\n    \n    private Timer timer;\n    private boolean front = false;\n    \n    public NewJFrame() {\n        initComponents();\n        jTextField1.setText(&quot;here is some really long text that should exceed the jtextfield. Oh it seems this text has to be considerably longer.&quot;);\n        \n        // let's show off setting the caret position\n        // every second. This makes the textfield to\n        // scroll left and right\n        timer = new Timer(1000, (ae) -&gt; {\n            if (front) {\n                jTextField1.setCaretPosition(0);\n            } else {\n                jTextField1.setCaretPosition(jTextField1.getText().length());\n            }\n            front = ! front;\n        });\n        timer.start();\n    }\n\n    @SuppressWarnings(&quot;unchecked&quot;)\n    // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;                          \n    private void initComponents() {\n\n        jLabel1 = new javax.swing.JLabel();\n        jTextField1 = new javax.swing.JTextField();\n\n        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\n\n        jLabel1.setText(&quot;jLabel1&quot;);\n\n        jTextField1.setEditable(false);\n        jTextField1.setColumns(20);\n        jTextField1.setText(&quot;this is a long text, possibly longer than the jtextfield can display without scrolling&quot;);\n\n        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());\n        getContentPane().setLayout(layout);\n        layout.setHorizontalGroup(\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(layout.createSequentialGroup()\n                .addContainerGap()\n                .addComponent(jLabel1)\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\n                .addComponent(jTextField1, javax.swing.GroupLayout.DEFAULT_SIZE, 336, Short.MAX_VALUE)\n                .addContainerGap())\n        );\n        layout.setVerticalGroup(\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(layout.createSequentialGroup()\n                .addContainerGap()\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\n                    .addComponent(jLabel1)\n                    .addComponent(jTextField1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))\n                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))\n        );\n\n        pack();\n    }// &lt;/editor-fold&gt;                        \n\n    public static void main(String args[]) {\n        System.out.println(System.getProperties().toString());\n        java.awt.EventQueue.invokeLater(() -&gt; new NewJFrame().setVisible(true));\n    }\n\n    // Variables declaration - do not modify                     \n    private javax.swing.JLabel jLabel1;\n    private javax.swing.JTextField jTextField1;\n    // End of variables declaration                   \n}\n</code></pre>\n<p><a href=\"https://i.sstatic.net/Hlk0FSGO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/Hlk0FSGO.png\" alt=\"enter image description here\" /></a></p>\n",
    "score" : 3,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 5289146,
      "reputation" : 9940,
      "user_id" : 4222206,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/416696430ab23f397a5dbeda73e72896?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "queeg",
      "link" : "https://stackoverflow.com/users/4222206/queeg"
    },
    "creation_date" : 1752095113,
    "last_activity_date" : 1752248744,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140578313,
    "post_id" : 79696161,
    "body" : "@JayC667 Yay, that did it!",
    "score" : 0,
    "owner" : {
      "account_id" : 42955714,
      "reputation" : 21,
      "user_id" : 31004646,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/568a616875488e3d1d7435213bd67416?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Holly LeBlond",
      "link" : "https://stackoverflow.com/users/31004646/holly-leblond"
    },
    "creation_date" : 1752104875,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140578292,
    "post_id" : 79696161,
    "body" : "When you use an ActionListener, the code executes on the Event Dispatch Thread (EDT), which is why it probably works in the first scenario. However, we can&#39;t test the second scenario since you have NOT provided a proper <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. We should be able to copy/paste/compile and test to see the described problem. Based on the code provided, the code does NOT execute on the EDT. Also, wed don&#39;t have access to <i>params.trainOutputFolder</i>. Just use a hardcoded text string for the MRE, so we can test. Also, the MRE should only include the text field since your question is about the text field.",
    "score" : 0,
    "owner" : {
      "account_id" : 44852,
      "reputation" : 324701,
      "user_id" : 131872,
      "user_type" : "registered",
      "accept_rate" : 100,
      "profile_image" : "https://www.gravatar.com/avatar/a0ced8e21d2a761db718acb6362b9225?s=256&d=identicon&r=PG",
      "display_name" : "camickr",
      "link" : "https://stackoverflow.com/users/131872/camickr"
    },
    "creation_date" : 1752103278,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140578274,
    "post_id" : 79696161,
    "body" : "You could ALSO use <code>f.select(f.getText().length(), f.getText().length());</code> with <code>f</code> being the <code>JTextField</code>. But make sure you run that command AFTER you added the <code>JTextField</code> to any <code>Container</code>. Best even after <code>setVisible(true)</code> on the parent Window/Frame. Works both in Windows 10 L&amp;F, also in default Metal.",
    "score" : 0,
    "owner" : {
      "account_id" : 2182934,
      "reputation" : 2660,
      "user_id" : 1932011,
      "user_type" : "registered",
      "accept_rate" : 71,
      "profile_image" : "https://www.gravatar.com/avatar/612163480a1ccb4785fd647a003eefbb?s=256&d=identicon&r=PG",
      "display_name" : "JayC667",
      "link" : "https://stackoverflow.com/users/1932011/jayc667"
    },
    "creation_date" : 1752102263,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140578213,
    "post_id" : 79696161,
    "body" : "Hi. Please post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> demonstrating the problem. There are several reasons why this could happen. For example you may be using a custom <code>Caret</code> (a non-<code>DefaultCaret</code> one), or your L&amp;F does not use a <code>DefaultCaret</code>, or you are using a <code>DefaultCaret</code> with default update policy and not updating on the <i>Event Dispatch Thread</i> (EDT), or you are using <code>NEVER_UPDATE</code> as the policy on a <code>DefaultCaret</code>, etc...). Because in case you are indeed using a <code>DefaultCaret</code> with its default update policy and making updates on the EDT, then it should work without issues (I tested it on both Win10+Metal L&amp;Fs).",
    "score" : 0,
    "owner" : {
      "account_id" : 9059972,
      "reputation" : 3471,
      "user_id" : 6746785,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/3zi2O.png?s=256",
      "display_name" : "gthanop",
      "link" : "https://stackoverflow.com/users/6746785/gthanop"
    },
    "creation_date" : 1752097912,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : {
    "79696255" : [ {
      "comment_id" : 140578184,
      "post_id" : 79696255,
      "body" : "Yeah, I tried that already and it didn&#39;t do anything. I also tried it on a non-disabled JTextField and it doesn&#39;t work either.",
      "score" : 0,
      "owner" : {
        "account_id" : 42955714,
        "reputation" : 21,
        "user_id" : 31004646,
        "user_type" : "registered",
        "profile_image" : "https://www.gravatar.com/avatar/568a616875488e3d1d7435213bd67416?s=256&d=identicon&r=PG&f=y&so-version=2",
        "display_name" : "Holly LeBlond",
        "link" : "https://stackoverflow.com/users/31004646/holly-leblond"
      },
      "creation_date" : 1752096286,
      "content_license" : "CC BY-SA 4.0"
    } ]
  }
}