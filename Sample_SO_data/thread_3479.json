{
  "question" : {
    "question_id" : 79546830,
    "title" : "SQL formatting inside an XML not working in Spotless using Prettier",
    "body" : "<p>I am trying to use Spotless formatter to format XML that have SQL in it. Like this</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\n&lt;databaseChangeLog\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xmlns=&quot;http://www.liquibase.org/xml/ns/dbchangelog&quot;\n    xsi:schemaLocation=&quot;http://www.liquibase.org/xml/ns/dbchangelog\n        https://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.9.xsd&quot;&gt;\n    &lt;changeSet id=&quot;0195ed19-d3c2-7eb4-9322-55ace4932598&quot;&gt;\n        &lt;sql splitStatements=&quot;true&quot;&gt;\n            &lt;![CDATA[\n            CREATE TABLE IF NOT EXISTS students\n            (\n                id character varying(18) NOT NULL,\n                name character varying(32) NOT NULL\n            )\n            ]]&gt;\n        &lt;/sql&gt;\n        &lt;rollback&gt;\n            &lt;sql splitStatements=&quot;true&quot;&gt;\n                &lt;![CDATA[\n                DROP TABLE IF EXISTS students\n                ]]&gt;\n            &lt;/sql&gt;\n        &lt;/rollback&gt;\n    &lt;/changeSet&gt;\n&lt;/databaseChangeLog&gt;\n</code></pre>\n<p>I am using following configuration</p>\n<pre><code>    format(&quot;xml&quot;) {\n        target(&quot;tt.xml&quot;)\n        toggleOffOn()\n        prettier().config(mapOf(&quot;parser&quot; to &quot;html&quot;, &quot;tabWidth&quot; to 4))\n        withinBlocks(&quot;SQL Statements&quot;, &quot;&lt;![CDATA[&quot;, &quot;]]&gt;&quot;) {\n            prettier(mapOf(&quot;prettier&quot; to &quot;3.5.3&quot;, &quot;prettier-plugin-sql&quot; to &quot;0.18.0&quot;)).config(\n                mapOf(\n                    &quot;parser&quot; to &quot;sql&quot;,\n                    &quot;language&quot; to &quot;sql&quot;,\n                    &quot;tabWidth&quot; to 4,\n                ),\n            )\n        }\n    }\n\n</code></pre>\n<p>But I am getting this error</p>\n<pre><code>There were 1 lint error(s), they must be fixed or suppressed.\n  tt.xml:LINE_UNDEFINED toggle(com.diffplug.spotless.npm.SimpleRestClient$SimpleRestResponseException) Unexpected response status code at /prettier/format [HTTP 500] -- (Error while formatting: ConfigError: Couldn't resolve parser &quot;sql&quot;.) (...)\n  Resolve these lints or suppress with `suppressLintsFor`\n</code></pre>\n<p>Is there anyway to fix this error?</p>\n",
    "tags" : [ "java", "prettier", "spotless" ],
    "owner" : {
      "account_id" : 2316968,
      "reputation" : 2317,
      "user_id" : 2033800,
      "user_type" : "registered",
      "accept_rate" : 38,
      "profile_image" : "https://www.gravatar.com/avatar/2b0936d3f063bc16135077cf51461b7b?s=256&d=identicon&r=PG",
      "display_name" : "nicholasnet",
      "link" : "https://stackoverflow.com/users/2033800/nicholasnet"
    },
    "is_answered" : false,
    "view_count" : 123,
    "answer_count" : 1,
    "score" : 0,
    "last_activity_date" : 1743442302,
    "creation_date" : 1743440453,
    "link" : "https://stackoverflow.com/questions/79546830/sql-formatting-inside-an-xml-not-working-in-spotless-using-prettier",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79546895,
    "question_id" : 79546830,
    "body" : "<p>in the configurations try to load both prettier and SQL plugging's globally.</p>\n<p><code>prettier(mapOf(&quot;prettier&quot; to &quot;3.5.3&quot;, &quot;prettier-plugin-sql&quot; to &quot;0.18.0&quot;)).config(mapOf(&quot;parser&quot; to &quot;html&quot;, &quot;tabWidth&quot; to 4))</code></p>\n",
    "score" : 0,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 28145795,
      "reputation" : 13,
      "user_id" : 21508127,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/8a27915838ade8813d3c86e1f6938aae?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "itzTiru",
      "link" : "https://stackoverflow.com/users/21508127/itztiru"
    },
    "creation_date" : 1743442302,
    "last_activity_date" : 1743442302,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ ],
  "answer_comments" : { }
}