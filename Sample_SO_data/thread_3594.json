{
  "question" : {
    "question_id" : 79537910,
    "title" : "Execution failed for task &#39;:app:kaptProdDebugKotlin&#39;. A failure occurred while executing org.jetbrains.kotlin.gradle.internal.KaptWithoutKotlincTask",
    "body" : "<p>i am getting failed for while updating the target version with the lib version, can you check and verify this issue why this error is coming what to do need to be change. below my code for your reference.</p>\n<blockquote>\n<p>Execution failed for task ':app:kaptProdDebugKotlin'.\nA failure occurred while executing org.jetbrains.kotlin.gradle.internal.KaptWithoutKotlincTask$KaptExecutionWorkAction\njava.lang.reflect.InvocationTargetException (no error message)</p>\n</blockquote>\n<p><strong>app/Gradle</strong></p>\n<pre><code>    buildscript {\n    repositories {\n        google()\n    }\n\n\n}\n\nplugins {\n    id 'com.android.application'\n    id 'org.jetbrains.kotlin.android'\n    id 'kotlin-kapt'\n    id 'com.google.firebase.crashlytics'\n    id 'com.google.gms.google-services'\n    id 'com.google.firebase.firebase-perf'\n    id 'com.google.devtools.ksp'\n\n}\n\n\nrepositories {\n    google()\n}\n\nandroid {\n    namespace &quot;com.water.modified&quot;\n    compileSdk 34\n    defaultConfig {\n        applicationId &quot;com.water.modified&quot;\n        minSdk 26\n        targetSdk 34\n        versionCode 31\n        versionName &quot;1.57&quot;\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n        multiDexEnabled true\n        javaCompileOptions {\n            annotationProcessorOptions {\n                arguments += [&quot;room.schemaLocation&quot;:\n                                      &quot;$projectDir/schemas&quot;.toString()]\n            }\n        }\n    }\n    buildFeatures {\n        dataBinding true\n        viewBinding true\n\n    }\n    kapt {\n        correctErrorTypes = true\n        useBuildCache = true\n    }\n\n    buildTypes {\n        debug {\n            debuggable true\n            /*shrinkResources true\n            minifyEnabled true\n            proguardFiles getDefaultProguardFile(&quot;proguard-android.txt&quot;), &quot;proguard-rules.pro&quot;*/\n        }\n        release {\n            debuggable false\n            shrinkResources true\n            minifyEnabled true\n            proguardFiles getDefaultProguardFile(&quot;proguard-android.txt&quot;), &quot;proguard-rules.pro&quot;\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n    kotlinOptions {\n        jvmTarget = &quot;1.8&quot;\n    }\n    packagingOptions {\n        resources {\n            excludes += ['META-INF/DEPENDENCIES', 'META-INF/LICENSE', 'META-INF/LICENSE.txt', 'META-INF/license.txt', 'META-INF/NOTICE', 'META-INF/NOTICE.txt', 'META-INF/notice.txt', 'META-INF/ASL2.0', 'META-INF/*.kotlin_module']\n        }\n    }\n    flavorDimensions &quot;version&quot;\n    productFlavors {\n        dev {\n            dimension = 'version'\n            def consumer_key_dev = project.getProperties().get(&quot;consumer_key_dev&quot;)\n            def consumer_secret_dev = project.getProperties().get(&quot;consumer_secret_dev&quot;)\n            def access_token_dev = project.getProperties().get(&quot;access_token_dev&quot;)\n            def token_secret_dev = project.getProperties().get(&quot;token_secret_dev&quot;)\n            def realm_val_dev = project.getProperties().get(&quot;realm_val_dev&quot;)\n\n            buildConfigField(&quot;String&quot;, &quot;CONSUMER_KEY&quot;, &quot;\\&quot;${consumer_key_dev}\\&quot;&quot;)\n            buildConfigField(&quot;String&quot;, &quot;CONSUMER_SECRET&quot;, &quot;\\&quot;${consumer_secret_dev}\\&quot;&quot;)\n            buildConfigField(&quot;String&quot;, &quot;ACCESS_TOKEN&quot;, &quot;\\&quot;${access_token_dev}\\&quot;&quot;)\n            buildConfigField(&quot;String&quot;, &quot;TOKEN_SECRET&quot;, &quot;\\&quot;${token_secret_dev}\\&quot;&quot;)\n            buildConfigField(&quot;String&quot;, &quot;REALM_VAL&quot;, &quot;\\&quot;${realm_val_dev}\\&quot;&quot;)\n\n        }\n        prod {\n            dimension = 'version'\n            def consumer_key = project.getProperties().get(&quot;consumer_key&quot;)\n            def consumer_secret = project.getProperties().get(&quot;consumer_secret&quot;)\n            def access_token = project.getProperties().get(&quot;access_token&quot;)\n            def token_secret = project.getProperties().get(&quot;token_secret&quot;)\n            def realm_val = project.getProperties().get(&quot;realm_val&quot;)\n\n            buildConfigField(&quot;String&quot;, &quot;CONSUMER_KEY&quot;, &quot;\\&quot;${consumer_key}\\&quot;&quot;)\n            buildConfigField(&quot;String&quot;, &quot;CONSUMER_SECRET&quot;, &quot;\\&quot;${consumer_secret}\\&quot;&quot;)\n            buildConfigField(&quot;String&quot;, &quot;ACCESS_TOKEN&quot;, &quot;\\&quot;${access_token}\\&quot;&quot;)\n            buildConfigField(&quot;String&quot;, &quot;TOKEN_SECRET&quot;, &quot;\\&quot;${token_secret}\\&quot;&quot;)\n            buildConfigField(&quot;String&quot;, &quot;REALM_VAL&quot;, &quot;\\&quot;${realm_val}\\&quot;&quot;)\n\n        }\n    }\n    lint {\n        abortOnError false\n        checkReleaseBuilds false\n    }\n}\n\ndef androidx_version = &quot;1.4.1&quot;\ndef androidx_core_ktx = &quot;1.7.0&quot;\ndef nav_version = &quot;2.2.1&quot;\ndef constraint_layout_version = &quot;1.1.3&quot;\ndef androidx_cardview_version = &quot;1.0.0&quot;\ndef location_version = &quot;21.0.1&quot;\ndef vision_version = &quot;19.0.0&quot;\ndef retrofit_version = &quot;2.9.0&quot;\ndef http_logging_version = &quot;3.9.1&quot;\ndef rxjava2_android_version = &quot;2.1.1&quot;\ndef rxjava2_version = &quot;2.2.17&quot;\ndef androidx_lifecycle_version = &quot;2.2.0&quot;\ndef androidx_arch_version = &quot;2.1.0&quot;\ndef sqlcipher_version = &quot;4.3.0&quot;\ndef androidx_sqlite = &quot;2.1.0&quot;\ndef dagger_version = &quot;2.28.3&quot;\ndef butterknife_version = &quot;10.2.1&quot;\ndef room_version = &quot;2.6.1&quot;\ndef multidex_version = &quot;2.0.1&quot;\ndef mockito_version = &quot;3.0.0&quot;\ndef activity_version = &quot;1.2.3&quot;\ndef fragment_version = &quot;1.3.4&quot;\ndef camerax_version = &quot;1.0.0&quot;\n\ndependencies {\n    // Default\n    implementation fileTree(dir: &quot;libs&quot;, include: [&quot;*.jar&quot;])\n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version&quot;\n    implementation &quot;androidx.appcompat:appcompat:$androidx_version&quot;\n    implementation &quot;androidx.core:core-ktx:$androidx_core_ktx&quot;\n    implementation &quot;androidx.constraintlayout:constraintlayout:$constraint_layout_version&quot;\n    testImplementation &quot;junit:junit:4.12&quot;\n    testImplementation &quot;org.jetbrains.kotlinx:kotlinx-coroutines-test:$kotlin_test_version&quot;\n    androidTestImplementation &quot;androidx.test:runner:1.2.0&quot;\n    androidTestImplementation &quot;androidx.test.espresso:espresso-core:3.2.0&quot;\n\n    // Jetpack Navigation\n    implementation &quot;androidx.navigation:navigation-fragment-ktx:$nav_version&quot;\n    implementation &quot;androidx.navigation:navigation-ui-ktx:$nav_version&quot;\n\n    // Card View\n    implementation &quot;androidx.cardview:cardview:$androidx_cardview_version&quot;\n\n    // Google Play - Location Services\n    implementation &quot;com.google.android.gms:play-services-location:$location_version&quot;\n\n    // Google Play - Vision Services\n    implementation &quot;com.google.android.gms:play-services-vision:$vision_version&quot;\n\n    // Retrofit\n    implementation &quot;com.squareup.retrofit2:retrofit:$retrofit_version&quot;\n\n    // SOAP API XML Converter - Retrofit\n    implementation(&quot;com.squareup.retrofit2:converter-simplexml:$retrofit_version&quot;) {\n        exclude group: &quot;stax&quot;, module: &quot;stax-api&quot;\n        exclude group: &quot;stax&quot;, module: &quot;stax&quot;\n        exclude group: &quot;xpp3&quot;, module: &quot;xpp3&quot;\n    }\n\n    // Logging Interceptor\n    implementation &quot;com.squareup.okhttp3:logging-interceptor:$http_logging_version&quot;\n\n    // rxjava2\n    implementation &quot;io.reactivex.rxjava2:rxandroid:$rxjava2_android_version&quot;\n    implementation &quot;io.reactivex.rxjava2:rxjava:$rxjava2_version&quot;\n\n    // rxjava2 Adapter - Retrofit\n    implementation &quot;com.squareup.retrofit2:adapter-rxjava2:$retrofit_version&quot;\n\n    // GSON Converter - Retrofit\n    implementation &quot;com.squareup.retrofit2:converter-gson:$retrofit_version&quot;\n\n    // Androidx Lifecycle\n    implementation &quot;androidx.lifecycle:lifecycle-extensions:$androidx_lifecycle_version&quot;\n    // Test Helper\n    androidTestImplementation &quot;androidx.arch.core:core-testing:$androidx_arch_version&quot;\n    testImplementation &quot;androidx.arch.core:core-testing:$androidx_arch_version&quot;\n\n    // Crashlytics\n\n    implementation(platform(&quot;com.google.firebase:firebase-bom:28.4.1&quot;))\n    implementation &quot;com.google.firebase:firebase-messaging&quot;\n   // implementation platform('com.google.firebase:firebase-bom:28.4.1')\n    implementation 'com.google.firebase:firebase-analytics-ktx'\n    implementation 'com.google.firebase:firebase-crashlytics'\n    implementation 'com.google.firebase:firebase-messaging'\n    implementation 'com.google.firebase:firebase-perf'\n\n    // SQLCipher\n    implementation &quot;net.zetetic:android-database-sqlcipher:$sqlcipher_version&quot;\n    implementation &quot;androidx.sqlite:sqlite:$androidx_sqlite&quot;\n\n    // Dagger\n    implementation &quot;com.google.dagger:dagger:$dagger_version&quot;\n    kapt &quot;com.google.dagger:dagger-compiler:$dagger_version&quot;\n    implementation &quot;com.google.dagger:dagger-android-support:$dagger_version&quot;\n    kapt &quot;com.google.dagger:dagger-android-processor:$dagger_version&quot;\n\n\n    implementation(&quot;androidx.room:room-runtime:$room_version&quot;)\n\n    // If this project uses any Kotlin source, use Kotlin Symbol Processing (KSP)\n    // See Add the KSP plugin to your project\n    ksp(&quot;androidx.room:room-compiler:$room_version&quot;)\n\n    // If this project only uses Java source, use the Java annotationProcessor\n    // No additional plugins are necessary\n    annotationProcessor(&quot;androidx.room:room-compiler:$room_version&quot;)\n\n    // optional - Kotlin Extensions and Coroutines support for Room\n    implementation(&quot;androidx.room:room-ktx:$room_version&quot;)\n\n    // optional - RxJava2 support for Room\n    implementation(&quot;androidx.room:room-rxjava2:$room_version&quot;)\n\n    // optional - RxJava3 support for Room\n    implementation(&quot;androidx.room:room-rxjava3:$room_version&quot;)\n\n    // optional - Guava support for Room, including Optional and ListenableFuture\n    implementation(&quot;androidx.room:room-guava:$room_version&quot;)\n\n    // optional - Test helpers\n    testImplementation(&quot;androidx.room:room-testing:$room_version&quot;)\n\n    // optional - Paging 3 Integration\n    implementation(&quot;androidx.room:room-paging:$room_version&quot;)\n\n    // MultiDex Support\n    implementation &quot;androidx.multidex:multidex:$multidex_version&quot;\n\n    // LiveData Reactive Streams\n    implementation &quot;androidx.lifecycle:lifecycle-reactivestreams:$androidx_lifecycle_version&quot;\n\n    // Mockito\n    testImplementation &quot;org.mockito:mockito-core:$mockito_version&quot;\n    androidTestImplementation &quot;org.mockito:mockito-android:$mockito_version&quot;\n\n    implementation &quot;com.github.gcacace:signature-pad:1.3.1&quot;\n\n    //signature method\n    implementation &quot;se.akerfeldt:okhttp-signpost:1.1.0&quot;\n\n    implementation 'com.applandeo:material-calendar-view:1.9.0-rc03'\n\n    implementation(&quot;com.google.guava:guava:30.1-android&quot;)\n    implementation 'com.github.bumptech.glide:glide:4.12.0'\n    kapt 'com.github.bumptech.glide:annotations:4.12.0'\n\n    implementation &quot;androidx.activity:activity-ktx:$activity_version&quot;\n    implementation &quot;androidx.fragment:fragment-ktx:$fragment_version&quot;\n    implementation &quot;androidx.camera:camera-camera2:$camerax_version&quot;\n    // CameraX Lifecycle Library\n    implementation &quot;androidx.camera:camera-lifecycle:$camerax_version&quot;\n// CameraX View class\n    implementation &quot;androidx.camera:camera-view:1.0.0-alpha24&quot;\n    configurations.all {\n        resolutionStrategy {\n            force 'androidx.core:core-ktx:1.6.0'\n        }\n    }\n\n    implementation 'com.google.code.gson:gson:2.10'\n\n\n\n\n\n}\n</code></pre>\n<p><strong>Project gradle</strong></p>\n<pre><code>buildscript {\n    ext.kotlin_version = &quot;1.9.0&quot;\n    ext.kotlin_test_version = &quot;1.10.1&quot;\n    repositories {\n        google()\n        mavenCentral()\n\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:8.2.2'\n        classpath 'com.google.gms:google-services:4.4.2'\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\n        classpath &quot;com.google.firebase:perf-plugin:1.4.2&quot;\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\n        classpath 'com.google.firebase:firebase-crashlytics-gradle:3.0.3'\n        classpath &quot;com.google.devtools.ksp:com.google.devtools.ksp.gradle.plugin:1.9.0-1.0.13&quot;\n\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        mavenCentral()\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n<p><strong>Gradle properties</strong></p>\n<pre><code>    distributionBase=GRADLE_USER_HOME\ndistributionPath=wrapper/dists\nzipStoreBase=GRADLE_USER_HOME\nzipStorePath=wrapper/dists\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-8.2-all.zip\n</code></pre>\n",
    "tags" : [ "java", "android", "kotlin", "build.gradle" ],
    "owner" : {
      "account_id" : 13382943,
      "reputation" : 3,
      "user_id" : 9657652,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/ec2f629a2da3d35d0cf4c461293714a1?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "kathir",
      "link" : "https://stackoverflow.com/users/9657652/kathir"
    },
    "is_answered" : false,
    "view_count" : 50,
    "answer_count" : 0,
    "score" : 0,
    "last_activity_date" : 1743054208,
    "creation_date" : 1743054208,
    "link" : "https://stackoverflow.com/questions/79537910/execution-failed-for-task-appkaptproddebugkotlin-a-failure-occurred-while-e",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ ],
  "question_comments" : [ {
    "comment_id" : 140273734,
    "post_id" : 79537910,
    "body" : "Update kotlin version to ext.kotlin_version = &quot;1.9.23&quot; and gradle version to classpath &#39;com.android.tools.build:gradle:8.4.0&#39; &amp; distrributionUrl to distributionUrl=https\\://services.gradle.org/distributions/g&zwnj;&#8203;radle-8.6-bin.zip Try this.",
    "score" : 0,
    "owner" : {
      "account_id" : 21660290,
      "reputation" : 61,
      "user_id" : 15979496,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/3CSgd.jpg?s=256",
      "display_name" : "Raghul Thavamani",
      "link" : "https://stackoverflow.com/users/15979496/raghul-thavamani"
    },
    "creation_date" : 1743165599,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140268089,
    "post_id" : 79537910,
    "body" : "what is correct code. i do not understand can you check my above what i do change?",
    "score" : 0,
    "owner" : {
      "account_id" : 13382943,
      "reputation" : 3,
      "user_id" : 9657652,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/ec2f629a2da3d35d0cf4c461293714a1?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "kathir",
      "link" : "https://stackoverflow.com/users/9657652/kathir"
    },
    "creation_date" : 1743057655,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140268083,
    "post_id" : 79537910,
    "body" : "Use either ksp or annotationProcessor, but not both for room if your using in kotlin use ksp or if its java use annotationProcessor.",
    "score" : 0,
    "owner" : {
      "account_id" : 12694317,
      "reputation" : 738,
      "user_id" : 9223264,
      "user_type" : "registered",
      "profile_image" : "https://lh3.googleusercontent.com/-hd8CHstY9js/AAAAAAAAAAI/AAAAAAAAAOk/pJ463aKM9HY/s256-rj/photo.jpg",
      "display_name" : "Jaspalsinh Gohil",
      "link" : "https://stackoverflow.com/users/9223264/jaspalsinh-gohil"
    },
    "creation_date" : 1743057478,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140268052,
    "post_id" : 79537910,
    "body" : "yes, i am tired and set old targetsdk version of 33, facing same error Execution failed for task &#39;:app:kaptProdDebugKotlin&#39;. &gt; A failure occurred while executing org.jetbrains.kotlin.gradle.internal.KaptWithoutKotlincTask$&zwnj;&#8203;KaptExecutionWorkAct&zwnj;&#8203;ion    &gt; java.lang.reflect.InvocationTargetException (no error message)",
    "score" : 0,
    "owner" : {
      "account_id" : 13382943,
      "reputation" : 3,
      "user_id" : 9657652,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/ec2f629a2da3d35d0cf4c461293714a1?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "kathir",
      "link" : "https://stackoverflow.com/users/9657652/kathir"
    },
    "creation_date" : 1743056953,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140268024,
    "post_id" : 79537910,
    "body" : "Without actually stating which libraries you upgraded and from which versions, iti s kind of hard to understand what is going on. I can recommend updating the targetSdk version to 34 without updating the libraries and then iterating through them one by one until you see the error.",
    "score" : 0,
    "owner" : {
      "account_id" : 14722107,
      "reputation" : 6861,
      "user_id" : 10632369,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/541566093e9d34a3858f5446d06a7a6e?s=256&d=identicon&r=PG",
      "display_name" : "tomerpacific",
      "link" : "https://stackoverflow.com/users/10632369/tomerpacific"
    },
    "creation_date" : 1743056425,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140267938,
    "post_id" : 79537910,
    "body" : "I am updating all the dependency(lib) new version based on targetsdk 34.",
    "score" : 0,
    "owner" : {
      "account_id" : 13382943,
      "reputation" : 3,
      "user_id" : 9657652,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/ec2f629a2da3d35d0cf4c461293714a1?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "kathir",
      "link" : "https://stackoverflow.com/users/9657652/kathir"
    },
    "creation_date" : 1743054589,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140267932,
    "post_id" : 79537910,
    "body" : "What exactly are you updating and which versions?",
    "score" : 0,
    "owner" : {
      "account_id" : 14722107,
      "reputation" : 6861,
      "user_id" : 10632369,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/541566093e9d34a3858f5446d06a7a6e?s=256&d=identicon&r=PG",
      "display_name" : "tomerpacific",
      "link" : "https://stackoverflow.com/users/10632369/tomerpacific"
    },
    "creation_date" : 1743054395,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}