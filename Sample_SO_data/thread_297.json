{
  "question" : {
    "question_id" : 79812422,
    "title" : "Flutter gradle and build fails with “Unresolved reference: filePermissions” and other Kotlin errors in FlutterPlugin.kt",
    "body" : "<p>I’m currently facing a strange error when trying to build my Flutter app on macOS.<br />\nI’m using <strong>Flutter 2.10.5 (via FVM)</strong> because my project SDK constraint is:</p>\n<pre><code>environment:\n  sdk: &quot;&gt;=2.12.0 &lt;3.0.0&quot;\n</code></pre>\n<p>Whenever I try to run the app (<code>fvm flutter run</code>), I get this error:</p>\n<pre><code>Launching lib/main.dart on Redmi Note 5 in debug mode...\ne: file:///Users/babanla/development/flutter/packages/flutter_tools/gradle/src/main/kotlin/FlutterPlugin.kt:764:21 Unresolved reference: filePermissions\ne: file:///Users/babanla/development/flutter/packages/flutter_tools/gradle/src/main/kotlin/FlutterPlugin.kt:765:25 Unresolved reference: user\ne: file:///Users/babanla/development/flutter/packages/flutter_tools/gradle/src/main/kotlin/FlutterPlugin.kt:766:29 Unresolved reference: read\ne: file:///Users/babanla/development/flutter/packages/flutter_tools/gradle/src/main/kotlin/FlutterPlugin.kt:767:29 Unresolved reference: write\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':gradle:compileKotlin'.\n&gt; Compilation error. See log for more details\n</code></pre>\n<hr />\n<h3>✅ What I’ve tried</h3>\n<ul>\n<li><p>Deleted Gradle caches and build folders:</p>\n<pre><code>rm -rf android/.gradle\nrm -rf android/build\nfvm flutter clean\nfvm flutter pub get\n\n</code></pre>\n</li>\n<li><p>Verified Flutter version:</p>\n<pre><code>Flutter 2.10.5 • Dart 2.16.2\n\n</code></pre>\n</li>\n<li><p>Updated Gradle versions in <code>android/build.gradle</code> and <code>gradle-wrapper.properties</code>:</p>\n<pre><code>// build.gradle\nclasspath 'com.android.tools.build:gradle:4.1.0'\n\n</code></pre>\n<pre><code># gradle-wrapper.properties\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-6.7-all.zip\n\n</code></pre>\n</li>\n<li><p>Reinstalled Flutter SDK with FVM (<code>fvm remove 2.10.5</code> → <code>fvm install 2.10.5</code>).</p>\n</li>\n</ul>\n<p>Still, the error persists and appears to originate from Flutter’s internal Gradle Kotlin files.</p>\n<hr />\n<h3>\uD83D\uDCBB My environment</h3>\n<ul>\n<li><p>macOS (Sonoma 14.x)</p>\n</li>\n<li><p>Flutter 2.10.5 (via FVM)</p>\n</li>\n<li><p>Gradle 6.7</p>\n</li>\n<li><p>Android Gradle Plugin 4.1.0</p>\n</li>\n<li><p>Kotlin plugin (bundled with Flutter)</p>\n</li>\n</ul>\n<hr />\n<h3>❓ My question</h3>\n<p>What could be causing these “Unresolved reference” errors in Flutter’s internal <code>FlutterPlugin.kt</code> file, and how can I properly reset or align my SDK and Gradle setup so that the project builds successfully again?</p>\n<hr />\n",
    "tags" : [ "java", "android", "kotlin", "gradle", "android-gradle-plugin" ],
    "owner" : {
      "account_id" : 44594321,
      "reputation" : 1,
      "user_id" : 31834287,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/64bd672c9d7794b52c475461558686ee?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Baba N La",
      "link" : "https://stackoverflow.com/users/31834287/baba-n-la"
    },
    "is_answered" : false,
    "view_count" : 188,
    "answer_count" : 0,
    "score" : 0,
    "last_activity_date" : 1762527392,
    "creation_date" : 1762523917,
    "link" : "https://stackoverflow.com/questions/79812422/flutter-gradle-and-build-fails-with-unresolved-reference-filepermissions-and",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ ],
  "question_comments" : [ {
    "comment_id" : 140856868,
    "post_id" : 79812422,
    "body" : "Im facing the same issue with  3.38.1",
    "score" : 0,
    "owner" : {
      "account_id" : 18132183,
      "reputation" : 1,
      "user_id" : 13187156,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/14ebf48d40613dccca9b5313c3f69beb?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Samuel P&#233;rez",
      "link" : "https://stackoverflow.com/users/13187156/samuel-p%c3%a9rez"
    },
    "creation_date" : 1763308200,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140842995,
    "post_id" : 79812422,
    "body" : "Can you share your pubspec.yaml file?",
    "score" : 0,
    "owner" : {
      "account_id" : 14722107,
      "reputation" : 6861,
      "user_id" : 10632369,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/541566093e9d34a3858f5446d06a7a6e?s=256&d=identicon&r=PG",
      "display_name" : "tomerpacific",
      "link" : "https://stackoverflow.com/users/10632369/tomerpacific"
    },
    "creation_date" : 1762583423,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}