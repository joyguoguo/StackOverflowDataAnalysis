{
  "question" : {
    "question_id" : 79779012,
    "title" : "SecurityFilterChain bean from the library conflicts with managementSecurityFilterChain bean from ManagementWebSecurityAutoConfiguration",
    "body" : "<p>I have a library that specifies <code>WebSecurity</code> where I'm creating <code>SecurityFilterChain</code> bean. Actually, <code>ManagementWebSecurityAutoConfiguration</code> is annotated with <code>@ConditionalOnDefaultWebSecurity</code> and if my bean will be injected before <code>ManagementWebSecurityAutoConfiguration</code>, it will work properly. But my bean is also being created after <code>managementSecurityFilterChain</code> (through debug) and the app is failing to launch with &quot;A filter chain that matches any request has already been configured ...&quot;.</p>\n<p>My configuration permits some paths including <code>/v3/**, /actuator/**</code> and some others, and specify other <code>anyRequest().authenticated()</code></p>\n<p>I've tried to use these annotations:</p>\n<pre><code>@AutoConfiguration(before = [SecurityAutoConfiguration::class, ManagementWebSecurityAutoConfiguration::class])\n@EnableWebSecurity\n</code></pre>\n<p>or</p>\n<pre><code>@AutoConfigureBefore(SecurityAutoConfiguration::class, ManagementWebSecurityAutoConfiguration::class)\n</code></pre>\n<p>But nothing worked. What should I do to make my SecurityFilterChain bean to be created before ManagementWebSecurityAutoConfiguration and managementSecurityFilterChain.</p>\n",
    "tags" : [ "java", "spring", "kotlin", "spring-security" ],
    "owner" : {
      "account_id" : 35417428,
      "reputation" : 33,
      "user_id" : 27190977,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/2cddfab268fcd38be53fce903fc1d4d9?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Semyon Volokh",
      "link" : "https://stackoverflow.com/users/27190977/semyon-volokh"
    },
    "is_answered" : false,
    "view_count" : 62,
    "answer_count" : 0,
    "score" : 0,
    "last_activity_date" : 1759229618,
    "creation_date" : 1759229618,
    "link" : "https://stackoverflow.com/questions/79779012/securityfilterchain-bean-from-the-library-conflicts-with-managementsecurityfilte",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ ],
  "question_comments" : [ {
    "comment_id" : 140781321,
    "post_id" : 79779012,
    "body" : "Can you try to exclude management security auto-configuration &amp; in application.yml and handle actuator security in your main configuration: SecurityConfig.filterChain",
    "score" : 0,
    "owner" : {
      "account_id" : 6097406,
      "reputation" : 316,
      "user_id" : 4757784,
      "user_type" : "registered",
      "profile_image" : "https://lh6.googleusercontent.com/-5jsrL-7bG8I/AAAAAAAAAAI/AAAAAAAAABM/JMj0SpS1J1o/s256-rj/photo.jpg",
      "display_name" : "Emre Zorlu",
      "link" : "https://stackoverflow.com/users/4757784/emre-zorlu"
    },
    "creation_date" : 1759829066,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}