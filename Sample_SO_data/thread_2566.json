{
  "question" : {
    "question_id" : 79611878,
    "title" : "ActiveMQ Artemis String Property encoding",
    "body" : "<p>I'm sending a <code>BytesMessage</code> using ActiveMQ Artemis 2.38.0 (Running Openshift container) using several properties, but Norwegian letters are not preserved at the destination.</p>\n<p>I'm setting the property on a <code>BytesMessage</code> like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>message.setStringProperty(&quot;SOMETING&quot;, &quot;ABC-ÆØÅ&quot;);\n</code></pre>\n<p>However, this message is received at the destination with property content of <code>ABC-???</code>.</p>\n<p>I have tried to encode the <code>String</code> to UTF-8, but still not possible to get the <code>ÆØÅ</code> transferred.</p>\n<p>How can I manage to send this as message property?</p>\n<p>My application is using Java 8 on IBM Liberty with the JMS client feature and the ActiveMQ Classic JCA resource adapter.</p>\n",
    "tags" : [ "java", "activemq-artemis" ],
    "owner" : {
      "account_id" : 7759275,
      "reputation" : 81,
      "user_id" : 5872544,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/8122d11100ec12bc7933d3b5c77a63fc?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "bwa",
      "link" : "https://stackoverflow.com/users/5872544/bwa"
    },
    "is_answered" : false,
    "view_count" : 124,
    "answer_count" : 0,
    "score" : 0,
    "last_activity_date" : 1746799627,
    "creation_date" : 1746688518,
    "link" : "https://stackoverflow.com/questions/79611878/activemq-artemis-string-property-encoding",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ ],
  "question_comments" : [ {
    "comment_id" : 140423486,
    "post_id" : 79611878,
    "body" : "See details <a href=\"https://meta.stackexchange.com/questions/5234/how-does-accepting-an-answer-work\">here</a>.",
    "score" : 0,
    "owner" : {
      "account_id" : 11434008,
      "reputation" : 36282,
      "user_id" : 8381946,
      "user_type" : "registered",
      "profile_image" : "https://lh3.googleusercontent.com/-ORs8fPNVzDU/AAAAAAAAAAI/AAAAAAAADBs/F3IsdsProVY/s256-rj/photo.jpg",
      "display_name" : "Justin Bertram",
      "link" : "https://stackoverflow.com/users/8381946/justin-bertram"
    },
    "creation_date" : 1747191325,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140413733,
    "post_id" : 79611878,
    "body" : "@JustinBertram Did not find how to do that ....",
    "score" : 0,
    "owner" : {
      "account_id" : 7759275,
      "reputation" : 81,
      "user_id" : 5872544,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/8122d11100ec12bc7933d3b5c77a63fc?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "bwa",
      "link" : "https://stackoverflow.com/users/5872544/bwa"
    },
    "creation_date" : 1746889659,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140411228,
    "post_id" : 79611878,
    "body" : "Please post this as an answer and accept it to help other folks who have this same issue in the future.",
    "score" : 0,
    "owner" : {
      "account_id" : 11434008,
      "reputation" : 36282,
      "user_id" : 8381946,
      "user_type" : "registered",
      "profile_image" : "https://lh3.googleusercontent.com/-ORs8fPNVzDU/AAAAAAAAAAI/AAAAAAAADBs/F3IsdsProVY/s256-rj/photo.jpg",
      "display_name" : "Justin Bertram",
      "link" : "https://stackoverflow.com/users/8381946/justin-bertram"
    },
    "creation_date" : 1746799566,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140410483,
    "post_id" : 79611878,
    "body" : "@JustinBertram You&#39;re right. Found the issue. It was the receiving container that was not configured with the correct language and charset. It works now.",
    "score" : 0,
    "owner" : {
      "account_id" : 7759275,
      "reputation" : 81,
      "user_id" : 5872544,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/8122d11100ec12bc7933d3b5c77a63fc?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "bwa",
      "link" : "https://stackoverflow.com/users/5872544/bwa"
    },
    "creation_date" : 1746784920,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140409559,
    "post_id" : 79611878,
    "body" : "I think you&#39;re going to need to provide some way to reproduce this. I&#39;ve tested with the Core client, the Core JMS client, and the OpenWire JMS client (i.e. the one used under the covers why the ActiveMQ Classic JCA RA) and they all work as expected returning the Norwegian characters correctly when set as a <code>String</code> property.",
    "score" : 0,
    "owner" : {
      "account_id" : 11434008,
      "reputation" : 36282,
      "user_id" : 8381946,
      "user_type" : "registered",
      "profile_image" : "https://lh3.googleusercontent.com/-ORs8fPNVzDU/AAAAAAAAAAI/AAAAAAAADBs/F3IsdsProVY/s256-rj/photo.jpg",
      "display_name" : "Justin Bertram",
      "link" : "https://stackoverflow.com/users/8381946/justin-bertram"
    },
    "creation_date" : 1746753244,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140409171,
    "post_id" : 79611878,
    "body" : "@JustinBertram It&#39;s java 8 running IBM  Liberty with jmsclient feature and active mq rar adapter.",
    "score" : 0,
    "owner" : {
      "account_id" : 7759275,
      "reputation" : 81,
      "user_id" : 5872544,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/8122d11100ec12bc7933d3b5c77a63fc?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "bwa",
      "link" : "https://stackoverflow.com/users/5872544/bwa"
    },
    "creation_date" : 1746738367,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140407821,
    "post_id" : 79611878,
    "body" : "What client library are you using to send and receive your message? This works fine with the Core JMS client in my tests.",
    "score" : 0,
    "owner" : {
      "account_id" : 11434008,
      "reputation" : 36282,
      "user_id" : 8381946,
      "user_type" : "registered",
      "profile_image" : "https://lh3.googleusercontent.com/-ORs8fPNVzDU/AAAAAAAAAAI/AAAAAAAADBs/F3IsdsProVY/s256-rj/photo.jpg",
      "display_name" : "Justin Bertram",
      "link" : "https://stackoverflow.com/users/8381946/justin-bertram"
    },
    "creation_date" : 1746711964,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140407820,
    "post_id" : 79611878,
    "body" : "There is no such setting as <code>encoding</code> in <code>broker.xml</code>. Also, there&#39;s absolutely no reason to adjust <code>global-max-size</code> for this issue. This seems like something hallucinated by AI.",
    "score" : 0,
    "owner" : {
      "account_id" : 11434008,
      "reputation" : 36282,
      "user_id" : 8381946,
      "user_type" : "registered",
      "profile_image" : "https://lh3.googleusercontent.com/-ORs8fPNVzDU/AAAAAAAAAAI/AAAAAAAADBs/F3IsdsProVY/s256-rj/photo.jpg",
      "display_name" : "Justin Bertram",
      "link" : "https://stackoverflow.com/users/8381946/justin-bertram"
    },
    "creation_date" : 1746711940,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140407156,
    "post_id" : 79611878,
    "body" : "No luck with that  [org.apache.activemq.artemis.core.client] AMQ214019: Invalid configuration org.xml.sax.SAXParseException: cvc-complex-type.2.4.a: Invalid content was found starting with element &#39;{&quot;urn:activemq:core&quot;:encoding}&#39;  tried this :   ....       &lt;core xmlns=&quot;urn:activemq:core&quot; xmlns:xsi=&quot;<a href=\"http://www.w3.org/2001/XMLSchema-instance\" rel=\"nofollow noreferrer\">w3.org/2001/XMLSchema-instance</a>&quot;          xsi:schemaLocation=&quot;urn:activemq:core &quot;&gt;                 &lt;encoding&gt;UTF-8&lt;/encoding&gt;             ....",
    "score" : 0,
    "owner" : {
      "account_id" : 7759275,
      "reputation" : 81,
      "user_id" : 5872544,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/8122d11100ec12bc7933d3b5c77a63fc?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "bwa",
      "link" : "https://stackoverflow.com/users/5872544/bwa"
    },
    "creation_date" : 1746699597,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140407142,
    "post_id" : 79611878,
    "body" : "In <code>core</code> tag: <code>&lt;global-max-size&gt;100000000&lt;&#47;global-max-size&gt;</code> and <code>&lt;encoding&gt;UTF-8&lt;&#47;encoding&gt;</code>",
    "score" : 0,
    "owner" : {
      "account_id" : 14331879,
      "reputation" : 346,
      "user_id" : 10352428,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/619aa63a0625944a2aa2fd0fdacb95cb?s=256&d=identicon&r=PG",
      "display_name" : "萝莉w",
      "link" : "https://stackoverflow.com/users/10352428/%e8%90%9d%e8%8e%89w"
    },
    "creation_date" : 1746699140,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140407117,
    "post_id" : 79611878,
    "body" : "No, may I have a advice about what that setting is ?",
    "score" : 0,
    "owner" : {
      "account_id" : 7759275,
      "reputation" : 81,
      "user_id" : 5872544,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/8122d11100ec12bc7933d3b5c77a63fc?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "bwa",
      "link" : "https://stackoverflow.com/users/5872544/bwa"
    },
    "creation_date" : 1746698803,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140406836,
    "post_id" : 79611878,
    "body" : "How did you set your encoding to UTF-8? Have you checked the encoding configuration of <code>broker.xml</code>?",
    "score" : 0,
    "owner" : {
      "account_id" : 14331879,
      "reputation" : 346,
      "user_id" : 10352428,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/619aa63a0625944a2aa2fd0fdacb95cb?s=256&d=identicon&r=PG",
      "display_name" : "萝莉w",
      "link" : "https://stackoverflow.com/users/10352428/%e8%90%9d%e8%8e%89w"
    },
    "creation_date" : 1746692070,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}