{
  "question" : {
    "question_id" : 79723194,
    "title" : "How to enable Spring AI observability labels - spring.ai.tool.call.arguments?",
    "body" : "<p>In the documentation, in the observability section, in the &quot;Tool Calling&quot; section, in the &quot;High Cardinality Keys&quot; table, it says that the labels</p>\n<ul>\n<li><code>spring.ai.tool.call.arguments</code></li>\n<li><code>spring.ai.tool.call.result</code></li>\n</ul>\n<p>Only appear in traces when enabled.</p>\n<p>My question is, how do I enable them?</p>\n<p>Is this a Spring project property?</p>\n<p>I made a simple project, an mcp client and another mcp server, and uploaded a stack to docker compose with observability to view traces and metrics.</p>\n",
    "tags" : [ "java", "spring", "artificial-intelligence", "spring-ai" ],
    "owner" : {
      "account_id" : 37108012,
      "reputation" : 1,
      "user_id" : 28080437,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/e7e7941104dc8039ce69295a02fa8f1e?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Thales Sant&#39;Anna",
      "link" : "https://stackoverflow.com/users/28080437/thales-santanna"
    },
    "is_answered" : false,
    "view_count" : 148,
    "answer_count" : 1,
    "score" : 0,
    "last_activity_date" : 1754135942,
    "creation_date" : 1754120667,
    "link" : "https://stackoverflow.com/questions/79723194/how-to-enable-spring-ai-observability-labels-spring-ai-tool-call-arguments",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79723195,
    "question_id" : 79723194,
    "body" : "<p>Directly after the &quot;High Cardinality Keys&quot; table, there is a <a href=\"https://docs.spring.io/spring-ai/reference/observability/index.html#_tool_call_arguments_and_result_data\" rel=\"nofollow noreferrer\">Tool Call Arguments and Result Data</a> section. explaining exactly that (emphasis mine):</p>\n<blockquote>\n<p>The input arguments and result from the tool call are not exported by default, as they can be potentially sensitive.</p>\n<p>Spring AI supports exporting <em>tool call arguments</em> and <em>result data</em> as span attributes.</p>\n</blockquote>\n<p>This is followed with a table mentioning the property <code>spring.ai.tools.observations.include-content</code>.</p>\n<p>But when doing this, please also read a tiny bit further where you can see the following warning:</p>\n<blockquote>\n<p>If you enable the inclusion of the tool call arguments and result in the observations, thereâ€™s a risk of exposing sensitive or private information. Please, be careful!</p>\n</blockquote>\n<p>But as it is often the case, 5 hours of debugging and trying random properties could save you from 5 minutes of reading documentation :)</p>\n<h3>Update</h3>\n<p>As mentioned <a href=\"https://stackoverflow.com/questions/79723194/how-to-enable-spring-ai-observability-labels-spring-ai-tool-call-arguments/79723195#comment140637294_79723195\">in the comments</a> by the <a href=\"https://stackoverflow.com/users/28080437/thales-santanna\">OP</a>, there is an <a href=\"https://github.com/spring-projects/spring-ai/issues/3401\" rel=\"nofollow noreferrer\">open bug about that in Spring AI</a>.</p>\n",
    "score" : 0,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 15064163,
      "reputation" : 17100,
      "user_id" : 10871900,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/720202b6e19abc330dcd92e6a1254562?s=256&d=identicon&r=PG",
      "display_name" : "dan1st",
      "link" : "https://stackoverflow.com/users/10871900/dan1st"
    },
    "creation_date" : 1754121010,
    "last_activity_date" : 1754135942,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ ],
  "answer_comments" : {
    "79723195" : [ {
      "comment_id" : 140637330,
      "post_id" : 79723195,
      "body" : "@ThalesSant&#39;Anna Oh you are talking about <a href=\"https://github.com/spring-projects/spring-ai/issues/3401\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-ai/issues/3401</a>? I see.",
      "score" : 0,
      "owner" : {
        "account_id" : 15064163,
        "reputation" : 17100,
        "user_id" : 10871900,
        "user_type" : "registered",
        "profile_image" : "https://www.gravatar.com/avatar/720202b6e19abc330dcd92e6a1254562?s=256&d=identicon&r=PG",
        "display_name" : "dan1st",
        "link" : "https://stackoverflow.com/users/10871900/dan1st"
      },
      "creation_date" : 1754135865,
      "content_license" : "CC BY-SA 4.0"
    }, {
      "comment_id" : 140637294,
      "post_id" : 79723195,
      "body" : "It&#39;s resolved, and I had read the documentation, in fact what I didn&#39;t see and really seems to have a &quot;bug&quot; is in the &quot;gen.prompt&quot; label part, I think there&#39;s even an open Issue on Github 3401.",
      "score" : 0,
      "owner" : {
        "account_id" : 37108012,
        "reputation" : 1,
        "user_id" : 28080437,
        "user_type" : "registered",
        "profile_image" : "https://www.gravatar.com/avatar/e7e7941104dc8039ce69295a02fa8f1e?s=256&d=identicon&r=PG&f=y&so-version=2",
        "display_name" : "Thales Sant&#39;Anna",
        "link" : "https://stackoverflow.com/users/28080437/thales-santanna"
      },
      "creation_date" : 1754134356,
      "content_license" : "CC BY-SA 4.0"
    } ]
  }
}