{
  "question" : {
    "question_id" : 79532041,
    "title" : "I can&#39;t delete a client in inbounds via a request in java x-ui",
    "body" : "<p>provide detailed documentation please \uD83D\uDE03</p>\n<p>I can't delete a client in inbounds via a request in java. But I can delete via postman! What's the problem? Please help\nmy code:</p>\n<pre><code> public void removeClient(String protocol, String clientId) {\n        if (clientId == null) {\n            System.out.println(&quot;Client ID is null, nothing to remove.&quot;);\n            return;\n        }\n\n        HttpHeaders headers = new HttpHeaders();\n        headers.setContentType(MediaType.APPLICATION_JSON);\n        headers.add(&quot;Cookie&quot;, loginCookie);\n        headers.add(&quot;Accept&quot;, &quot;application/json&quot;);\n        headers.add(&quot;Accept-Encoding&quot;, &quot;gzip, deflate&quot;);\n\n        String requestBody = String.format(\n                &quot;{\\&quot;id\\&quot;:1,\\&quot;settings\\&quot;:\\&quot;{\\\\\\&quot;clients\\\\\\&quot;:[{\\\\\\&quot;id\\\\\\&quot;:\\\\\\&quot;%s\\\\\\&quot;,\\\\\\&quot;enable\\\\\\&quot;:false}]}\\&quot;&quot;,\n                clientId\n        );\n\n        HttpEntity&lt;String&gt; request = new HttpEntity&lt;&gt;(&quot;{}&quot;, headers);\n        String removeUrl = xuiBaseUrl + &quot;/panel/api/inbounds/&quot; + protocol + &quot;/delClient/&quot; + clientId;    //&quot;updateClient&quot;; // Проверьте правильный endpoint\n\n        try {\n            ResponseEntity&lt;String&gt; response = restTemplate.postForEntity(removeUrl, request, String.class);\n            System.out.println(&quot;Remove client status: &quot; + response.getStatusCode());\n            System.out.println(&quot;Remove client response: &quot; + response.getBody());\n            System.out.println(&quot;Remove client headers: &quot; + response.getHeaders());\n            System.out.println(&quot;Remove client cookie: &quot; + response.getHeaders().get(&quot;Set-Cookie&quot;));\n            System.out.println(&quot;client ID: &quot; + clientId);\n\n            if (response.getStatusCode() == HttpStatus.OK) {\n                if (response.getBody() != null &amp;&amp; response.getBody().contains(&quot;success&quot;)) {\n                    System.out.println(&quot;Client removed successfully: &quot; + clientId);\n                } else {\n                    System.out.println(&quot;Client removal response is null or does not contain 'success', but proceeding anyway.&quot;);\n                }\n            } else {\n                throw new RuntimeException(&quot;Failed to remove client: HTTP status &quot; + response.getStatusCode());\n            }\n        } catch (Exception e) {\n            System.out.println(&quot;Error removing client: &quot; + e.getMessage());\n        }\n    }\n</code></pre>\n<p>I tried to change the code, but it still doesn't work to delete a client in inbounds. You can only delete a client through postman</p>\n",
    "tags" : [ "java", "spring-boot" ],
    "owner" : {
      "account_id" : 32017122,
      "reputation" : 1,
      "user_id" : 24823924,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/bd3400f22ebd3c89af9deaa70acc1fd2?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "user24823924",
      "link" : "https://stackoverflow.com/users/24823924/user24823924"
    },
    "is_answered" : false,
    "view_count" : 31,
    "answer_count" : 0,
    "score" : 0,
    "last_activity_date" : 1742849973,
    "creation_date" : 1742846668,
    "link" : "https://stackoverflow.com/questions/79532041/i-cant-delete-a-client-in-inbounds-via-a-request-in-java-x-ui",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ ],
  "question_comments" : [ {
    "comment_id" : 140262148,
    "post_id" : 79532041,
    "body" : "Please add the working curl generated by Postman to your question. You can find it under the &lt;&gt; icon on the right. I need to check method &amp; headers. Also, does Postman receive a 200 OK response or a 204 No content? What is the value of xuiBaseUrl ? I may be wrong but I don&#39;t think you are permitted to do response.getBody() multiple times.",
    "score" : 0,
    "owner" : {
      "account_id" : 10941198,
      "reputation" : 5803,
      "user_id" : 8041003,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/cAZ4d.jpg?s=256",
      "display_name" : "John Williams",
      "link" : "https://stackoverflow.com/users/8041003/john-williams"
    },
    "creation_date" : 1742924656,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140258478,
    "post_id" : 79532041,
    "body" : "Please read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> then <a href=\"https://stackoverflow.com/posts/79532041/edit\">edit</a> the question to explain the actual symptoms and details needed for reproduction.",
    "score" : 0,
    "owner" : {
      "account_id" : 372682,
      "reputation" : 26512,
      "user_id" : 721855,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/vZiox.png?s=256",
      "display_name" : "aled",
      "link" : "https://stackoverflow.com/users/721855/aled"
    },
    "creation_date" : 1742850896,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}