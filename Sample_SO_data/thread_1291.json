{
  "question" : {
    "question_id" : 79722490,
    "title" : "MPAndroid Chart: How to set up a scrollable horizontal barchart",
    "body" : "<p>I am using MPAndroidChart to display a horizontal bar chart in portrait mode with vertical scrolling enabled. Here's my current code snippet:</p>\n<pre><code>Map&lt;String, Integer&gt; genreData = new LinkedHashMap&lt;&gt;();\ngenreData.put(&quot;Pop&quot;, 19);\ngenreData.put(&quot;Hip-Hop&quot;, 19);\ngenreData.put(&quot;Rock&quot;, 19);\ngenreData.put(&quot;Dance&quot;, 21);\ngenreData.put(&quot;R&amp;B&quot;, 21);\n\nif (genreData != null &amp;&amp; !genreData.isEmpty()) {\n    List&lt;Map.Entry&lt;String, Integer&gt;&gt; sorted = new ArrayList&lt;&gt;(genreData.entrySet());\n    sorted.sort((a, b) -&gt; Integer.compare(b.getValue(), a.getValue())); // Sort descending\n\n    String[] labels = new String[sorted.size()];\n    ArrayList&lt;BarEntry&gt; entries = new ArrayList&lt;&gt;();\n    ArrayList&lt;Integer&gt; barColors = new ArrayList&lt;&gt;();\n    float maxVal = 0f;\n\n    for (int i = 0; i &lt; sorted.size(); i++) {\n        Map.Entry&lt;String, Integer&gt; e = sorted.get(i);\n\n        int idx = sorted.size() - 1 - i;\n        labels[idx] = e.getKey();\n        entries.add(new BarEntry(idx, e.getValue()));\n        barColors.add(Color.BLUE);\n        maxVal = Math.max(maxVal, e.getValue());\n    }\n\n    BarDataSet set = new BarDataSet(entries, &quot;Genre&quot;);\n    set.setColors(barColors);\n    set.setValueTextSize(10f);\n    set.setValueFormatter(new ValueFormatter() {\n        @Override\n        public String getBarLabel(BarEntry barEntry) {\n            return String.valueOf((int) barEntry.getY());\n        }\n    });\n\n    BarData data = new BarData(set);\n    data.setBarWidth(0.5f);\n\n    genreChart.setData(data);\n    genreChart.setFitBars(true);\n    genreChart.getDescription().setEnabled(false);\n    genreChart.getLegend().setEnabled(false);\n    genreChart.getAxisRight().setEnabled(false);\n\n    XAxis x = genreChart.getXAxis();\n    x.setValueFormatter(new IndexAxisValueFormatter(labels));\n    x.setPosition(XAxis.XAxisPosition.BOTTOM);\n    x.setDrawGridLines(false);\n    x.setGranularity(1f);\n    x.setLabelCount(labels.length);\n    x.setTextSize(12f);\n\n    genreChart.getAxisLeft().setAxisMinimum(0f);\n    genreChart.getAxisLeft().setAxisMaximum(maxVal + 5f);\n\n    genreChart.setVisibleXRangeMaximum(3f);\n    genreChart.setDragEnabled(true);\n    genreChart.setPinchZoom(false);\n    genreChart.setScaleXEnabled(false);\n    genreChart.setScaleYEnabled(false);\n\n    genreChart.moveViewToX(0);\n\n    genreChart.animateY(800);\n    genreChart.invalidate();\n}\n</code></pre>\n<p>And my XML layout:</p>\n<pre><code>&lt;com.github.mikephil.charting.charts.HorizontalBarChart\n    android:id=&quot;@+id/horizontalBarChartGenre&quot;\n    android:layout_width=&quot;0dp&quot;\n    android:layout_height=&quot;160dp&quot;\n    android:layout_marginTop=&quot;5dp&quot;\n    android:layout_marginStart=&quot;16dp&quot;\n    android:layout_marginEnd=&quot;16dp&quot;\n    app:layout_constraintTop_toBottomOf=&quot;@id/textViewEraHeader&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot; /&gt;\n</code></pre>\n<p>Issues Iâ€™m facing:</p>\n<ol>\n<li><p>List itemThe chart initially displays the bars starting from the bottom, but I want it to start from the top (with the longest bars visible first).</p>\n</li>\n<li><p>When the chart is at the bottom, the bars are not being displayed, and only appear when I scroll back up.</p>\n</li>\n</ol>\n<p>How can I fix these issues so that the chart shows the top bars first and allows smooth scrolling without disappearing bars?</p>\n<h2>Update</h2>\n<p>I found out that the problematic call is <code>genreChart.setVisibleXRangeMaximum(3f);</code>, when this is set to a number smaller than the number of datapoints, the mentioned strange 2 issues occur. When setting it e.g. to <code>genreChart.setVisibleXRangeMaximum(5f);</code> the problems don't occur. Still for me this is an issue as I can't display all datapoints and I want to have a scrollable barchart. How can I do this?</p>\n",
    "tags" : [ "java", "android", "mpandroidchart" ],
    "owner" : {
      "account_id" : 13060317,
      "reputation" : 717,
      "user_id" : 9437740,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/6yvEH.png?s=256",
      "display_name" : "VanessaF",
      "link" : "https://stackoverflow.com/users/9437740/vanessaf"
    },
    "is_answered" : false,
    "view_count" : 139,
    "answer_count" : 0,
    "score" : 0,
    "last_activity_date" : 1756140480,
    "creation_date" : 1754050040,
    "link" : "https://stackoverflow.com/questions/79722490/mpandroid-chart-how-to-set-up-a-scrollable-horizontal-barchart",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ ],
  "question_comments" : [ ],
  "answer_comments" : { }
}