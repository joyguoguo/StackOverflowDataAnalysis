{
  "question" : {
    "question_id" : 79554083,
    "title" : "Jackson Deserialization Error for Enum with @SerializedName in Swagger Generated Class",
    "body" : "<p>I am encountering an issue with Jackson deserialization when trying to convert a JSON response into an enum class generated by Swagger. The error message I receive is:</p>\n<pre><code>com.fasterxml.jackson.databind.exc.InvalidFormatException: Cannot deserialize value of type `io.swagger.client.model.SLAKPIDefinition` from String &quot;avg-transaction-resp-time&quot;: not one of the values accepted for Enum class: [PERC_TRANSACTION_RESP_TIME, AVG_THROUGHPUT_PER_SEC, AVG_PAGE_RESP_TIME, THROUGHPUT, ERRORS_COUNT, AVG_TRANSACTION_RESP_TIME, AVG_REQUEST_RESP_TIME, AVG_REQUEST_PER_SEC, ERROR_RATE, ERRORS_PER_SEC, AVG_RESP_TIME, COUNT]\n at [Source: (org.springframework.util.StreamUtils$NonClosingInputStream); line: 1, column: 9] (through reference chain: java.util.ArrayList[0]-&gt;io.swagger.client.model.SLAPerTestResultDefinition[&quot;kpi&quot;])\n    at com.fasterxml.jackson.databind.exc.InvalidFormatException.from(InvalidFormatException.java:67) ~[jackson-databind-2.15.3.jar:2.15.3]\n</code></pre>\n<p>Here is the generated enum class:</p>\n<pre><code>package io.swagger.client.model;\n\nimport java.util.Objects;\nimport java.util.Arrays;\nimport io.swagger.v3.oas.annotations.media.Schema;\nimport com.google.gson.annotations.SerializedName;\nimport java.io.IOException;\nimport com.google.gson.TypeAdapter;\nimport com.google.gson.annotations.JsonAdapter;\nimport com.google.gson.stream.JsonReader;\nimport com.google.gson.stream.JsonWriter;\n\n/**\n * KPI\n */\n@JsonAdapter(SLAKPIDefinition.Adapter.class)\npublic enum SLAKPIDefinition {\n  @SerializedName(&quot;avg-request-resp-time&quot;)\n  AVG_REQUEST_RESP_TIME(&quot;avg-request-resp-time&quot;),\n  @SerializedName(&quot;avg-page-resp-time&quot;)\n  AVG_PAGE_RESP_TIME(&quot;avg-page-resp-time&quot;),\n  @SerializedName(&quot;avg-transaction-resp-time&quot;)\n  AVG_TRANSACTION_RESP_TIME(&quot;avg-transaction-resp-time&quot;),\n  @SerializedName(&quot;perc-transaction-resp-time&quot;)\n  PERC_TRANSACTION_RESP_TIME(&quot;perc-transaction-resp-time&quot;),\n  @SerializedName(&quot;avg-request-per-sec&quot;)\n  AVG_REQUEST_PER_SEC(&quot;avg-request-per-sec&quot;),\n  @SerializedName(&quot;avg-throughput-per-sec&quot;)\n  AVG_THROUGHPUT_PER_SEC(&quot;avg-throughput-per-sec&quot;),\n  @SerializedName(&quot;errors-count&quot;)\n  ERRORS_COUNT(&quot;errors-count&quot;),\n  @SerializedName(&quot;count&quot;)\n  COUNT(&quot;count&quot;),\n  @SerializedName(&quot;throughput&quot;)\n  THROUGHPUT(&quot;throughput&quot;),\n  @SerializedName(&quot;avg-resp-time&quot;)\n  AVG_RESP_TIME(&quot;avg-resp-time&quot;),\n  @SerializedName(&quot;errors-per-sec&quot;)\n  ERRORS_PER_SEC(&quot;errors-per-sec&quot;),\n  @SerializedName(&quot;error-rate&quot;)\n  ERROR_RATE(&quot;error-rate&quot;);\n\n  private String value;\n\n  SLAKPIDefinition(String value) {\n    this.value = value;\n  }\n\n  public String getValue() {\n    return value;\n  }\n\n  @Override\n  public String toString() {\n    return String.valueOf(value);\n  }\n\n  public static SLAKPIDefinition fromValue(String input) {\n    for (SLAKPIDefinition b : SLAKPIDefinition.values()) {\n      if (b.value.equals(input)) {\n        return b;\n      }\n    }\n    return null;\n  }\n\n  public static class Adapter extends TypeAdapter&lt;SLAKPIDefinition&gt; {\n    @Override\n    public void write(final JsonWriter jsonWriter, final SLAKPIDefinition enumeration) throws IOException {\n      jsonWriter.value(String.valueOf(enumeration.getValue()));\n    }\n\n    @Override\n    public SLAKPIDefinition read(final JsonReader jsonReader) throws IOException {\n      Object value = jsonReader.nextString();\n      return SLAKPIDefinition.fromValue((String)(value));\n    }\n  }\n}\n\n</code></pre>\n<p>Here is the JSON I am trying to deserialize:</p>\n<pre><code>{\n    &quot;kpi&quot;: &quot;avg-transaction-resp-time&quot;,\n    &quot;status&quot;: &quot;FAILED&quot;,\n    &quot;value&quot;: 0.18579546,\n    &quot;failedThreshold&quot;: {\n        &quot;operator&quot;: &quot;&gt;=&quot;,\n        &quot;values&quot;: [\n            0.042\n        ]\n    },\n    &quot;element&quot;: {\n        &quot;elementId&quot;: &quot;97daea5f-2642-4ee7-b049-4114a1106b22&quot;,\n        &quot;name&quot;: &quot;08_01 (initial) MS Ã¶ffnen&quot;,\n        &quot;category&quot;: &quot;TRANSACTION&quot;,\n        &quot;userpath&quot;: &quot;00 SLA- WORK&quot;,\n        &quot;parent&quot;: &quot;08 Medienspiegel&quot;\n    }\n}\n\n</code></pre>\n<p>And here is the method where I am trying to convert the response:</p>\n<pre><code>public List&lt;SLAPerTestResultDefinition&gt; getSlaPerTestFromApi(String workspace, String resultId, HttpSession session) {\n    return this.apiConfigurations.restTemplate().exchange(\n            this.apiConfigurations.hostForApi() + workspace + &quot;/test-results/&quot; + resultId + &quot;/slas/per-test&quot;,\n            HttpMethod.GET,\n            this.apiConfigurations.getHttpEntityWithHeader(session),\n            new ParameterizedTypeReference&lt;List&lt;SLAPerTestResultDefinition&gt;&gt;() {\n            }\n    ).getBody();\n}\n</code></pre>\n<p>My question is, why does deserialization fail even though the string is clearly present? It seems to be related to @SerializedName. When I use @JsonProperty, it works.</p>\n<p>Any insights or solutions would be greatly appreciated!</p>\n<hr />\n<hr />\n<p>EDIT</p>\n<hr />\n<p>Ok the problem was that @SerializedName is from gson. When i change in POM  zu              jersey2 it works an i get @JsonProperty</p>\n<pre><code>&lt;groupId&gt;io.swagger.codegen.v3&lt;/groupId&gt;\n                &lt;artifactId&gt;swagger-codegen-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.68&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;generate&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;inputSpec&gt;${basedir}/src/main/resources/neoload.yaml&lt;/inputSpec&gt;\n                            &lt;language&gt;java&lt;/language&gt;\n                            &lt;library&gt;jersey2&lt;/library&gt;\n                            &lt;configOptions&gt;\n                                &lt;dateLibrary&gt;java8&lt;/dateLibrary&gt;\n                                &lt;hideGenerationTimestamp&gt;true&lt;/hideGenerationTimestamp&gt;\n                            &lt;/configOptions&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n</code></pre>\n",
    "tags" : [ "java", "json", "enums", "swagger", "neoload" ],
    "owner" : {
      "account_id" : 7495666,
      "reputation" : 325,
      "user_id" : 6468436,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/83171ce5ea6ab4deccdde7329c327cfd?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "User1751",
      "link" : "https://stackoverflow.com/users/6468436/user1751"
    },
    "is_answered" : false,
    "view_count" : 61,
    "answer_count" : 0,
    "score" : 0,
    "last_activity_date" : 1743756216,
    "creation_date" : 1743717290,
    "link" : "https://stackoverflow.com/questions/79554083/jackson-deserialization-error-for-enum-with-serializedname-in-swagger-generated",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ ],
  "question_comments" : [ ],
  "answer_comments" : { }
}