{
  "question" : {
    "question_id" : 79720199,
    "title" : "How to bypass rollbacks and retries for Spring JmsListener specific exceptions?",
    "body" : "<p>This is for a Spring JMS listener which is configured with <code>DefaultJmsListenerContainerFactory</code> with <code>sessionTransacted(true)</code>, an error handler and a message converter which converts a message to a pojo payload.</p>\n<p>Is it possible to not rollback transactions for specific exceptions, (related to invalid payload - <code>JsonProcessingException</code>, <code>IllegalArgumentException</code>), so the message is not retried?</p>\n<p>I am OK with with the transaction being rolled back and retried for all exceptions apart from <code>JsonProcessingException</code> and <code>IllegalArgumentException</code> (for invalid payloads).</p>\n<p>The error occurs in the MessageConverter, so does not actually get to listener receiveMessage.</p>\n<p>Please advise.</p>\n",
    "tags" : [ "java", "spring-boot", "jms", "spring-jms" ],
    "owner" : {
      "account_id" : 244916,
      "reputation" : 1467,
      "user_id" : 518066,
      "user_type" : "registered",
      "accept_rate" : 33,
      "profile_image" : "https://www.gravatar.com/avatar/7fe1cf15063e30b43ab4d7134b7552ea?s=256&d=identicon&r=PG",
      "display_name" : "user518066",
      "link" : "https://stackoverflow.com/users/518066/user518066"
    },
    "is_answered" : false,
    "view_count" : 137,
    "answer_count" : 0,
    "score" : 0,
    "last_activity_date" : 1754072102,
    "creation_date" : 1753889351,
    "link" : "https://stackoverflow.com/questions/79720199/how-to-bypass-rollbacks-and-retries-for-spring-jmslistener-specific-exceptions",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ ],
  "question_comments" : [ {
    "comment_id" : 140696618,
    "post_id" : 79720199,
    "body" : "Or create your own <code>MessageConverter</code> and handle the exceptions there.",
    "score" : 0,
    "owner" : {
      "account_id" : 5765894,
      "reputation" : 1055,
      "user_id" : 4550871,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/5e90fd0be6ca9ec256b51a072c4e7d8b?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Doug Grove",
      "link" : "https://stackoverflow.com/users/4550871/doug-grove"
    },
    "creation_date" : 1756314494,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140630984,
    "post_id" : 79720199,
    "body" : "I would say that there is no other option but to catch these exceptions in the JmsListener method",
    "score" : 0,
    "owner" : {
      "account_id" : 18586978,
      "reputation" : 3850,
      "user_id" : 15000097,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/yFl4M.jpg?s=256",
      "display_name" : "Georgii Lvov",
      "link" : "https://stackoverflow.com/users/15000097/georgii-lvov"
    },
    "creation_date" : 1753905899,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}