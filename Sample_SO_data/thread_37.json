{
  "question" : {
    "question_id" : 79840573,
    "title" : "To change default Signature1 in PDFBox",
    "body" : "<p>In PDFBox, I'd like to change the default Signature1. I've tried to change the field of  PDSignatureField by setting setPartialName, but will not affect to the signature name, still remaining Signature1. When I need to delete(<a href=\"https://stackoverflow.com/questions/47190189/does-pdfbox-allow-to-remove-one-field-from-acroform\">refer this url</a>), I use SignaturePerson1 for fullFieldName with method removeField(), but can't find/delete. If using Signature1, I can delete. Any help would be appreciated.</p>\n<p>The location I do for setting setPartialName with &quot;SignaturePerson1&quot;:</p>\n<pre><code>// create a template PDF document with empty signature and return it as a stream.\nprivate InputStream createVisualSignatureTemplate(PDDocument srcDoc, int pageNum, \n        PDRectangle rect, PDSignature signature) throws IOException\n{\n    try (PDDocument doc = new PDDocument())\n    {\n        PDPage page = new PDPage(srcDoc.getPage(pageNum).getMediaBox());\n        doc.addPage(page);\n        PDAcroForm acroForm = new PDAcroForm(doc);\n        doc.getDocumentCatalog().setAcroForm(acroForm);\n        PDSignatureField signatureField = new PDSignatureField(acroForm);\n        PDAnnotationWidget widget = signatureField.getWidgets().get(0);\n        List&lt;PDField&gt; acroFormFields = acroForm.getFields();\n        \n        signatureField.setPartialName(&quot;SignaturePerson1&quot;);\n\n        acroForm.setSignaturesExist(true);\n        acroForm.setAppendOnly(true);\n        acroForm.getCOSObject().setDirect(true);\n        acroFormFields.add(signatureField); ...\n</code></pre>\n",
    "tags" : [ "java", "pdfbox" ],
    "owner" : {
      "account_id" : 4354295,
      "reputation" : 119,
      "user_id" : 3553476,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/9dc0e0c9e139d9080201c5ea79761438?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "PeterL355",
      "link" : "https://stackoverflow.com/users/3553476/peterl355"
    },
    "is_answered" : true,
    "view_count" : 67,
    "answer_count" : 2,
    "score" : 2,
    "last_activity_date" : 1765269593,
    "creation_date" : 1765160874,
    "link" : "https://stackoverflow.com/questions/79840573/to-change-default-signature1-in-pdfbox",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79840824,
    "question_id" : 79840573,
    "body" : "<p>I ran into this exact same issue before. The reason setPartialName doesn't seem to change the visible name is because you are dealing with a signature field, which is actually a combination of a field dictionary (PDSignatureField) and a widget annotation dictionary.</p>\n<p>When you create a field with a full name (like A.B), PDFBox automatically generates a visible name (like Signature1) if you don't explicitly set the Alternate Name (T) key in the widget dictionary itself.</p>\n<p>In PDFBox, the method you likely need to override or modify is how the AcroForm or the Annotation handles the full name.</p>\n<p>A common pattern you might need to explore is setting the field's actual, full Qualified Name and/or the Alternate Name on the widget annotation. Look for methods on the underlying PDAnnotationWidget that allow you to set the /T (Alternate Name) entry in the PDF structure, as that's what many viewers display.</p>\n<p>This is definitely one of the trickiest parts of the PDF spec to deal with in PDFBox. Let us know if you find a pure PDFBox solution!</p>\n",
    "score" : 2,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 28444557,
      "reputation" : 21,
      "user_id" : 22039964,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/53cca870c30c6ea3e3d37fdc6d5f2424?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Awordy021",
      "link" : "https://stackoverflow.com/users/22039964/awordy021"
    },
    "creation_date" : 1765189168,
    "last_activity_date" : 1765189168,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "answer_id" : 79841693,
    "question_id" : 79840573,
    "body" : "<p>Do this immediately after the document.addSignature() call:</p>\n<pre><code>List&lt;PDSignatureField&gt; signatureFields = doc.getSignatureFields();\nPDSignatureField signatureField = signatureFields.get(signatureFields.size() - 1);\nsignatureField.setPartialName(&quot;Supersign1&quot;);\n</code></pre>\n<p>Now the field has the new name.</p>\n",
    "score" : 2,
    "is_accepted" : true,
    "owner" : {
      "account_id" : 255529,
      "reputation" : 19234,
      "user_id" : 535646,
      "user_type" : "registered",
      "accept_rate" : 40,
      "profile_image" : "https://i.sstatic.net/yGyps.jpg?s=256",
      "display_name" : "Tilman Hausherr",
      "link" : "https://stackoverflow.com/users/535646/tilman-hausherr"
    },
    "creation_date" : 1765269593,
    "last_activity_date" : 1765269593,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140893986,
    "post_id" : 79840573,
    "body" : "@mkl Yes! After moving after doc.addSignature(), it works. Thank you.",
    "score" : 0,
    "owner" : {
      "account_id" : 4354295,
      "reputation" : 119,
      "user_id" : 3553476,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/9dc0e0c9e139d9080201c5ea79761438?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "PeterL355",
      "link" : "https://stackoverflow.com/users/3553476/peterl355"
    },
    "creation_date" : 1765273373,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140893940,
    "post_id" : 79840573,
    "body" : "Sorry, indeed, just like @Tilman&#39;s answer implies, setting the name in the <code>createVisualSignatureTemplate</code> method does <i>not</i> work because only the <i>appearance</i>, not the other field attributes from that template are used when signing...",
    "score" : 0,
    "owner" : {
      "account_id" : 1916831,
      "reputation" : 97013,
      "user_id" : 1729265,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/VMMeP.jpg?s=256",
      "display_name" : "mkl",
      "link" : "https://stackoverflow.com/users/1729265/mkl"
    },
    "creation_date" : 1765271305,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140892794,
    "post_id" : 79840573,
    "body" : "This is before signing, <a href=\"https://drive.google.com/file/d/16ep5AKC0FHRhY-lNs2wTp6pUOgS0i9aG/view?usp=sharing\" rel=\"nofollow noreferrer\">drive.google.com/file/d/16ep5AKC0FHRhY-lNs2wTp6pUOgS0i9aG/&hellip;</a> and this one after signed, <a href=\"https://drive.google.com/file/d/1tmZZaPAbj_Qw95N0AyvG1Xqv8MEJkOhN/view?usp=sharing\" rel=\"nofollow noreferrer\">drive.google.com/file/d/1tmZZaPAbj_Qw95N0AyvG1Xqv8MEJkOhN/&hellip;</a>.  There&#39;s empty password setting in self-signed certificate.",
    "score" : 1,
    "owner" : {
      "account_id" : 4354295,
      "reputation" : 119,
      "user_id" : 3553476,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/9dc0e0c9e139d9080201c5ea79761438?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "PeterL355",
      "link" : "https://stackoverflow.com/users/3553476/peterl355"
    },
    "creation_date" : 1765207030,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140892583,
    "post_id" : 79840573,
    "body" : "<i>&quot;I edited and showed the location I set above.&quot;</i> - Ok, that should work. Thus, please share a PDF illustrating the issue both before and after signing.",
    "score" : 0,
    "owner" : {
      "account_id" : 1916831,
      "reputation" : 97013,
      "user_id" : 1729265,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/VMMeP.jpg?s=256",
      "display_name" : "mkl",
      "link" : "https://stackoverflow.com/users/1729265/mkl"
    },
    "creation_date" : 1765200572,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140892281,
    "post_id" : 79840573,
    "body" : "I edited and showed the location I set above. When I need to redo the signature(because of misplace or other), I&#39;d like to delete and sign again.",
    "score" : 0,
    "owner" : {
      "account_id" : 4354295,
      "reputation" : 119,
      "user_id" : 3553476,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/9dc0e0c9e139d9080201c5ea79761438?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "PeterL355",
      "link" : "https://stackoverflow.com/users/3553476/peterl355"
    },
    "creation_date" : 1765187325,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140892217,
    "post_id" : 79840573,
    "body" : "<i>&quot;This signature is signed with image.I use the pdxbox example, CreateVisibleSignature2.&quot;</i> - and where in that example did you <i>try to change the field of PDSignatureField by setting setPartialName</i>? And how does the <i>need to delete</i> relate to that?",
    "score" : 0,
    "owner" : {
      "account_id" : 1916831,
      "reputation" : 97013,
      "user_id" : 1729265,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/VMMeP.jpg?s=256",
      "display_name" : "mkl",
      "link" : "https://stackoverflow.com/users/1729265/mkl"
    },
    "creation_date" : 1765184112,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140892146,
    "post_id" : 79840573,
    "body" : "This signature is signed with image.I use the pdxbox example, CreateVisibleSignature2.",
    "score" : 1,
    "owner" : {
      "account_id" : 4354295,
      "reputation" : 119,
      "user_id" : 3553476,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/9dc0e0c9e139d9080201c5ea79761438?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "PeterL355",
      "link" : "https://stackoverflow.com/users/3553476/peterl355"
    },
    "creation_date" : 1765180769,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : {
    "79840824" : [ {
      "comment_id" : 140893950,
      "post_id" : 79840824,
      "body" : "If you (like @Peter) try to set the signature field name in <code>createVisualSignatureTemplate</code>, the reason why that doesn&#39;t see to change anything is that only the appearance is used from that template, not other signature field properties like its name.",
      "score" : 0,
      "owner" : {
        "account_id" : 1916831,
        "reputation" : 97013,
        "user_id" : 1729265,
        "user_type" : "registered",
        "profile_image" : "https://i.sstatic.net/VMMeP.jpg?s=256",
        "display_name" : "mkl",
        "link" : "https://stackoverflow.com/users/1729265/mkl"
      },
      "creation_date" : 1765271832,
      "content_license" : "CC BY-SA 4.0"
    }, {
      "comment_id" : 140893655,
      "post_id" : 79840824,
      "body" : "There&#39;s no any setter for Alternative Name or full Qualified Name.",
      "score" : 0,
      "owner" : {
        "account_id" : 4354295,
        "reputation" : 119,
        "user_id" : 3553476,
        "user_type" : "registered",
        "profile_image" : "https://www.gravatar.com/avatar/9dc0e0c9e139d9080201c5ea79761438?s=256&d=identicon&r=PG&f=y&so-version=2",
        "display_name" : "PeterL355",
        "link" : "https://stackoverflow.com/users/3553476/peterl355"
      },
      "creation_date" : 1765260361,
      "content_license" : "CC BY-SA 4.0"
    } ],
    "79841693" : [ {
      "comment_id" : 140894577,
      "post_id" : 79841693,
      "body" : "@mkl yes, but I don&#39;t know if this is really important enough. So many other things to do...",
      "score" : 0,
      "owner" : {
        "account_id" : 255529,
        "reputation" : 19234,
        "user_id" : 535646,
        "user_type" : "registered",
        "accept_rate" : 40,
        "profile_image" : "https://i.sstatic.net/yGyps.jpg?s=256",
        "display_name" : "Tilman Hausherr",
        "link" : "https://stackoverflow.com/users/535646/tilman-hausherr"
      },
      "creation_date" : 1765294459,
      "content_license" : "CC BY-SA 4.0"
    }, {
      "comment_id" : 140893972,
      "post_id" : 79841693,
      "body" : "Yes,  it works now, after placing doc.addSignature(signature, signatureInterface, signatureOptions);  I also can delete by referring the name with removeField(). Thank you.",
      "score" : 0,
      "owner" : {
        "account_id" : 4354295,
        "reputation" : 119,
        "user_id" : 3553476,
        "user_type" : "registered",
        "profile_image" : "https://www.gravatar.com/avatar/9dc0e0c9e139d9080201c5ea79761438?s=256&d=identicon&r=PG&f=y&so-version=2",
        "display_name" : "PeterL355",
        "link" : "https://stackoverflow.com/users/3553476/peterl355"
      },
      "creation_date" : 1765272768,
      "content_license" : "CC BY-SA 4.0"
    }, {
      "comment_id" : 140893947,
      "post_id" : 79841693,
      "body" : "Wouldn&#39;t it be a nice feature to be able to set the desired field name in the <code>SignatureOptions</code>?",
      "score" : 0,
      "owner" : {
        "account_id" : 1916831,
        "reputation" : 97013,
        "user_id" : 1729265,
        "user_type" : "registered",
        "profile_image" : "https://i.sstatic.net/VMMeP.jpg?s=256",
        "display_name" : "mkl",
        "link" : "https://stackoverflow.com/users/1729265/mkl"
      },
      "creation_date" : 1765271567,
      "content_license" : "CC BY-SA 4.0"
    } ]
  }
}