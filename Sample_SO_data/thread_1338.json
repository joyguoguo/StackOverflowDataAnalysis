{
  "question" : {
    "question_id" : 79717328,
    "title" : "Petstore Swagger UI is being loaded while springdoc openapi integration with SpringMVC (non boot) application",
    "body" : "<p>I am trying to integrate SpringDoc in my Spring MVC application (non SpringBoot), but every time I try to access the UI, its loading petstore swagger UI.\nI am using Spring webmvc 5.3.39 version and springdoc-openapi-ui-1.7.0, swagger-ui-4.18.2.\nI have added configuration classes like below:</p>\n<pre><code>@Configuration\n    public class OpenApiConfig {\n    \n        @Bean\n        public OpenAPI customOpenAPI() {\n            return new OpenAPI()\n                    .info(new Info().title(&quot;API Documentation&quot;).version(&quot;1.0&quot;)\n                            .description(&quot;API running under /integration context path&quot;));\n        }\n    }\n    \n    @Configuration\n    @EnableWebMvc\n    public class WebConfig implements WebMvcConfigurer {\n        @Override\n        public void addResourceHandlers(ResourceHandlerRegistry registry) {\n            registry.addResourceHandler(&quot;/swagger-ui/**&quot;)\n                    .addResourceLocations(&quot;classpath:/META-INF/resources/webjars/swagger-ui/4.18.2/&quot;);\n            \n            registry.addResourceHandler(&quot;/v3/api-docs/**&quot;)\n            .addResourceLocations(&quot;classpath:/META-INF/resources/v3/api-docs/&quot;);\n        }\n    }\n</code></pre>\n<p>Please suggest how to load my application controllers in swagger UI instead of petstore.</p>\n",
    "tags" : [ "java", "spring", "openapi", "swagger-ui", "springdoc" ],
    "owner" : {
      "account_id" : 12507324,
      "reputation" : 11,
      "user_id" : 9103773,
      "user_type" : "registered",
      "profile_image" : "https://lh4.googleusercontent.com/-2Q_wpjNsYcQ/AAAAAAAAAAI/AAAAAAAAAIQ/J8rczpEbcvU/s256-rj/photo.jpg",
      "display_name" : "Pratibha Tiwari",
      "link" : "https://stackoverflow.com/users/9103773/pratibha-tiwari"
    },
    "is_answered" : false,
    "view_count" : 70,
    "answer_count" : 1,
    "score" : 0,
    "last_activity_date" : 1753985596,
    "creation_date" : 1753705857,
    "link" : "https://stackoverflow.com/questions/79717328/petstore-swagger-ui-is-being-loaded-while-springdoc-openapi-integration-with-spr",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79721689,
    "question_id" : 79717328,
    "body" : "<p>Swagger UI frontend can't find your application's generated OpenAPI specification.</p>\n<p>Your <code>WebConfig</code> should only configure the resource handler for Swagger UI assets (html, css, js). Remove the resource handler for <code>/v3/api-docs/**</code>. This path must be handled by the <code>springdoc</code> library's internal controller, not served as a static resource from the classpath:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebMvc\npublic class WebConfig implements WebMvcConfigurer {\n    @Override\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\n        registry.addResourceHandler(&quot;/swagger-ui/**&quot;)\n                .addResourceLocations(&quot;classpath:/META-INF/resources/webjars/swagger-ui/4.18.2/&quot;);\n\n        // DO NOT add resource handler for /v3/api-docs/**\n    }\n}\n</code></pre>\n<p>In a non-Boot application you must manually import the necessary <code>springdoc</code> configuration beans that Spring Boot would normally auto-configure. You also need to tell Spring's component scanning where to find your API controllers. So create a central <code>springdoc</code> configuration by combine your <code>OpenApiConfig</code> with the necessary imports and component scanning into a single configuration class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@Import({\n    SpringDocWebMvcConfiguration.class,\n    SwaggerConfig.class\n})\n@ComponentScan(basePackages = { &quot;com.your.app.controllers&quot; }) \npublic class SpringDocConfig {\n\n    @Bean\n    public OpenAPI customOpenAPI() {\n        return new OpenAPI()\n            .info(new Info().title(&quot;API Documentation&quot;)\n            .version(&quot;1.0&quot;)\n            .description(&quot;API running under /integration context path&quot;));\n    }\n}\n</code></pre>\n<p>Finally make sure your Spring <code>DispatcherServlet</code> is loading your Java-based configuration classes (<code>WebConfig</code> and <code>SpringDocConfig</code>). If you're using <code>WebAppInitializer</code> it might look something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyWebAppInitializer extends AbstractAnnotationConfigDispatcherServletInitializer {\n\n    @Override\n    protected Class&lt;?&gt;[] getRootConfigClasses() {\n        return new Class&lt;?&gt;[] { SpringDocConfig.class };\n    }\n\n    @Override\n    protected Class&lt;?&gt;[] getServletConfigClasses() {\n        return new Class&lt;?&gt;[] { WebConfig.class };\n    }\n\n    @Override\n    protected String[] getServletMappings() {\n        return new String[] { &quot;/&quot; };\n    }\n}\n</code></pre>\n",
    "score" : 0,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 1207862,
      "reputation" : 4210,
      "user_id" : 1177031,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/79eaae35b3331731ecfb9e360bb8380b?s=256&d=identicon&r=PG",
      "display_name" : "kapandron",
      "link" : "https://stackoverflow.com/users/1177031/kapandron"
    },
    "creation_date" : 1753985596,
    "last_activity_date" : 1753985596,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ ],
  "answer_comments" : { }
}