{
  "question" : {
    "question_id" : 79555003,
    "title" : "How to configure language server to support JavaFX?",
    "body" : "<p>SOLUTION :\nmy bad it was a build.gradle problem, by removing <code>'org.javamodularity.moduleplugin'</code> version <code>1.8.12</code> from it, coc-java worked again !! But thank you all for your help !</p>\n<p>I am working with Neovim and use coc.nvim for autocompletion, diagnosises, etc.</p>\n<p>For Java, I am using coc-java and everything worked fine until I tried to code with JavaFX. coc.nvim doesn't recognize it :</p>\n<pre><code>package my.project.package;\n\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\npublic class Main extends Application {\n\n    @Override\n    public void start(Stage stage) throws IOException {\n        FXMLLoader fxmlLoader = new FXMLLoader(Main.class.getResource(&quot;welcome.fxml&quot;));\n        Scene scene = new Scene(fxmlLoader.load(), 1000, 1000);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n<p>In my editor, hovering any import from <code>javafx</code> display the error <code>The type javafx.package.Module is not accessible (Java 16778666)</code>  (same thing for anything related to these imports of course). However, this program works fine when I execute it.</p>\n<p>So I have tried to change  my language server parameters, here is my <code>coc-settings.json</code> :</p>\n<pre><code>{\n    &quot;java.home&quot;: &quot;/home/yayel4289/.jdks/jdk-20.0.2&quot;,\n    &quot;java.jdt.ls.vmargs&quot;: &quot;-Xmx1G -XX:+UseG1GC --module-path=/usr/share/openjfx/lib --add-modules=javafx.controls,javafx.fxml,javafx.base,javafx.graphics,javafx.media&quot;,\n    &quot;java.project.referencedLibraries&quot;: [\n        &quot;/usr/share/openjfx/lib/*.jar&quot;\n    ],\n    &quot;java.trace.server&quot;: &quot;verbose&quot;,\n}\n</code></pre>\n<p>I also have logs in <code>~/.config/coc/extensions/coc-java-data</code>, it is too heavy to put it here but would it help in any way?</p>\n",
    "tags" : [ "java", "javafx", "neovim", "neovim-plugin", "coc.nvim" ],
    "owner" : {
      "account_id" : 41187722,
      "reputation" : 31,
      "user_id" : 30166084,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/y68cf20w.jpg?s=256",
      "display_name" : "Ya&#235;l Wawrzyniak",
      "link" : "https://stackoverflow.com/users/30166084/ya%c3%abl-wawrzyniak"
    },
    "is_answered" : false,
    "view_count" : 137,
    "answer_count" : 0,
    "score" : 3,
    "last_activity_date" : 1743955732,
    "creation_date" : 1743760588,
    "link" : "https://stackoverflow.com/questions/79555003/how-to-configure-language-server-to-support-javafx",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ ],
  "question_comments" : [ {
    "comment_id" : 140306114,
    "post_id" : 79555003,
    "body" : "Maybe when it <a href=\"https://github.com/bcampolo/nvim-starter-kit/blob/java/.config/nvim/ftplugin/java.lua#L43\" rel=\"nofollow noreferrer\">starts the language server it needs to add and open the JavaFX modules</a>, I donâ€™t know though as this is not my area of expertise.",
    "score" : 0,
    "owner" : {
      "account_id" : 1180113,
      "reputation" : 160457,
      "user_id" : 1155209,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/5192e7cbcf2f72a847d6fb0d1552f049?s=256&d=identicon&r=PG",
      "display_name" : "jewelsea",
      "link" : "https://stackoverflow.com/users/1155209/jewelsea"
    },
    "creation_date" : 1743991347,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140306108,
    "post_id" : 79555003,
    "body" : "There are versions of the JDK that include JavaFX, like <a href=\"https://www.azul.com/downloads/?package=jdk-fx#zulu\" rel=\"nofollow noreferrer\">azul jfk fx</a> or liberica full jdk.  Maybe try one of those.",
    "score" : 0,
    "owner" : {
      "account_id" : 1180113,
      "reputation" : 160457,
      "user_id" : 1155209,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/5192e7cbcf2f72a847d6fb0d1552f049?s=256&d=identicon&r=PG",
      "display_name" : "jewelsea",
      "link" : "https://stackoverflow.com/users/1155209/jewelsea"
    },
    "creation_date" : 1743990714,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140302308,
    "post_id" : 79555003,
    "body" : "@Slaw Yes coc-java recognizes everything else (like <code>List</code>, <code>Junit</code>, ...) but not JavaFX, I believe it is because it&#39;s not in the &#39;base&#39; dependencies. So to answer your last quesiton : only JavaFX have this problem. However, after deleting <code>~&#47;.config&#47;coc&#47;extensions&#47;coc-java-data</code>, coc-java now recognize classes like <code>Scene</code>, <code>Stage</code>, etc (there is a description and it is in the autocompletion buffer) but it still in red and coc-java doesn&#39;t recognize any method or attributes these objects can have (like getStyleSheets(), ...)",
    "score" : 1,
    "owner" : {
      "account_id" : 41187722,
      "reputation" : 31,
      "user_id" : 30166084,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/y68cf20w.jpg?s=256",
      "display_name" : "Ya&#235;l Wawrzyniak",
      "link" : "https://stackoverflow.com/users/30166084/ya%c3%abl-wawrzyniak"
    },
    "creation_date" : 1743855420,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140301302,
    "post_id" : 79555003,
    "body" : "@jewelsea Agreed. I&#39;m just wondering if the language server (I assume <a href=\"https://en.wikipedia.org/wiki/Language_Server_Protocol\" rel=\"nofollow noreferrer\">LSP</a>) being used by neovim is simply not picking up <i>any</i> configured dependencies, or if only JavaFX is causing problems for some reason.",
    "score" : 0,
    "owner" : {
      "account_id" : 8532578,
      "reputation" : 49884,
      "user_id" : 6395627,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/af0f9bfe593f36642a032cd7ea611e7d?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Slaw",
      "link" : "https://stackoverflow.com/users/6395627/slaw"
    },
    "creation_date" : 1743807714,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140301284,
    "post_id" : 79555003,
    "body" : "@Slaw, I think neovim is being used by the poster as a code-aware (node. js?) based editor to write code in as a lightweight IDE-type thing.  I&#39;m not sure why it would need to know much about JavaFX at all (maybe code completion or something like that).  I&#39;d recommend the usage of a proven IDE for Java development instead (such as one of those documented for usage at openjfx.io), as it would be easier to get assistance with that.  But I guess there may be some benefits for a limited, lightweight development environment for some purposes.",
    "score" : 0,
    "owner" : {
      "account_id" : 1180113,
      "reputation" : 160457,
      "user_id" : 1155209,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/5192e7cbcf2f72a847d6fb0d1552f049?s=256&d=identicon&r=PG",
      "display_name" : "jewelsea",
      "link" : "https://stackoverflow.com/users/1155209/jewelsea"
    },
    "creation_date" : 1743807029,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140301102,
    "post_id" : 79555003,
    "body" : "Does neovim recognize other, non-JavaFX dependencies?",
    "score" : 0,
    "owner" : {
      "account_id" : 8532578,
      "reputation" : 49884,
      "user_id" : 6395627,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/af0f9bfe593f36642a032cd7ea611e7d?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Slaw",
      "link" : "https://stackoverflow.com/users/6395627/slaw"
    },
    "creation_date" : 1743800453,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140300618,
    "post_id" : 79555003,
    "body" : "Ok thank you anyway, I&#39;ll wait for someone else thx. Could you at least upvote it so it has more chance to be seen by the others ?",
    "score" : 0,
    "owner" : {
      "account_id" : 41187722,
      "reputation" : 31,
      "user_id" : 30166084,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/y68cf20w.jpg?s=256",
      "display_name" : "Ya&#235;l Wawrzyniak",
      "link" : "https://stackoverflow.com/users/30166084/ya%c3%abl-wawrzyniak"
    },
    "creation_date" : 1743790644,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140300600,
    "post_id" : 79555003,
    "body" : "Yes, it is better.  As I understand it, your issue is with how to get JavaFX imports recognized by an editor you are using (neovim).  I don&#39;t know neovim though, so cannot help you.  Getting started instructions for JavaFX are at <a href=\"https://openjfx.io/openjfx-docs/\" rel=\"nofollow noreferrer\">openjfx.io</a>, but that don&#39;t cover neovim.",
    "score" : 0,
    "owner" : {
      "account_id" : 1180113,
      "reputation" : 160457,
      "user_id" : 1155209,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/5192e7cbcf2f72a847d6fb0d1552f049?s=256&d=identicon&r=PG",
      "display_name" : "jewelsea",
      "link" : "https://stackoverflow.com/users/1155209/jewelsea"
    },
    "creation_date" : 1743790385,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140300459,
    "post_id" : 79555003,
    "body" : "Thank you for your answer jewelsea, I just edited my message, is it better ? I really appreciate your help",
    "score" : 0,
    "owner" : {
      "account_id" : 41187722,
      "reputation" : 31,
      "user_id" : 30166084,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/y68cf20w.jpg?s=256",
      "display_name" : "Ya&#235;l Wawrzyniak",
      "link" : "https://stackoverflow.com/users/30166084/ya%c3%abl-wawrzyniak"
    },
    "creation_date" : 1743787717,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140300321,
    "post_id" : 79555003,
    "body" : "<i>&quot;coc.nvim doesn&#39;t recognize it&quot;</i> -&gt; there is not enough info here to understand what went wrong or assist you.  For debugging help you will need to supply a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> -&gt; a small program (formatted as code in the question) including everything needed to replicate the issue via copy-and-paste with instructions detailed enough that somebody could replicate the problem.",
    "score" : 1,
    "owner" : {
      "account_id" : 1180113,
      "reputation" : 160457,
      "user_id" : 1155209,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/5192e7cbcf2f72a847d6fb0d1552f049?s=256&d=identicon&r=PG",
      "display_name" : "jewelsea",
      "link" : "https://stackoverflow.com/users/1155209/jewelsea"
    },
    "creation_date" : 1743785445,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}