{
  "question" : {
    "question_id" : 79678041,
    "title" : "Recording and reusing an AWS JSON response",
    "body" : "<p>I'm trying to use an existing AWS JSON response to do exploratory tests with so I don't use resources I don't have permissions for. My company has strict AWS permissions although someone has given me an example response to try the SDK with.</p>\n<p>My question is, can I use this response JSON to replicate an AWS response object? I have been able to create an <code>software.amazon.awssdk.awscore.AwsResponse</code> object with the correct fields, although all the fields themselves are null. Am I missing a step in the build process? Is there a way to deserialize the response without building a custom deserializer?</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.File;\nimport java.io.FileInputStream;\n\nimport software.amazon.awssdk.http.AbortableInputStream;\nimport software.amazon.awssdk.http.SdkHttpResponse;\nimport software.amazon.awssdk.services.textract.model.GetDocumentAnalysisResponse; // Can reasonably be any AwsResponse\nimport software.amazon.awssdk.awscore.AwsResponse;\n\nFileInputStream jsonBody = new FileInputStream(new File(&quot;media\\\\analyzeDocResponse.json&quot;));\nAbortableInputStream bodyStream = AbortableInputStream.create(jsonBody);\nSdkHttpResponse httpResponse = SdkHttpResponse.builder().content(bodyStream).build();\nGetDocumentAnalysisResponse response = (GetDocumentAnalysisResponse)GetDocumentAnalysisResponse.builder()\n        .sdkHttpResponse(httpResponse)\n        .build();\nassertTrue(response.sdkFields().stream().anyMatch(field -&gt; field.memberName() == &quot;JobStatus&quot;)); // -&gt; Passes\nassertNotNull(response.jobStatus()); // -&gt; Fails\n</code></pre>\n<p>For the time being I'm using Jackson and a custom deserializer, but it's labor intensive with all the fields/subclasses and pretty hacky, and doesn't generalize to other <code>AwsResponse</code> objects. I've tried also looking into the <code>software.amazon.awssdk.services.textract.model.GetDocumentAnalysisResponse.serializableBuilderClass()</code> method, but have not been able to figure out how to use it.</p>\n",
    "tags" : [ "java", "amazon-web-services", "jackson", "jackson-databind", "aws-sdk-java-2.0" ],
    "owner" : {
      "account_id" : 18048321,
      "reputation" : 83,
      "user_id" : 13118680,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/5f245b035cb9e7e371ccf606e1776bca?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "DPS100",
      "link" : "https://stackoverflow.com/users/13118680/dps100"
    },
    "is_answered" : false,
    "view_count" : 93,
    "answer_count" : 0,
    "score" : 0,
    "last_activity_date" : 1750796979,
    "creation_date" : 1750788898,
    "link" : "https://stackoverflow.com/questions/79678041/recording-and-reusing-an-aws-json-response",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ ],
  "question_comments" : [ {
    "comment_id" : 140539817,
    "post_id" : 79678041,
    "body" : "Is your goal mainly to work with the response data structure itself for local testing and validation? Depending on that, the approach might differ",
    "score" : 0,
    "owner" : {
      "account_id" : 9674314,
      "reputation" : 29,
      "user_id" : 7178290,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/6e5d3cafa70622551425dc7e4adaf3ce?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Rackymuthu",
      "link" : "https://stackoverflow.com/users/7178290/rackymuthu"
    },
    "creation_date" : 1750813186,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}