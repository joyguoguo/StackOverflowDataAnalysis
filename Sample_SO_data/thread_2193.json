{
  "question" : {
    "question_id" : 79639412,
    "title" : "Trying to print second last word but output shows only &quot;L&quot;. What&#39;s wrong with my Java code?",
    "body" : "<p>A program that prints the second last word of a sentence.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class secToLast{\n    public static void main(String args[]){\n        String gg = &quot;I love India&quot;;\n        int len = gg.length();\n        char[] word = new char[25];\n        for(int i = len-1 ; i&gt;=0; i--){ \n            if(gg.charAt(i)==' '){\n                int j = i-1;       \n// &gt; trying to store the word in array\n                while(j&gt;=0 &amp;&amp; gg.charAt(j) != ' '){\n                    int k = 0;\n                    word[k] = gg.charAt(j);\n                    j = j-1;\n                    k = k+1;\n                }\n                break;\n            }\n        }\n        int wlen = word.length;\n        for(int p = wlen-1; p&gt;=0; p--){      //printing the word array in reverse\n            System.out.print(word[p]);\n        }\n    \n    }\n}\n</code></pre>\n<p>the output should have been 'love' and I think something is wrong with my loop indices.\nIf I had to guess, I think I have to use another break statement somewhere, I just need help in putting it in right place.</p>\n",
    "tags" : [ "java", "loops", "if-statement", "debugging", "console-application" ],
    "owner" : {
      "account_id" : 21603855,
      "reputation" : 29,
      "user_id" : 16542732,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/5aef3582682f7969d4b1fce16d12e84d?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Aditya Sahu",
      "link" : "https://stackoverflow.com/users/16542732/aditya-sahu"
    },
    "is_answered" : true,
    "view_count" : 172,
    "closed_date" : 1748370979,
    "answer_count" : 3,
    "score" : 1,
    "last_activity_date" : 1748325384,
    "creation_date" : 1748283164,
    "link" : "https://stackoverflow.com/questions/79639412/trying-to-print-second-last-word-but-output-shows-only-l-whats-wrong-with-my",
    "closed_reason" : "Not suitable for this site"
  },
  "answers" : [ {
    "answer_id" : 79639475,
    "question_id" : 79639412,
    "body" : "<p>I answer your direct question, “What’s wrong with my Java code?” and suggest a fix. The fix will be described in prose only since you learn more from fixing the concrete Java code yourself.</p>\n<p>There are two things wrong with your code:</p>\n<ol>\n<li>Most importantly, in your innermost loop, the <code>while</code> loop, you are setting <code>k</code> to 0 and then saving the current letter into index <code>k</code> of <code>word</code>, that is, in index 0. So you are always overwriting the same array element. With the letters <code>e</code>, <code>v</code>, <code>o</code> and <code>l</code> in order. So the final value is <code>l</code>.</li>\n<li>When printing the result you are using the length of the array, so 25 regardless of the length of the word you have found. Since a char array is initialized to hold <code>\\0</code> characters, 24 of these are printed before the <code>l</code>.</li>\n</ol>\n<p>I am assuming that <code>k</code> was meant to be the number of letters in the word. Really, you need better variable names, like <code>wordLength</code> or <code>letterCount</code>. Staying with the name <code>k</code> for now I suggest that you should declare and initialize <code>k</code> before your first <code>for</code> loop. Then when you increment <code>k</code> in the inner loop (which you already do), the letters will be stored into consecutive array elements. Why I suggest you declare <code>k</code> already before <code>for</code> is then you still have it when printing so instead of printing the entire <code>word</code> array you can print only <code>k</code> elements of it (em dash deleted since it seems to have offended some) the word found.</p>\n<p>Another tip, <a href=\"https://stackoverflow.com/questions/25385173/what-is-a-debugger-and-how-can-it-help-me-diagnose-problems\">learn to use a debugger</a>.</p>\n",
    "score" : 3,
    "is_accepted" : true,
    "owner" : {
      "account_id" : 42208555,
      "reputation" : 56,
      "user_id" : 30642155,
      "user_type" : "unregistered",
      "profile_image" : "https://www.gravatar.com/avatar/00c9ca4b7555509adb12bc60bad4b025?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Tapuarii Horvat",
      "link" : "https://stackoverflow.com/users/30642155/tapuarii-horvat"
    },
    "creation_date" : 1748287182,
    "last_activity_date" : 1748312342,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "answer_id" : 79639874,
    "question_id" : 79639412,
    "body" : "<p>The code contains a logical error that prevents it from correctly extracting and printing the word :</p>\n<ol>\n<li><p>​<strong>​Incorrect initialization of <code>k</code>:​</strong>​<br />\nThe declaration <code>int k = 0;</code> is placed ​<strong>​inside the inner while loop​</strong>​, which causes <code>k</code> to be reset to 0 on each iteration. As a result, <code>word[k]</code> always overwrites the first position of the array (<code>k=0</code>), leaving the <code>word</code> array with only the last character ('a', the final letter of &quot;India&quot;).</p>\n</li>\n<li><p>​<strong>​Improper handling of array length:​</strong>​<br />\nWhen printing, <code>word.length</code> (fixed at 25) is used as the loop range, but the <code>word</code> array only has its first few positions assigned valid characters. The remaining positions retain their default values (<code>'\\0'</code>, null characters), leading to output cluttered with unintended null characters.</p>\n</li>\n</ol>\n<p>Fix:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String args[]){\n    String gg = &quot;I love India&quot;;\n    int len = gg.length();\n    char[] word = new char[25];\n    // Initialize variable k outside the loop\n    int k = 0;\n    for(int i = len-1 ; i&gt;=0; i--){\n        if(gg.charAt(i)==' '){\n            int j = i-1;\n            while(j&gt;=0 &amp;&amp; gg.charAt(j) != ' '){\n                // int k = 0;\n                word[k] = gg.charAt(j);\n                j = j-1;\n                k = k+1;\n            }\n            break;\n        }\n    }\n    // int wlen = word.length;\n    // iterate through k\n    for(int p = k-1; p&gt;=0; p--){\n        System.out.print(word[p]);\n    }\n}\n</code></pre>\n",
    "score" : 1,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 40671356,
      "reputation" : 36,
      "user_id" : 29894882,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/025595e9d60c7e61edad42bc030ee4e7?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "natsumm",
      "link" : "https://stackoverflow.com/users/29894882/natsumm"
    },
    "creation_date" : 1748325047,
    "last_activity_date" : 1748325047,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "answer_id" : 79639877,
    "question_id" : 79639412,
    "body" : "<p>Let's see how to make your method work:</p>\n<pre><code>\nvoid showPenultimate() {\n   String gg = &quot;I love India&quot;;\n   int len = gg.length();\n\n     // only the necessary size \n   char[] word = new char[ len ];\n\n     // “find” lets us know when we are iterating over the target.\n   boolean find = false;\n\n     // to place the found letters in the first positions of the array\n   int position = 0;\n   for( int i = len - 1; true; i -- ) {\n      char aux = gg.charAt( i );\n\n        // if we have already found the first space, **find** will be *true* so we enter \n        // the *if*, inside it, as long as **aux** does not have a space again, we will \n        // keep the letters in **word**, until we leave the *for*.\n      if( find ) {\n         if( aux == ' ' ) {\n            break;\n         }\n         word[ position ++ ] = aux;\n      }\n\n        // when it encounters a space for the first time, it will enter \n        // this *else* by passing **find** to *true*.\n      else if( aux == ' ' ) {\n         find = true;\n      }\n   }\n   for( int i = position; i &gt;= 0; i -- ) {  // printing the array in reverse\n      System.out.print( word[ i ] );\n   }\n}\n</code></pre>\n<p>We can optimize the method, looking for the positions of the spaces before and after the target word with the <strong>indexOf()</strong> method, and then iterate only on those values:</p>\n<pre><code>\nvoid showPenultimate() {\n   String gg = &quot;I love India&quot;;\n\n   int len = gg.length();\n   int lastSpace = gg.lastIndexOf( &quot; &quot; );\n   int penultimateSpace = gg.lastIndexOf( &quot; &quot;, lastSpace - 1 );\n\n     // instantiate the array with the appropriate size\n   char[] word = new char[ lastSpace - penultimateSpace - 1 ];\n\n   int position = 0;\n   for( int i = penultimateSpace + 1; i &lt; lastSpace; i ++ ) {\n\n        // given that the array has the right size, and we iterate over the \n        // target string, we just have to assign the values\n      word[ position++ ] = gg.charAt( i );\n   }\n   for( int i = 0; i &lt; word.length; i ++ ) {  // printing the array\n      System.out.print( word[ i ] );\n   }\n}\n</code></pre>\n",
    "score" : 0,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 10843443,
      "reputation" : 916,
      "user_id" : 20882864,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/CCQCy.jpg?s=256",
      "display_name" : "Marce Puente",
      "link" : "https://stackoverflow.com/users/20882864/marce-puente"
    },
    "creation_date" : 1748325384,
    "last_activity_date" : 1748325384,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140460590,
    "post_id" : 79639412,
    "body" : "This seems like a lot of code, and a lot of copying. I would use <code>String.split</code> instead. <code>String[] words = gg.split(&quot;\\\\s+&quot;); int p = Math.max(0, words.length - 2); System.out.println(words[p]);</code>",
    "score" : 0,
    "owner" : {
      "account_id" : 3557625,
      "reputation" : 201916,
      "user_id" : 2970947,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/HLTev.png?s=256",
      "display_name" : "Elliott Frisch",
      "link" : "https://stackoverflow.com/users/2970947/elliott-frisch"
    },
    "creation_date" : 1748287348,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140460565,
    "post_id" : 79639412,
    "body" : "Why not simply use <code>indexOf()</code> and <code>lastIndexOf()</code> functions, or put that same abstraction into your code, by creating a seconds method by that name?",
    "score" : 1,
    "owner" : {
      "account_id" : 2182934,
      "reputation" : 2660,
      "user_id" : 1932011,
      "user_type" : "registered",
      "accept_rate" : 71,
      "profile_image" : "https://www.gravatar.com/avatar/612163480a1ccb4785fd647a003eefbb?s=256&d=identicon&r=PG",
      "display_name" : "JayC667",
      "link" : "https://stackoverflow.com/users/1932011/jayc667"
    },
    "creation_date" : 1748286749,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140460558,
    "post_id" : 79639412,
    "body" : "I cannot reproduce exactly. The output I get is `                        l` with a lot of unprintable chars before the <code>l</code>.",
    "score" : 0,
    "owner" : {
      "account_id" : 7612423,
      "reputation" : 87400,
      "user_id" : 5772882,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/8283c64511fa80afed5259d10850168f?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Anonymous",
      "link" : "https://stackoverflow.com/users/5772882/anonymous"
    },
    "creation_date" : 1748286623,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : {
    "79639475" : [ {
      "comment_id" : 140461130,
      "post_id" : 79639475,
      "body" : "In case anyone was wondering, I used no AI whatsoever for writing this answer.",
      "score" : 0,
      "owner" : {
        "account_id" : 42208555,
        "reputation" : 56,
        "user_id" : 30642155,
        "user_type" : "unregistered",
        "profile_image" : "https://www.gravatar.com/avatar/00c9ca4b7555509adb12bc60bad4b025?s=256&d=identicon&r=PG&f=y&so-version=2",
        "display_name" : "Tapuarii Horvat",
        "link" : "https://stackoverflow.com/users/30642155/tapuarii-horvat"
      },
      "creation_date" : 1748312158,
      "content_license" : "CC BY-SA 4.0"
    } ],
    "79639874" : [ {
      "comment_id" : 140461725,
      "post_id" : 79639874,
      "body" : "(Repeating what someone else has said is fine. Giving them the credit for having said it first would be polite.)",
      "score" : 0,
      "owner" : {
        "account_id" : 7612423,
        "reputation" : 87400,
        "user_id" : 5772882,
        "user_type" : "registered",
        "profile_image" : "https://www.gravatar.com/avatar/8283c64511fa80afed5259d10850168f?s=256&d=identicon&r=PG&f=y&so-version=2",
        "display_name" : "Anonymous",
        "link" : "https://stackoverflow.com/users/5772882/anonymous"
      },
      "creation_date" : 1748334031,
      "content_license" : "CC BY-SA 4.0"
    }, {
      "comment_id" : 140461440,
      "post_id" : 79639874,
      "body" : "Is this different from what Tapuarii Horvat already said? Except you are also giving the fix in code, which is a bit too much spoon-feeding for my taste. As Tapuarii also said, the OP learns more from fixing their code themself.",
      "score" : 0,
      "owner" : {
        "account_id" : 7612423,
        "reputation" : 87400,
        "user_id" : 5772882,
        "user_type" : "registered",
        "profile_image" : "https://www.gravatar.com/avatar/8283c64511fa80afed5259d10850168f?s=256&d=identicon&r=PG&f=y&so-version=2",
        "display_name" : "Anonymous",
        "link" : "https://stackoverflow.com/users/5772882/anonymous"
      },
      "creation_date" : 1748327984,
      "content_license" : "CC BY-SA 4.0"
    } ]
  }
}