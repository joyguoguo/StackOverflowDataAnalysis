{
  "question" : {
    "question_id" : 79693844,
    "title" : "How to configure ObjectMapper to deserialize java.sql.Timestamp?",
    "body" : "<p>I am facing an issue with configuring the Jackson <code>ObjectMapper</code> to deserialize <code>java.sql.Timestamp</code>.\nIn particular, the issue is that deserialization with a mapper that was initialized via <code>ObjectMapper mapper = new ObjectMapper()</code> works, while using a globally registered one that is dependency injected by spring does not. I do not know how the global one is declared, which makes it hard to debug which setting exactly makes it not work.</p>\n<p>So my question is basically what <code>ObjectMapper</code> configurations/modules are exactly required to deserialize <code>java.sql.Timestamp</code>?\nNote that I <strong>do not want to define any (field specific format) annotations on <code>MyClass</code></strong>!</p>\n<h3>Class to deserialize</h3>\n<pre class=\"lang-java prettyprint-override\"><code>import java.sql.Timestamp;\n\npublic class MyClass {\n  private Timestamp startTime;\n}\n</code></pre>\n<h3>Json</h3>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;startTime&quot;:&quot;2025-07-08T09:29:54.000+0000&quot;\n}\n</code></pre>\n<h3>Test case</h3>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest\npublic class DeserializationTest {\n\n    @Autowired\n    ObjectMapper injectedMapper;\n\n    @Test\n    public void foo() throws JsonMappingException, JsonProcessingException {\n        ObjectMapper localMapper = new ObjectMapper();\n        String json = &quot;{\\&quot;startTime\\&quot;:\\&quot;2025-07-08T09:29:54.000+0000\\&quot;}&quot;;\n\n        localMapper.readValue(json, MyClass.class);    // this works\n        injectedMapper.readValue(json, MyClass.class); // this fails with InvalidFormat\n\n        assertTrue(true);\n    }\n}\n</code></pre>\n<p>The <code>injectedMapper.readValue(...)</code> invocation fails with <code>InvalidFormat Cannot deserialize value of type 'java.lang.Long' from String &quot;2025-07-08T09:29:54.000+0000&quot;: not a valid 'java.lang.Long' value</code></p>\n<p>I know there are already a couple of questions in this direction, but the answers typically recommend annotations on the class that should be deserialized or have custom timestamp formats. I am looking for a configuration on the ObjectMapper definition instead.</p>\n<p><strong>Edit:</strong>\nI also don't want to register custom deserializers, since the fact that <code>new ObjectMapper().readValue(...)</code> successfully deserializes the json tells me that there must be out-of-the-box configuration that makes this work without anything custom</p>\n<p><strong>Edit2:</strong>\nComparison of ObjectMapper settings:\n<code>new ObjectMapper()</code></p>\n<pre><code>Modules:\n    -none-\n\nSerialization Features:\n    WRAP_ROOT_VALUE -&gt; false\n    INDENT_OUTPUT -&gt; false\n    FAIL_ON_EMPTY_BEANS -&gt; true (enabled by default)\n    FAIL_ON_SELF_REFERENCES -&gt; true (enabled by default)\n    WRAP_EXCEPTIONS -&gt; true (enabled by default)\n    FAIL_ON_UNWRAPPED_TYPE_IDENTIFIERS -&gt; true (enabled by default)\n    WRITE_SELF_REFERENCES_AS_NULL -&gt; false\n    CLOSE_CLOSEABLE -&gt; false\n    FLUSH_AFTER_WRITE_VALUE -&gt; true (enabled by default)\n    WRITE_DATES_AS_TIMESTAMPS -&gt; true (enabled by default)\n    WRITE_DATE_KEYS_AS_TIMESTAMPS -&gt; false\n    WRITE_DATES_WITH_ZONE_ID -&gt; false\n    WRITE_DATES_WITH_CONTEXT_TIME_ZONE -&gt; true (enabled by default)\n    WRITE_DURATIONS_AS_TIMESTAMPS -&gt; true (enabled by default)\n    WRITE_CHAR_ARRAYS_AS_JSON_ARRAYS -&gt; false\n    WRITE_ENUMS_USING_TO_STRING -&gt; false\n    WRITE_ENUMS_USING_INDEX -&gt; false\n    WRITE_ENUM_KEYS_USING_INDEX -&gt; false\n    WRITE_NULL_MAP_VALUES -&gt; true (enabled by default)\n    WRITE_EMPTY_JSON_ARRAYS -&gt; true (enabled by default)\n    WRITE_SINGLE_ELEM_ARRAYS_UNWRAPPED -&gt; false\n    WRITE_BIGDECIMAL_AS_PLAIN -&gt; false\n    WRITE_DATE_TIMESTAMPS_AS_NANOSECONDS -&gt; true (enabled by default)\n    ORDER_MAP_ENTRIES_BY_KEYS -&gt; false\n    EAGER_SERIALIZER_FETCH -&gt; true (enabled by default)\n    USE_EQUALITY_FOR_OBJECT_ID -&gt; false\n\nDeserialization Features:\n    USE_BIG_DECIMAL_FOR_FLOATS -&gt; false\n    USE_BIG_INTEGER_FOR_INTS -&gt; false\n    USE_LONG_FOR_INTS -&gt; false\n    USE_JAVA_ARRAY_FOR_JSON_ARRAY -&gt; false\n    FAIL_ON_UNKNOWN_PROPERTIES -&gt; true (enabled by default)\n    FAIL_ON_NULL_FOR_PRIMITIVES -&gt; false\n    FAIL_ON_NUMBERS_FOR_ENUMS -&gt; false\n    FAIL_ON_INVALID_SUBTYPE -&gt; true (enabled by default)\n    FAIL_ON_READING_DUP_TREE_KEY -&gt; false\n    FAIL_ON_IGNORED_PROPERTIES -&gt; false\n    FAIL_ON_UNRESOLVED_OBJECT_IDS -&gt; true (enabled by default)\n    FAIL_ON_MISSING_CREATOR_PROPERTIES -&gt; false\n    FAIL_ON_NULL_CREATOR_PROPERTIES -&gt; false\n    FAIL_ON_MISSING_EXTERNAL_TYPE_ID_PROPERTY -&gt; true (enabled by default)\n    FAIL_ON_TRAILING_TOKENS -&gt; false\n    WRAP_EXCEPTIONS -&gt; true (enabled by default)\n    ACCEPT_SINGLE_VALUE_AS_ARRAY -&gt; false\n    UNWRAP_SINGLE_VALUE_ARRAYS -&gt; false\n    UNWRAP_ROOT_VALUE -&gt; false\n    ACCEPT_EMPTY_STRING_AS_NULL_OBJECT -&gt; false\n    ACCEPT_EMPTY_ARRAY_AS_NULL_OBJECT -&gt; false\n    ACCEPT_FLOAT_AS_INT -&gt; true (enabled by default)\n    READ_ENUMS_USING_TO_STRING -&gt; false\n    READ_UNKNOWN_ENUM_VALUES_AS_NULL -&gt; false\n    READ_UNKNOWN_ENUM_VALUES_USING_DEFAULT_VALUE -&gt; false\n    READ_DATE_TIMESTAMPS_AS_NANOSECONDS -&gt; true (enabled by default)\n    ADJUST_DATES_TO_CONTEXT_TIME_ZONE -&gt; true (enabled by default)\n    EAGER_DESERIALIZER_FETCH -&gt; true (enabled by default)\n</code></pre>\n<p>Autowired one:</p>\n<pre><code>Modules:\n  com.fasterxml.jackson.datatype.jdk8.Jdk8Module\n  jackson-datatype-jsr310\n  jackson-module-kotlin\n  jackson-module-parameter-names\n  org.springframework.boot.jackson.JsonComponentModule\n  Spring Data Geo Mixins\n\nSerialization Features:\n    WRAP_ROOT_VALUE -&gt; false\n    INDENT_OUTPUT -&gt; false\n    FAIL_ON_EMPTY_BEANS -&gt; true (enabled by default)\n    FAIL_ON_SELF_REFERENCES -&gt; true (enabled by default)\n    WRAP_EXCEPTIONS -&gt; true (enabled by default)\n    FAIL_ON_UNWRAPPED_TYPE_IDENTIFIERS -&gt; true (enabled by default)\n    WRITE_SELF_REFERENCES_AS_NULL -&gt; false\n    CLOSE_CLOSEABLE -&gt; false\n    FLUSH_AFTER_WRITE_VALUE -&gt; true (enabled by default)\n    WRITE_DATES_AS_TIMESTAMPS -&gt; false (enabled by default)\n    WRITE_DATE_KEYS_AS_TIMESTAMPS -&gt; false\n    WRITE_DATES_WITH_ZONE_ID -&gt; false\n    WRITE_DATES_WITH_CONTEXT_TIME_ZONE -&gt; true (enabled by default)\n    WRITE_DURATIONS_AS_TIMESTAMPS -&gt; false (enabled by default)\n    WRITE_CHAR_ARRAYS_AS_JSON_ARRAYS -&gt; false\n    WRITE_ENUMS_USING_TO_STRING -&gt; false\n    WRITE_ENUMS_USING_INDEX -&gt; false\n    WRITE_ENUM_KEYS_USING_INDEX -&gt; false\n    WRITE_NULL_MAP_VALUES -&gt; true (enabled by default)\n    WRITE_EMPTY_JSON_ARRAYS -&gt; true (enabled by default)\n    WRITE_SINGLE_ELEM_ARRAYS_UNWRAPPED -&gt; false\n    WRITE_BIGDECIMAL_AS_PLAIN -&gt; false\n    WRITE_DATE_TIMESTAMPS_AS_NANOSECONDS -&gt; true (enabled by default)\n    ORDER_MAP_ENTRIES_BY_KEYS -&gt; false\n    EAGER_SERIALIZER_FETCH -&gt; true (enabled by default)\n    USE_EQUALITY_FOR_OBJECT_ID -&gt; false\n\nDeserialization Features:\n    USE_BIG_DECIMAL_FOR_FLOATS -&gt; false\n    USE_BIG_INTEGER_FOR_INTS -&gt; false\n    USE_LONG_FOR_INTS -&gt; false\n    USE_JAVA_ARRAY_FOR_JSON_ARRAY -&gt; false\n    FAIL_ON_UNKNOWN_PROPERTIES -&gt; false (enabled by default)\n    FAIL_ON_NULL_FOR_PRIMITIVES -&gt; false\n    FAIL_ON_NUMBERS_FOR_ENUMS -&gt; false\n    FAIL_ON_INVALID_SUBTYPE -&gt; true (enabled by default)\n    FAIL_ON_READING_DUP_TREE_KEY -&gt; false\n    FAIL_ON_IGNORED_PROPERTIES -&gt; false\n    FAIL_ON_UNRESOLVED_OBJECT_IDS -&gt; true (enabled by default)\n    FAIL_ON_MISSING_CREATOR_PROPERTIES -&gt; false\n    FAIL_ON_NULL_CREATOR_PROPERTIES -&gt; false\n    FAIL_ON_MISSING_EXTERNAL_TYPE_ID_PROPERTY -&gt; true (enabled by default)\n    FAIL_ON_TRAILING_TOKENS -&gt; false\n    WRAP_EXCEPTIONS -&gt; true (enabled by default)\n    ACCEPT_SINGLE_VALUE_AS_ARRAY -&gt; false\n    UNWRAP_SINGLE_VALUE_ARRAYS -&gt; false\n    UNWRAP_ROOT_VALUE -&gt; false\n    ACCEPT_EMPTY_STRING_AS_NULL_OBJECT -&gt; false\n    ACCEPT_EMPTY_ARRAY_AS_NULL_OBJECT -&gt; false\n    ACCEPT_FLOAT_AS_INT -&gt; true (enabled by default)\n    READ_ENUMS_USING_TO_STRING -&gt; false\n    READ_UNKNOWN_ENUM_VALUES_AS_NULL -&gt; false\n    READ_UNKNOWN_ENUM_VALUES_USING_DEFAULT_VALUE -&gt; false\n    READ_DATE_TIMESTAMPS_AS_NANOSECONDS -&gt; true (enabled by default)\n    ADJUST_DATES_TO_CONTEXT_TIME_ZONE -&gt; true (enabled by default)\n    EAGER_DESERIALIZER_FETCH -&gt; true (enabled by default)\n</code></pre>\n<p>Just the properties that differ:</p>\n<pre><code>Modules:\n  -none-\n-------\nModules:\n  com.fasterxml.jackson.datatype.jdk8.Jdk8Module\n  jackson-datatype-jsr310\n  jackson-module-kotlin\n  jackson-module-parameter-names\n  org.springframework.boot.jackson.JsonComponentModule\n  Spring Data Geo Mixins\n\nSerialization Features:\n  WRITE_DATES_AS_TIMESTAMPS -&gt; true (enabled by default)\n  WRITE_DURATIONS_AS_TIMESTAMPS -&gt; true (enabled by default)\n-------\n  WRITE_DATES_AS_TIMESTAMPS -&gt; false (enabled by default)\n  WRITE_DURATIONS_AS_TIMESTAMPS -&gt; false (enabled by default)\n\nDeserialization Features:\n  FAIL_ON_UNKNOWN_PROPERTIES -&gt; true (enabled by default)\n-------\n  FAIL_ON_UNKNOWN_PROPERTIES -&gt; false (enabled by default)\n</code></pre>\n<p>I would have expected other deserialization features that would be different, but it's only <code>FAIL_ON_UNKNOWN_PROPERTIES</code>.\nI also tried registering the modules on the local mapper, expecting that this may break the deserialization for it then, but it didn't</p>\n",
    "tags" : [ "java", "spring-boot", "jackson", "timestamp", "mapping" ],
    "owner" : {
      "account_id" : 17525087,
      "reputation" : 113,
      "user_id" : 12710322,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/966310015710d03134ae2495ed56ef71?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "94621",
      "link" : "https://stackoverflow.com/users/12710322/94621"
    },
    "is_answered" : false,
    "view_count" : 169,
    "answer_count" : 1,
    "score" : -3,
    "last_activity_date" : 1751980471,
    "creation_date" : 1751960403,
    "link" : "https://stackoverflow.com/questions/79693844/how-to-configure-objectmapper-to-deserialize-java-sql-timestamp",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79694310,
    "question_id" : 79693844,
    "body" : "<p>Since the configuration of your mappers doesn't explain the behavior, I assume that there is a custom deserializer at work.\nUnfortunately, I don't know any way to get the information out of Jackson, which deserializers it has registered.</p>\n<p>But you can use the &quot;classgraph&quot; library to list all candidates on your classpath.</p>\n<p>You are looking for a class that serializes <code>java.sql.Timestamp</code> into a <code>Long</code>.</p>\n<p>For example using Maven:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.github.classgraph&lt;/groupId&gt;\n    &lt;artifactId&gt;classgraph&lt;/artifactId&gt;\n    &lt;version&gt;4.8.180&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>And then, somewhere in your code:</p>\n<pre><code>try (ScanResult scanResult = new ClassGraph().enableClassInfo().scan()) {\n    scanResult.getSubclasses(JsonDeserializer.class.getName())\n            .forEach(cls -&gt; {\n                if (cls.getName().toLowerCase().contains(&quot;timestamp&quot;)) {\n                    System.out.println(&quot;Timestamp-related deserializer: &quot; + cls.getName());\n                }\n             });\n}\n</code></pre>\n<p>If this outputs anything else other than Jacksons default <code>TimestampDeserializer</code> ...</p>\n<pre><code>Timestamp-related deserializer: com.fasterxml.jackson.databind.deser.std.DateDeserializers$TimestampDeserializer\n</code></pre>\n<p>... then this is likely the culprit.</p>\n<p>Be aware of the filter <code>.contains(&quot;timestamp&quot;)</code>, you should probably look out for classes that are not in the <code>com.fasterxml.jackson</code> namespace.</p>\n",
    "score" : -1,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 1355161,
      "reputation" : 2460,
      "user_id" : 1293709,
      "user_type" : "registered",
      "accept_rate" : 40,
      "profile_image" : "https://i.sstatic.net/HwxPn.jpg?s=256",
      "display_name" : "Thomas Hirsch",
      "link" : "https://stackoverflow.com/users/1293709/thomas-hirsch"
    },
    "creation_date" : 1751980471,
    "last_activity_date" : 1751980471,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140573473,
    "post_id" : 79693844,
    "body" : "Unfortunately that leads to a NullPointerException for both mappers",
    "score" : 0,
    "owner" : {
      "account_id" : 17525087,
      "reputation" : 113,
      "user_id" : 12710322,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/966310015710d03134ae2495ed56ef71?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "94621",
      "link" : "https://stackoverflow.com/users/12710322/94621"
    },
    "creation_date" : 1751975462,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140573294,
    "post_id" : 79693844,
    "body" : "Can you run this code on your injected <code>ObjectMapper</code>?  <code>JavaType type = mapper.getTypeFactory().constructType(Timestamp.class); JsonDeserializer&lt;Object&gt; deserializer = mapper.getDeserializationContext().findRootValueDeserializer&zwnj;&#8203;(type);</code>",
    "score" : 0,
    "owner" : {
      "account_id" : 1355161,
      "reputation" : 2460,
      "user_id" : 1293709,
      "user_type" : "registered",
      "accept_rate" : 40,
      "profile_image" : "https://i.sstatic.net/HwxPn.jpg?s=256",
      "display_name" : "Thomas Hirsch",
      "link" : "https://stackoverflow.com/users/1293709/thomas-hirsch"
    },
    "creation_date" : 1751972217,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140573006,
    "post_id" : 79693844,
    "body" : "@thomashirsch Yes, I did that based on some SO answer that I now don&#39;t have the link of anymore. I&#39;ll edit my question to include that info",
    "score" : 0,
    "owner" : {
      "account_id" : 17525087,
      "reputation" : 113,
      "user_id" : 12710322,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/966310015710d03134ae2495ed56ef71?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "94621",
      "link" : "https://stackoverflow.com/users/12710322/94621"
    },
    "creation_date" : 1751966356,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140572980,
    "post_id" : 79693844,
    "body" : "Can you dump the configuration of your injected <code>ObjectMapper</code>, to see how Spring configures it?",
    "score" : 1,
    "owner" : {
      "account_id" : 1355161,
      "reputation" : 2460,
      "user_id" : 1293709,
      "user_type" : "registered",
      "accept_rate" : 40,
      "profile_image" : "https://i.sstatic.net/HwxPn.jpg?s=256",
      "display_name" : "Thomas Hirsch",
      "link" : "https://stackoverflow.com/users/1293709/thomas-hirsch"
    },
    "creation_date" : 1751965881,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140572947,
    "post_id" : 79693844,
    "body" : "<i>startTime&quot;:&quot;2025-07-08T09:29:54.000+0000</i> That should be <code>java.time.OffsetDateTime</code>, which is supported by JDBC. See comment by Mr Deinum",
    "score" : 0,
    "owner" : {
      "account_id" : 22124137,
      "reputation" : 4243,
      "user_id" : 16376827,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/1ImPw.png?s=256",
      "display_name" : "g00se",
      "link" : "https://stackoverflow.com/users/16376827/g00se"
    },
    "creation_date" : 1751965132,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140572906,
    "post_id" : 79693844,
    "body" : "And for that I have to know the setting that affects this. You can also think of it in this way: How do I have to configure my local <code>new ObjectMapper()</code> to make it <b>stop</b> working? That must be the setting that is likely wrongly configured on the global one then",
    "score" : 0,
    "owner" : {
      "account_id" : 17525087,
      "reputation" : 113,
      "user_id" : 12710322,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/966310015710d03134ae2495ed56ef71?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "94621",
      "link" : "https://stackoverflow.com/users/12710322/94621"
    },
    "creation_date" : 1751964121,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140572898,
    "post_id" : 79693844,
    "body" : "Initially I had that thought too, but imagine that this is in a large app that relies on the exact configuration that the ObjectMapper currently has. For that I would have to figure out the delta for the complete configuration of the mapper I am trying to replace to define it in my own configuration. That&#39;s why I am hoping that I can basically just change this one setting on the existing global mapper to avoid this detectives work.",
    "score" : 0,
    "owner" : {
      "account_id" : 17525087,
      "reputation" : 113,
      "user_id" : 12710322,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/966310015710d03134ae2495ed56ef71?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "94621",
      "link" : "https://stackoverflow.com/users/12710322/94621"
    },
    "creation_date" : 1751963997,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140572867,
    "post_id" : 79693844,
    "body" : "Isnt it better to provide your own ObjectMapper rather than use the autoconfigured one? Anyway, the autoconfiguration is done inside JacksonAutoConfiguration.class and I suspect <code>configureDateFormat(Jackson2ObjectMapperBuilder builder)</code>",
    "score" : 0,
    "owner" : {
      "account_id" : 21724606,
      "reputation" : 1431,
      "user_id" : 16034206,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/MRBdT.jpg?s=256",
      "display_name" : "pebble unit",
      "link" : "https://stackoverflow.com/users/16034206/pebble-unit"
    },
    "creation_date" : 1751963391,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140572848,
    "post_id" : 79693844,
    "body" : "@pebbleunit that is actually quite hard to figure out, since it is provided by the frameworks autoconfiguration. That&#39;s why I am hoping that someone can tell me the settings that influence this deserialization behaviour for timestamps. I already did a lot of trial and error but I could not find the right settings for it yet...",
    "score" : 0,
    "owner" : {
      "account_id" : 17525087,
      "reputation" : 113,
      "user_id" : 12710322,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/966310015710d03134ae2495ed56ef71?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "94621",
      "link" : "https://stackoverflow.com/users/12710322/94621"
    },
    "creation_date" : 1751962878,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140572820,
    "post_id" : 79693844,
    "body" : "Thanks for the answers so far. I do not want to have a custom deserializer. The fact that <code>new ObjectMapper().readValue(...)</code> is able to successfully deserialize to <code>Timestamp</code> tells me that it is possible to configure the <code>ObjectMapper</code> without any custom annotations or serializers. I&#39;ll edit my question again",
    "score" : 0,
    "owner" : {
      "account_id" : 17525087,
      "reputation" : 113,
      "user_id" : 12710322,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/966310015710d03134ae2495ed56ef71?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "94621",
      "link" : "https://stackoverflow.com/users/12710322/94621"
    },
    "creation_date" : 1751962231,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140572792,
    "post_id" : 79693844,
    "body" : "Create a custom deserializer for timestamp. Or even better, stop using Timestamp and use the proper ones from <code>java.time</code> instead. Timestamp is a very badly designed class (well anything that extends java.util.Date for that matter) and should be avoided.",
    "score" : 5,
    "owner" : {
      "account_id" : 3192259,
      "reputation" : 126800,
      "user_id" : 2696260,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/qHEzx.png?s=256",
      "display_name" : "M. Deinum",
      "link" : "https://stackoverflow.com/users/2696260/m-deinum"
    },
    "creation_date" : 1751961485,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140572776,
    "post_id" : 79693844,
    "body" : "Does this help <a href=\"https://stackoverflow.com/questions/20635698/how-do-i-deserialize-timestamps-that-are-in-seconds-with-jackson\">link</a> ?",
    "score" : 0,
    "owner" : {
      "account_id" : 8362430,
      "reputation" : 856,
      "user_id" : 6280255,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/579e86ed5089abcb535b4e05ead3f6f6?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Just another Java programmer",
      "link" : "https://stackoverflow.com/users/6280255/just-another-java-programmer"
    },
    "creation_date" : 1751961152,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : {
    "79694310" : [ {
      "comment_id" : 140575862,
      "post_id" : 79694310,
      "body" : "@ThomasHirsch @M.Deinum Thanks for the effort you put into helping me here. I&#39;ll post an answer here should I find a solution for this (the <code>@JsonDeserialize(using = TimestampDeserializer.class)</code> did not work, and I did not write a custom deserializer yet)",
      "score" : 0,
      "owner" : {
        "account_id" : 17525087,
        "reputation" : 113,
        "user_id" : 12710322,
        "user_type" : "registered",
        "profile_image" : "https://www.gravatar.com/avatar/966310015710d03134ae2495ed56ef71?s=256&d=identicon&r=PG&f=y&so-version=2",
        "display_name" : "94621",
        "link" : "https://stackoverflow.com/users/12710322/94621"
      },
      "creation_date" : 1752044600,
      "content_license" : "CC BY-SA 4.0"
    }, {
      "comment_id" : 140574237,
      "post_id" : 79694310,
      "body" : "@94621 The code is referring to a parent POM, which I don&#39;t have access to, so I can&#39;t built the project. Something else you can try, is searching for references to <code>JsonDeserializer</code> in your IDE. Then you inspect if any of them, in external JARs or whatever, is extending <code>JsonDeserializer&lt;Timestamp&gt;</code>.",
      "score" : 0,
      "owner" : {
        "account_id" : 1355161,
        "reputation" : 2460,
        "user_id" : 1293709,
        "user_type" : "registered",
        "accept_rate" : 40,
        "profile_image" : "https://i.sstatic.net/HwxPn.jpg?s=256",
        "display_name" : "Thomas Hirsch",
        "link" : "https://stackoverflow.com/users/1293709/thomas-hirsch"
      },
      "creation_date" : 1751988748,
      "content_license" : "CC BY-SA 4.0"
    }, {
      "comment_id" : 140573983,
      "post_id" : 79694310,
      "body" : "If you want to take a look at the actual codebase for which I am testing this, you can check out: <a href=\"https://gerrit.onap.org/r/c/so/+/141410\" rel=\"nofollow noreferrer\">gerrit.onap.org/r/c/so/+/141410</a> You&#39;ll find that I am doing all this to build <code>RestTemplate</code>s based on the <code>RestTemplateBuilder</code>, but the problems that occur then are related to the ObjectMapper that is used under the hood",
      "score" : 0,
      "owner" : {
        "account_id" : 17525087,
        "reputation" : 113,
        "user_id" : 12710322,
        "user_type" : "registered",
        "profile_image" : "https://www.gravatar.com/avatar/966310015710d03134ae2495ed56ef71?s=256&d=identicon&r=PG&f=y&so-version=2",
        "display_name" : "94621",
        "link" : "https://stackoverflow.com/users/12710322/94621"
      },
      "creation_date" : 1751984155,
      "content_license" : "CC BY-SA 4.0"
    }, {
      "comment_id" : 140573979,
      "post_id" : 79694310,
      "body" : "@94621 There exist various ways to tell Jackson to use a certain class for deserialization, that would not require registering a module. For example, you could put an annotation directly on the target class: <code>@JsonDeserialize(using = ItemDeserializer.class)</code>. This is the reason I asked you to inspect the classpath, including libraries, for all possible candidates.",
      "score" : 0,
      "owner" : {
        "account_id" : 1355161,
        "reputation" : 2460,
        "user_id" : 1293709,
        "user_type" : "registered",
        "accept_rate" : 40,
        "profile_image" : "https://i.sstatic.net/HwxPn.jpg?s=256",
        "display_name" : "Thomas Hirsch",
        "link" : "https://stackoverflow.com/users/1293709/thomas-hirsch"
      },
      "creation_date" : 1751984071,
      "content_license" : "CC BY-SA 4.0"
    }, {
      "comment_id" : 140573952,
      "post_id" : 79694310,
      "body" : "@M.Deinum I think it is possible to have Jackson load a deserializer, which is not provided by a module, and would not show up in this output. Are you aware of the specific one we are looking for?",
      "score" : 0,
      "owner" : {
        "account_id" : 1355161,
        "reputation" : 2460,
        "user_id" : 1293709,
        "user_type" : "registered",
        "accept_rate" : 40,
        "profile_image" : "https://i.sstatic.net/HwxPn.jpg?s=256",
        "display_name" : "Thomas Hirsch",
        "link" : "https://stackoverflow.com/users/1293709/thomas-hirsch"
      },
      "creation_date" : 1751983632,
      "content_license" : "CC BY-SA 4.0"
    }, {
      "comment_id" : 140573949,
      "post_id" : 79694310,
      "body" : "And why does the local mapper still work when registering all the same modules that are registered on the global one?!",
      "score" : 0,
      "owner" : {
        "account_id" : 17525087,
        "reputation" : 113,
        "user_id" : 12710322,
        "user_type" : "registered",
        "profile_image" : "https://www.gravatar.com/avatar/966310015710d03134ae2495ed56ef71?s=256&d=identicon&r=PG&f=y&so-version=2",
        "display_name" : "94621",
        "link" : "https://stackoverflow.com/users/12710322/94621"
      },
      "creation_date" : 1751983556,
      "content_license" : "CC BY-SA 4.0"
    }, {
      "comment_id" : 140573940,
      "post_id" : 79694310,
      "body" : "<a href=\"https://docs.oracle.com/javase/8/docs/api/java/sql/Timestamp.html#valueOf-java.lang.String-\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/sql/&hellip;</a> (it clearly is there for quite some time). As stated the fact that the modules are registered is the fact that it uses certain default patterns, if you don&#39;t it wiill just call the <code>valueOf</code> (which is clearly on the <code>Timestamp</code> class). You would need to register your format with Jackson so it will be parsed (and as stated before I would strongly suggest to not let your domain objects to rely on the <code>java.sql.Timestamp</code>).",
      "score" : 0,
      "owner" : {
        "account_id" : 3192259,
        "reputation" : 126800,
        "user_id" : 2696260,
        "user_type" : "registered",
        "profile_image" : "https://i.sstatic.net/qHEzx.png?s=256",
        "display_name" : "M. Deinum",
        "link" : "https://stackoverflow.com/users/2696260/m-deinum"
      },
      "creation_date" : 1751983412,
      "content_license" : "CC BY-SA 4.0"
    }, {
      "comment_id" : 140573907,
      "post_id" : 79694310,
      "body" : "@thomashirsch I tried the classpath scanner and got the same output as you",
      "score" : 0,
      "owner" : {
        "account_id" : 17525087,
        "reputation" : 113,
        "user_id" : 12710322,
        "user_type" : "registered",
        "profile_image" : "https://www.gravatar.com/avatar/966310015710d03134ae2495ed56ef71?s=256&d=identicon&r=PG&f=y&so-version=2",
        "display_name" : "94621",
        "link" : "https://stackoverflow.com/users/12710322/94621"
      },
      "creation_date" : 1751982958,
      "content_license" : "CC BY-SA 4.0"
    }, {
      "comment_id" : 140573898,
      "post_id" : 79694310,
      "body" : "@M.Deinum I tried registering all the modules listed on the local mapper and the deserialization unfortunately still worked with it. I also couldn&#39;t find an explicit <code>valueOf</code> method on the real class",
      "score" : 0,
      "owner" : {
        "account_id" : 17525087,
        "reputation" : 113,
        "user_id" : 12710322,
        "user_type" : "registered",
        "profile_image" : "https://www.gravatar.com/avatar/966310015710d03134ae2495ed56ef71?s=256&d=identicon&r=PG&f=y&so-version=2",
        "display_name" : "94621",
        "link" : "https://stackoverflow.com/users/12710322/94621"
      },
      "creation_date" : 1751982830,
      "content_license" : "CC BY-SA 4.0"
    }, {
      "comment_id" : 140573846,
      "post_id" : 79694310,
      "body" : "The configuration <b>does</b> explain it. One has several modules installed leading to processing <code>java.util.Date</code> which is what <code>java.sql.Timestamp</code> extends. A plain <code>ObjectMapper</code> doesn&#39;t have this and, AFAIK, will try to find a <code>valueOf</code> method with the input type (<code>String</code> in this case) to construct the object.",
      "score" : 0,
      "owner" : {
        "account_id" : 3192259,
        "reputation" : 126800,
        "user_id" : 2696260,
        "user_type" : "registered",
        "profile_image" : "https://i.sstatic.net/qHEzx.png?s=256",
        "display_name" : "M. Deinum",
        "link" : "https://stackoverflow.com/users/2696260/m-deinum"
      },
      "creation_date" : 1751981984,
      "content_license" : "CC BY-SA 4.0"
    } ]
  }
}