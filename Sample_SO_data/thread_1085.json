{
  "question" : {
    "question_id" : 79745072,
    "title" : "Is there a way to shift mixin injection after a return opcode",
    "body" : "<p>I am writing an injector for a method that looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>protected ItemInteractionResult useItemOn(ItemStack stack, BlockState state, Level level, BlockPos pos, Player player, InteractionHand hand, BlockHitResult hitResult) {\n        if (player.isShiftKeyDown() || !player.mayBuild()) return ItemInteractionResult.PASS_TO_DEFAULT_BLOCK_INTERACTION;\n        //I want to inject some code here\n        boolean isWrench = AllItems.WRENCH.isIn(stack);\n        //rest of method, not shown\n}\n</code></pre>\n<p>My current injector signature is as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Inject(method = &quot;useItemOn&quot;, at = @At(value = &quot;RETURN&quot;, ordinal = 0))\n</code></pre>\n<p>I know RETURN injects before the specified return opcode, and I know for some mixin targets there is a way to shift injection after the opcode.  Could I do that with RETURN or is there a different InjectionPoint I should use?</p>\n",
    "tags" : [ "java", "minecraft", "mixins", "minecraft-forge", "minecraft-fabric" ],
    "owner" : {
      "account_id" : 21896421,
      "reputation" : 343,
      "user_id" : 17846979,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/47fa1fec03a5cdcfee08ab4082ce4b38?s=256&d=identicon&r=PG",
      "display_name" : "GPorubanTKK",
      "link" : "https://stackoverflow.com/users/17846979/gporubantkk"
    },
    "is_answered" : false,
    "view_count" : 64,
    "answer_count" : 0,
    "score" : 1,
    "last_activity_date" : 1759986243,
    "creation_date" : 1756058135,
    "link" : "https://stackoverflow.com/questions/79745072/is-there-a-way-to-shift-mixin-injection-after-a-return-opcode",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ ],
  "question_comments" : [ ],
  "answer_comments" : { }
}