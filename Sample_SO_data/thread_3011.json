{
  "question" : {
    "question_id" : 79578157,
    "title" : "Have lowercase value from Enum field when sending request with Spring",
    "body" : "<p>I would like to send http requests with a lowercase value where in the path variable, the value is taken from an Enum with uppercase values.</p>\n<p>On a very simple code:</p>\n<pre><code>@HttpExchange(accept = &quot;application/json&quot;)\npublic interface FooHttpExchange {\n    \n    @GetExchange(&quot;/api/1.1/{day}/dosomething&quot;)\n    String doSomethingWithDayOfWeek(@PathVariable(&quot;day&quot;) Day day);\n</code></pre>\n<p>with the Enum:</p>\n<pre><code>public enum Day {\n    MONDAY, TUESDAY, WEDNESDAY, THURSDAY, FRIDAY, SATURDAY, SUNDAY\n}\n</code></pre>\n<p>As you can see, all values of the enum are uppercase, to respect Java conventions on enumeration.</p>\n<p>But also, I do get the Enums from third-party libraries as well. I cannot change the content of the Enum.</p>\n<p>I would expect to send this as a request (taking Monday as an example):</p>\n<p><code>http://example.com/api/1.1/monday/dosomething</code></p>\n<p>Unfortunately, it is sending this instead:</p>\n<p><code>http://example.com/api/1.1/MONDAY/dosomething</code></p>\n<p>And on the server side, there is a parsing, meaning, it is expecting things in lower case.</p>\n<p>The request fails</p>\n<p>If I were to change the enum to full lowercase, I can confirm the request is then working.</p>\n<p>And sometimes, I get the Enum directly from a third-party library, where I cannot change the code.</p>\n<p>However, this breaks the Java enum convention to have them as uppercase in the code.</p>\n<p>How to have the Java enum as uppercase, but be able to send it as lowercase when sending the http request?</p>\n",
    "tags" : [ "java", "spring", "spring-boot", "enums" ],
    "owner" : {
      "account_id" : 14482834,
      "reputation" : 5468,
      "user_id" : 10461625,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/fgo5D.jpg?s=256",
      "display_name" : "PatPanda",
      "link" : "https://stackoverflow.com/users/10461625/patpanda"
    },
    "is_answered" : true,
    "view_count" : 168,
    "answer_count" : 2,
    "score" : 1,
    "last_activity_date" : 1745663833,
    "creation_date" : 1744839594,
    "link" : "https://stackoverflow.com/questions/79578157/have-lowercase-value-from-enum-field-when-sending-request-with-spring",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79578809,
    "question_id" : 79578157,
    "body" : "<h2><code>Enum#toString</code> and <code>String#toLowercase</code></h2>\n<p>Let's configure an HTTP interface client to convert values of the Day enum to lowercase strings.</p>\n<p>Register a Converter bean that <a href=\"https://docs.oracle.com/en/java/javase/24/docs/api/java.base/java/lang/Enum.html#toString()\" rel=\"nofollow noreferrer\">accesses the name of the enum</a>, then <a href=\"https://docs.oracle.com/en/java/javase/24/docs/api/java.base/java/lang/String.html#toLowerCase(java.util.Locale)\" rel=\"nofollow noreferrer\">converts to lowercase</a> strings.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class DayToStringConverter implements Converter&lt;Day, String&gt; {\n\n  @Override\n  public String convert(Day source) {\n    return source.toString().toLowerCase(Locale.ROOT);\n  }\n}\n</code></pre>\n<p>Spring Boot detects Converter beans and registers them in a ConversionService.  An HTTP interface client invokes a ConversionService to format input values as strings.  However, the default ConversionService used by an HTTP interface client is not the ConversionService that Spring Boot configured.  You must set the ConversionService in the HTTP interface client:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\nFooHttpExchange fooHttpExchange(ConversionService conversionService) {\n  // ...\n\n  return HttpServiceProxyFactory.builderFor(RestClientAdapter.create(restClient))\n      .conversionService(conversionService)\n\n  // ...\n\n      .build()\n      .createClient(FooHttpExchange.class);\n}\n</code></pre>\n",
    "score" : 3,
    "is_accepted" : true,
    "owner" : {
      "account_id" : 23128,
      "reputation" : 14130,
      "user_id" : 57719,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/m2xJ2.png?s=256",
      "display_name" : "Chin Huang",
      "link" : "https://stackoverflow.com/users/57719/chin-huang"
    },
    "creation_date" : 1744878718,
    "last_activity_date" : 1745001299,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "answer_id" : 79578211,
    "question_id" : 79578157,
    "body" : "<p>Break the Java convention and use lowercase enum values. Conventions are just ... conventions, which can be broken if needed.</p>\n<p>If breaking this particular convention is not possible for API/political/organizational reasons, introduce another enum type, <code>LowerCaseDay</code>, that can be easily converted to and from <code>Day</code>.</p>\n",
    "score" : 1,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 116746,
      "reputation" : 12898,
      "user_id" : 306030,
      "user_type" : "registered",
      "accept_rate" : 70,
      "profile_image" : "https://i.sstatic.net/y053l.jpg?s=256",
      "display_name" : "forty-two",
      "link" : "https://stackoverflow.com/users/306030/forty-two"
    },
    "creation_date" : 1744842101,
    "last_activity_date" : 1744842101,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140344661,
    "post_id" : 79578157,
    "body" : "@AndrewL They&#39;re not asking about JSON serialization as part of JSON response body. They&#39;re trying to do a conversion to string to replace the placeholder in <code>&#47;api&#47;1.1&#47;{day}&#47;dosomething</code>.",
    "score" : 1,
    "owner" : {
      "account_id" : 195331,
      "reputation" : 281037,
      "user_id" : 438154,
      "user_type" : "registered",
      "accept_rate" : 98,
      "profile_image" : "https://www.gravatar.com/avatar/4ec21df1e55febf8deb2e3b24b9cb39b?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Sotirios Delimanolis",
      "link" : "https://stackoverflow.com/users/438154/sotirios-delimanolis"
    },
    "creation_date" : 1744895459,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140342854,
    "post_id" : 79578157,
    "body" : "This question is similar to: <a href=\"https://stackoverflow.com/questions/72872891/java-spring-custom-enum-to-string-conversion-in-json-serialization\">Java Spring custom Enum to String conversion in JSON Serialization</a>. If you believe it’s different, please <a href=\"https://stackoverflow.com/posts/79578157/edit\">edit</a> the question, make it clear how it’s different and/or how the answers on that question are not helpful for your problem.",
    "score" : 0,
    "owner" : {
      "account_id" : 2073393,
      "reputation" : 3675,
      "user_id" : 1847378,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/e8990d3c34829910b2318ed16b09544d?s=256&d=identicon&r=PG",
      "display_name" : "AndrewL",
      "link" : "https://stackoverflow.com/users/1847378/andrewl"
    },
    "creation_date" : 1744852009,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : {
    "79578211" : [ {
      "comment_id" : 140348847,
      "post_id" : 79578211,
      "body" : "There is absolutely no need to break the all-uppercase convention here. Just learn the basics of how to handle enums and strings in Java.",
      "score" : 0,
      "owner" : {
        "account_id" : 322981,
        "reputation" : 346951,
        "user_id" : 642706,
        "user_type" : "registered",
        "accept_rate" : 58,
        "profile_image" : "https://i.sstatic.net/ZWEI3.jpg?s=256",
        "display_name" : "Basil Bourque",
        "link" : "https://stackoverflow.com/users/642706/basil-bourque"
      },
      "creation_date" : 1745001176,
      "content_license" : "CC BY-SA 4.0"
    } ]
  }
}