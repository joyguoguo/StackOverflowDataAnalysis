{
  "question" : {
    "question_id" : 79632456,
    "title" : "Maven build arguments compilerArgs",
    "body" : "<p>I'm VERY new to the maven and the pom.xml config so I likely just don't have a handle on this yet but I've trying to update a Java 9 app to Java 21.</p>\n<p>I ran into an issue with javafx and seem to get past it via debug with the following arguments set in eclipse:\n<a href=\"https://i.sstatic.net/oBqFvGA4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/oBqFvGA4.png\" alt=\"VM Args\" /></a></p>\n<p>when I build my jar file I get the following error while running:</p>\n<pre><code>Exception in thread &quot;JavaFX Application Thread&quot; java.lang.reflect.InaccessibleObjectException: Unable to make protected javafx.scene.control.skin.TableHeaderRow javafx.scene.control.skin.TableViewSkinBase.getTableHeaderRow() accessible: module javafx.controls does not &quot;opens javafx.scene.control.skin&quot; to unnamed module @2a5a26d7\n        at java.base/java.lang.reflect.AccessibleObject.throwInaccessibleObjectException(AccessibleObject.java:391)\n        at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:367)\n        at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:315)\n        at java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:203)\n        at java.base/java.lang.reflect.Method.setAccessible(Method.java:197)\n...\n</code></pre>\n<p>My pom.xml file has two build configs and is as follows - note the jvm.options items was my attempt to try to resolve this searching through other similar issues but its not doing that I hoped.</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;PCAT&lt;/artifactId&gt;\n    &lt;version&gt;5.0.0&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;name&gt;PCAT&lt;/name&gt;\n    &lt;description&gt;Portable Compliance Assessment Tool&lt;/description&gt;\n   &lt;properties&gt;\n        &lt;maven.compiler.source&gt;21&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;21&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;jvm.options.0&gt;--add-opens&lt;/jvm.options.0&gt;\n        &lt;jvm.options.1&gt;java.base/java.time=ALL-UNNAMED&lt;/jvm.options.1&gt;\n    &lt;/properties&gt;\n&lt;build&gt;\n    &lt;finalName&gt;PCAT5&lt;/finalName&gt;\n    &lt;resources&gt;\n        &lt;resource&gt;\n            &lt;directory&gt;src/main/resources&lt;/directory&gt;\n        &lt;/resource&gt;\n        &lt;resource&gt;\n            &lt;directory&gt;${project.basedir}&lt;/directory&gt;\n            &lt;targetPath&gt;${project.build.directory}&lt;/targetPath&gt;\n            &lt;includes&gt;\n                &lt;include&gt;entities.sybo&lt;/include&gt;\n            &lt;/includes&gt;\n        &lt;/resource&gt;\n    &lt;/resources&gt;\n\n    &lt;plugins&gt;\n        &lt;!-- Compiler Plugin --&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.11.0&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;release&gt;21&lt;/release&gt;\n                &lt;compilerArgs&gt;\n                    &lt;arg&gt;${jvm.options.0}&lt;/arg&gt;\n                    &lt;arg&gt;${jvm.options.1}&lt;/arg&gt;\n                &lt;/compilerArgs&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.5.0&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;&lt;goal&gt;shade&lt;/goal&gt;&lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;transformers&gt;\n                            &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\n                                &lt;mainClass&gt;com.kbr.chs39.pcat.view.Main&lt;/mainClass&gt;\n                            &lt;/transformer&gt;\n                        &lt;/transformers&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>I guessing this is just something I don't quite understand yet with the maven set up but not sure what to do about it.</p>\n",
    "tags" : [ "java", "maven", "javafx" ],
    "owner" : {
      "account_id" : 27736413,
      "reputation" : 11,
      "user_id" : 21173908,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/45f1066ad634fc76d39b8632e435c2c2?s=256&d=identicon&r=PG",
      "display_name" : "jbinbama",
      "link" : "https://stackoverflow.com/users/21173908/jbinbama"
    },
    "is_answered" : false,
    "view_count" : 122,
    "answer_count" : 0,
    "score" : 0,
    "last_activity_date" : 1747846927,
    "creation_date" : 1747846927,
    "link" : "https://stackoverflow.com/questions/79632456/maven-build-arguments-compilerargs",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ ],
  "question_comments" : [ {
    "comment_id" : 140450582,
    "post_id" : 79632456,
    "body" : "Well that worked - I thought I had tried something similar yesterday but apparently I didn&#39;t get it right.   Thanks     And yes I&#39;m gradually going to try to get to one jar file so I don&#39;t need all the command line options but that&#39;s a problem for next week - I&#39;m not very adept at maven and the options so its all a bit foreign to me.  jlink/jpackage is also a new animal I know nothing about...   Thanks for a step forward even if its minor.",
    "score" : 0,
    "owner" : {
      "account_id" : 27736413,
      "reputation" : 11,
      "user_id" : 21173908,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/45f1066ad634fc76d39b8632e435c2c2?s=256&d=identicon&r=PG",
      "display_name" : "jbinbama",
      "link" : "https://stackoverflow.com/users/21173908/jbinbama"
    },
    "creation_date" : 1747940831,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140448616,
    "post_id" : 79632456,
    "body" : "The complete command would look like this: java --add-opens javafx.controls/javafx.scene.control.skin=ALL-UNNAMED -jar target/PCAT5.jar However, you should think about changing the implementation. You&#39;re encountering a java.lang.reflect.InaccessibleObjectException because you&#39;re using reflection to access internal JavaFX API - here it seems to be, TableViewSkinBase.getTableHeaderRow() - and Java 9+ introduced strict encapsulation via modules, disallowing this access unless you explicitly open the module.",
    "score" : 1,
    "owner" : {
      "account_id" : 5316725,
      "reputation" : 259,
      "user_id" : 4241377,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/0ae255d91ce1ff9888243f5bd51f77c2?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Mr__Steel",
      "link" : "https://stackoverflow.com/users/4241377/mr-steel"
    },
    "creation_date" : 1747902493,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140447490,
    "post_id" : 79632456,
    "body" : "For that command you&#39;d need to include the <code>--add-opens</code> option. The same one you have in your VM arguments in Eclipse. Your newest question seems to have moved towards a so-called fat/uber/shadowed executable JAR file. If your JAR file includes JavaFX (and ControlsFX) then none of these options should be needed (but you will need a separate launcher class as your main class--and make sure the native code of JavaFX is included). That said, you should consider deploying as a self-contained application (e.g., via <code>jlink</code> / <code>jpackage</code>).",
    "score" : 1,
    "owner" : {
      "account_id" : 8532578,
      "reputation" : 49884,
      "user_id" : 6395627,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/af0f9bfe593f36642a032cd7ea611e7d?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Slaw",
      "link" : "https://stackoverflow.com/users/6395627/slaw"
    },
    "creation_date" : 1747862395,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140447442,
    "post_id" : 79632456,
    "body" : "java --module-path C:\\javafx\\javafx-sdk-21.0.7\\lib --add-modules javafx.controls,javafx.fxml -jar PCAT5.jar    I tried to add in the extra argument as done for the debug config (add-opens) in various forms but still get the same stack dump when the form opens",
    "score" : 0,
    "owner" : {
      "account_id" : 27736413,
      "reputation" : 11,
      "user_id" : 21173908,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/45f1066ad634fc76d39b8632e435c2c2?s=256&d=identicon&r=PG",
      "display_name" : "jbinbama",
      "link" : "https://stackoverflow.com/users/21173908/jbinbama"
    },
    "creation_date" : 1747861345,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140447274,
    "post_id" : 79632456,
    "body" : "Can you give more details about how you&#39;re deploying your application? How are the JavaFX and ControlsFX modules being included with your application? What is the command you&#39;re using to launch your JAR file?",
    "score" : 1,
    "owner" : {
      "account_id" : 8532578,
      "reputation" : 49884,
      "user_id" : 6395627,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/af0f9bfe593f36642a032cd7ea611e7d?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Slaw",
      "link" : "https://stackoverflow.com/users/6395627/slaw"
    },
    "creation_date" : 1747858194,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140446889,
    "post_id" : 79632456,
    "body" : "I added in the arguments to the pom file but still have the same issue.   Problem is I&#39;m not sure what to ask as this is all new to me.  Its the old you don&#39;t know what you don&#39;t know so I&#39;m trying to get headed in the right direction without just blindly trying things.",
    "score" : 0,
    "owner" : {
      "account_id" : 27736413,
      "reputation" : 11,
      "user_id" : 21173908,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/45f1066ad634fc76d39b8632e435c2c2?s=256&d=identicon&r=PG",
      "display_name" : "jbinbama",
      "link" : "https://stackoverflow.com/users/21173908/jbinbama"
    },
    "creation_date" : 1747849333,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140446770,
    "post_id" : 79632456,
    "body" : "another time the more or less same question?",
    "score" : 0,
    "owner" : {
      "account_id" : 112317,
      "reputation" : 98425,
      "user_id" : 296328,
      "user_type" : "registered",
      "accept_rate" : 60,
      "profile_image" : "https://i.sstatic.net/DSpH6.jpg?s=256",
      "display_name" : "khmarbaise",
      "link" : "https://stackoverflow.com/users/296328/khmarbaise"
    },
    "creation_date" : 1747847286,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}