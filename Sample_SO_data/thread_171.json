{
  "question" : {
    "question_id" : 79829867,
    "title" : "java.lang.ClassNotFoundException: class org.apache.activemq.jndi.ActiveMQInitialContextFactory not found at run time",
    "body" : "<p>WSO2 EI 6.6.0 is configured and run together with ActiveMq 5.16.4. Sending and receiving JMS messages works fine but time to time following error occurs at run time. To solve it, it is necessary to restart WSO2 EI. Have you any idea what might be wrong?</p>\n<pre><code>[2025-11-13 17:13:25,897] ERROR {org.apache.axis2.transport.jms.JMSConnectionFactory} - Error looking up the JMS destination with name jvo_queue of type queue javax.naming.NoInitialContextException: Failed to create InitialContext using factory specified in hash table. [Root exception is java.lang.ClassNotFoundException: class org.apache.activemq.jndi.ActiveMQInitialContextFactory not found]\n    at org.wso2.carbon.context.internal.CarbonContextDataHolder$CarbonInitialJNDIContextFactoryBuilder.createInitialContextFactory(CarbonContextDataHolder.java:491)\n    at java.naming/javax.naming.spi.NamingManager.getInitialContext(NamingManager.java:727)\n    at java.naming/javax.naming.InitialContext.getDefaultInitCtx(InitialContext.java:305)\n    at java.naming/javax.naming.InitialContext.init(InitialContext.java:236)\n    at java.naming/javax.naming.InitialContext.&lt;init&gt;(InitialContext.java:208)\n    at org.apache.axis2.transport.jms.JMSUtils.lookupDestination(JMSUtils.java:990)\n    at org.apache.axis2.transport.jms.JMSConnectionFactory.getDestination(JMSConnectionFactory.java:302)\n    at org.apache.axis2.transport.jms.JMSMessageSender.&lt;init&gt;(JMSMessageSender.java:149)\n    at org.apache.axis2.transport.jms.JMSSender.sendMessage(JMSSender.java:170)\n    at org.apache.axis2.transport.base.AbstractTransportSender.invoke(AbstractTransportSender.java:112)\n    at org.apache.axis2.engine.AxisEngine.send(AxisEngine.java:442)\n    at org.apache.axis2.description.OutOnlyAxisOperationClient.executeImpl(OutOnlyAxisOperation.java:297)\n    at org.apache.axis2.client.OperationClient.execute(OperationClient.java:149)\n    at org.apache.synapse.core.axis2.Axis2FlexibleMEPClient.send(Axis2FlexibleMEPClient.java:634)\n    at org.apache.synapse.core.axis2.Axis2Sender.sendOn(Axis2Sender.java:85)\n    at org.apache.synapse.core.axis2.Axis2SynapseEnvironment.send(Axis2SynapseEnvironment.java:571)\n    at org.apache.synapse.endpoints.AbstractEndpoint.send(AbstractEndpoint.java:408)\n    at org.apache.synapse.endpoints.AddressEndpoint.send(AddressEndpoint.java:74)\n    at org.apache.synapse.endpoints.IndirectEndpoint.send(IndirectEndpoint.java:56)\n    at org.apache.synapse.mediators.builtin.CallMediator.handleNonBlockingCall(CallMediator.java:278)\n    at org.apache.synapse.mediators.builtin.CallMediator.mediate(CallMediator.java:122)\n    at org.apache.synapse.mediators.AbstractListMediator.mediate(AbstractListMediator.java:135)\n    at org.apache.synapse.mediators.AbstractListMediator.mediate(AbstractListMediator.java:84)\n    at org.apache.synapse.mediators.base.SequenceMediator.mediate(SequenceMediator.java:158)\n    at org.apache.synapse.mediators.base.SequenceMediator.mediate(SequenceMediator.java:214)\n    at org.apache.synapse.mediators.AbstractListMediator.mediate(AbstractListMediator.java:135)\n    at org.apache.synapse.mediators.AbstractListMediator.mediate(AbstractListMediator.java:84)\n    at org.apache.synapse.config.xml.AnonymousListMediator.mediate(AnonymousListMediator.java:37)\n    at org.apache.synapse.config.xml.SwitchCase.mediate(SwitchCase.java:69)\n    at org.apache.synapse.mediators.filters.SwitchMediator.mediate(SwitchMediator.java:134)\n    at org.apache.synapse.mediators.AbstractListMediator.mediate(AbstractListMediator.java:135)\n    at org.apache.synapse.mediators.AbstractListMediator.mediate(AbstractListMediator.java:84)\n    at org.apache.synapse.config.xml.AnonymousListMediator.mediate(AnonymousListMediator.java:37)\n    at org.apache.synapse.config.xml.SwitchCase.mediate(SwitchCase.java:69)\n    at org.apache.synapse.mediators.filters.SwitchMediator.mediate(SwitchMediator.java:148)\n    at org.apache.synapse.mediators.AbstractListMediator.mediate(AbstractListMediator.java:135)\n    at org.apache.synapse.mediators.AbstractListMediator.mediate(AbstractListMediator.java:84)\n    at org.apache.synapse.mediators.base.SequenceMediator.mediate(SequenceMediator.java:158)\n    at org.apache.synapse.mediators.base.SequenceMediator.mediate(SequenceMediator.java:214)\n    at org.apache.synapse.mediators.AbstractListMediator.mediate(AbstractListMediator.java:135)\n    at org.apache.synapse.mediators.AbstractListMediator.mediate(AbstractListMediator.java:84)\n    at org.apache.synapse.mediators.base.SequenceMediator.mediate(SequenceMediator.java:158)\n    at org.apache.synapse.rest.Resource.process(Resource.java:331)\n    at org.apache.synapse.rest.API.process(API.java:441)\n    at org.apache.synapse.rest.RESTRequestHandler.apiProcess(RESTRequestHandler.java:135)\n    at org.apache.synapse.rest.RESTRequestHandler.dispatchToAPI(RESTRequestHandler.java:113)\n    at org.apache.synapse.rest.RESTRequestHandler.process(RESTRequestHandler.java:71)\n    at org.apache.synapse.core.axis2.Axis2SynapseEnvironment.injectMessage(Axis2SynapseEnvironment.java:327)\n    at org.apache.synapse.core.axis2.SynapseMessageReceiver.receive(SynapseMessageReceiver.java:98)\n    at org.apache.axis2.engine.AxisEngine.receive(AxisEngine.java:180)\n    at org.apache.synapse.transport.passthru.ServerWorker.processNonEntityEnclosingRESTHandler(ServerWorker.java:368)\n    at org.apache.synapse.transport.passthru.ServerWorker.processEntityEnclosingRequest(ServerWorker.java:427)\n    at org.apache.synapse.transport.passthru.ServerWorker.run(ServerWorker.java:182)\n    at org.apache.axis2.transport.base.threads.NativeWorkerPool$1.run(NativeWorkerPool.java:172)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:829)\nCaused by: java.lang.ClassNotFoundException: class org.apache.activemq.jndi.ActiveMQInitialContextFactory not found\n    at org.wso2.carbon.context.internal.CarbonContextDataHolder.classForName(CarbonContextDataHolder.java:1208)\n    at org.wso2.carbon.context.internal.CarbonContextDataHolder.access$700(CarbonContextDataHolder.java:94)\n    at org.wso2.carbon.context.internal.CarbonContextDataHolder$CarbonInitialJNDIContextFactoryBuilder.createInitialContextFactory(CarbonContextDataHolder.java:444)\n    ... 56 more\n</code></pre>\n",
    "tags" : [ "java", "wso2", "jms", "wso2-enterprise-integrator" ],
    "owner" : {
      "account_id" : 44801642,
      "reputation" : 1,
      "user_id" : 31943011,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/2e8e3ad01d0b1603f57b6503e8ac3033?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Antonn Karolk aertonsena",
      "link" : "https://stackoverflow.com/users/31943011/antonn-karolk-aertonsena"
    },
    "is_answered" : false,
    "view_count" : 63,
    "answer_count" : 0,
    "score" : 0,
    "last_activity_date" : 1764083539,
    "creation_date" : 1764083539,
    "link" : "https://stackoverflow.com/questions/79829867/java-lang-classnotfoundexception-class-org-apache-activemq-jndi-activemqinitial",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ ],
  "question_comments" : [ ],
  "answer_comments" : { }
}