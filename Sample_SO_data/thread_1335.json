{
  "question" : {
    "question_id" : 79717820,
    "title" : "Receiving BytesMessage from Smallrye JMS Connector turns all bytes to 0",
    "body" : "<p>I'm trying to integrate IBM MQ with my Quarkus application, but it doesn't have AMQP support and there's no Quarkiverse extension available for it. As a workaround, I'm following <a href=\"https://stackoverflow.com/a/77625283/23237053\">this answer</a> to achieve my goal. It works correctly with most message types, such as <code>TextMessage</code>. However, when I try to retrieve a <code>BytesMessage</code>, the length is correct, but the content is all zeros. The issue doesn't seem to be with the producer, as using the IBM MQ Client to read the message from the queue yields the correct result.</p>\n<p>The only difference in my code is that I'm using a <code>byte[]</code> parameter to receive the <code>BytesMessage</code>. It casts correctly, but all the bytes are turned into zeros. Is this a problem with the extension not supporting <code>BytesMessage</code> or is the approach in the linked answer incomplete?</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Incoming(&quot;order&quot;)\npublic CompletionStage&lt;Void&gt; onMessage(byte[] message) {\n    Log.infof(&quot;incoming order: \\n%s&quot;, Arrays.toString(message));\n    return message.ack();\n}\n</code></pre>\n",
    "tags" : [ "java", "jms", "quarkus", "ibm-mq", "messaging" ],
    "owner" : {
      "account_id" : 30321380,
      "reputation" : 1378,
      "user_id" : 23237053,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/3GrS5.jpg?s=256",
      "display_name" : "Kobra",
      "link" : "https://stackoverflow.com/users/23237053/kobra"
    },
    "is_answered" : false,
    "view_count" : 103,
    "answer_count" : 1,
    "score" : 0,
    "last_activity_date" : 1753956233,
    "creation_date" : 1753732296,
    "link" : "https://stackoverflow.com/questions/79717820/receiving-bytesmessage-from-smallrye-jms-connector-turns-all-bytes-to-0",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79721116,
    "question_id" : 79717820,
    "body" : "<p>There is a tutorial that shows how to set up AMQP for IBM MQ in a container - <a href=\"https://developer.ibm.com/tutorials/mq-setting-up-amqp-with-mq/\" rel=\"nofollow noreferrer\">https://developer.ibm.com/tutorials/mq-setting-up-amqp-with-mq/</a></p>\n<p>and a tutorial showing how to configure quarkus apps / native graalvm messaging apps to use the AMQP enabled IBM MQ container.<br />\n<a href=\"https://developer.ibm.com/tutorials/mq-running-ibm-mq-apps-on-quarkus-and-graalvm-using-qpid-amqp-jms-classes/\" rel=\"nofollow noreferrer\">https://developer.ibm.com/tutorials/mq-running-ibm-mq-apps-on-quarkus-and-graalvm-using-qpid-amqp-jms-classes/</a></p>\n",
    "score" : 0,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 7206986,
      "reputation" : 4786,
      "user_id" : 5502306,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/Gxj7w.jpg?s=256",
      "display_name" : "chughts",
      "link" : "https://stackoverflow.com/users/5502306/chughts"
    },
    "creation_date" : 1753956233,
    "last_activity_date" : 1753956233,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ ],
  "answer_comments" : { }
}