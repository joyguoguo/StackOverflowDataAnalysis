{
  "question" : {
    "question_id" : 79581807,
    "title" : "Getting UnsatisfiedDependencyException when running spring boot executable jar",
    "body" : "<p>I have a executable jar which is bundled with 2 other of my own jars. Purpose of this is to migrate data from one postgres db to another. One of the other jar has datasource creation code, etc which is used by main web application.</p>\n<p>When I run the executable jar, I get error.</p>\n<blockquote>\n<p>java -jar Migrate.jar --spring.datasource.db1.jdbcUrls=jdbc:postgresql://ipaddress:5432/source_db_name;username1;password  --spring.datasource.runtime.jdbcUrls=jdbc:postgresql://ipaddress:5432/dest_db_name;username2;password</p>\n</blockquote>\n<p>Error:</p>\n<pre><code>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Unsatisfied dependency expressed through method 'dataSourceScriptDatabaseInitializer' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'myDataSource' defined in class path resource [com/example/config/MyDatasourceConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.sql.DataSource]: Factory method 'myDataSource' threw exception; nested exception is java.lang.RuntimeException: Invalid URL: jdbc:postgresql://ipaddress:5432/source_db\n        at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800)\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:541)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n        at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)\n        at org.springframework.boot.builder.SpringApplicationBuilder.run(SpringApplicationBuilder.java:164)\n        at com.example.test.migrate.MigrateDB.main(MigrateDB.java:307)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:108)\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\n        at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65)\n\n</code></pre>\n<p>My Main class:</p>\n<pre><code>@SpringBootApplication(scanBasePackages = {&quot;com.example.**&quot;,\n        &quot;com.example.test.**&quot;},\n        exclude = {DataSourceAutoConfiguration.class, HibernateJpaAutoConfiguration.class})\npublic class MigrateDB implements CommandLineRunner {}\n</code></pre>\n<p>I am not sure what the problem is. <strong>Please help.</strong></p>\n<p>What i tried..</p>\n<ol>\n<li>I removed these jars from the this pom.xml and other pom.xml which is budled with the main executabe jar. But getting the same result.</li>\n</ol>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-oauth2-core&lt;/artifactId&gt;\n            &lt;version&gt;5.8.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-oauth2-client&lt;/artifactId&gt;\n            &lt;version&gt;5.8.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n</code></pre>\n<ol start=\"2\">\n<li>While running Migrate.jar, passed --spring.jpa.defer-datasource-initialization=true. Getting  'No datasources found' exception.</li>\n</ol>\n",
    "tags" : [ "java", "spring-boot", "dependency-injection", "datasource", "executable-jar" ],
    "owner" : {
      "account_id" : 7788252,
      "reputation" : 49,
      "user_id" : 5892233,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/9e6e8f635a9938037ccecf07758abd45?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "AAPJ",
      "link" : "https://stackoverflow.com/users/5892233/aapj"
    },
    "is_answered" : false,
    "view_count" : 55,
    "answer_count" : 0,
    "score" : 0,
    "last_activity_date" : 1745014441,
    "creation_date" : 1745014441,
    "link" : "https://stackoverflow.com/questions/79581807/getting-unsatisfieddependencyexception-when-running-spring-boot-executable-jar",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ ],
  "question_comments" : [ {
    "comment_id" : 140358850,
    "post_id" : 79581807,
    "body" : "It ended up that i was missing double quotes while running.   java -jar Migrate.jar --spring.datasource.db1.jdbcUrls=&quot;jdbc:postgresql://ipaddres&zwnj;&#8203;s:5432/source_db_nam&zwnj;&#8203;e;username1;password&zwnj;&#8203;&quot; --spring.datasource.runtime.jdbcUrls=&quot;jdbc:postgresql://ipad&zwnj;&#8203;dress:5432/dest_db_n&zwnj;&#8203;ame;username2;passwo&zwnj;&#8203;rd&quot;",
    "score" : 0,
    "owner" : {
      "account_id" : 7788252,
      "reputation" : 49,
      "user_id" : 5892233,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/9e6e8f635a9938037ccecf07758abd45?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "AAPJ",
      "link" : "https://stackoverflow.com/users/5892233/aapj"
    },
    "creation_date" : 1745345135,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140358392,
    "post_id" : 79581807,
    "body" : "Tried above and getting the same exception",
    "score" : 0,
    "owner" : {
      "account_id" : 7788252,
      "reputation" : 49,
      "user_id" : 5892233,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/9e6e8f635a9938037ccecf07758abd45?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "AAPJ",
      "link" : "https://stackoverflow.com/users/5892233/aapj"
    },
    "creation_date" : 1745337314,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140349369,
    "post_id" : 79581807,
    "body" : "can you try the below.  <code>java -jar Migrate.jar \\   --spring.datasource.db1.url=jdbc:postgresql:&#47;&#47;ipaddress:5432&zwnj;&#8203;&#47;source_db_name \\   --spring.datasource.db1.username=username1 \\   --spring.datasource.db1.password=password \\   --spring.datasource.runtime.url=jdbc:postgresql:&#47;&#47;ipaddress:&zwnj;&#8203;5432&#47;dest_db_name \\   --spring.datasource.runtime.username=username2 \\   --spring.datasource.runtime.password=password</code>",
    "score" : 1,
    "owner" : {
      "account_id" : 7645025,
      "reputation" : 440,
      "user_id" : 5795975,
      "user_type" : "registered",
      "profile_image" : "https://lh6.googleusercontent.com/-6KwPUS4RnyA/AAAAAAAAAAI/AAAAAAAAC8w/auZqreI45x0/s256-rj/photo.jpg",
      "display_name" : "Vijay",
      "link" : "https://stackoverflow.com/users/5795975/vijay"
    },
    "creation_date" : 1745016041,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}