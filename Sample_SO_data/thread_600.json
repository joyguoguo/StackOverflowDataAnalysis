{
  "question" : {
    "question_id" : 79790274,
    "title" : "What are the rate limits for SQS FIFO with high throughput enabled?",
    "body" : "<p>We're getting below responses while pushing data to SQS FIFO:</p>\n<pre><code>Code=RequestThrottled, Message=Request is throttled\n</code></pre>\n<p>We have recursive retries in place, and this error is coming up for the first few messages and then eventually the error subsides and we're able to push normally.</p>\n<p>Is there something like a warm up period for SQS FIFO with high throughput?</p>\n<p>I see the below text in their official documentation, but nothing more.</p>\n<blockquote>\n<p>Partitions and data distribution for high throughput for SQS FIFO\nqueues</p>\n<p>Amazon SQS stores FIFO queue data in partitions. A partition is an\nallocation of storage for a queue that is automatically replicated\nacross multiple Availability Zones within an AWS Region. You don't\nmanage partitions. Instead, Amazon SQS handles partition management.</p>\n<p>For FIFO queues, Amazon SQS modifies the number of partitions in a\nqueue in the following situations:</p>\n<ul>\n<li><p>If the current request rate approaches or exceeds what the existing partitions can support, additional partitions are allocated\nuntil the queue reaches the regional quota. For information on quotas,\nsee Amazon SQS message quotas.</p>\n</li>\n<li><p>If the current partitions have low utilization, the number of partitions may be reduced.</p>\n</li>\n</ul>\n<p>Partition management occurs automatically in the background and is\ntransparent to your applications. Your queue and messages are\navailable at all times.</p>\n</blockquote>\n<p>We have multiple group Ids and we're using batching, I see the throttled exception even when we're trying to push just 400 or 500 messages.</p>\n",
    "tags" : [ "java", "amazon-web-services", "aws-sqs-fifo" ],
    "owner" : {
      "account_id" : 7138022,
      "reputation" : 337,
      "user_id" : 5621167,
      "user_type" : "registered",
      "accept_rate" : 88,
      "profile_image" : "https://www.gravatar.com/avatar/77ccd115647f50b200e6a7b702431b36?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "itishrishikesh",
      "link" : "https://stackoverflow.com/users/5621167/itishrishikesh"
    },
    "is_answered" : true,
    "view_count" : 138,
    "answer_count" : 1,
    "score" : 1,
    "last_activity_date" : 1762366019,
    "creation_date" : 1760451441,
    "link" : "https://stackoverflow.com/questions/79790274/what-are-the-rate-limits-for-sqs-fifo-with-high-throughput-enabled",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79810448,
    "question_id" : 79790274,
    "body" : "<p>I contacted AWS support and they mentioned there's indeed a warm up period. This is what the response said:</p>\n<blockquote>\n<p>Although SQS FIFO queue high throughput supports up to 70,000 TPS with batching, internally SQS must scale up its backend hosts for the queue to handle the increased load. The scaling process typically takes low hundreds of milliseconds to complete, during which temporary throttling may occur.</p>\n</blockquote>\n<p>It seems the scaling up is not instantaneous, and there could be throttling even with high throughput, and even if you are not reaching 70,000 TPS limit (depends on region to region).</p>\n<p>The only option here is to build a retry mechanism, you can also try reaching out to AWS support so they can keep the queue scaled up.</p>\n",
    "score" : 0,
    "is_accepted" : true,
    "owner" : {
      "account_id" : 7138022,
      "reputation" : 337,
      "user_id" : 5621167,
      "user_type" : "registered",
      "accept_rate" : 88,
      "profile_image" : "https://www.gravatar.com/avatar/77ccd115647f50b200e6a7b702431b36?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "itishrishikesh",
      "link" : "https://stackoverflow.com/users/5621167/itishrishikesh"
    },
    "creation_date" : 1762366019,
    "last_activity_date" : 1762366019,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ ],
  "answer_comments" : { }
}