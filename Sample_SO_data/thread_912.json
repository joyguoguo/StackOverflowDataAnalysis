{
  "question" : {
    "question_id" : 79761061,
    "title" : "Binary Tree Level Order Traversal problems",
    "body" : "<blockquote>\n<p>Given the root of a binary tree, return the level order traversal of its nodes' values. (i.e., from left to right, level by level).</p>\n</blockquote>\n<p><strong>What's the problem with the following implementation?</strong>\n<strong>How to fix it?</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public List&lt;List&lt;Integer&gt;&gt; levelOrder4(TreeNode root) {\n        List&lt;List&lt;Integer&gt;&gt; result = new ArrayList();\n\n        // edge case check\n        if(root == null) return result;\n\n        // use queue to store nodes\n        Queue&lt;TreeNode&gt; queue = new LinkedList();\n        queue.add(root);\n\n        // process nodes level by level\n        while(!queue.isEmpty()) {\n\n            List&lt;Integer&gt; level = new ArrayList();\n\n            for(int i = 0; i &lt; queue.size(); i++) {\n                TreeNode node = queue.poll();\n                level.add(node.val);\n\n                if(node.left != null) queue.add(node.left);\n                if(node.right != null) queue.add(node.right);\n            }\n            result.add(level);\n        }\n        return result;\n    }\n</code></pre>\n",
    "tags" : [ "java", "algorithm" ],
    "owner" : {
      "account_id" : 2621865,
      "reputation" : 41,
      "user_id" : 2269722,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/72b25a5c6761da9602e1904dafccfce0?s=256&d=identicon&r=PG",
      "display_name" : "peter8015",
      "link" : "https://stackoverflow.com/users/2269722/peter8015"
    },
    "is_answered" : true,
    "view_count" : 81,
    "answer_count" : 1,
    "score" : 1,
    "last_activity_date" : 1762042743,
    "creation_date" : 1757520326,
    "link" : "https://stackoverflow.com/questions/79761061/binary-tree-level-order-traversal-problems",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79761124,
    "question_id" : 79761061,
    "body" : "<p>Basically said it already in the comment: <code>queue.size()</code> keeps changing which can lead to processing not enough or too many nodes. There is an easy fix:</p>\n<pre><code>int size = queue.size();\nfor(int i = 0; i &lt; size; i++) {\n</code></pre>\n<p>I guess that's why we usually use a new collection for the next level and then after we processed the level we assign it to the original collection. It is clearer what we are doing and less prone to errors.</p>\n",
    "score" : 2,
    "is_accepted" : true,
    "owner" : {
      "account_id" : 6136413,
      "reputation" : 9587,
      "user_id" : 4785110,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/71b70abe72497023835a6dd8961b7c89?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "maraca",
      "link" : "https://stackoverflow.com/users/4785110/maraca"
    },
    "creation_date" : 1757524960,
    "last_activity_date" : 1757524960,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140727230,
    "post_id" : 79761061,
    "body" : "What makes you think there <i>is</i> a problem?",
    "score" : 3,
    "owner" : {
      "account_id" : 682692,
      "reputation" : 50046,
      "user_id" : 535275,
      "user_type" : "registered",
      "accept_rate" : 91,
      "profile_image" : "https://i.sstatic.net/Ft2Mw.jpg?s=256",
      "display_name" : "Scott Hunter",
      "link" : "https://stackoverflow.com/users/535275/scott-hunter"
    },
    "creation_date" : 1757521704,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}