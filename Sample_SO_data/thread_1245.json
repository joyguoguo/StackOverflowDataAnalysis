{
  "question" : {
    "question_id" : 79727392,
    "title" : "Packaged SpringBoot jar is missing the slf4j libraries, other ways of building work",
    "body" : "<p>I have a Maven SpringBoot application with source language Java 21. I think there is something wrong with adding my libraries in the classpath of my generated jar file. When I execute <code>mvn package</code> or <code>mvn compile</code> or start the SpringBootApplication in IntelliJ, everything seems to be fine. No issues, no dependency problems.</p>\n<p>However when I execute a <code>mvn package</code> and afterwards I execute the java executable by running <code>java -jar project-local-SNAPSHOT.jar</code> I get following stack trace.</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/slf4j/LoggerFactory\n        at com.emea.project.ProjectApplication.&lt;clinit&gt;(ProjectApplication.java:13)\nCaused by: java.lang.ClassNotFoundException: org.slf4j.LoggerFactory\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526)\n</code></pre>\n<p>This links to the @Slf4J annotation in my ProjectApplication class, which is the following logic:</p>\n<pre><code>package com.emea.project;\n\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.scheduling.annotation.EnableAsync;\nimport org.springframework.scheduling.annotation.EnableScheduling;\n\n/**\n * Application starting point.\n */\n@Slf4j\n@EnableAsync\n@EnableScheduling\n@SpringBootApplication\n@ComponentScan(&quot;com.emea.reporting&quot;)\npublic class ProjectApplication {\n  \n  public static void main(String[] args) {\n    SpringApplication.run(ProjectApplication.class, args);\n  }\n}\n</code></pre>\n<p>To add additional information, I also add my pom file:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.5.3&lt;/version&gt;\n        &lt;relativePath/&gt;\n    &lt;/parent&gt;\n\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.emea&lt;/groupId&gt;\n    &lt;artifactId&gt;project&lt;/artifactId&gt;\n    &lt;version&gt;${revision}&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;!-- Project properties --&gt;\n        &lt;revision&gt;local-SNAPSHOT&lt;/revision&gt;\n        &lt;maven.compiler.source&gt;21&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;21&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;!-- Dependency versions --&gt;\n        &lt;springboot-version&gt;3.5.3&lt;/springboot-version&gt;\n        &lt;lombok-version&gt;1.18.38&lt;/lombok-version&gt;\n        &lt;springjdbc-version&gt;6.2.9&lt;/springjdbc-version&gt;\n        &lt;jib.build-goal&gt;build&lt;/jib.build-goal&gt;\n        &lt;jib.image-provider&gt;registry&lt;/jib.image-provider&gt;\n        &lt;exec.mainClass&gt;com.emea.project.ProjectApplication&lt;/exec.mainClass&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.findbugs&lt;/groupId&gt;\n            &lt;artifactId&gt;annotations&lt;/artifactId&gt;\n            &lt;version&gt;3.0.1&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.findbugs&lt;/groupId&gt;\n            &lt;artifactId&gt;jsr305&lt;/artifactId&gt;\n            &lt;version&gt;3.0.1&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n            &lt;version&gt;5.9.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.httpcomponents.client5&lt;/groupId&gt;\n            &lt;artifactId&gt;httpclient5&lt;/artifactId&gt;\n            &lt;version&gt;5.5&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.5.3&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                    &lt;configuration&gt;\n                        &lt;annotationProcessorPaths&gt;\n                            &lt;path&gt;\n                                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                                &lt;version&gt;${lombok-version}&lt;/version&gt;\n                            &lt;/path&gt;\n                        &lt;/annotationProcessorPaths&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.3.0&lt;/version&gt;\n                    &lt;configuration&gt;\n                        &lt;archive&gt;\n                            &lt;manifest&gt;\n                                &lt;mainClass&gt;${exec.mainClass}&lt;/mainClass&gt;\n                            &lt;/manifest&gt;\n                        &lt;/archive&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n",
    "tags" : [ "java", "spring", "spring-boot", "maven" ],
    "owner" : {
      "account_id" : 43173967,
      "reputation" : 65,
      "user_id" : 31117717,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/a123aaf8b1876577a68af8ea8355cc3f?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "jonasaud",
      "link" : "https://stackoverflow.com/users/31117717/jonasaud"
    },
    "is_answered" : true,
    "view_count" : 100,
    "answer_count" : 1,
    "score" : 0,
    "last_activity_date" : 1754495797,
    "creation_date" : 1754488822,
    "link" : "https://stackoverflow.com/questions/79727392/packaged-springboot-jar-is-missing-the-slf4j-libraries-other-ways-of-building-w",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79727545,
    "question_id" : 79727392,
    "body" : "<p>start your spring boot project from here:</p>\n<p><a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">https://start.spring.io/</a></p>\n<p><a href=\"https://i.sstatic.net/2xf33LM6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/2xf33LM6.png\" alt=\"enter image description here\" /></a></p>\n<p>get project.zip</p>\n<p>unzip the project.zip</p>\n<p>you can find: pom.xml</p>\n<p>ã€Œ</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.5.4&lt;/version&gt;\n        &lt;relativePath/&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.emea&lt;/groupId&gt;\n    &lt;artifactId&gt;project&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;project&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;21&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;annotationProcessorPaths&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/path&gt;\n                    &lt;/annotationProcessorPaths&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>(1) Use the spring-boot-maven-plugin to build the Spring Boot application JAR. Do not use the maven-jar-plugin.</p>\n<p>(2) In the  section of your pom.xml, do not manually specify the versions of dependencies that are already managed by Spring Boot (e.g., 3.5.3, 1.18.38, 6.2.9).</p>\n<p>(3) You can use the mvn dependency:tree command to identify the libraries and versions that are already included by Spring Boot.</p>\n<p>package and run:</p>\n<p>package</p>\n<pre><code>mvn clean package\n</code></pre>\n<p>run</p>\n<pre><code>java -jar target/project-0.0.1-SNAPSHOT.jar\n</code></pre>\n<p>then everything is ok!</p>\n<pre><code>2025-08-06T23:52:06.643+08:00  INFO 17710 --- [project] [           main] com.emea.project.ProjectApplication      : Started ProjectApplication in 1.387 seconds (process running for 1.986)\n</code></pre>\n<p>To reproduce your issue, simply modify the pom.xml as follows:</p>\n<p>add</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.3.0&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;archive&gt;\n            &lt;manifest&gt;\n                &lt;mainClass&gt;${exec.mainClass}&lt;/mainClass&gt;\n            &lt;/manifest&gt;\n        &lt;/archive&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>remove</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n        &lt;excludes&gt;\n            &lt;exclude&gt;\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;/exclude&gt;\n        &lt;/excludes&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>add</p>\n<pre><code>&lt;exec.mainClass&gt;com.emea.project.ProjectApplication&lt;/exec.mainClass&gt;\n</code></pre>\n<p>into <code>&lt;properties&gt;</code></p>\n<p>modify <code>ProjectApplication.java</code> like yours.</p>\n<p>package and run:</p>\n<p>package</p>\n<pre><code>mvn clean package\n</code></pre>\n<p>run</p>\n<pre><code>java -jar target/project-0.0.1-SNAPSHOT.jar\n</code></pre>\n<p>then get the same error:</p>\n<pre><code>$ java -jar target/project-0.0.1-SNAPSHOT.jar\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/slf4j/LoggerFactory\n    at com.emea.project.ProjectApplication.&lt;clinit&gt;(ProjectApplication.java:11)\nCaused by: java.lang.ClassNotFoundException: org.slf4j.LoggerFactory\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526)\n    ... 1 more\n</code></pre>\n<p>how to fix ?</p>\n<ul>\n<li>remove <code>maven-jar-plugin</code></li>\n<li>add <code>spring-boot-maven-plugin</code></li>\n</ul>\n",
    "score" : 0,
    "is_accepted" : true,
    "owner" : {
      "account_id" : 26698569,
      "reputation" : 4070,
      "user_id" : 20306007,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/98bbc403493aee3681b71dae7abef66e?s=256&d=identicon&r=PG",
      "display_name" : "life888888",
      "link" : "https://stackoverflow.com/users/20306007/life888888"
    },
    "creation_date" : 1754495797,
    "last_activity_date" : 1754495797,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ ],
  "answer_comments" : {
    "79727545" : [ {
      "comment_id" : 140648199,
      "post_id" : 79727545,
      "body" : "You are right, replacing the plugin resolves the issue. The problem is that I had to convert a different project. But I keep the advice to generate a new SpringBoot application using the initializer. Thanks!",
      "score" : 0,
      "owner" : {
        "account_id" : 43173967,
        "reputation" : 65,
        "user_id" : 31117717,
        "user_type" : "registered",
        "profile_image" : "https://www.gravatar.com/avatar/a123aaf8b1876577a68af8ea8355cc3f?s=256&d=identicon&r=PG&f=y&so-version=2",
        "display_name" : "jonasaud",
        "link" : "https://stackoverflow.com/users/31117717/jonasaud"
      },
      "creation_date" : 1754550148,
      "content_license" : "CC BY-SA 4.0"
    } ]
  }
}