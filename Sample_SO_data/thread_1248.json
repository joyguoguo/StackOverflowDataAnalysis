{
  "question" : {
    "question_id" : 79727122,
    "title" : "How to make Jooq Codegen generated Enums work with Deserialization Libraries (like Jackson)",
    "body" : "<p>The Jooq Codegenerator creates Enums (when it can) for database columns that allow it to.</p>\n<p>It would be helpful to let the Enums be Deserializable by Libraries like Jackson, which is currently not the case.</p>\n<p>My Use-Case:</p>\n<ul>\n<li><p>I have DTOs where i use the same Enums that Jooq has generated and uses in the generated Jooq-Records, because the Enums are helpful to have for Typesafety Reasons when checking the Values.</p>\n</li>\n<li><p>I have a Frontend Codegenerator (Orval), that creates Frontend Classes for Backend Endpoints and Models (including Enums)</p>\n</li>\n<li><p>My Frontend sends a POST to the Backend where the content contains such a DTO value, but the Deserialization of Jackson is unable to deserialize the given String value to the expected Enum, as the Enum does not provide Jackson a way to detect which function to call for Deserialization. Typically:</p>\n</li>\n<li><p><code>@JsonValue</code></p>\n</li>\n<li><p><code>@JsonCreator</code></p>\n</li>\n</ul>\n<p>What is considered the Best Practice for this Use-Case?</p>\n<ul>\n<li>a) should i not use the Jooq generated Enums in my DTOs?</li>\n<li>b) is there a trick to make Jackson correctly deserialize to such Enums ?</li>\n<li>c) can the Jooq Codegen be instructed to generate Jackson Annotations?</li>\n<li>d) if all fails, the best way here seems to replicate the Enums by manually writing them for the DTOs (with copying the jooq generated enums), and mapping between them.</li>\n</ul>\n<hr />\n<p>Example of a Jooq Codegen created Enum:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * This class is generated by jOOQ.\n */\n@SuppressWarnings({ &quot;all&quot;, &quot;unchecked&quot;, &quot;rawtypes&quot;, &quot;this-escape&quot; })\npublic enum MatchingslotStatus implements EnumType {\n\n    AVAILABLE(&quot;AVAILABLE&quot;),\n\n    SEARCHING(&quot;SEARCHING&quot;),\n\n    ANSWER_WAITING(&quot;ANSWER_WAITING&quot;),\n\n    ANSWER_EXPECTED(&quot;ANSWER_EXPECTED&quot;),\n\n    FINISHED(&quot;FINISHED&quot;);\n\n    private final String literal;\n\n    private MatchingslotStatus(String literal) {\n        this.literal = literal;\n    }\n\n    @Override\n    public Catalog getCatalog() {\n        return null;\n    }\n\n    @Override\n    public Schema getSchema() {\n        return null;\n    }\n\n    @Override\n    public String getName() {\n        return null;\n    }\n\n    @Override\n    public String getLiteral() {\n        return literal;\n    }\n\n    /**\n     * Lookup a value of this EnumType by its literal. Returns\n     * &lt;code&gt;null&lt;/code&gt;, if no such value could be found, see {@link\n     * EnumType#lookupLiteral(Class, String)}.\n     */\n    public static MatchingslotStatus lookupLiteral(String literal) {\n        return EnumType.lookupLiteral(MatchingslotStatus.class, literal);\n    }\n}\n</code></pre>\n",
    "tags" : [ "java", "jackson", "jooq", "jooq-codegen" ],
    "owner" : {
      "account_id" : 3828094,
      "reputation" : 477,
      "user_id" : 3174456,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/qa0Xw.png?s=256",
      "display_name" : "funkrusher",
      "link" : "https://stackoverflow.com/users/3174456/funkrusher"
    },
    "is_answered" : true,
    "view_count" : 80,
    "answer_count" : 1,
    "score" : 0,
    "last_activity_date" : 1754489153,
    "creation_date" : 1754474155,
    "link" : "https://stackoverflow.com/questions/79727122/how-to-make-jooq-codegen-generated-enums-work-with-deserialization-libraries-li",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79727394,
    "question_id" : 79727122,
    "body" : "<p>The problem in the question could not be reproduced (anymore).</p>\n<p>When testing the problem, jackson correctly deserializes json to the jooq generated enum:</p>\n<pre><code>public class Main {\n\n    public static void main(String[] args) throws JsonProcessingException {\n\n        String jsonStr = &quot;{\\&quot;status\\&quot;: \\&quot;GENDER\\&quot; }&quot;;\n\n        MyTest test = new ObjectMapper().readValue(jsonStr, MyTest.class);\n\n        System.out.println(test);\n    }\n\n    public static final class MyTest {\n\n        MatchingslotfilterFiltertype status;\n\n        public MatchingslotfilterFiltertype getStatus() {\n            return status;\n        }\n\n        public void setStatus(MatchingslotfilterFiltertype status) {\n            this.status = status;\n        }\n    }\n}\n</code></pre>\n",
    "score" : 1,
    "is_accepted" : true,
    "owner" : {
      "account_id" : 3828094,
      "reputation" : 477,
      "user_id" : 3174456,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/qa0Xw.png?s=256",
      "display_name" : "funkrusher",
      "link" : "https://stackoverflow.com/users/3174456/funkrusher"
    },
    "creation_date" : 1754489153,
    "last_activity_date" : 1754489153,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140646440,
    "post_id" : 79727122,
    "body" : "Hi k314159, thank you for the input! I think i should have tested it more, because i can not reproduce the problem of my question anymore. The Enum is now correctly deserialized. It must have been an other Problem, so everything works :)",
    "score" : 1,
    "owner" : {
      "account_id" : 3828094,
      "reputation" : 477,
      "user_id" : 3174456,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/qa0Xw.png?s=256",
      "display_name" : "funkrusher",
      "link" : "https://stackoverflow.com/users/3174456/funkrusher"
    },
    "creation_date" : 1754489071,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140646063,
    "post_id" : 79727122,
    "body" : "The default Jackson deserializer already supports enums. However, I think the problem is that jOOQ overrides the <code>toString()</code> method to return null, and null doesn&#39;t match any of the strings you get in the JSON text. If you&#39;re using PostgreSQL, you can register names in the enum schema, and these names will be used by the jOOQ-generated <code>getName()</code>.",
    "score" : 1,
    "owner" : {
      "account_id" : 19118721,
      "reputation" : 12469,
      "user_id" : 13963086,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/9df2c3c4c87d8050b8fd6a59c88c7133?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "k314159",
      "link" : "https://stackoverflow.com/users/13963086/k314159"
    },
    "creation_date" : 1754480416,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}