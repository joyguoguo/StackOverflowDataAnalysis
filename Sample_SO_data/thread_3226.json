{
  "question" : {
    "question_id" : 79563509,
    "title" : "How to convert XML data with attributes to JSON format",
    "body" : "<p>I am using this method to convert XML data to JSON.</p>\n<pre><code>import org.json.XML;\nimport org.json.JSONObject;\n\nclass DataParserUtil \n{\n    public JSONObject convertXMLToJson(String xml) {\n        JSONObject json = XML.toJSONObject(xml,true);\n        System.out.println(json.toString(2));\n        return json;\n    }    \n}\n</code></pre>\n<p>This method return the JSONObject to Controller class. The controller class stores the JSONObject data in HashMap and passes it to the client module.</p>\n<pre><code>Map&lt;String, Object&gt; response = new HashMap&lt;&gt;();\n...\nJSONObject xmlResult = jsonConversionService.convertXMLToJson(data);\nresponse.put(&quot;Data&quot;, xmlResult.toMap());\n...\nActionContext.getContext().put(&quot;jsonResponse&quot;, response);\n</code></pre>\n<p>is really effective for most XML data. But, it slightly fails when it comes to XML data with attributes.</p>\n<p>For this <strong>sample input</strong> - <code>&lt;root type=&quot;student&quot;&gt;&lt;name&gt;John&lt;/name&gt;&lt;/root&gt;</code>\nI am getting it almost right, except <code>@type</code> is displayed as <code>type</code>.</p>\n<p><strong>Expected Output:</strong></p>\n<pre><code>{ &quot;data&quot; : \n   { &quot;root&quot; : \n       { &quot;@type&quot; : &quot;student&quot;, \n         &quot;name&quot; : &quot;John&quot; \n}}} \n</code></pre>\n<p><strong>Output (I receive):</strong></p>\n<pre><code>{ &quot;data&quot; : \n   { &quot;root&quot; : \n       { \n         &quot;type&quot; : &quot;student&quot;, \n         &quot;name&quot; : &quot;John&quot; \n}}} \n</code></pre>\n<p>What should I change in my code to get it in the proper format ?</p>\n",
    "tags" : [ "java", "json", "xml", "org.json" ],
    "owner" : {
      "account_id" : 34390696,
      "reputation" : 11,
      "user_id" : 26543688,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/LhovOIpd.png?s=256",
      "display_name" : "Harry",
      "link" : "https://stackoverflow.com/users/26543688/harry"
    },
    "is_answered" : false,
    "view_count" : 141,
    "answer_count" : 2,
    "score" : 1,
    "last_activity_date" : 1761115395,
    "creation_date" : 1744175830,
    "link" : "https://stackoverflow.com/questions/79563509/how-to-convert-xml-data-with-attributes-to-json-format",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79564048,
    "question_id" : 79563509,
    "body" : "<p>You can use jackson module, e.g:</p>\n<pre><code>import com.fasterxml.jackson.databind.JsonNode;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.dataformat.xml.XmlMapper;\n\nimport java.io.File;\nimport java.util.HashMap;\nimport java.util.Map;\n\nclass DataParserUtil {\n    public JsonNode convertXMLFileToJson(String filePath) throws Exception {\n        XmlMapper xmlMapper = new XmlMapper();\n        File xmlFile = new File(filePath);\n        JsonNode jsonNode = xmlMapper.readTree(xmlFile);\n\n        ObjectMapper jsonMapper = new ObjectMapper();\n        return jsonMapper.convertValue(jsonNode, JsonNode.class);\n    }\n\n    public static void main(String[] args) {\n        try {\n            DataParserUtil parser = new DataParserUtil();\n            String filePath = &quot;path/to/your/file.xml&quot;;\n            JsonNode json = parser.convertXMLFileToJson(filePath);\n\n            System.out.println(json.toString());\n\n            // Manage attribute\n            Map&lt;String, Object&gt; response = new HashMap&lt;&gt;();\n            response.put(&quot;Data&quot;, json);\n            System.out.println(response);\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n",
    "score" : 0,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 18946503,
      "reputation" : 316,
      "user_id" : 20851944,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/ad95811c8e569ec54b84504cce418d11?s=256&d=identicon&r=PG",
      "display_name" : "Paul-ET",
      "link" : "https://stackoverflow.com/users/20851944/paul-et"
    },
    "creation_date" : 1744193068,
    "last_activity_date" : 1744193068,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "answer_id" : 79796465,
    "question_id" : 79563509,
    "body" : "<p>You can use <a href=\"https://github.com/javadev/underscore-java\" rel=\"nofollow noreferrer\">underscore-java</a> library to convert xml to json</p>\n<pre><code>assertEquals(\n        &quot;{\\n&quot;\n                + &quot;  \\&quot;root\\&quot;: {\\n&quot;\n                + &quot;    \\&quot;-type\\&quot;: \\&quot;student\\&quot;,\\n&quot;\n                + &quot;    \\&quot;name\\&quot;: \\&quot;John\\&quot;\\n&quot;\n                + &quot;  }\\n&quot;\n                + &quot;}&quot;,\n        U.xmlToJsonMinimum(&quot;&lt;root type=\\&quot;student\\&quot;&gt;&lt;name&gt;John&lt;/name&gt;&lt;/root&gt;&quot;));\n</code></pre>\n",
    "score" : 0,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 2203785,
      "reputation" : 2125,
      "user_id" : 1947482,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/AHzIvN8J.jpg?s=256",
      "display_name" : "Valentyn Kolesnikov",
      "link" : "https://stackoverflow.com/users/1947482/valentyn-kolesnikov"
    },
    "creation_date" : 1761115395,
    "last_activity_date" : 1761115395,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140314930,
    "post_id" : 79563509,
    "body" : "I have updated all the required information. If any other information is required please lmk.",
    "score" : 0,
    "owner" : {
      "account_id" : 34390696,
      "reputation" : 11,
      "user_id" : 26543688,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/LhovOIpd.png?s=256",
      "display_name" : "Harry",
      "link" : "https://stackoverflow.com/users/26543688/harry"
    },
    "creation_date" : 1744184930,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140314681,
    "post_id" : 79563509,
    "body" : "Please also include the exact output you are currently creating with your code in your question.",
    "score" : 0,
    "owner" : {
      "account_id" : 1580843,
      "reputation" : 13706,
      "user_id" : 1466267,
      "user_type" : "registered",
      "accept_rate" : 91,
      "profile_image" : "https://www.gravatar.com/avatar/c47d1f7544a8c4a1bb7a41d511f53604?s=256&d=identicon&r=PG",
      "display_name" : "SpaceTrucker",
      "link" : "https://stackoverflow.com/users/1466267/spacetrucker"
    },
    "creation_date" : 1744181041,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140314629,
    "post_id" : 79563509,
    "body" : "(It would also help if you&#39;d provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> with all the imports, so we can see exactly which libraries you&#39;re using...)",
    "score" : 1,
    "owner" : {
      "account_id" : 11683,
      "reputation" : 1520872,
      "user_id" : 22656,
      "user_type" : "registered",
      "accept_rate" : 86,
      "profile_image" : "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=256&d=identicon&r=PG",
      "display_name" : "Jon Skeet",
      "link" : "https://stackoverflow.com/users/22656/jon-skeet"
    },
    "creation_date" : 1744180031,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140314625,
    "post_id" : 79563509,
    "body" : "Do you mean <code>type</code> is displayed as <code>@type</code>? (If you&#39;d post the actual JSON, this wouldn&#39;t be a problem...)",
    "score" : 1,
    "owner" : {
      "account_id" : 11683,
      "reputation" : 1520872,
      "user_id" : 22656,
      "user_type" : "registered",
      "accept_rate" : 86,
      "profile_image" : "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=256&d=identicon&r=PG",
      "display_name" : "Jon Skeet",
      "link" : "https://stackoverflow.com/users/22656/jon-skeet"
    },
    "creation_date" : 1744179981,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}