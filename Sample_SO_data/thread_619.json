{
  "question" : {
    "question_id" : 79789031,
    "title" : "Animate an imageview in android using fade and cropping",
    "body" : "<p>I am creating an android app (using Java), and I want to use an effect in my main menu:</p>\n<p>My background image is an ImageView. I've set the source to a drawable. What I would like to do is have it start as a cropped area of that picture, then gradually fade to another point in that picture with the same width and height (without going outside the picture of course), with a random point in the picture every time.</p>\n<p>How would I go about doing this in Android Studio using Java?</p>\n",
    "tags" : [ "java", "android", "animation", "imageview" ],
    "owner" : {
      "account_id" : 23165764,
      "reputation" : 29,
      "user_id" : 17265725,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/59aa22795998d0df8e7d2d6bdd303f07?s=256&d=identicon&r=PG",
      "display_name" : "Ian McInnes",
      "link" : "https://stackoverflow.com/users/17265725/ian-mcinnes"
    },
    "is_answered" : false,
    "view_count" : 89,
    "answer_count" : 1,
    "score" : -1,
    "last_activity_date" : 1761051283,
    "creation_date" : 1760341637,
    "link" : "https://stackoverflow.com/questions/79789031/animate-an-imageview-in-android-using-fade-and-cropping",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79789538,
    "question_id" : 79789031,
    "body" : "<h3>Animate an ImageView with a Smooth Fade and Crop (Ken Burns-style Effect)</h3>\n<p>You can achieve this using a <strong>Matrix transformation</strong> and a <strong>ValueAnimator</strong>.<br />\nThe <code>Matrix</code> controls which cropped portion of the image is visible, and the animator smoothly pans and fades between random positions.</p>\n<hr />\n<h4>Example (Java)</h4>\n<pre><code>ImageView imageView = findViewById(R.id.background);\nimageView.setScaleType(ImageView.ScaleType.MATRIX);\n\nMatrix matrix = new Matrix();\nDrawable drawable = imageView.getDrawable();\nif (drawable == null) return;\n\n// Get image and view dimensions\nint imageWidth = drawable.getIntrinsicWidth();\nint imageHeight = drawable.getIntrinsicHeight();\nint viewWidth = imageView.getWidth();\nint viewHeight = imageView.getHeight();\n\n// Scale so the image fills the view\nfloat scale = Math.max((float) viewWidth / imageWidth, (float) viewHeight / imageHeight);\nmatrix.setScale(scale, scale);\n\n// Calculate maximum translation allowed\nfloat maxX = viewWidth - imageWidth * scale;\nfloat maxY = viewHeight - imageHeight * scale;\n\n// Choose a random target offset within safe bounds\nfloat targetX = randomBetween(maxX, 0);\nfloat targetY = randomBetween(maxY, 0);\n\n// Animate panning and fading\nValueAnimator anim = ValueAnimator.ofFloat(0f, 1f);\nanim.setDuration(4000);\nanim.addUpdateListener(t -&gt; {\n    float progress = (float) t.getAnimatedValue();\n\n    // Interpolate between current and target positions\n    float newX = lerp(0, targetX, progress);\n    float newY = lerp(0, targetY, progress);\n\n    matrix.setTranslate(newX, newY);\n    imageView.setImageMatrix(matrix);\n\n    // Fade in and out smoothly\n    float alpha = 0.8f + 0.2f * (float) Math.sin(progress * Math.PI);\n    imageView.setAlpha(alpha);\n});\nanim.start();\n\n// Utility helpers\nprivate float randomBetween(float min, float max) {\n    return (float) (Math.random() * (max - min) + min);\n}\n\nprivate float lerp(float start, float end, float fraction) {\n    return start + (end - start) * fraction;\n}\n</code></pre>\n<h4>How It Works</h4>\n<ol>\n<li><p><strong>Scaling:</strong> The image is scaled to fill the view without leaving empty borders.</p>\n</li>\n<li><p><strong>Cropping &amp; Panning:</strong> We use the <code>Matrix</code> to translate (pan) the visible region of the image.</p>\n</li>\n<li><p><strong>Random Motion:</strong> Each animation picks a random offset so the visible crop changes each time.</p>\n</li>\n<li><p><strong>Smooth Fade:</strong> A sine-wave fade (<code>Math.sin(progress * Math.PI)</code>) creates a gentle in-out transition.</p>\n</li>\n<li><p><strong>Continuous Effect:</strong> You can restart the animation in <code>onAnimationEnd()</code> for a looping background motion.</p>\n</li>\n</ol>\n<h4>Tips</h4>\n<ul>\n<li><p>For a seamless loop, trigger a new random target in the <code>AnimatorListener.onAnimationEnd</code> callback.</p>\n</li>\n<li><p>Use higher durations (6000–8000 ms) for slower cinematic panning.</p>\n</li>\n<li><p>You can adapt the same logic in Kotlin or Compose with <code>graphicsLayer</code> and <code>animateFloatAsState</code>.</p>\n</li>\n</ul>\n",
    "score" : 0,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 19759173,
      "reputation" : 39,
      "user_id" : 14468754,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/9e7099b006b12a0ed3f7556d07fe41c6?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Arshad",
      "link" : "https://stackoverflow.com/users/14468754/arshad"
    },
    "creation_date" : 1760378698,
    "last_activity_date" : 1761051283,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ ],
  "answer_comments" : {
    "79789538" : [ {
      "comment_id" : 140793700,
      "post_id" : 79789538,
      "body" : "As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/79789538/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>.",
      "score" : 0,
      "owner" : {
        "account_id" : -1,
        "reputation" : 1,
        "user_id" : -1,
        "user_type" : "moderator",
        "profile_image" : "https://www.gravatar.com/avatar/a007be5a61f6aa8f3e85ae2fc18dd66e?s=256&d=identicon&r=PG",
        "display_name" : "Community",
        "link" : "https://stackoverflow.com/users/-1/community"
      },
      "creation_date" : 1760387220,
      "content_license" : "CC BY-SA 4.0"
    } ]
  }
}