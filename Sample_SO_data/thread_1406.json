{
  "question" : {
    "question_id" : 79709771,
    "title" : "Java 17: Metaspace (data) allocation failure in GC log without a java.lang.OutOfMemoryError: Metaspace",
    "body" : "<p>I am seeing the below in the GC log before the JVM pauses for several minutes after which it gets restarted externally.</p>\n<pre class=\"lang-none prettyprint-override\"><code>[2025-07-18T18:08:42.605-0600][info][gc,metaspace,freelist,oom] Metaspace (data) allocation failed for size 1075\n[2025-07-18T18:08:42.605-0600][info][gc,metaspace,freelist,oom]\n[2025-07-18T18:08:42.605-0600][info][gc,metaspace,freelist,oom] Usage:\n[2025-07-18T18:08:42.605-0600][info][gc,metaspace,freelist,oom]   Non-class:    168.00 MB used.\n[2025-07-18T18:08:42.605-0600][info][gc,metaspace,freelist,oom]       Class:     19.79 MB used.\n[2025-07-18T18:08:42.605-0600][info][gc,metaspace,freelist,oom]        Both:    187.79 MB used.\n[2025-07-18T18:08:42.605-0600][info][gc,metaspace,freelist,oom]\n[2025-07-18T18:08:42.605-0600][info][gc,metaspace,freelist,oom] Virtual space:\n[2025-07-18T18:08:42.605-0600][info][gc,metaspace,freelist,oom]   Non-class space:      192.00 MB reserved,     170.06 MB ( 89%) committed,  3 nodes.\n[2025-07-18T18:08:42.605-0600][info][gc,metaspace,freelist,oom]       Class space:       96.00 MB reserved,      21.94 MB ( 23%) committed,  1 nodes.\n[2025-07-18T18:08:42.605-0600][info][gc,metaspace,freelist,oom]              Both:      288.00 MB reserved,     192.00 MB ( 67%) committed.\n[2025-07-18T18:08:42.605-0600][info][gc,metaspace,freelist,oom]\n[2025-07-18T18:08:42.605-0600][info][gc,metaspace,freelist,oom] Chunk freelists:\n[2025-07-18T18:08:42.605-0600][info][gc,metaspace,freelist,oom]    Non-Class:  6.83 MB\n[2025-07-18T18:08:42.605-0600][info][gc,metaspace,freelist,oom]        Class:  10.47 MB\n[2025-07-18T18:08:42.605-0600][info][gc,metaspace,freelist,oom]         Both:  17.30 MB\n[2025-07-18T18:08:42.605-0600][info][gc,metaspace,freelist,oom]\n[2025-07-18T18:08:42.605-0600][info][gc,metaspace,freelist,oom] MaxMetaspaceSize: 192.00 MB\n[2025-07-18T18:08:42.605-0600][info][gc,metaspace,freelist,oom] CompressedClassSpaceSize: 96.00 MB\n[2025-07-18T18:08:42.605-0600][info][gc,metaspace,freelist,oom] Initial GC threshold: 21.00 MB\n[2025-07-18T18:08:42.605-0600][info][gc,metaspace,freelist,oom] Current GC threshold: 192.00 MB\n[2025-07-18T18:08:42.605-0600][info][gc,metaspace,freelist,oom] CDS: off\n[2025-07-18T18:08:42.605-0600][info][gc,metaspace,freelist,oom] MetaspaceReclaimPolicy: balanced\n[2025-07-18T18:08:42.605-0600][info][gc,metaspace,freelist,oom]  - commit_granule_bytes: 65536.\n[2025-07-18T18:08:42.605-0600][info][gc,metaspace,freelist,oom]  - commit_granule_words: 8192.\n[2025-07-18T18:08:42.605-0600][info][gc,metaspace,freelist,oom]  - virtual_space_node_default_size: 8388608.\n[2025-07-18T18:08:42.605-0600][info][gc,metaspace,freelist,oom]  - enlarge_chunks_in_place: 1.\n[2025-07-18T18:08:42.605-0600][info][gc,metaspace,freelist,oom]  - new_chunks_are_fully_committed: 0.\n[2025-07-18T18:08:42.605-0600][info][gc,metaspace,freelist,oom]  - uncommit_free_chunks: 1.\n[2025-07-18T18:08:42.605-0600][info][gc,metaspace,freelist,oom]  - use_allocation_guard: 0.\n[2025-07-18T18:08:42.605-0600][info][gc,metaspace,freelist,oom]  - handle_deallocations: 1.\n[2025-07-18T18:08:42.605-0600][info][gc,metaspace,freelist,oom]\n[2025-07-18T18:08:42.605-0600][info][gc,metaspace,freelist,oom]\n[2025-07-18T18:08:42.605-0600][info][gc,metaspace,freelist,oom] Internal statistics:\n[2025-07-18T18:08:42.605-0600][info][gc,metaspace,freelist,oom]\n[2025-07-18T18:08:42.605-0600][info][gc,metaspace,freelist,oom] num_allocs_failed_limit: 717.\n[2025-07-18T18:08:42.606-0600][info][gc,metaspace,freelist,oom] num_arena_births: 71282.\n[2025-07-18T18:08:42.606-0600][info][gc,metaspace,freelist,oom] num_arena_deaths: 63782.\n[2025-07-18T18:08:42.606-0600][info][gc,metaspace,freelist,oom] num_vsnodes_births: 4.\n[2025-07-18T18:08:42.606-0600][info][gc,metaspace,freelist,oom] num_vsnodes_deaths: 0.\n[2025-07-18T18:08:42.606-0600][info][gc,metaspace,freelist,oom] num_space_committed: 3072.\n[2025-07-18T18:08:42.606-0600][info][gc,metaspace,freelist,oom] num_space_uncommitted: 1.\n[2025-07-18T18:08:42.606-0600][info][gc,metaspace,freelist,oom] num_chunks_returned_to_freelist: 95133.\n[2025-07-18T18:08:42.606-0600][info][gc,metaspace,freelist,oom] num_chunks_taken_from_freelist: 114240.\n[2025-07-18T18:08:42.606-0600][info][gc,metaspace,freelist,oom] num_chunk_merges: 22894.\n[2025-07-18T18:08:42.606-0600][info][gc,metaspace,freelist,oom] num_chunk_splits: 33864.\n[2025-07-18T18:08:42.606-0600][info][gc,metaspace,freelist,oom] num_chunks_enlarged: 6650.\n[2025-07-18T18:08:42.606-0600][info][gc,metaspace,freelist,oom] num_inconsistent_stats: 0.\n[2025-07-18T18:08:42.606-0600][info][gc,metaspace,freelist,oom]\n</code></pre>\n<p>Looking at this log, it seems to point an imminent Metaspace OOM however I am not sure if its indeed the case given the log seems to indicate only an allocation failure &amp; there was no <code>java.lang.OutOfMemoryError: Metaspace</code> getting thrown afterwards just a very long pause.</p>\n<p>Is my understanding correct that the above implies an imminent Metaspace OOM?</p>\n",
    "tags" : [ "java", "jvm", "garbage-collection", "out-of-memory", "metaspace" ],
    "owner" : {
      "account_id" : 6749614,
      "reputation" : 778,
      "user_id" : 5200064,
      "user_type" : "registered",
      "accept_rate" : 80,
      "profile_image" : "https://www.gravatar.com/avatar/79b695a0b6482c768728b8b1a2c8b089?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "lmk",
      "link" : "https://stackoverflow.com/users/5200064/lmk"
    },
    "is_answered" : true,
    "view_count" : 153,
    "answer_count" : 1,
    "score" : 0,
    "last_activity_date" : 1753301887,
    "creation_date" : 1753146240,
    "link" : "https://stackoverflow.com/questions/79709771/java-17-metaspace-data-allocation-failure-in-gc-log-without-a-java-lang-outof",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79711529,
    "question_id" : 79709771,
    "body" : "<p>It's actually trying to recover, but it's killed before throwing the OOM exception, or finishing the recovery.</p>\n<p>The metaspace is capped and cannot grow, so you have to increase your metaspace:</p>\n<pre><code>-XX:MetaspaceSize=256M\n</code></pre>\n<p>However, you need to monitor this, as it might be the case where the application is generating virtual classes and proxies, filling up the metaspace. GC will not cleanup the classes you loaded in your classloader so whenever you create something there, will stay there until the end. You need to unload it in order to  recover that space, that is: to remove all references of that classloader and it's classes.</p>\n<p>You can do this using java profilers like VisualVM.</p>\n<h2>LE: Just to clarify how things work.</h2>\n<p>GC will never cleanup classes loaded in the classloader. So when you create a proxy, it gets loaded in your classloader.</p>\n<p>This code will prove that this is not cleaned up:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import net.bytebuddy.ByteBuddy;\nimport net.bytebuddy.dynamic.loading.ClassLoadingStrategy;\nimport net.bytebuddy.implementation.FixedValue;\nimport net.bytebuddy.matcher.ElementMatchers;\n\nimport java.lang.management.ManagementFactory;\nimport java.lang.management.MemoryPoolMXBean;\nimport java.lang.reflect.InvocationTargetException;\nimport java.net.MalformedURLException;\n\npublic class ClassLoaderExample {\n\n    public static void main(String[] args) throws MalformedURLException, ClassNotFoundException, NoSuchMethodException, InvocationTargetException, InstantiationException, IllegalAccessException {\n        MemoryPoolMXBean metaspace = metaspace();\n\n        System.out.println(&quot;Metaspace used: &quot; + metaspace.getUsage().getUsed());\n\n        for (int i = 0; ; i++) {\n            Class&lt;?&gt; dynamicType = new ByteBuddy()\n                    .subclass(Object.class)\n                    .method(ElementMatchers.named(&quot;toString&quot;))\n                    .intercept(FixedValue.value(&quot;Hello World!&quot;))\n                    .make()\n                    .load(ClassLoaderExample.class.getClassLoader(), ClassLoadingStrategy.Default.INJECTION)\n                    .getLoaded();\n\n            if (i % 100000 == 0) {\n                System.out.println(&quot;Metaspace used: &quot; + metaspace.getUsage().getUsed() + &quot; of &quot; + metaspace.getUsage().getCommitted());\n                System.gc();\n            }\n        }\n\n    }\n\n    static MemoryPoolMXBean metaspace() {\n        for (MemoryPoolMXBean pool : ManagementFactory.getMemoryPoolMXBeans()) {\n            if (pool.getName().contains(&quot;Metaspace&quot;)) {\n                return pool;\n            }\n        }\n        throw new RuntimeException(&quot;Metaspace not found&quot;);\n    }\n\n}\n</code></pre>\n<p>Will return OOM:</p>\n<pre><code>Metaspace used: 1197072\nMetaspace used: 8398248 of 8650752\nMetaspace used: 123650552 of 123994112\nMetaspace used: 234890296 of 235274240\nMetaspace used: 346141224 of 346554368\nMetaspace used: 457403568 of 457768960\nMetaspace used: 568629400 of 569049088\nMetaspace used: 679867840 of 680329216\nMetaspace used: 791102512 of 791543808\nMetaspace used: 902339408 of 902823936\nMetaspace used: 1013555440 of 1014104064\nMetaspace used: 1124775896 of 1125253120\nMetaspace used: 1236008680 of 1236533248\nMetaspace used: 1347242088 of 1347878912\nMetaspace used: 1458458368 of 1459027968\nMetaspace used: 1569672832 of 1570308096\nMetaspace used: 1680888168 of 1681522688\nMetaspace used: 1792124488 of 1792737280\nMetaspace used: 1903363368 of 1904017408\nMetaspace used: 2014583800 of 2015297536\nMetaspace used: 2125814184 of 2126446592\nMetaspace used: 2237049112 of 2237726720\nException in thread &quot;main&quot; java.lang.IllegalStateException: java.lang.OutOfMemoryError: Compressed class space\n    at net.bytebuddy.dynamic.loading.ClassInjector$UsingReflection$Dispatcher$UsingUnsafeInjection.defineClass(ClassInjector.java:1093)\n    at net.bytebuddy.dynamic.loading.ClassInjector$UsingReflection.injectRaw(ClassInjector.java:329)\n    at net.bytebuddy.dynamic.loading.ClassInjector$AbstractBase.injectRaw(ClassInjector.java:167)\n    at net.bytebuddy.dynamic.loading.ClassInjector$AbstractBase.inject(ClassInjector.java:155)\n    at net.bytebuddy.dynamic.loading.ClassLoadingStrategy$Default$InjectionDispatcher.load(ClassLoadingStrategy.java:241)\n    at net.bytebuddy.dynamic.loading.ClassLoadingStrategy$Default.load(ClassLoadingStrategy.java:148)\n    at net.bytebuddy.dynamic.TypeResolutionStrategy$Passive.initialize(TypeResolutionStrategy.java:101)\n    at net.bytebuddy.dynamic.DynamicType$Default$Unloaded.load(DynamicType.java:6432)\n    at com.example.ClassLoaderExample.main(ClassLoaderExample.java:27)\nCaused by: java.lang.OutOfMemoryError: Compressed class space\n</code></pre>\n<p>This is the same with proxies, however the JVM also has a cache, so when you are using the same interface for proxy, it will not load a new proxy in the classloader.</p>\n<p>Now there's a trick to it: short lived classloaders.</p>\n<p>ByteBuddy for example uses a wrapper strategy by default: will create a new classloader and load the virtual class in that classloader instead of the provided one. This means that when the class is not referenced anymore, GC will clean it up because the class is not in the classloader, but in a short lived one, designed to keep only that virtual class.</p>\n<p>If you change <code>ClassLoadingStrategy.Default.INJECTION</code> with <code>ClassLoadingStrategy.Default.WRAPPER</code>, the OOM will not happen, and you will see a drop in metaspace memory each time GC executes.</p>\n<h2>Bottom line:</h2>\n<ol>\n<li><p>You might have an issue if you are generating classes / proxies at runtime. If you do this, monitor with jcmd or VisualVM. See where they come from. Optimize using short lived classloaders. However, caches can prevent the class of being unloaded: the cache holds reference to the object, the object hold reference to the class, the class references the classloader -&gt; GC will not clean it up.</p>\n</li>\n<li><p>You might have too many classes for the memory you currently have available. JVM will load your classes in a lazy way, whenever the class definition is needed. Classpath scanners, like the one from Spring Framework, can trigger the loading of multiple classes, even if you don't actively use them.</p>\n</li>\n</ol>\n",
    "score" : 1,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 1601399,
      "reputation" : 638,
      "user_id" : 1482356,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/d6160b6e40d230fa92c6da8072b2f7e5?s=256&d=identicon&r=PG",
      "display_name" : "Peter Adrian",
      "link" : "https://stackoverflow.com/users/1482356/peter-adrian"
    },
    "creation_date" : 1753259053,
    "last_activity_date" : 1753301887,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140610785,
    "post_id" : 79709771,
    "body" : "For really deep questions ... it is best that you consult the OpenJDK source code.  That&#39;s what I&#39;m doing, albeit I&#39;m not spending much time on it.",
    "score" : 1,
    "owner" : {
      "account_id" : 47283,
      "reputation" : 723428,
      "user_id" : 139985,
      "user_type" : "registered",
      "accept_rate" : 69,
      "profile_image" : "https://www.gravatar.com/avatar/147c5a9cc1feec049c50da791ac7d144?s=256&d=identicon&r=PG",
      "display_name" : "Stephen C",
      "link" : "https://stackoverflow.com/users/139985/stephen-c"
    },
    "creation_date" : 1753247595,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140610497,
    "post_id" : 79709771,
    "body" : "Here are more, <a href=\"https://github.com/openjdk/jdk/blob/01567b51dc5149e906a2cbdf050272fdc647781e/src/hotspot/share/memory/metaspace.cpp#L818\" rel=\"nofollow noreferrer\">github.com/openjdk/jdk/blob/&hellip;</a>  <a href=\"https://bugs.openjdk.org/browse/JDK-8241083\" rel=\"nofollow noreferrer\">bugs.openjdk.org/browse/JDK-8241083</a>",
    "score" : 0,
    "owner" : {
      "account_id" : 6749614,
      "reputation" : 778,
      "user_id" : 5200064,
      "user_type" : "registered",
      "accept_rate" : 80,
      "profile_image" : "https://www.gravatar.com/avatar/79b695a0b6482c768728b8b1a2c8b089?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "lmk",
      "link" : "https://stackoverflow.com/users/5200064/lmk"
    },
    "creation_date" : 1753229805,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140610308,
    "post_id" : 79709771,
    "body" : "@StephenC Thank you again! Btw, I need to better understand the newer Unified JVM GC logging..i see few links like <a href=\"https://openjdk.org/jeps/271\" rel=\"nofollow noreferrer\">this</a>, <a href=\"https://bugs.openjdk.org/browse/JDK-8059805\" rel=\"nofollow noreferrer\">this</a> &amp; <a href=\"https://openjdk.org/jeps/158\" rel=\"nofollow noreferrer\">this</a>....if you know of any good reads that u would recommend..please do share!",
    "score" : 0,
    "owner" : {
      "account_id" : 6749614,
      "reputation" : 778,
      "user_id" : 5200064,
      "user_type" : "registered",
      "accept_rate" : 80,
      "profile_image" : "https://www.gravatar.com/avatar/79b695a0b6482c768728b8b1a2c8b089?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "lmk",
      "link" : "https://stackoverflow.com/users/5200064/lmk"
    },
    "creation_date" : 1753220769,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140609850,
    "post_id" : 79709771,
    "body" : "@Robert It’s a micro service &amp; yes the standard G1 u mean the 192 MB for meta space or the 1075 is small?",
    "score" : 0,
    "owner" : {
      "account_id" : 6749614,
      "reputation" : 778,
      "user_id" : 5200064,
      "user_type" : "registered",
      "accept_rate" : 80,
      "profile_image" : "https://www.gravatar.com/avatar/79b695a0b6482c768728b8b1a2c8b089?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "lmk",
      "link" : "https://stackoverflow.com/users/5200064/lmk"
    },
    "creation_date" : 1753204913,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140609558,
    "post_id" : 79709771,
    "body" : "I think it is 1075 &quot;words&quot;.  (Not sure what the &quot;word&quot; size is though.  I can&#39;t find where the global <code>BytesPerWord</code> is assigned in the native code.)",
    "score" : 1,
    "owner" : {
      "account_id" : 47283,
      "reputation" : 723428,
      "user_id" : 139985,
      "user_type" : "registered",
      "accept_rate" : 69,
      "profile_image" : "https://www.gravatar.com/avatar/147c5a9cc1feec049c50da791ac7d144?s=256&d=identicon&r=PG",
      "display_name" : "Stephen C",
      "link" : "https://stackoverflow.com/users/139985/stephen-c"
    },
    "creation_date" : 1753199272,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140608749,
    "post_id" : 79709771,
    "body" : "The memory size in your log is pretty small, is this an embedded device? What garbage collector do you use, the standard G1GC?",
    "score" : 1,
    "owner" : {
      "account_id" : 50585,
      "reputation" : 43459,
      "user_id" : 150978,
      "user_type" : "registered",
      "accept_rate" : 78,
      "profile_image" : "https://www.gravatar.com/avatar/feadc214792e2581c3c750140e3eb2c7?s=256&d=identicon&r=PG",
      "display_name" : "Robert",
      "link" : "https://stackoverflow.com/users/150978/robert"
    },
    "creation_date" : 1753183752,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140608556,
    "post_id" : 79709771,
    "body" : "@StephenC Thank you…the reference to “1075” without a unit is a little odd..do you mind sharing any insights you may have?",
    "score" : 0,
    "owner" : {
      "account_id" : 6749614,
      "reputation" : 778,
      "user_id" : 5200064,
      "user_type" : "registered",
      "accept_rate" : 80,
      "profile_image" : "https://www.gravatar.com/avatar/79b695a0b6482c768728b8b1a2c8b089?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "lmk",
      "link" : "https://stackoverflow.com/users/5200064/lmk"
    },
    "creation_date" : 1753179647,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140608318,
    "post_id" : 79709771,
    "body" : "I don&#39;t think anyone can give you a definitive answer on this.  But what you are saying is plausible.",
    "score" : 2,
    "owner" : {
      "account_id" : 47283,
      "reputation" : 723428,
      "user_id" : 139985,
      "user_type" : "registered",
      "accept_rate" : 69,
      "profile_image" : "https://www.gravatar.com/avatar/147c5a9cc1feec049c50da791ac7d144?s=256&d=identicon&r=PG",
      "display_name" : "Stephen C",
      "link" : "https://stackoverflow.com/users/139985/stephen-c"
    },
    "creation_date" : 1753174581,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : {
    "79711529" : [ {
      "comment_id" : 140613671,
      "post_id" : 79711529,
      "body" : "As you note in the second point at the end, yes this is a spring app &amp; I saw a recent addition of a dependency...since the event happened after several days of run I don&#39;t want to simply increase Metaspace..",
      "score" : 0,
      "owner" : {
        "account_id" : 6749614,
        "reputation" : 778,
        "user_id" : 5200064,
        "user_type" : "registered",
        "accept_rate" : 80,
        "profile_image" : "https://www.gravatar.com/avatar/79b695a0b6482c768728b8b1a2c8b089?s=256&d=identicon&r=PG&f=y&so-version=2",
        "display_name" : "lmk",
        "link" : "https://stackoverflow.com/users/5200064/lmk"
      },
      "creation_date" : 1753321650,
      "content_license" : "CC BY-SA 4.0"
    }, {
      "comment_id" : 140613662,
      "post_id" : 79711529,
      "body" : "Thanks @PeterAdrian for your detailed post. I know I can increase Metaspace from the 192 MB that I had set, I was just trying to understand what&#39;s going on before I do that...as you mentioned I am also going to do the NMT..",
      "score" : 0,
      "owner" : {
        "account_id" : 6749614,
        "reputation" : 778,
        "user_id" : 5200064,
        "user_type" : "registered",
        "accept_rate" : 80,
        "profile_image" : "https://www.gravatar.com/avatar/79b695a0b6482c768728b8b1a2c8b089?s=256&d=identicon&r=PG&f=y&so-version=2",
        "display_name" : "lmk",
        "link" : "https://stackoverflow.com/users/5200064/lmk"
      },
      "creation_date" : 1753320990,
      "content_license" : "CC BY-SA 4.0"
    }, {
      "comment_id" : 140613204,
      "post_id" : 79711529,
      "body" : "@Holger Ok, got your point. I meant to say that about the classes in the classloader. Rephrazed it. Also added a full explanation.",
      "score" : 1,
      "owner" : {
        "account_id" : 1601399,
        "reputation" : 638,
        "user_id" : 1482356,
        "user_type" : "registered",
        "profile_image" : "https://www.gravatar.com/avatar/d6160b6e40d230fa92c6da8072b2f7e5?s=256&d=identicon&r=PG",
        "display_name" : "Peter Adrian",
        "link" : "https://stackoverflow.com/users/1482356/peter-adrian"
      },
      "creation_date" : 1753302238,
      "content_license" : "CC BY-SA 4.0"
    }, {
      "comment_id" : 140611666,
      "post_id" : 79711529,
      "body" : "So now you acknowledge that the metaspace is cleanup up when the preconditions are fulfilled. So your answer’s statement “whenever you create something there, will stay there until the end” is blatantly false.",
      "score" : 4,
      "owner" : {
        "account_id" : 3211603,
        "reputation" : 300981,
        "user_id" : 2711488,
        "user_type" : "registered",
        "profile_image" : "https://i.sstatic.net/t2hoD.jpg?s=256",
        "display_name" : "Holger",
        "link" : "https://stackoverflow.com/users/2711488/holger"
      },
      "creation_date" : 1753268619,
      "content_license" : "CC BY-SA 4.0"
    }, {
      "comment_id" : 140611629,
      "post_id" : 79711529,
      "body" : "@Holger There&#39;s no misinformation, it gets cleaned up only if the classloader is no longer referenced. This is rarely the case, and if you don&#39;t reference the classes correctly, you end up with GC not being able to reclaim the space. So best to monitor and see if you have any class loader leaks. If your meta space is growing, then you might have a leak. Also, there are some things that can prevent class loader unloading, like static fields or caching, which retain references.",
      "score" : 0,
      "owner" : {
        "account_id" : 1601399,
        "reputation" : 638,
        "user_id" : 1482356,
        "user_type" : "registered",
        "profile_image" : "https://www.gravatar.com/avatar/d6160b6e40d230fa92c6da8072b2f7e5?s=256&d=identicon&r=PG",
        "display_name" : "Peter Adrian",
        "link" : "https://stackoverflow.com/users/1482356/peter-adrian"
      },
      "creation_date" : 1753267720,
      "content_license" : "CC BY-SA 4.0"
    }, {
      "comment_id" : 140611609,
      "post_id" : 79711529,
      "body" : "Of course, the metaspace gets cleaned up. Don’t spread misinformation.",
      "score" : 1,
      "owner" : {
        "account_id" : 3211603,
        "reputation" : 300981,
        "user_id" : 2711488,
        "user_type" : "registered",
        "profile_image" : "https://i.sstatic.net/t2hoD.jpg?s=256",
        "display_name" : "Holger",
        "link" : "https://stackoverflow.com/users/2711488/holger"
      },
      "creation_date" : 1753266979,
      "content_license" : "CC BY-SA 4.0"
    } ]
  }
}