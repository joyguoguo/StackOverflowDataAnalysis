{
  "question" : {
    "question_id" : 79747972,
    "title" : "JAX-RS seems to require trailing slash after upgrade from 1.19 to 2.29",
    "body" : "<p>I've been tasked with upgrading a JAX-RS application from Jersey 1.19 to &gt;= 2.29, as a prerequisite for migrating our codebase to JDK 11.</p>\n<p>I believe I've upgraded successfully, e.g. migrating the servlet container declaration in the web.xml from <code>com.sun.jersey.spi.container...</code> to <code>org.glassfish.jersey...</code>.</p>\n<p>One of the JAX-RS resources is called BookingResources, and is exposed at /api/bookings. There's a method to create a new booking, annotated with</p>\n<pre><code>@POST\n@Path(&quot;/&quot;)\n</code></pre>\n<p>I have a test which sends a POST to /api/bookings. When using Jersey 1.19, the test passes. When I upgrade to 2.29, the test fails with an HTTP 405. If I remove the <code>@Path(&quot;/&quot;)</code> annotation, the test passes, indicating that the trailing slash is being considered mandatory in Jersey 2.29. This is surprising to me.</p>\n<p>Can anyone advise whether there's a way to make the trailing slash in the resource specification optional again?</p>\n<p>Thanks in advance.</p>\n",
    "tags" : [ "java", "jersey-2.0" ],
    "owner" : {
      "account_id" : 4360446,
      "reputation" : 1980,
      "user_id" : 3557714,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/dca1b60d2a69bc389eac206a844b448d?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Ben R.",
      "link" : "https://stackoverflow.com/users/3557714/ben-r"
    },
    "is_answered" : false,
    "view_count" : 68,
    "answer_count" : 0,
    "score" : 0,
    "last_activity_date" : 1756576934,
    "creation_date" : 1756296681,
    "link" : "https://stackoverflow.com/questions/79747972/jax-rs-seems-to-require-trailing-slash-after-upgrade-from-1-19-to-2-29",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ ],
  "question_comments" : [ {
    "comment_id" : 140723924,
    "post_id" : 79747972,
    "body" : "@AnilTiwari I thought this might be the case, but I&#39;ve struggled to find any documentation for Jersey 2.x supporting the claim.",
    "score" : 0,
    "owner" : {
      "account_id" : 4360446,
      "reputation" : 1980,
      "user_id" : 3557714,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/dca1b60d2a69bc389eac206a844b448d?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Ben R.",
      "link" : "https://stackoverflow.com/users/3557714/ben-r"
    },
    "creation_date" : 1757408099,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140703051,
    "post_id" : 79747972,
    "body" : "@BenR. You’re seeing a 405 because in Jersey 2 your method-level @Path(&quot;/&quot;) binds the method to only /api/bookings/ (with the trailing slash). A POST to /api/bookings (no slash) doesn’t match that method, so Jersey returns Method Not Allowed. Jersey 1.x was more lenient; Jersey 2.x is stricter/spec-compliant about exact path matching. Please let me know if you want some code example for the same",
    "score" : 0,
    "owner" : {
      "account_id" : 43685915,
      "reputation" : 1,
      "user_id" : 31365630,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/e89c1e8079ca0052d14d55b0807d6469?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Anil Tiwari",
      "link" : "https://stackoverflow.com/users/31365630/anil-tiwari"
    },
    "creation_date" : 1756521775,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140697717,
    "post_id" : 79747972,
    "body" : "I&#39;ve already stated that the test goes from pass to fail on upgrade, so It has nothing to do with using a wrong HTTP verb",
    "score" : 0,
    "owner" : {
      "account_id" : 4360446,
      "reputation" : 1980,
      "user_id" : 3557714,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/dca1b60d2a69bc389eac206a844b448d?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Ben R.",
      "link" : "https://stackoverflow.com/users/3557714/ben-r"
    },
    "creation_date" : 1756361871,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140697716,
    "post_id" : 79747972,
    "body" : "Yes, I know it means method not allowed. There&#39;s already a GET /bookings which is NOT annotated with @Path(&quot;/&quot;). So on upgrade, there IS a resource /bookings, but it&#39;s a GET. My point is that the POST /bookings goes from &quot;accepted and rerouted to /bookings/&quot; to &quot;not accepted&quot;, because of the explicit trailing slash on the @Path(&quot;/&quot;)",
    "score" : 0,
    "owner" : {
      "account_id" : 4360446,
      "reputation" : 1980,
      "user_id" : 3557714,
      "user_type" : "registered",
      "profile_image" : "https://www.gravatar.com/avatar/dca1b60d2a69bc389eac206a844b448d?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name" : "Ben R.",
      "link" : "https://stackoverflow.com/users/3557714/ben-r"
    },
    "creation_date" : 1756361829,
    "content_license" : "CC BY-SA 4.0"
  }, {
    "comment_id" : 140695936,
    "post_id" : 79747972,
    "body" : "Hello. Firstly, 405 means method not allowed, it doesn&#39;t correspond to non existent resource like 404. I.e. if you use in your test PUT instead of POST this error may occurr. Secondly, if you remove/add leading slash to class method it can affect behavour. Typically, you need to set Path annotation with root /boookings endpoint and annotate class methods RESTfully, e.g. GET /{id}, DELETE /{id}, GET /{id}/name etc.",
    "score" : 0,
    "owner" : {
      "account_id" : 17056115,
      "reputation" : 117,
      "user_id" : 12340604,
      "user_type" : "registered",
      "profile_image" : "https://i.sstatic.net/iFb23.png?s=256",
      "display_name" : "tohhant",
      "link" : "https://stackoverflow.com/users/12340604/tohhant"
    },
    "creation_date" : 1756299682,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}