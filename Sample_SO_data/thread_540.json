{
  "question" : {
    "question_id" : 79790240,
    "title" : "Channel not found with Java API",
    "body" : "<p>I want to send from Java BE messages to Discord server. I tried this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class DiscordTest {\n    \n    private final String token = &quot;......&quot;;\n    private final String channelId = &quot;141....&quot;;\n    \n    @Test\n    void justAnExample() {\n        JDA api = JDABuilder.createDefault(token).build();\n        TextChannel channel = api.getTextChannelById(channelId);\n        if (channel != null) {\n            channel.sendMessage(&quot;Test message from BE&quot;).queue();\n        } else {\n            System.out.println(&quot;Channel not found!&quot;);\n        }\n    }\n}\n</code></pre>\n<p>But I get:</p>\n<blockquote>\n<p>Channel not found!</p>\n</blockquote>\n<p>I configured the Discord bot using this way:</p>\n<p>I created a new application here: <a href=\"https://discord.com/developers/applications\" rel=\"nofollow noreferrer\">https://discord.com/developers/applications</a></p>\n<p>In section OAuth:</p>\n<p><a href=\"https://i.sstatic.net/LhCwPr8d.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/LhCwPr8d.png\" alt=\"screenshot of &quot;OAuth2&quot; highlighted as the current section\" /></a></p>\n<p>The bot icon is added into the server.</p>\n<p>I have enabled:</p>\n<p><a href=\"https://i.sstatic.net/QsYesDun.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/QsYesDun.png\" alt=\"screenshot of a checked &quot;bot&quot; checkbox in the list of permissions\" /></a></p>\n<p><a href=\"https://i.sstatic.net/ohRj4RA4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/ohRj4RA4.png\" alt=\"screenshot of a checked &quot;Administrator&quot; checkbox under &quot;Bot Permissions&quot; &gt; &quot;General Permissions&quot;\" /></a></p>\n<p>And after that I opened the generated link:</p>\n<p><a href=\"https://i.sstatic.net/7cH1YEeK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/7cH1YEeK.png\" alt=\"screenshot of generated URL\" /></a></p>\n<p>I copied the channel ID:</p>\n<p><a href=\"https://i.sstatic.net/2f5rXRQM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/2f5rXRQM.png\" alt=\"screenshot of &quot;Copy Channel ID&quot; button\" /></a></p>\n<p>But every time I get:</p>\n<blockquote>\n<p>Channel not found!</p>\n</blockquote>\n<p>Do you know what I'm missing?</p>\n",
    "tags" : [ "java", "discord", "discord-jda" ],
    "owner" : {
      "account_id" : 965625,
      "reputation" : 1102,
      "user_id" : 1103606,
      "user_type" : "registered",
      "accept_rate" : 51,
      "profile_image" : "https://www.gravatar.com/avatar/0d93cc650b93939ea91066fcb5aefae0?s=256&d=identicon&r=PG",
      "display_name" : "Peter Penzov",
      "link" : "https://stackoverflow.com/users/1103606/peter-penzov"
    },
    "is_answered" : true,
    "view_count" : 112,
    "answer_count" : 1,
    "score" : 0,
    "last_activity_date" : 1762838782,
    "creation_date" : 1760449513,
    "link" : "https://stackoverflow.com/questions/79790240/channel-not-found-with-java-api",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79794479,
    "question_id" : 79790240,
    "body" : "<p>The solution is to add</p>\n<pre><code>.awaitReady()\n</code></pre>\n<p>Example:</p>\n<pre><code>JDA api = JDABuilder.createDefault(token, intents)\n        .setStatus(OnlineStatus.ONLINE)\n        .setActivity(Activity.playing(&quot;......&quot;))\n        .build().awaitReady();\n</code></pre>\n",
    "score" : 2,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 965625,
      "reputation" : 1102,
      "user_id" : 1103606,
      "user_type" : "registered",
      "accept_rate" : 51,
      "profile_image" : "https://www.gravatar.com/avatar/0d93cc650b93939ea91066fcb5aefae0?s=256&d=identicon&r=PG",
      "display_name" : "Peter Penzov",
      "link" : "https://stackoverflow.com/users/1103606/peter-penzov"
    },
    "creation_date" : 1760905546,
    "last_activity_date" : 1760905546,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ {
    "comment_id" : 140805254,
    "post_id" : 79790240,
    "body" : "Have you tried to parse the Channel-ID as a long instead of a string?",
    "score" : 0,
    "owner" : {
      "account_id" : 16432809,
      "reputation" : 329,
      "user_id" : 11871203,
      "user_type" : "registered",
      "profile_image" : "https://lh5.googleusercontent.com/-1kx5BrwpxuM/AAAAAAAAAAI/AAAAAAAACQI/BE4sEVRc9PE/s256-rj/photo.jpg",
      "display_name" : "Redi",
      "link" : "https://stackoverflow.com/users/11871203/redi"
    },
    "creation_date" : 1760902867,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "answer_comments" : { }
}