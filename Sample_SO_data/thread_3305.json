{
  "question" : {
    "question_id" : 79557227,
    "title" : "How can I generate a more usable Java client with multiple optional query params?",
    "body" : "<p>I am using <code>org.openapi.generator</code> to generate a Java client for an openapi.json document using this configuration:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>openApiGenerate {\n  generatorName.set(&quot;java&quot;)\n  // https://openapi-generator.tech/docs/generators/java\n  configOptions.set(mapOf(\n    &quot;library&quot; to &quot;restclient&quot;,\n    &quot;hideGenerationTimestamp&quot; to &quot;true&quot;,\n    &quot;useSingleRequestParameter&quot; to &quot;true&quot;,\n    &quot;generateBuilders&quot; to &quot;true&quot;,\n  ))\n  // https://openapi-generator.tech/docs/globals\n  globalProperties.set(mapOf(\n    &quot;apiDocs&quot; to &quot;false&quot;,\n    &quot;modelDocs&quot; to &quot;false&quot;,\n  ))\n  inputSpec.set(&quot;$rootDir/sdk/openapi.json&quot;)\n}\n</code></pre>\n<p>There are endpoints that have many query parameters, and each parameter is a separate method argument:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public PageSalesOrder getSalesOrders(\n    LocalDate startOrderDate, \n    LocalDate endOrderDate, \n    String customerId, \n    String locationId, \n    ...\n    String branchId)\n</code></pre>\n<p>I had hopes that <code>useSingleRequestParameter</code> would improve this significantly, but this is the result:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public PageSalesOrder getSalesOrders(GetSalesOrdersRequest requestParameters)\npublic record GetSalesOrdersRequest(LocalDate startOrderDate, LocalDate endOrderDate, String customerId, String locationId, ... String branchId){}\n</code></pre>\n<p>In order to use either of these, I need to pass along a bunch of null values, and adding any parameters to endpoints results in compilations errors:</p>\n<pre class=\"lang-java prettyprint-override\"><code>salesOrderControllerApi.getSalesOrders(\n    null,\n    LocalDate.of(2025, 4, 5),\n    null,\n    null,\n    ...\n    null);\n</code></pre>\n<p>This also presents a large risk that if the parameter order changes by renaming the params then I could easily be calling the endpoint incorrectly without getting a compilation error. I would expect there to be a way for me to do something like the following, so that parameters don't rely on parameter position for auto-generated methods where the parameters can change:</p>\n<pre class=\"lang-java prettyprint-override\"><code>salesOrderControllerApi.getSalesOrders(\n    new SalesOrdersGetRequest().setEndOrderDate(LocalDate.of(2025, 4, 5))\n);\n</code></pre>\n<p>Having many optional request parameters seems relatively common. Is there a better way to use the OpenAPI generator with Java that I'm not seeing?</p>\n<p>I think that being able to add Lombok annotations to the record GetSalesOrdersRequest could potentially solve this issue for me by automating the creation of builders so I can avoid listing every optional query param as a null value. I haven't figured out how to do that yet either though.</p>\n",
    "tags" : [ "java", "openapi", "openapi-generator", "openapi-generator-cli" ],
    "owner" : {
      "account_id" : 24111,
      "reputation" : 1861,
      "user_id" : 61104,
      "user_type" : "registered",
      "accept_rate" : 85,
      "profile_image" : "https://www.gravatar.com/avatar/de357816d5d57debab13abc5999ab068?s=256&d=identicon&r=PG",
      "display_name" : "Kevin",
      "link" : "https://stackoverflow.com/users/61104/kevin"
    },
    "is_answered" : true,
    "view_count" : 233,
    "answer_count" : 1,
    "score" : 0,
    "last_activity_date" : 1743871795,
    "creation_date" : 1743869475,
    "link" : "https://stackoverflow.com/questions/79557227/how-can-i-generate-a-more-usable-java-client-with-multiple-optional-query-params",
    "content_license" : "CC BY-SA 4.0"
  },
  "answers" : [ {
    "answer_id" : 79557270,
    "question_id" : 79557227,
    "body" : "<p>Right as I was about to give up, I discovered this is the configuration I was looking for:</p>\n<pre><code>&quot;useSingleRequestParameter&quot; to &quot;static&quot;\n</code></pre>\n<p>I was only able to figure that out by looking through the templates themselves. This creates a request class like this with a default constructor:</p>\n<pre><code>    public static class GetSalesOrdersRequest {\n        private LocalDate startOrderDate;\n        private LocalDate endOrderDate;\n        ...\n</code></pre>\n",
    "score" : 1,
    "is_accepted" : false,
    "owner" : {
      "account_id" : 24111,
      "reputation" : 1861,
      "user_id" : 61104,
      "user_type" : "registered",
      "accept_rate" : 85,
      "profile_image" : "https://www.gravatar.com/avatar/de357816d5d57debab13abc5999ab068?s=256&d=identicon&r=PG",
      "display_name" : "Kevin",
      "link" : "https://stackoverflow.com/users/61104/kevin"
    },
    "creation_date" : 1743871795,
    "last_activity_date" : 1743871795,
    "content_license" : "CC BY-SA 4.0"
  } ],
  "question_comments" : [ ],
  "answer_comments" : { }
}